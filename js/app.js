(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var DOCUMENT_NODE_TYPE = 9;

/**
 * A polyfill for Element.matches()
 */
if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

/**
 * Finds the closest parent that matches a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @return {Function}
 */
function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;

},{}],2:[function(require,module,exports){
var closest = require('./closest');

/**
 * Delegates event to a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

/**
 * Delegates event to a selector.
 *
 * @param {Element|String|Array} [elements]
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function delegate(elements, selector, type, callback, useCapture) {
    // Handle the regular Element usage
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    // Handle Element-less usage, it defaults to global delegation
    if (typeof type === 'function') {
        // Use `document` as the first parameter, then apply arguments
        // This is a short way to .unshift `arguments` without running into deoptimizations
        return _delegate.bind(null, document).apply(null, arguments);
    }

    // Handle Selector-based usage
    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    // Handle Array-like based usage
    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

/**
 * Finds closest match and invokes callback.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Function}
 */
function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;

},{"./closest":1}],3:[function(require,module,exports){
/**
 * Dom7 3.0.0
 * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API
 * https://framework7.io/docs/dom7.html
 *
 * Copyright 2020, Vladimir Kharlampidi
 *
 * Licensed under MIT
 *
 * Released on: November 9, 2020
 */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var ssrWindow = require('ssr-window');

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _construct(Parent, args, Class) {
  if (_isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) _setPrototypeOf(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}

function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !_isNativeFunction(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return _construct(Class, arguments, _getPrototypeOf(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return _setPrototypeOf(Wrapper, Class);
  };

  return _wrapNativeSuper(Class);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/* eslint-disable no-proto */
function makeReactive(obj) {
  var proto = obj.__proto__;
  Object.defineProperty(obj, '__proto__', {
    get: function get() {
      return proto;
    },
    set: function set(value) {
      proto.__proto__ = value;
    }
  });
}

var Dom7 = /*#__PURE__*/function (_Array) {
  _inheritsLoose(Dom7, _Array);

  function Dom7(items) {
    var _this;

    _this = _Array.call.apply(_Array, [this].concat(items)) || this;
    makeReactive(_assertThisInitialized(_this));
    return _this;
  }

  return Dom7;
}( /*#__PURE__*/_wrapNativeSuper(Array));

function arrayFlat(arr) {
  if (arr === void 0) {
    arr = [];
  }

  var res = [];
  arr.forEach(function (el) {
    if (Array.isArray(el)) {
      res.push.apply(res, arrayFlat(el));
    } else {
      res.push(el);
    }
  });
  return res;
}
function arrayFilter(arr, callback) {
  return Array.prototype.filter.call(arr, callback);
}
function arrayUnique(arr) {
  var uniqueArray = [];

  for (var i = 0; i < arr.length; i += 1) {
    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);
  }

  return uniqueArray;
}
function toCamelCase(string) {
  return string.toLowerCase().replace(/-(.)/g, function (match, group) {
    return group.toUpperCase();
  });
}

function qsa(selector, context) {
  if (typeof selector !== 'string') {
    return [selector];
  }

  var a = [];
  var res = context.querySelectorAll(selector);

  for (var i = 0; i < res.length; i += 1) {
    a.push(res[i]);
  }

  return a;
}

function $(selector, context) {
  var window = ssrWindow.getWindow();
  var document = ssrWindow.getDocument();
  var arr = [];

  if (!context && selector instanceof Dom7) {
    return selector;
  }

  if (!selector) {
    return new Dom7(arr);
  }

  if (typeof selector === 'string') {
    var html = selector.trim();

    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {
      var toCreate = 'div';
      if (html.indexOf('<li') === 0) toCreate = 'ul';
      if (html.indexOf('<tr') === 0) toCreate = 'tbody';
      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';
      if (html.indexOf('<tbody') === 0) toCreate = 'table';
      if (html.indexOf('<option') === 0) toCreate = 'select';
      var tempParent = document.createElement(toCreate);
      tempParent.innerHTML = html;

      for (var i = 0; i < tempParent.childNodes.length; i += 1) {
        arr.push(tempParent.childNodes[i]);
      }
    } else {
      arr = qsa(selector.trim(), context || document);
    } // arr = qsa(selector, document);

  } else if (selector.nodeType || selector === window || selector === document) {
    arr.push(selector);
  } else if (Array.isArray(selector)) {
    if (selector instanceof Dom7) return selector;
    arr = selector;
  }

  return new Dom7(arrayUnique(arr));
}

$.fn = Dom7.prototype;

function addClass() {
  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {
    classes[_key] = arguments[_key];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    var _el$classList;

    (_el$classList = el.classList).add.apply(_el$classList, classNames);
  });
  return this;
}

function removeClass() {
  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    classes[_key2] = arguments[_key2];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    var _el$classList2;

    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);
  });
  return this;
}

function toggleClass() {
  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    classes[_key3] = arguments[_key3];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    classNames.forEach(function (className) {
      el.classList.toggle(className);
    });
  });
}

function hasClass() {
  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
    classes[_key4] = arguments[_key4];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  return arrayFilter(this, function (el) {
    return classNames.filter(function (className) {
      return el.classList.contains(className);
    }).length > 0;
  }).length > 0;
}

function attr(attrs, value) {
  if (arguments.length === 1 && typeof attrs === 'string') {
    // Get attr
    if (this[0]) return this[0].getAttribute(attrs);
    return undefined;
  } // Set attrs


  for (var i = 0; i < this.length; i += 1) {
    if (arguments.length === 2) {
      // String
      this[i].setAttribute(attrs, value);
    } else {
      // Object
      for (var attrName in attrs) {
        this[i][attrName] = attrs[attrName];
        this[i].setAttribute(attrName, attrs[attrName]);
      }
    }
  }

  return this;
}

function removeAttr(attr) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].removeAttribute(attr);
  }

  return this;
}

function prop(props, value) {
  if (arguments.length === 1 && typeof props === 'string') {
    // Get prop
    if (this[0]) return this[0][props];
  } else {
    // Set props
    for (var i = 0; i < this.length; i += 1) {
      if (arguments.length === 2) {
        // String
        this[i][props] = value;
      } else {
        // Object
        for (var propName in props) {
          this[i][propName] = props[propName];
        }
      }
    }

    return this;
  }

  return this;
}

function data(key, value) {
  var el;

  if (typeof value === 'undefined') {
    el = this[0];
    if (!el) return undefined; // Get value

    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {
      return el.dom7ElementDataStorage[key];
    }

    var dataKey = el.getAttribute("data-" + key);

    if (dataKey) {
      return dataKey;
    }

    return undefined;
  } // Set value


  for (var i = 0; i < this.length; i += 1) {
    el = this[i];
    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};
    el.dom7ElementDataStorage[key] = value;
  }

  return this;
}

function removeData(key) {
  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {
      el.dom7ElementDataStorage[key] = null;
      delete el.dom7ElementDataStorage[key];
    }
  }
}

function dataset() {
  var el = this[0];
  if (!el) return undefined;
  var dataset = {}; // eslint-disable-line

  if (el.dataset) {
    for (var dataKey in el.dataset) {
      dataset[dataKey] = el.dataset[dataKey];
    }
  } else {
    for (var i = 0; i < el.attributes.length; i += 1) {
      var _attr = el.attributes[i];

      if (_attr.name.indexOf('data-') >= 0) {
        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;
      }
    }
  }

  for (var key in dataset) {
    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;
  }

  return dataset;
}

function val(value) {
  if (typeof value === 'undefined') {
    // get value
    var el = this[0];
    if (!el) return undefined;

    if (el.multiple && el.nodeName.toLowerCase() === 'select') {
      var values = [];

      for (var i = 0; i < el.selectedOptions.length; i += 1) {
        values.push(el.selectedOptions[i].value);
      }

      return values;
    }

    return el.value;
  } // set value


  for (var _i = 0; _i < this.length; _i += 1) {
    var _el = this[_i];

    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {
      for (var j = 0; j < _el.options.length; j += 1) {
        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;
      }
    } else {
      _el.value = value;
    }
  }

  return this;
}

function value(value) {
  return this.val(value);
}

function transform(transform) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.transform = transform;
  }

  return this;
}

function transition(duration) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + "ms" : duration;
  }

  return this;
}

function on() {
  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
    args[_key5] = arguments[_key5];
  }

  var eventType = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventType = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  if (!capture) capture = false;

  function handleLiveEvent(e) {
    var target = e.target;
    if (!target) return;
    var eventData = e.target.dom7EventData || [];

    if (eventData.indexOf(e) < 0) {
      eventData.unshift(e);
    }

    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {
      var _parents = $(target).parents(); // eslint-disable-line


      for (var k = 0; k < _parents.length; k += 1) {
        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);
      }
    }
  }

  function handleEvent(e) {
    var eventData = e && e.target ? e.target.dom7EventData || [] : [];

    if (eventData.indexOf(e) < 0) {
      eventData.unshift(e);
    }

    listener.apply(this, eventData);
  }

  var events = eventType.split(' ');
  var j;

  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (!targetSelector) {
      for (j = 0; j < events.length; j += 1) {
        var event = events[j];
        if (!el.dom7Listeners) el.dom7Listeners = {};
        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];
        el.dom7Listeners[event].push({
          listener: listener,
          proxyListener: handleEvent
        });
        el.addEventListener(event, handleEvent, capture);
      }
    } else {
      // Live events
      for (j = 0; j < events.length; j += 1) {
        var _event = events[j];
        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};
        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];

        el.dom7LiveListeners[_event].push({
          listener: listener,
          proxyListener: handleLiveEvent
        });

        el.addEventListener(_event, handleLiveEvent, capture);
      }
    }
  }

  return this;
}

function off() {
  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
    args[_key6] = arguments[_key6];
  }

  var eventType = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventType = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  if (!capture) capture = false;
  var events = eventType.split(' ');

  for (var i = 0; i < events.length; i += 1) {
    var event = events[i];

    for (var j = 0; j < this.length; j += 1) {
      var el = this[j];
      var handlers = void 0;

      if (!targetSelector && el.dom7Listeners) {
        handlers = el.dom7Listeners[event];
      } else if (targetSelector && el.dom7LiveListeners) {
        handlers = el.dom7LiveListeners[event];
      }

      if (handlers && handlers.length) {
        for (var k = handlers.length - 1; k >= 0; k -= 1) {
          var handler = handlers[k];

          if (listener && handler.listener === listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          } else if (!listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          }
        }
      }
    }
  }

  return this;
}

function once() {
  var dom = this;

  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
    args[_key7] = arguments[_key7];
  }

  var eventName = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventName = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  function onceHandler() {
    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      eventArgs[_key8] = arguments[_key8];
    }

    listener.apply(this, eventArgs);
    dom.off(eventName, targetSelector, onceHandler, capture);

    if (onceHandler.dom7proxy) {
      delete onceHandler.dom7proxy;
    }
  }

  onceHandler.dom7proxy = listener;
  return dom.on(eventName, targetSelector, onceHandler, capture);
}

function trigger() {
  var window = ssrWindow.getWindow();

  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
    args[_key9] = arguments[_key9];
  }

  var events = args[0].split(' ');
  var eventData = args[1];

  for (var i = 0; i < events.length; i += 1) {
    var event = events[i];

    for (var j = 0; j < this.length; j += 1) {
      var el = this[j];

      if (window.CustomEvent) {
        var evt = new window.CustomEvent(event, {
          detail: eventData,
          bubbles: true,
          cancelable: true
        });
        el.dom7EventData = args.filter(function (data, dataIndex) {
          return dataIndex > 0;
        });
        el.dispatchEvent(evt);
        el.dom7EventData = [];
        delete el.dom7EventData;
      }
    }
  }

  return this;
}

function transitionEnd(callback) {
  var dom = this;

  function fireCallBack(e) {
    if (e.target !== this) return;
    callback.call(this, e);
    dom.off('transitionend', fireCallBack);
  }

  if (callback) {
    dom.on('transitionend', fireCallBack);
  }

  return this;
}

function animationEnd(callback) {
  var dom = this;

  function fireCallBack(e) {
    if (e.target !== this) return;
    callback.call(this, e);
    dom.off('animationend', fireCallBack);
  }

  if (callback) {
    dom.on('animationend', fireCallBack);
  }

  return this;
}

function width() {
  var window = ssrWindow.getWindow();

  if (this[0] === window) {
    return window.innerWidth;
  }

  if (this.length > 0) {
    return parseFloat(this.css('width'));
  }

  return null;
}

function outerWidth(includeMargins) {
  if (this.length > 0) {
    if (includeMargins) {
      var _styles = this.styles();

      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));
    }

    return this[0].offsetWidth;
  }

  return null;
}

function height() {
  var window = ssrWindow.getWindow();

  if (this[0] === window) {
    return window.innerHeight;
  }

  if (this.length > 0) {
    return parseFloat(this.css('height'));
  }

  return null;
}

function outerHeight(includeMargins) {
  if (this.length > 0) {
    if (includeMargins) {
      var _styles2 = this.styles();

      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));
    }

    return this[0].offsetHeight;
  }

  return null;
}

function offset() {
  if (this.length > 0) {
    var window = ssrWindow.getWindow();
    var document = ssrWindow.getDocument();
    var el = this[0];
    var box = el.getBoundingClientRect();
    var body = document.body;
    var clientTop = el.clientTop || body.clientTop || 0;
    var clientLeft = el.clientLeft || body.clientLeft || 0;
    var scrollTop = el === window ? window.scrollY : el.scrollTop;
    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;
    return {
      top: box.top + scrollTop - clientTop,
      left: box.left + scrollLeft - clientLeft
    };
  }

  return null;
}

function hide() {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.display = 'none';
  }

  return this;
}

function show() {
  var window = ssrWindow.getWindow();

  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.style.display === 'none') {
      el.style.display = '';
    }

    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {
      // Still not visible
      el.style.display = 'block';
    }
  }

  return this;
}

function styles() {
  var window = ssrWindow.getWindow();
  if (this[0]) return window.getComputedStyle(this[0], null);
  return {};
}

function css(props, value) {
  var window = ssrWindow.getWindow();
  var i;

  if (arguments.length === 1) {
    if (typeof props === 'string') {
      // .css('width')
      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);
    } else {
      // .css({ width: '100px' })
      for (i = 0; i < this.length; i += 1) {
        for (var _prop in props) {
          this[i].style[_prop] = props[_prop];
        }
      }

      return this;
    }
  }

  if (arguments.length === 2 && typeof props === 'string') {
    // .css('width', '100px')
    for (i = 0; i < this.length; i += 1) {
      this[i].style[props] = value;
    }

    return this;
  }

  return this;
}

function each(callback) {
  if (!callback) return this;
  this.forEach(function (el, index) {
    callback.apply(el, [el, index]);
  });
  return this;
}

function filter(callback) {
  var result = arrayFilter(this, callback);
  return $(result);
}

function html(html) {
  if (typeof html === 'undefined') {
    return this[0] ? this[0].innerHTML : null;
  }

  for (var i = 0; i < this.length; i += 1) {
    this[i].innerHTML = html;
  }

  return this;
}

function text(text) {
  if (typeof text === 'undefined') {
    return this[0] ? this[0].textContent.trim() : null;
  }

  for (var i = 0; i < this.length; i += 1) {
    this[i].textContent = text;
  }

  return this;
}

function is(selector) {
  var window = ssrWindow.getWindow();
  var document = ssrWindow.getDocument();
  var el = this[0];
  var compareWith;
  var i;
  if (!el || typeof selector === 'undefined') return false;

  if (typeof selector === 'string') {
    if (el.matches) return el.matches(selector);
    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);
    if (el.msMatchesSelector) return el.msMatchesSelector(selector);
    compareWith = $(selector);

    for (i = 0; i < compareWith.length; i += 1) {
      if (compareWith[i] === el) return true;
    }

    return false;
  }

  if (selector === document) {
    return el === document;
  }

  if (selector === window) {
    return el === window;
  }

  if (selector.nodeType || selector instanceof Dom7) {
    compareWith = selector.nodeType ? [selector] : selector;

    for (i = 0; i < compareWith.length; i += 1) {
      if (compareWith[i] === el) return true;
    }

    return false;
  }

  return false;
}

function index() {
  var child = this[0];
  var i;

  if (child) {
    i = 0; // eslint-disable-next-line

    while ((child = child.previousSibling) !== null) {
      if (child.nodeType === 1) i += 1;
    }

    return i;
  }

  return undefined;
}

function eq(index) {
  if (typeof index === 'undefined') return this;
  var length = this.length;

  if (index > length - 1) {
    return $([]);
  }

  if (index < 0) {
    var returnIndex = length + index;
    if (returnIndex < 0) return $([]);
    return $([this[returnIndex]]);
  }

  return $([this[index]]);
}

function append() {
  var newChild;
  var document = ssrWindow.getDocument();

  for (var k = 0; k < arguments.length; k += 1) {
    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];

    for (var i = 0; i < this.length; i += 1) {
      if (typeof newChild === 'string') {
        var tempDiv = document.createElement('div');
        tempDiv.innerHTML = newChild;

        while (tempDiv.firstChild) {
          this[i].appendChild(tempDiv.firstChild);
        }
      } else if (newChild instanceof Dom7) {
        for (var j = 0; j < newChild.length; j += 1) {
          this[i].appendChild(newChild[j]);
        }
      } else {
        this[i].appendChild(newChild);
      }
    }
  }

  return this;
}

function appendTo(parent) {
  $(parent).append(this);
  return this;
}

function prepend(newChild) {
  var document = ssrWindow.getDocument();
  var i;
  var j;

  for (i = 0; i < this.length; i += 1) {
    if (typeof newChild === 'string') {
      var tempDiv = document.createElement('div');
      tempDiv.innerHTML = newChild;

      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {
        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);
      }
    } else if (newChild instanceof Dom7) {
      for (j = 0; j < newChild.length; j += 1) {
        this[i].insertBefore(newChild[j], this[i].childNodes[0]);
      }
    } else {
      this[i].insertBefore(newChild, this[i].childNodes[0]);
    }
  }

  return this;
}

function prependTo(parent) {
  $(parent).prepend(this);
  return this;
}

function insertBefore(selector) {
  var before = $(selector);

  for (var i = 0; i < this.length; i += 1) {
    if (before.length === 1) {
      before[0].parentNode.insertBefore(this[i], before[0]);
    } else if (before.length > 1) {
      for (var j = 0; j < before.length; j += 1) {
        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);
      }
    }
  }
}

function insertAfter(selector) {
  var after = $(selector);

  for (var i = 0; i < this.length; i += 1) {
    if (after.length === 1) {
      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);
    } else if (after.length > 1) {
      for (var j = 0; j < after.length; j += 1) {
        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);
      }
    }
  }
}

function next(selector) {
  if (this.length > 0) {
    if (selector) {
      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {
        return $([this[0].nextElementSibling]);
      }

      return $([]);
    }

    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);
    return $([]);
  }

  return $([]);
}

function nextAll(selector) {
  var nextEls = [];
  var el = this[0];
  if (!el) return $([]);

  while (el.nextElementSibling) {
    var _next = el.nextElementSibling; // eslint-disable-line

    if (selector) {
      if ($(_next).is(selector)) nextEls.push(_next);
    } else nextEls.push(_next);

    el = _next;
  }

  return $(nextEls);
}

function prev(selector) {
  if (this.length > 0) {
    var el = this[0];

    if (selector) {
      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {
        return $([el.previousElementSibling]);
      }

      return $([]);
    }

    if (el.previousElementSibling) return $([el.previousElementSibling]);
    return $([]);
  }

  return $([]);
}

function prevAll(selector) {
  var prevEls = [];
  var el = this[0];
  if (!el) return $([]);

  while (el.previousElementSibling) {
    var _prev = el.previousElementSibling; // eslint-disable-line

    if (selector) {
      if ($(_prev).is(selector)) prevEls.push(_prev);
    } else prevEls.push(_prev);

    el = _prev;
  }

  return $(prevEls);
}

function siblings(selector) {
  return this.nextAll(selector).add(this.prevAll(selector));
}

function parent(selector) {
  var parents = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    if (this[i].parentNode !== null) {
      if (selector) {
        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);
      } else {
        parents.push(this[i].parentNode);
      }
    }
  }

  return $(parents);
}

function parents(selector) {
  var parents = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    var _parent = this[i].parentNode; // eslint-disable-line

    while (_parent) {
      if (selector) {
        if ($(_parent).is(selector)) parents.push(_parent);
      } else {
        parents.push(_parent);
      }

      _parent = _parent.parentNode;
    }
  }

  return $(parents);
}

function closest(selector) {
  var closest = this; // eslint-disable-line

  if (typeof selector === 'undefined') {
    return $([]);
  }

  if (!closest.is(selector)) {
    closest = closest.parents(selector).eq(0);
  }

  return closest;
}

function find(selector) {
  var foundElements = [];

  for (var i = 0; i < this.length; i += 1) {
    var found = this[i].querySelectorAll(selector);

    for (var j = 0; j < found.length; j += 1) {
      foundElements.push(found[j]);
    }
  }

  return $(foundElements);
}

function children(selector) {
  var children = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    var childNodes = this[i].children;

    for (var j = 0; j < childNodes.length; j += 1) {
      if (!selector || $(childNodes[j]).is(selector)) {
        children.push(childNodes[j]);
      }
    }
  }

  return $(children);
}

function remove() {
  for (var i = 0; i < this.length; i += 1) {
    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);
  }

  return this;
}

function detach() {
  return this.remove();
}

function add() {
  var dom = this;
  var i;
  var j;

  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
    els[_key10] = arguments[_key10];
  }

  for (i = 0; i < els.length; i += 1) {
    var toAdd = $(els[i]);

    for (j = 0; j < toAdd.length; j += 1) {
      dom.push(toAdd[j]);
    }
  }

  return dom;
}

function empty() {
  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.nodeType === 1) {
      for (var j = 0; j < el.childNodes.length; j += 1) {
        if (el.childNodes[j].parentNode) {
          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);
        }
      }

      el.textContent = '';
    }
  }

  return this;
}

function scrollTo() {
  var window = ssrWindow.getWindow();

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var left = args[0],
      top = args[1],
      duration = args[2],
      easing = args[3],
      callback = args[4];

  if (args.length === 4 && typeof easing === 'function') {
    callback = easing;
    left = args[0];
    top = args[1];
    duration = args[2];
    callback = args[3];
    easing = args[4];
  }

  if (typeof easing === 'undefined') easing = 'swing';
  return this.each(function animate() {
    var el = this;
    var currentTop;
    var currentLeft;
    var maxTop;
    var maxLeft;
    var newTop;
    var newLeft;
    var scrollTop; // eslint-disable-line

    var scrollLeft; // eslint-disable-line

    var animateTop = top > 0 || top === 0;
    var animateLeft = left > 0 || left === 0;

    if (typeof easing === 'undefined') {
      easing = 'swing';
    }

    if (animateTop) {
      currentTop = el.scrollTop;

      if (!duration) {
        el.scrollTop = top;
      }
    }

    if (animateLeft) {
      currentLeft = el.scrollLeft;

      if (!duration) {
        el.scrollLeft = left;
      }
    }

    if (!duration) return;

    if (animateTop) {
      maxTop = el.scrollHeight - el.offsetHeight;
      newTop = Math.max(Math.min(top, maxTop), 0);
    }

    if (animateLeft) {
      maxLeft = el.scrollWidth - el.offsetWidth;
      newLeft = Math.max(Math.min(left, maxLeft), 0);
    }

    var startTime = null;
    if (animateTop && newTop === currentTop) animateTop = false;
    if (animateLeft && newLeft === currentLeft) animateLeft = false;

    function render(time) {
      if (time === void 0) {
        time = new Date().getTime();
      }

      if (startTime === null) {
        startTime = time;
      }

      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);
      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;
      var done;
      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);
      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);

      if (animateTop && newTop > currentTop && scrollTop >= newTop) {
        el.scrollTop = newTop;
        done = true;
      }

      if (animateTop && newTop < currentTop && scrollTop <= newTop) {
        el.scrollTop = newTop;
        done = true;
      }

      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {
        el.scrollLeft = newLeft;
        done = true;
      }

      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {
        el.scrollLeft = newLeft;
        done = true;
      }

      if (done) {
        if (callback) callback();
        return;
      }

      if (animateTop) el.scrollTop = scrollTop;
      if (animateLeft) el.scrollLeft = scrollLeft;
      window.requestAnimationFrame(render);
    }

    window.requestAnimationFrame(render);
  });
} // scrollTop(top, duration, easing, callback) {


function scrollTop() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  var top = args[0],
      duration = args[1],
      easing = args[2],
      callback = args[3];

  if (args.length === 3 && typeof easing === 'function') {
    top = args[0];
    duration = args[1];
    callback = args[2];
    easing = args[3];
  }

  var dom = this;

  if (typeof top === 'undefined') {
    if (dom.length > 0) return dom[0].scrollTop;
    return null;
  }

  return dom.scrollTo(undefined, top, duration, easing, callback);
}

function scrollLeft() {
  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    args[_key3] = arguments[_key3];
  }

  var left = args[0],
      duration = args[1],
      easing = args[2],
      callback = args[3];

  if (args.length === 3 && typeof easing === 'function') {
    left = args[0];
    duration = args[1];
    callback = args[2];
    easing = args[3];
  }

  var dom = this;

  if (typeof left === 'undefined') {
    if (dom.length > 0) return dom[0].scrollLeft;
    return null;
  }

  return dom.scrollTo(left, undefined, duration, easing, callback);
}

function animate(initialProps, initialParams) {
  var window = ssrWindow.getWindow();
  var els = this;
  var a = {
    props: Object.assign({}, initialProps),
    params: Object.assign({
      duration: 300,
      easing: 'swing' // or 'linear'

      /* Callbacks
      begin(elements)
      complete(elements)
      progress(elements, complete, remaining, start, tweenValue)
      */

    }, initialParams),
    elements: els,
    animating: false,
    que: [],
    easingProgress: function easingProgress(easing, progress) {
      if (easing === 'swing') {
        return 0.5 - Math.cos(progress * Math.PI) / 2;
      }

      if (typeof easing === 'function') {
        return easing(progress);
      }

      return progress;
    },
    stop: function stop() {
      if (a.frameId) {
        window.cancelAnimationFrame(a.frameId);
      }

      a.animating = false;
      a.elements.each(function (el) {
        var element = el;
        delete element.dom7AnimateInstance;
      });
      a.que = [];
    },
    done: function done(complete) {
      a.animating = false;
      a.elements.each(function (el) {
        var element = el;
        delete element.dom7AnimateInstance;
      });
      if (complete) complete(els);

      if (a.que.length > 0) {
        var que = a.que.shift();
        a.animate(que[0], que[1]);
      }
    },
    animate: function animate(props, params) {
      if (a.animating) {
        a.que.push([props, params]);
        return a;
      }

      var elements = []; // Define & Cache Initials & Units

      a.elements.each(function (el, index) {
        var initialFullValue;
        var initialValue;
        var unit;
        var finalValue;
        var finalFullValue;
        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;
        elements[index] = {
          container: el
        };
        Object.keys(props).forEach(function (prop) {
          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');
          initialValue = parseFloat(initialFullValue);
          unit = initialFullValue.replace(initialValue, '');
          finalValue = parseFloat(props[prop]);
          finalFullValue = props[prop] + unit;
          elements[index][prop] = {
            initialFullValue: initialFullValue,
            initialValue: initialValue,
            unit: unit,
            finalValue: finalValue,
            finalFullValue: finalFullValue,
            currentValue: initialValue
          };
        });
      });
      var startTime = null;
      var time;
      var elementsDone = 0;
      var propsDone = 0;
      var done;
      var began = false;
      a.animating = true;

      function render() {
        time = new Date().getTime();
        var progress;
        var easeProgress; // let el;

        if (!began) {
          began = true;
          if (params.begin) params.begin(els);
        }

        if (startTime === null) {
          startTime = time;
        }

        if (params.progress) {
          // eslint-disable-next-line
          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);
        }

        elements.forEach(function (element) {
          var el = element;
          if (done || el.done) return;
          Object.keys(props).forEach(function (prop) {
            if (done || el.done) return;
            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);
            easeProgress = a.easingProgress(params.easing, progress);
            var _el$prop = el[prop],
                initialValue = _el$prop.initialValue,
                finalValue = _el$prop.finalValue,
                unit = _el$prop.unit;
            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);
            var currentValue = el[prop].currentValue;

            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {
              el.container.style[prop] = finalValue + unit;
              propsDone += 1;

              if (propsDone === Object.keys(props).length) {
                el.done = true;
                elementsDone += 1;
              }

              if (elementsDone === elements.length) {
                done = true;
              }
            }

            if (done) {
              a.done(params.complete);
              return;
            }

            el.container.style[prop] = currentValue + unit;
          });
        });
        if (done) return; // Then call

        a.frameId = window.requestAnimationFrame(render);
      }

      a.frameId = window.requestAnimationFrame(render);
      return a;
    }
  };

  if (a.elements.length === 0) {
    return els;
  }

  var animateInstance;

  for (var i = 0; i < a.elements.length; i += 1) {
    if (a.elements[i].dom7AnimateInstance) {
      animateInstance = a.elements[i].dom7AnimateInstance;
    } else a.elements[i].dom7AnimateInstance = a;
  }

  if (!animateInstance) {
    animateInstance = a;
  }

  if (initialProps === 'stop') {
    animateInstance.stop();
  } else {
    animateInstance.animate(a.props, a.params);
  }

  return els;
}

function stop() {
  var els = this;

  for (var i = 0; i < els.length; i += 1) {
    if (els[i].dom7AnimateInstance) {
      els[i].dom7AnimateInstance.stop();
    }
  }
}

var noTrigger = 'resize scroll'.split(' ');

function shortcut(name) {
  function eventHandler() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (typeof args[0] === 'undefined') {
      for (var i = 0; i < this.length; i += 1) {
        if (noTrigger.indexOf(name) < 0) {
          if (name in this[i]) this[i][name]();else {
            $(this[i]).trigger(name);
          }
        }
      }

      return this;
    }

    return this.on.apply(this, [name].concat(args));
  }

  return eventHandler;
}

var click = shortcut('click');
var blur = shortcut('blur');
var focus = shortcut('focus');
var focusin = shortcut('focusin');
var focusout = shortcut('focusout');
var keyup = shortcut('keyup');
var keydown = shortcut('keydown');
var keypress = shortcut('keypress');
var submit = shortcut('submit');
var change = shortcut('change');
var mousedown = shortcut('mousedown');
var mousemove = shortcut('mousemove');
var mouseup = shortcut('mouseup');
var mouseenter = shortcut('mouseenter');
var mouseleave = shortcut('mouseleave');
var mouseout = shortcut('mouseout');
var mouseover = shortcut('mouseover');
var touchstart = shortcut('touchstart');
var touchend = shortcut('touchend');
var touchmove = shortcut('touchmove');
var resize = shortcut('resize');
var scroll = shortcut('scroll');

exports.$ = $;
exports.add = add;
exports.addClass = addClass;
exports.animate = animate;
exports.animationEnd = animationEnd;
exports.append = append;
exports.appendTo = appendTo;
exports.attr = attr;
exports.blur = blur;
exports.change = change;
exports.children = children;
exports.click = click;
exports.closest = closest;
exports.css = css;
exports.data = data;
exports.dataset = dataset;
exports.default = $;
exports.detach = detach;
exports.each = each;
exports.empty = empty;
exports.eq = eq;
exports.filter = filter;
exports.find = find;
exports.focus = focus;
exports.focusin = focusin;
exports.focusout = focusout;
exports.hasClass = hasClass;
exports.height = height;
exports.hide = hide;
exports.html = html;
exports.index = index;
exports.insertAfter = insertAfter;
exports.insertBefore = insertBefore;
exports.is = is;
exports.keydown = keydown;
exports.keypress = keypress;
exports.keyup = keyup;
exports.mousedown = mousedown;
exports.mouseenter = mouseenter;
exports.mouseleave = mouseleave;
exports.mousemove = mousemove;
exports.mouseout = mouseout;
exports.mouseover = mouseover;
exports.mouseup = mouseup;
exports.next = next;
exports.nextAll = nextAll;
exports.off = off;
exports.offset = offset;
exports.on = on;
exports.once = once;
exports.outerHeight = outerHeight;
exports.outerWidth = outerWidth;
exports.parent = parent;
exports.parents = parents;
exports.prepend = prepend;
exports.prependTo = prependTo;
exports.prev = prev;
exports.prevAll = prevAll;
exports.prop = prop;
exports.remove = remove;
exports.removeAttr = removeAttr;
exports.removeClass = removeClass;
exports.removeData = removeData;
exports.resize = resize;
exports.scroll = scroll;
exports.scrollLeft = scrollLeft;
exports.scrollTo = scrollTo;
exports.scrollTop = scrollTop;
exports.show = show;
exports.siblings = siblings;
exports.stop = stop;
exports.styles = styles;
exports.submit = submit;
exports.text = text;
exports.toggleClass = toggleClass;
exports.touchend = touchend;
exports.touchmove = touchmove;
exports.touchstart = touchstart;
exports.transform = transform;
exports.transition = transition;
exports.transitionEnd = transitionEnd;
exports.trigger = trigger;
exports.val = val;
exports.value = value;
exports.width = width;

},{"ssr-window":9}],4:[function(require,module,exports){
/**
 * lodash 3.0.3 (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/** `Object#toString` result references. */
var boolTag = '[object Boolean]';

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/**
 * Checks if `value` is classified as a boolean primitive or object.
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
 * @example
 *
 * _.isBoolean(false);
 * // => true
 *
 * _.isBoolean(null);
 * // => false
 */
function isBoolean(value) {
  return value === true || value === false ||
    (isObjectLike(value) && objectToString.call(value) == boolTag);
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

module.exports = isBoolean;

},{}],5:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    setTag = '[object Set]',
    weakMapTag = '[object WeakMap]';

var dataViewTag = '[object DataView]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    propertyIsEnumerable = objectProto.propertyIsEnumerable;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeKeys = overArg(Object.keys, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap');

/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */
var nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is an empty object, collection, map, or set.
 *
 * Objects are considered empty if they have no own enumerable string keyed
 * properties.
 *
 * Array-like values such as `arguments` objects, arrays, buffers, strings, or
 * jQuery-like collections are considered empty if they have a `length` of `0`.
 * Similarly, maps and sets are considered empty if they have a `size` of `0`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is empty, else `false`.
 * @example
 *
 * _.isEmpty(null);
 * // => true
 *
 * _.isEmpty(true);
 * // => true
 *
 * _.isEmpty(1);
 * // => true
 *
 * _.isEmpty([1, 2, 3]);
 * // => false
 *
 * _.isEmpty({ 'a': 1 });
 * // => false
 */
function isEmpty(value) {
  if (isArrayLike(value) &&
      (isArray(value) || typeof value == 'string' ||
        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {
    return !value.length;
  }
  var tag = getTag(value);
  if (tag == mapTag || tag == setTag) {
    return !value.size;
  }
  if (nonEnumShadows || isPrototype(value)) {
    return !nativeKeys(value).length;
  }
  for (var key in value) {
    if (hasOwnProperty.call(value, key)) {
      return false;
    }
  }
  return true;
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = isEmpty;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
(function (global){(function (){
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** `Object#toString` result references. */
var asyncTag = '[object AsyncFunction]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    nullTag = '[object Null]',
    proxyTag = '[object Proxy]',
    undefinedTag = '[object Undefined]';

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isFunction;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],7:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.at` without support for individual paths.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {string[]} paths The property paths of elements to pick.
 * @returns {Array} Returns the picked elements.
 */
function baseAt(object, paths) {
  var index = -1,
      isNil = object == null,
      length = paths.length,
      result = Array(length);

  while (++index < length) {
    result[index] = isNil ? undefined : get(object, paths[index]);
  }
  return result;
}

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.pullAt` without support for individual
 * indexes or capturing the removed elements.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {number[]} indexes The indexes of elements to remove.
 * @returns {Array} Returns `array`.
 */
function basePullAt(array, indexes) {
  var length = array ? indexes.length : 0,
      lastIndex = length - 1;

  while (length--) {
    var index = indexes[length];
    if (length == lastIndex || index !== previous) {
      var previous = index;
      if (isIndex(index)) {
        splice.call(array, index, 1);
      }
      else if (!isKey(index, array)) {
        var path = castPath(index),
            object = parent(array, path);

        if (object != null) {
          delete object[toKey(last(path))];
        }
      }
      else {
        delete array[toKey(index)];
      }
    }
  }
  return array;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : (length + start);
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : ((end - start) >>> 0);
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Compares values to sort them in ascending order.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {number} Returns the sort order indicator for `value`.
 */
function compareAscending(value, other) {
  if (value !== other) {
    var valIsDefined = value !== undefined,
        valIsNull = value === null,
        valIsReflexive = value === value,
        valIsSymbol = isSymbol(value);

    var othIsDefined = other !== undefined,
        othIsNull = other === null,
        othIsReflexive = other === other,
        othIsSymbol = isSymbol(other);

    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
        (valIsNull && othIsDefined && othIsReflexive) ||
        (!valIsDefined && othIsReflexive) ||
        !valIsReflexive) {
      return 1;
    }
    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
        (othIsNull && valIsDefined && valIsReflexive) ||
        (!othIsDefined && valIsReflexive) ||
        !othIsReflexive) {
      return -1;
    }
  }
  return 0;
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Gets the parent value at `path` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array} path The path to get the parent value of.
 * @returns {*} Returns the parent value.
 */
function parent(object, path) {
  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Gets the last element of `array`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to query.
 * @returns {*} Returns the last element of `array`.
 * @example
 *
 * _.last([1, 2, 3]);
 * // => 3
 */
function last(array) {
  var length = array ? array.length : 0;
  return length ? array[length - 1] : undefined;
}

/**
 * Removes elements from `array` corresponding to `indexes` and returns an
 * array of removed elements.
 *
 * **Note:** Unlike `_.at`, this method mutates `array`.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Array
 * @param {Array} array The array to modify.
 * @param {...(number|number[])} [indexes] The indexes of elements to remove.
 * @returns {Array} Returns the new array of removed elements.
 * @example
 *
 * var array = ['a', 'b', 'c', 'd'];
 * var pulled = _.pullAt(array, [1, 3]);
 *
 * console.log(array);
 * // => ['a', 'c']
 *
 * console.log(pulled);
 * // => ['b', 'd']
 */
var pullAt = baseRest(function(array, indexes) {
  indexes = baseFlatten(indexes, 1);

  var length = array ? array.length : 0,
      result = baseAt(array, indexes);

  basePullAt(array, arrayMap(indexes, function(index) {
    return isIndex(index, length) ? +index : index;
  }).sort(compareAscending));

  return result;
});

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = pullAt;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = throttle;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
/**
 * SSR Window 3.0.0
 * Better handling for window object in SSR environment
 * https://github.com/nolimits4web/ssr-window
 *
 * Copyright 2020, Vladimir Kharlampidi
 *
 * Licensed under MIT
 *
 * Released on: November 9, 2020
 */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['exports'], factory) :
    (global = global || self, factory(global.ssrWindow = {}));
}(this, (function (exports) { 'use strict';

    /* eslint-disable no-param-reassign */
    function isObject(obj) {
        return (obj !== null &&
            typeof obj === 'object' &&
            'constructor' in obj &&
            obj.constructor === Object);
    }
    function extend(target, src) {
        if (target === void 0) { target = {}; }
        if (src === void 0) { src = {}; }
        Object.keys(src).forEach(function (key) {
            if (typeof target[key] === 'undefined')
                target[key] = src[key];
            else if (isObject(src[key]) &&
                isObject(target[key]) &&
                Object.keys(src[key]).length > 0) {
                extend(target[key], src[key]);
            }
        });
    }

    var ssrDocument = {
        body: {},
        addEventListener: function () { },
        removeEventListener: function () { },
        activeElement: {
            blur: function () { },
            nodeName: '',
        },
        querySelector: function () {
            return null;
        },
        querySelectorAll: function () {
            return [];
        },
        getElementById: function () {
            return null;
        },
        createEvent: function () {
            return {
                initEvent: function () { },
            };
        },
        createElement: function () {
            return {
                children: [],
                childNodes: [],
                style: {},
                setAttribute: function () { },
                getElementsByTagName: function () {
                    return [];
                },
            };
        },
        createElementNS: function () {
            return {};
        },
        importNode: function () {
            return null;
        },
        location: {
            hash: '',
            host: '',
            hostname: '',
            href: '',
            origin: '',
            pathname: '',
            protocol: '',
            search: '',
        },
    };
    function getDocument() {
        var doc = typeof document !== 'undefined' ? document : {};
        extend(doc, ssrDocument);
        return doc;
    }

    var ssrWindow = {
        document: ssrDocument,
        navigator: {
            userAgent: '',
        },
        location: {
            hash: '',
            host: '',
            hostname: '',
            href: '',
            origin: '',
            pathname: '',
            protocol: '',
            search: '',
        },
        history: {
            replaceState: function () { },
            pushState: function () { },
            go: function () { },
            back: function () { },
        },
        CustomEvent: function CustomEvent() {
            return this;
        },
        addEventListener: function () { },
        removeEventListener: function () { },
        getComputedStyle: function () {
            return {
                getPropertyValue: function () {
                    return '';
                },
            };
        },
        Image: function () { },
        Date: function () { },
        screen: {},
        setTimeout: function () { },
        clearTimeout: function () { },
        matchMedia: function () {
            return {};
        },
        requestAnimationFrame: function (callback) {
            if (typeof setTimeout === 'undefined') {
                callback();
                return null;
            }
            return setTimeout(callback, 0);
        },
        cancelAnimationFrame: function (id) {
            if (typeof setTimeout === 'undefined') {
                return;
            }
            clearTimeout(id);
        },
    };
    function getWindow() {
        var win = typeof window !== 'undefined' ? window : {};
        extend(win, ssrWindow);
        return win;
    }

    exports.extend = extend;
    exports.getDocument = getDocument;
    exports.getWindow = getWindow;
    exports.ssrDocument = ssrDocument;
    exports.ssrWindow = ssrWindow;

    Object.defineProperty(exports, '__esModule', { value: true });

})));


},{}],10:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var A11y = {
  getRandomNumber: function getRandomNumber(size) {
    if (size === void 0) {
      size = 16;
    }

    var randomChar = function randomChar() {
      return Math.round(16 * Math.random()).toString(16);
    };

    return 'x'.repeat(size).replace(/x/g, randomChar);
  },
  makeElFocusable: function makeElFocusable($el) {
    $el.attr('tabIndex', '0');
    return $el;
  },
  makeElNotFocusable: function makeElNotFocusable($el) {
    $el.attr('tabIndex', '-1');
    return $el;
  },
  addElRole: function addElRole($el, role) {
    $el.attr('role', role);
    return $el;
  },
  addElRoleDescription: function addElRoleDescription($el, description) {
    $el.attr('aria-roledescription', description);
    return $el;
  },
  addElControls: function addElControls($el, controls) {
    $el.attr('aria-controls', controls);
    return $el;
  },
  addElLabel: function addElLabel($el, label) {
    $el.attr('aria-label', label);
    return $el;
  },
  addElId: function addElId($el, id) {
    $el.attr('id', id);
    return $el;
  },
  addElLive: function addElLive($el, live) {
    $el.attr('aria-live', live);
    return $el;
  },
  disableEl: function disableEl($el) {
    $el.attr('aria-disabled', true);
    return $el;
  },
  enableEl: function enableEl($el) {
    $el.attr('aria-disabled', false);
    return $el;
  },
  onEnterOrSpaceKey: function onEnterOrSpaceKey(e) {
    if (e.keyCode !== 13 && e.keyCode !== 32) return;
    var swiper = this;
    var params = swiper.params.a11y;
    var $targetEl = (0, _dom.default)(e.target);

    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {
      if (!(swiper.isEnd && !swiper.params.loop)) {
        swiper.slideNext();
      }

      if (swiper.isEnd) {
        swiper.a11y.notify(params.lastSlideMessage);
      } else {
        swiper.a11y.notify(params.nextSlideMessage);
      }
    }

    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {
      if (!(swiper.isBeginning && !swiper.params.loop)) {
        swiper.slidePrev();
      }

      if (swiper.isBeginning) {
        swiper.a11y.notify(params.firstSlideMessage);
      } else {
        swiper.a11y.notify(params.prevSlideMessage);
      }
    }

    if (swiper.pagination && $targetEl.is((0, _utils.classesToSelector)(swiper.params.pagination.bulletClass))) {
      $targetEl[0].click();
    }
  },
  notify: function notify(message) {
    var swiper = this;
    var notification = swiper.a11y.liveRegion;
    if (notification.length === 0) return;
    notification.html('');
    notification.html(message);
  },
  updateNavigation: function updateNavigation() {
    var swiper = this;
    if (swiper.params.loop || !swiper.navigation) return;
    var _swiper$navigation = swiper.navigation,
        $nextEl = _swiper$navigation.$nextEl,
        $prevEl = _swiper$navigation.$prevEl;

    if ($prevEl && $prevEl.length > 0) {
      if (swiper.isBeginning) {
        swiper.a11y.disableEl($prevEl);
        swiper.a11y.makeElNotFocusable($prevEl);
      } else {
        swiper.a11y.enableEl($prevEl);
        swiper.a11y.makeElFocusable($prevEl);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      if (swiper.isEnd) {
        swiper.a11y.disableEl($nextEl);
        swiper.a11y.makeElNotFocusable($nextEl);
      } else {
        swiper.a11y.enableEl($nextEl);
        swiper.a11y.makeElFocusable($nextEl);
      }
    }
  },
  updatePagination: function updatePagination() {
    var swiper = this;
    var params = swiper.params.a11y;

    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.bullets.each(function (bulletEl) {
        var $bulletEl = (0, _dom.default)(bulletEl);
        swiper.a11y.makeElFocusable($bulletEl);

        if (!swiper.params.pagination.renderBullet) {
          swiper.a11y.addElRole($bulletEl, 'button');
          swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/\{\{index\}\}/, $bulletEl.index() + 1));
        }
      });
    }
  },
  init: function init() {
    var swiper = this;
    var params = swiper.params.a11y;
    swiper.$el.append(swiper.a11y.liveRegion); // Container

    var $containerEl = swiper.$el;

    if (params.containerRoleDescriptionMessage) {
      swiper.a11y.addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);
    }

    if (params.containerMessage) {
      swiper.a11y.addElLabel($containerEl, params.containerMessage);
    } // Wrapper


    var $wrapperEl = swiper.$wrapperEl;
    var wrapperId = $wrapperEl.attr('id') || "swiper-wrapper-" + swiper.a11y.getRandomNumber(16);
    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';
    swiper.a11y.addElId($wrapperEl, wrapperId);
    swiper.a11y.addElLive($wrapperEl, live); // Slide

    if (params.itemRoleDescriptionMessage) {
      swiper.a11y.addElRoleDescription((0, _dom.default)(swiper.slides), params.itemRoleDescriptionMessage);
    }

    swiper.a11y.addElRole((0, _dom.default)(swiper.slides), params.slideRole);
    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {
      return !el.classList.contains(swiper.params.slideDuplicateClass);
    }).length : swiper.slides.length;
    swiper.slides.each(function (slideEl, index) {
      var $slideEl = (0, _dom.default)(slideEl);
      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;
      var ariaLabelMessage = params.slideLabelMessage.replace(/\{\{index\}\}/, slideIndex + 1).replace(/\{\{slidesLength\}\}/, slidesLength);
      swiper.a11y.addElLabel($slideEl, ariaLabelMessage);
    }); // Navigation

    var $nextEl;
    var $prevEl;

    if (swiper.navigation && swiper.navigation.$nextEl) {
      $nextEl = swiper.navigation.$nextEl;
    }

    if (swiper.navigation && swiper.navigation.$prevEl) {
      $prevEl = swiper.navigation.$prevEl;
    }

    if ($nextEl && $nextEl.length) {
      swiper.a11y.makeElFocusable($nextEl);

      if ($nextEl[0].tagName !== 'BUTTON') {
        swiper.a11y.addElRole($nextEl, 'button');
        $nextEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);
      }

      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);
      swiper.a11y.addElControls($nextEl, wrapperId);
    }

    if ($prevEl && $prevEl.length) {
      swiper.a11y.makeElFocusable($prevEl);

      if ($prevEl[0].tagName !== 'BUTTON') {
        swiper.a11y.addElRole($prevEl, 'button');
        $prevEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);
      }

      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);
      swiper.a11y.addElControls($prevEl, wrapperId);
    } // Pagination


    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.$el.on('keydown', (0, _utils.classesToSelector)(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();
    var $nextEl;
    var $prevEl;

    if (swiper.navigation && swiper.navigation.$nextEl) {
      $nextEl = swiper.navigation.$nextEl;
    }

    if (swiper.navigation && swiper.navigation.$prevEl) {
      $prevEl = swiper.navigation.$prevEl;
    }

    if ($nextEl) {
      $nextEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);
    }

    if ($prevEl) {
      $prevEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);
    } // Pagination


    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.$el.off('keydown', (0, _utils.classesToSelector)(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);
    }
  }
};
var _default = {
  name: 'a11y',
  params: {
    a11y: {
      enabled: true,
      notificationClass: 'swiper-notification',
      prevSlideMessage: 'Previous slide',
      nextSlideMessage: 'Next slide',
      firstSlideMessage: 'This is the first slide',
      lastSlideMessage: 'This is the last slide',
      paginationBulletMessage: 'Go to slide {{index}}',
      slideLabelMessage: '{{index}} / {{slidesLength}}',
      containerMessage: null,
      containerRoleDescriptionMessage: null,
      itemRoleDescriptionMessage: null,
      slideRole: 'group'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      a11y: _extends({}, A11y, {
        liveRegion: (0, _dom.default)("<span class=\"" + swiper.params.a11y.notificationClass + "\" aria-live=\"assertive\" aria-atomic=\"true\"></span>")
      })
    });
  },
  on: {
    afterInit: function afterInit(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.init();
      swiper.a11y.updateNavigation();
    },
    toEdge: function toEdge(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updateNavigation();
    },
    fromEdge: function fromEdge(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updateNavigation();
    },
    paginationUpdate: function paginationUpdate(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updatePagination();
    },
    destroy: function destroy(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],11:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Autoplay = {
  run: function run() {
    var swiper = this;
    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);
    var delay = swiper.params.autoplay.delay;

    if ($activeSlideEl.attr('data-swiper-autoplay')) {
      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;
    }

    clearTimeout(swiper.autoplay.timeout);
    swiper.autoplay.timeout = (0, _utils.nextTick)(function () {
      var autoplayResult;

      if (swiper.params.autoplay.reverseDirection) {
        if (swiper.params.loop) {
          swiper.loopFix();
          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else if (!swiper.isBeginning) {
          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else if (!swiper.params.autoplay.stopOnLastSlide) {
          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else {
          swiper.autoplay.stop();
        }
      } else if (swiper.params.loop) {
        swiper.loopFix();
        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else if (!swiper.isEnd) {
        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else if (!swiper.params.autoplay.stopOnLastSlide) {
        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else {
        swiper.autoplay.stop();
      }

      if (swiper.params.cssMode && swiper.autoplay.running) swiper.autoplay.run();else if (autoplayResult === false) {
        swiper.autoplay.run();
      }
    }, delay);
  },
  start: function start() {
    var swiper = this;
    if (typeof swiper.autoplay.timeout !== 'undefined') return false;
    if (swiper.autoplay.running) return false;
    swiper.autoplay.running = true;
    swiper.emit('autoplayStart');
    swiper.autoplay.run();
    return true;
  },
  stop: function stop() {
    var swiper = this;
    if (!swiper.autoplay.running) return false;
    if (typeof swiper.autoplay.timeout === 'undefined') return false;

    if (swiper.autoplay.timeout) {
      clearTimeout(swiper.autoplay.timeout);
      swiper.autoplay.timeout = undefined;
    }

    swiper.autoplay.running = false;
    swiper.emit('autoplayStop');
    return true;
  },
  pause: function pause(speed) {
    var swiper = this;
    if (!swiper.autoplay.running) return;
    if (swiper.autoplay.paused) return;
    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);
    swiper.autoplay.paused = true;

    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {
      swiper.autoplay.paused = false;
      swiper.autoplay.run();
    } else {
      ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
        swiper.$wrapperEl[0].addEventListener(event, swiper.autoplay.onTransitionEnd);
      });
    }
  },
  onVisibilityChange: function onVisibilityChange() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();

    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {
      swiper.autoplay.pause();
    }

    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {
      swiper.autoplay.run();
      swiper.autoplay.paused = false;
    }
  },
  onTransitionEnd: function onTransitionEnd(e) {
    var swiper = this;
    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;
    if (e.target !== swiper.$wrapperEl[0]) return;
    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);
    });
    swiper.autoplay.paused = false;

    if (!swiper.autoplay.running) {
      swiper.autoplay.stop();
    } else {
      swiper.autoplay.run();
    }
  },
  onMouseEnter: function onMouseEnter() {
    var swiper = this;

    if (swiper.params.autoplay.disableOnInteraction) {
      swiper.autoplay.stop();
    } else {
      swiper.autoplay.pause();
    }

    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);
    });
  },
  onMouseLeave: function onMouseLeave() {
    var swiper = this;

    if (swiper.params.autoplay.disableOnInteraction) {
      return;
    }

    swiper.autoplay.paused = false;
    swiper.autoplay.run();
  },
  attachMouseEvents: function attachMouseEvents() {
    var swiper = this;

    if (swiper.params.autoplay.pauseOnMouseEnter) {
      swiper.$el.on('mouseenter', swiper.autoplay.onMouseEnter);
      swiper.$el.on('mouseleave', swiper.autoplay.onMouseLeave);
    }
  },
  detachMouseEvents: function detachMouseEvents() {
    var swiper = this;
    swiper.$el.off('mouseenter', swiper.autoplay.onMouseEnter);
    swiper.$el.off('mouseleave', swiper.autoplay.onMouseLeave);
  }
};
var _default = {
  name: 'autoplay',
  params: {
    autoplay: {
      enabled: false,
      delay: 3000,
      waitForTransition: true,
      disableOnInteraction: true,
      stopOnLastSlide: false,
      reverseDirection: false,
      pauseOnMouseEnter: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      autoplay: _extends({}, Autoplay, {
        running: false,
        paused: false
      })
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.autoplay.enabled) {
        swiper.autoplay.start();
        var document = (0, _ssrWindow.getDocument)();
        document.addEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);
        swiper.autoplay.attachMouseEvents();
      }
    },
    beforeTransitionStart: function beforeTransitionStart(swiper, speed, internal) {
      if (swiper.autoplay.running) {
        if (internal || !swiper.params.autoplay.disableOnInteraction) {
          swiper.autoplay.pause(speed);
        } else {
          swiper.autoplay.stop();
        }
      }
    },
    sliderFirstMove: function sliderFirstMove(swiper) {
      if (swiper.autoplay.running) {
        if (swiper.params.autoplay.disableOnInteraction) {
          swiper.autoplay.stop();
        } else {
          swiper.autoplay.pause();
        }
      }
    },
    touchEnd: function touchEnd(swiper) {
      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {
        swiper.autoplay.run();
      }
    },
    destroy: function destroy(swiper) {
      swiper.autoplay.detachMouseEvents();

      if (swiper.autoplay.running) {
        swiper.autoplay.stop();
      }

      var document = (0, _ssrWindow.getDocument)();
      document.removeEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],12:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Controller = {
  LinearSpline: function LinearSpline(x, y) {
    var binarySearch = function search() {
      var maxIndex;
      var minIndex;
      var guess;
      return function (array, val) {
        minIndex = -1;
        maxIndex = array.length;

        while (maxIndex - minIndex > 1) {
          guess = maxIndex + minIndex >> 1;

          if (array[guess] <= val) {
            minIndex = guess;
          } else {
            maxIndex = guess;
          }
        }

        return maxIndex;
      };
    }();

    this.x = x;
    this.y = y;
    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:
    // (x1,y1) is the known point before given value,
    // (x3,y3) is the known point after given value.

    var i1;
    var i3;

    this.interpolate = function interpolate(x2) {
      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):

      i3 = binarySearch(this.x, x2);
      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:
      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1

      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];
    };

    return this;
  },
  // xxx: for now i will just save one spline function to to
  getInterpolateFunction: function getInterpolateFunction(c) {
    var swiper = this;

    if (!swiper.controller.spline) {
      swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);
    }
  },
  setTranslate: function setTranslate(_setTranslate, byController) {
    var swiper = this;
    var controlled = swiper.controller.control;
    var multiplier;
    var controlledTranslate;
    var Swiper = swiper.constructor;

    function setControlledTranslate(c) {
      // this will create an Interpolate function based on the snapGrids
      // x is the Grid of the scrolled scroller and y will be the controlled scroller
      // it makes sense to create this only once and recall it for the interpolation
      // the function does a lot of value caching for performance
      var translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;

      if (swiper.params.controller.by === 'slide') {
        swiper.controller.getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid
        // but it did not work out

        controlledTranslate = -swiper.controller.spline.interpolate(-translate);
      }

      if (!controlledTranslate || swiper.params.controller.by === 'container') {
        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());
        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();
      }

      if (swiper.params.controller.inverse) {
        controlledTranslate = c.maxTranslate() - controlledTranslate;
      }

      c.updateProgress(controlledTranslate);
      c.setTranslate(controlledTranslate, swiper);
      c.updateActiveIndex();
      c.updateSlidesClasses();
    }

    if (Array.isArray(controlled)) {
      for (var i = 0; i < controlled.length; i += 1) {
        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {
          setControlledTranslate(controlled[i]);
        }
      }
    } else if (controlled instanceof Swiper && byController !== controlled) {
      setControlledTranslate(controlled);
    }
  },
  setTransition: function setTransition(duration, byController) {
    var swiper = this;
    var Swiper = swiper.constructor;
    var controlled = swiper.controller.control;
    var i;

    function setControlledTransition(c) {
      c.setTransition(duration, swiper);

      if (duration !== 0) {
        c.transitionStart();

        if (c.params.autoHeight) {
          (0, _utils.nextTick)(function () {
            c.updateAutoHeight();
          });
        }

        c.$wrapperEl.transitionEnd(function () {
          if (!controlled) return;

          if (c.params.loop && swiper.params.controller.by === 'slide') {
            c.loopFix();
          }

          c.transitionEnd();
        });
      }
    }

    if (Array.isArray(controlled)) {
      for (i = 0; i < controlled.length; i += 1) {
        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {
          setControlledTransition(controlled[i]);
        }
      }
    } else if (controlled instanceof Swiper && byController !== controlled) {
      setControlledTransition(controlled);
    }
  }
};
var _default = {
  name: 'controller',
  params: {
    controller: {
      control: undefined,
      inverse: false,
      by: 'slide' // or 'container'

    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      controller: _extends({
        control: swiper.params.controller.control
      }, Controller)
    });
  },
  on: {
    update: function update(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    resize: function resize(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    observerUpdate: function observerUpdate(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    setTranslate: function setTranslate(swiper, translate, byController) {
      if (!swiper.controller.control) return;
      swiper.controller.setTranslate(translate, byController);
    },
    setTransition: function setTransition(swiper, duration, byController) {
      if (!swiper.controller.control) return;
      swiper.controller.setTransition(duration, byController);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97}],13:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = getBreakpoint;

var _ssrWindow = require("ssr-window");

function getBreakpoint(breakpoints, base, containerEl) {
  if (base === void 0) {
    base = 'window';
  }

  if (!breakpoints || base === 'container' && !containerEl) return undefined;
  var breakpoint = false;
  var window = (0, _ssrWindow.getWindow)();
  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;
  var points = Object.keys(breakpoints).map(function (point) {
    if (typeof point === 'string' && point.indexOf('@') === 0) {
      var minRatio = parseFloat(point.substr(1));
      var value = currentHeight * minRatio;
      return {
        value: value,
        point: point
      };
    }

    return {
      value: point,
      point: point
    };
  });
  points.sort(function (a, b) {
    return parseInt(a.value, 10) - parseInt(b.value, 10);
  });

  for (var i = 0; i < points.length; i += 1) {
    var _points$i = points[i],
        point = _points$i.point,
        value = _points$i.value;

    if (base === 'window') {
      if (window.matchMedia("(min-width: " + value + "px)").matches) {
        breakpoint = point;
      }
    } else if (value <= containerEl.clientWidth) {
      breakpoint = point;
    }
  }

  return breakpoint || 'max';
}
},{"ssr-window":9}],14:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setBreakpoint = _interopRequireDefault(require("./setBreakpoint"));

var _getBreakpoint = _interopRequireDefault(require("./getBreakpoint"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setBreakpoint: _setBreakpoint.default,
  getBreakpoint: _getBreakpoint.default
};
exports.default = _default;
},{"./getBreakpoint":13,"./setBreakpoint":15}],15:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setBreakpoint;

var _utils = require("../../../utils/utils");

function setBreakpoint() {
  var swiper = this;
  var activeIndex = swiper.activeIndex,
      initialized = swiper.initialized,
      _swiper$loopedSlides = swiper.loopedSlides,
      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,
      params = swiper.params,
      $el = swiper.$el;
  var breakpoints = params.breakpoints;
  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters

  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);
  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;
  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;

  if (breakpointOnlyParams) {
    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {
      var paramValue = breakpointOnlyParams[param];
      if (typeof paramValue === 'undefined') return;

      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {
        breakpointOnlyParams[param] = 'auto';
      } else if (param === 'slidesPerView') {
        breakpointOnlyParams[param] = parseFloat(paramValue);
      } else {
        breakpointOnlyParams[param] = parseInt(paramValue, 10);
      }
    });
  }

  var breakpointParams = breakpointOnlyParams || swiper.originalParams;
  var wasMultiRow = params.slidesPerColumn > 1;
  var isMultiRow = breakpointParams.slidesPerColumn > 1;
  var wasEnabled = params.enabled;

  if (wasMultiRow && !isMultiRow) {
    $el.removeClass(params.containerModifierClass + "multirow " + params.containerModifierClass + "multirow-column");
    swiper.emitContainerClasses();
  } else if (!wasMultiRow && isMultiRow) {
    $el.addClass(params.containerModifierClass + "multirow");

    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {
      $el.addClass(params.containerModifierClass + "multirow-column");
    }

    swiper.emitContainerClasses();
  }

  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;
  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);

  if (directionChanged && initialized) {
    swiper.changeDirection();
  }

  (0, _utils.extend)(swiper.params, breakpointParams);
  var isEnabled = swiper.params.enabled;
  (0, _utils.extend)(swiper, {
    allowTouchMove: swiper.params.allowTouchMove,
    allowSlideNext: swiper.params.allowSlideNext,
    allowSlidePrev: swiper.params.allowSlidePrev
  });

  if (wasEnabled && !isEnabled) {
    swiper.disable();
  } else if (!wasEnabled && isEnabled) {
    swiper.enable();
  }

  swiper.currentBreakpoint = breakpoint;
  swiper.emit('_beforeBreakpoint', breakpointParams);

  if (needsReLoop && initialized) {
    swiper.loopDestroy();
    swiper.loopCreate();
    swiper.updateSlides();
    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);
  }

  swiper.emit('breakpoint', breakpointParams);
}
},{"../../../utils/utils":97}],16:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

function checkOverflow() {
  var swiper = this;
  var params = swiper.params;
  var wasLocked = swiper.isLocked;
  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;

  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {
    swiper.isLocked = lastSlidePosition <= swiper.size;
  } else {
    swiper.isLocked = swiper.snapGrid.length === 1;
  }

  swiper.allowSlideNext = !swiper.isLocked;
  swiper.allowSlidePrev = !swiper.isLocked; // events

  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');

  if (wasLocked && wasLocked !== swiper.isLocked) {
    swiper.isEnd = false;
    if (swiper.navigation) swiper.navigation.update();
  }
}

var _default = {
  checkOverflow: checkOverflow
};
exports.default = _default;
},{}],17:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = addClasses;

function prepareClasses(entries, prefix) {
  var resultClasses = [];
  entries.forEach(function (item) {
    if (typeof item === 'object') {
      Object.keys(item).forEach(function (classNames) {
        if (item[classNames]) {
          resultClasses.push(prefix + classNames);
        }
      });
    } else if (typeof item === 'string') {
      resultClasses.push(prefix + item);
    }
  });
  return resultClasses;
}

function addClasses() {
  var swiper = this;
  var classNames = swiper.classNames,
      params = swiper.params,
      rtl = swiper.rtl,
      $el = swiper.$el,
      device = swiper.device,
      support = swiper.support; // prettier-ignore

  var suffixes = prepareClasses(['initialized', params.direction, {
    'pointer-events': support.pointerEvents && !support.touch
  }, {
    'free-mode': params.freeMode
  }, {
    'autoheight': params.autoHeight
  }, {
    'rtl': rtl
  }, {
    'multirow': params.slidesPerColumn > 1
  }, {
    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'
  }, {
    'android': device.android
  }, {
    'ios': device.ios
  }, {
    'css-mode': params.cssMode
  }], params.containerModifierClass);
  classNames.push.apply(classNames, suffixes);
  $el.addClass([].concat(classNames).join(' '));
  swiper.emitContainerClasses();
}
},{}],18:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _addClasses = _interopRequireDefault(require("./addClasses"));

var _removeClasses = _interopRequireDefault(require("./removeClasses"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  addClasses: _addClasses.default,
  removeClasses: _removeClasses.default
};
exports.default = _default;
},{"./addClasses":17,"./removeClasses":19}],19:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeClasses;

function removeClasses() {
  var swiper = this;
  var $el = swiper.$el,
      classNames = swiper.classNames;
  $el.removeClass(classNames.join(' '));
  swiper.emitContainerClasses();
}
},{}],20:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

var _getSupport = require("../../utils/get-support");

var _getDevice = require("../../utils/get-device");

var _getBrowser = require("../../utils/get-browser");

var _resize = _interopRequireDefault(require("../../modules/resize/resize"));

var _observer = _interopRequireDefault(require("../../modules/observer/observer"));

var _modular = _interopRequireDefault(require("./modular"));

var _eventsEmitter = _interopRequireDefault(require("./events-emitter"));

var _index = _interopRequireDefault(require("./update/index"));

var _index2 = _interopRequireDefault(require("./translate/index"));

var _index3 = _interopRequireDefault(require("./transition/index"));

var _index4 = _interopRequireDefault(require("./slide/index"));

var _index5 = _interopRequireDefault(require("./loop/index"));

var _index6 = _interopRequireDefault(require("./grab-cursor/index"));

var _index7 = _interopRequireDefault(require("./manipulation/index"));

var _index8 = _interopRequireDefault(require("./events/index"));

var _index9 = _interopRequireDefault(require("./breakpoints/index"));

var _index10 = _interopRequireDefault(require("./classes/index"));

var _index11 = _interopRequireDefault(require("./images/index"));

var _index12 = _interopRequireDefault(require("./check-overflow/index"));

var _defaults = _interopRequireDefault(require("./defaults"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var prototypes = {
  modular: _modular.default,
  eventsEmitter: _eventsEmitter.default,
  update: _index.default,
  translate: _index2.default,
  transition: _index3.default,
  slide: _index4.default,
  loop: _index5.default,
  grabCursor: _index6.default,
  manipulation: _index7.default,
  events: _index8.default,
  breakpoints: _index9.default,
  checkOverflow: _index12.default,
  classes: _index10.default,
  images: _index11.default
};
var extendedDefaults = {};

var Swiper = /*#__PURE__*/function () {
  function Swiper() {
    var el;
    var params;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {
      params = args[0];
    } else {
      el = args[0];
      params = args[1];
    }

    if (!params) params = {};
    params = (0, _utils.extend)({}, params);
    if (el && !params.el) params.el = el;

    if (params.el && (0, _dom.default)(params.el).length > 1) {
      var swipers = [];
      (0, _dom.default)(params.el).each(function (containerEl) {
        var newParams = (0, _utils.extend)({}, params, {
          el: containerEl
        });
        swipers.push(new Swiper(newParams));
      });
      return swipers;
    } // Swiper Instance


    var swiper = this;
    swiper.__swiper__ = true;
    swiper.support = (0, _getSupport.getSupport)();
    swiper.device = (0, _getDevice.getDevice)({
      userAgent: params.userAgent
    });
    swiper.browser = (0, _getBrowser.getBrowser)();
    swiper.eventsListeners = {};
    swiper.eventsAnyListeners = [];

    if (typeof swiper.modules === 'undefined') {
      swiper.modules = {};
    }

    Object.keys(swiper.modules).forEach(function (moduleName) {
      var module = swiper.modules[moduleName];

      if (module.params) {
        var moduleParamName = Object.keys(module.params)[0];
        var moduleParams = module.params[moduleParamName];
        if (typeof moduleParams !== 'object' || moduleParams === null) return;

        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {
          params[moduleParamName] = {
            auto: true
          };
        }

        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;

        if (params[moduleParamName] === true) {
          params[moduleParamName] = {
            enabled: true
          };
        }

        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {
          params[moduleParamName].enabled = true;
        }

        if (!params[moduleParamName]) params[moduleParamName] = {
          enabled: false
        };
      }
    }); // Extend defaults with modules params

    var swiperParams = (0, _utils.extend)({}, _defaults.default);
    swiper.useParams(swiperParams); // Extend defaults with passed params

    swiper.params = (0, _utils.extend)({}, swiperParams, extendedDefaults, params);
    swiper.originalParams = (0, _utils.extend)({}, swiper.params);
    swiper.passedParams = (0, _utils.extend)({}, params); // add event listeners

    if (swiper.params && swiper.params.on) {
      Object.keys(swiper.params.on).forEach(function (eventName) {
        swiper.on(eventName, swiper.params.on[eventName]);
      });
    }

    if (swiper.params && swiper.params.onAny) {
      swiper.onAny(swiper.params.onAny);
    } // Save Dom lib


    swiper.$ = _dom.default; // Extend Swiper

    (0, _utils.extend)(swiper, {
      enabled: swiper.params.enabled,
      el: el,
      // Classes
      classNames: [],
      // Slides
      slides: (0, _dom.default)(),
      slidesGrid: [],
      snapGrid: [],
      slidesSizesGrid: [],
      // isDirection
      isHorizontal: function isHorizontal() {
        return swiper.params.direction === 'horizontal';
      },
      isVertical: function isVertical() {
        return swiper.params.direction === 'vertical';
      },
      // Indexes
      activeIndex: 0,
      realIndex: 0,
      //
      isBeginning: true,
      isEnd: false,
      // Props
      translate: 0,
      previousTranslate: 0,
      progress: 0,
      velocity: 0,
      animating: false,
      // Locks
      allowSlideNext: swiper.params.allowSlideNext,
      allowSlidePrev: swiper.params.allowSlidePrev,
      // Touch Events
      touchEvents: function touchEvents() {
        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];
        var desktop = ['mousedown', 'mousemove', 'mouseup'];

        if (swiper.support.pointerEvents) {
          desktop = ['pointerdown', 'pointermove', 'pointerup'];
        }

        swiper.touchEventsTouch = {
          start: touch[0],
          move: touch[1],
          end: touch[2],
          cancel: touch[3]
        };
        swiper.touchEventsDesktop = {
          start: desktop[0],
          move: desktop[1],
          end: desktop[2]
        };
        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;
      }(),
      touchEventsData: {
        isTouched: undefined,
        isMoved: undefined,
        allowTouchCallbacks: undefined,
        touchStartTime: undefined,
        isScrolling: undefined,
        currentTranslate: undefined,
        startTranslate: undefined,
        allowThresholdMove: undefined,
        // Form elements to match
        focusableElements: swiper.params.focusableElements,
        // Last click time
        lastClickTime: (0, _utils.now)(),
        clickTimeout: undefined,
        // Velocities
        velocities: [],
        allowMomentumBounce: undefined,
        isTouchEvent: undefined,
        startMoving: undefined
      },
      // Clicks
      allowClick: true,
      // Touches
      allowTouchMove: swiper.params.allowTouchMove,
      touches: {
        startX: 0,
        startY: 0,
        currentX: 0,
        currentY: 0,
        diff: 0
      },
      // Images
      imagesToLoad: [],
      imagesLoaded: 0
    }); // Install Modules

    swiper.useModules();
    swiper.emit('_swiper'); // Init

    if (swiper.params.init) {
      swiper.init();
    } // Return app instance


    return swiper;
  }

  var _proto = Swiper.prototype;

  _proto.enable = function enable() {
    var swiper = this;
    if (swiper.enabled) return;
    swiper.enabled = true;

    if (swiper.params.grabCursor) {
      swiper.setGrabCursor();
    }

    swiper.emit('enable');
  };

  _proto.disable = function disable() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.enabled = false;

    if (swiper.params.grabCursor) {
      swiper.unsetGrabCursor();
    }

    swiper.emit('disable');
  };

  _proto.setProgress = function setProgress(progress, speed) {
    var swiper = this;
    progress = Math.min(Math.max(progress, 0), 1);
    var min = swiper.minTranslate();
    var max = swiper.maxTranslate();
    var current = (max - min) * progress + min;
    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  };

  _proto.emitContainerClasses = function emitContainerClasses() {
    var swiper = this;
    if (!swiper.params._emitClasses || !swiper.el) return;
    var classes = swiper.el.className.split(' ').filter(function (className) {
      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;
    });
    swiper.emit('_containerClasses', classes.join(' '));
  };

  _proto.getSlideClasses = function getSlideClasses(slideEl) {
    var swiper = this;
    return slideEl.className.split(' ').filter(function (className) {
      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;
    }).join(' ');
  };

  _proto.emitSlidesClasses = function emitSlidesClasses() {
    var swiper = this;
    if (!swiper.params._emitClasses || !swiper.el) return;
    var updates = [];
    swiper.slides.each(function (slideEl) {
      var classNames = swiper.getSlideClasses(slideEl);
      updates.push({
        slideEl: slideEl,
        classNames: classNames
      });
      swiper.emit('_slideClass', slideEl, classNames);
    });
    swiper.emit('_slideClasses', updates);
  };

  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {
    var swiper = this;
    var params = swiper.params,
        slides = swiper.slides,
        slidesGrid = swiper.slidesGrid,
        swiperSize = swiper.size,
        activeIndex = swiper.activeIndex;
    var spv = 1;

    if (params.centeredSlides) {
      var slideSize = slides[activeIndex].swiperSlideSize;
      var breakLoop;

      for (var i = activeIndex + 1; i < slides.length; i += 1) {
        if (slides[i] && !breakLoop) {
          slideSize += slides[i].swiperSlideSize;
          spv += 1;
          if (slideSize > swiperSize) breakLoop = true;
        }
      }

      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {
        if (slides[_i] && !breakLoop) {
          slideSize += slides[_i].swiperSlideSize;
          spv += 1;
          if (slideSize > swiperSize) breakLoop = true;
        }
      }
    } else {
      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {
        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {
          spv += 1;
        }
      }
    }

    return spv;
  };

  _proto.update = function update() {
    var swiper = this;
    if (!swiper || swiper.destroyed) return;
    var snapGrid = swiper.snapGrid,
        params = swiper.params; // Breakpoints

    if (params.breakpoints) {
      swiper.setBreakpoint();
    }

    swiper.updateSize();
    swiper.updateSlides();
    swiper.updateProgress();
    swiper.updateSlidesClasses();

    function setTranslate() {
      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;
      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());
      swiper.setTranslate(newTranslate);
      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    }

    var translated;

    if (swiper.params.freeMode) {
      setTranslate();

      if (swiper.params.autoHeight) {
        swiper.updateAutoHeight();
      }
    } else {
      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {
        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);
      } else {
        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);
      }

      if (!translated) {
        setTranslate();
      }
    }

    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {
      swiper.checkOverflow();
    }

    swiper.emit('update');
  };

  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {
    if (needUpdate === void 0) {
      needUpdate = true;
    }

    var swiper = this;
    var currentDirection = swiper.params.direction;

    if (!newDirection) {
      // eslint-disable-next-line
      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';
    }

    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {
      return swiper;
    }

    swiper.$el.removeClass("" + swiper.params.containerModifierClass + currentDirection).addClass("" + swiper.params.containerModifierClass + newDirection);
    swiper.emitContainerClasses();
    swiper.params.direction = newDirection;
    swiper.slides.each(function (slideEl) {
      if (newDirection === 'vertical') {
        slideEl.style.width = '';
      } else {
        slideEl.style.height = '';
      }
    });
    swiper.emit('changeDirection');
    if (needUpdate) swiper.update();
    return swiper;
  };

  _proto.mount = function mount(el) {
    var swiper = this;
    if (swiper.mounted) return true; // Find el

    var $el = (0, _dom.default)(el || swiper.params.el);
    el = $el[0];

    if (!el) {
      return false;
    }

    el.swiper = swiper;

    var getWrapperSelector = function getWrapperSelector() {
      return "." + (swiper.params.wrapperClass || '').trim().split(' ').join('.');
    };

    var getWrapper = function getWrapper() {
      if (el && el.shadowRoot && el.shadowRoot.querySelector) {
        var res = (0, _dom.default)(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items

        res.children = function (options) {
          return $el.children(options);
        };

        return res;
      }

      return $el.children(getWrapperSelector());
    }; // Find Wrapper


    var $wrapperEl = getWrapper();

    if ($wrapperEl.length === 0 && swiper.params.createElements) {
      var document = (0, _ssrWindow.getDocument)();
      var wrapper = document.createElement('div');
      $wrapperEl = (0, _dom.default)(wrapper);
      wrapper.className = swiper.params.wrapperClass;
      $el.append(wrapper);
      $el.children("." + swiper.params.slideClass).each(function (slideEl) {
        $wrapperEl.append(slideEl);
      });
    }

    (0, _utils.extend)(swiper, {
      $el: $el,
      el: el,
      $wrapperEl: $wrapperEl,
      wrapperEl: $wrapperEl[0],
      mounted: true,
      // RTL
      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',
      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),
      wrongRTL: $wrapperEl.css('display') === '-webkit-box'
    });
    return true;
  };

  _proto.init = function init(el) {
    var swiper = this;
    if (swiper.initialized) return swiper;
    var mounted = swiper.mount(el);
    if (mounted === false) return swiper;
    swiper.emit('beforeInit'); // Set breakpoint

    if (swiper.params.breakpoints) {
      swiper.setBreakpoint();
    } // Add Classes


    swiper.addClasses(); // Create loop

    if (swiper.params.loop) {
      swiper.loopCreate();
    } // Update size


    swiper.updateSize(); // Update slides

    swiper.updateSlides();

    if (swiper.params.watchOverflow) {
      swiper.checkOverflow();
    } // Set Grab Cursor


    if (swiper.params.grabCursor && swiper.enabled) {
      swiper.setGrabCursor();
    }

    if (swiper.params.preloadImages) {
      swiper.preloadImages();
    } // Slide To Initial Slide


    if (swiper.params.loop) {
      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);
    } else {
      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);
    } // Attach events


    swiper.attachEvents(); // Init Flag

    swiper.initialized = true; // Emit

    swiper.emit('init');
    swiper.emit('afterInit');
    return swiper;
  };

  _proto.destroy = function destroy(deleteInstance, cleanStyles) {
    if (deleteInstance === void 0) {
      deleteInstance = true;
    }

    if (cleanStyles === void 0) {
      cleanStyles = true;
    }

    var swiper = this;
    var params = swiper.params,
        $el = swiper.$el,
        $wrapperEl = swiper.$wrapperEl,
        slides = swiper.slides;

    if (typeof swiper.params === 'undefined' || swiper.destroyed) {
      return null;
    }

    swiper.emit('beforeDestroy'); // Init Flag

    swiper.initialized = false; // Detach events

    swiper.detachEvents(); // Destroy loop

    if (params.loop) {
      swiper.loopDestroy();
    } // Cleanup styles


    if (cleanStyles) {
      swiper.removeClasses();
      $el.removeAttr('style');
      $wrapperEl.removeAttr('style');

      if (slides && slides.length) {
        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');
      }
    }

    swiper.emit('destroy'); // Detach emitter events

    Object.keys(swiper.eventsListeners).forEach(function (eventName) {
      swiper.off(eventName);
    });

    if (deleteInstance !== false) {
      swiper.$el[0].swiper = null;
      (0, _utils.deleteProps)(swiper);
    }

    swiper.destroyed = true;
    return null;
  };

  Swiper.extendDefaults = function extendDefaults(newDefaults) {
    (0, _utils.extend)(extendedDefaults, newDefaults);
  };

  Swiper.installModule = function installModule(module) {
    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};
    var name = module.name || Object.keys(Swiper.prototype.modules).length + "_" + (0, _utils.now)();
    Swiper.prototype.modules[name] = module;
  };

  Swiper.use = function use(module) {
    if (Array.isArray(module)) {
      module.forEach(function (m) {
        return Swiper.installModule(m);
      });
      return Swiper;
    }

    Swiper.installModule(module);
    return Swiper;
  };

  _createClass(Swiper, null, [{
    key: "extendedDefaults",
    get: function get() {
      return extendedDefaults;
    }
  }, {
    key: "defaults",
    get: function get() {
      return _defaults.default;
    }
  }]);

  return Swiper;
}();

Object.keys(prototypes).forEach(function (prototypeGroup) {
  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {
    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];
  });
});
Swiper.use([_resize.default, _observer.default]);
var _default = Swiper;
exports.default = _default;
},{"../../modules/observer/observer":91,"../../modules/resize/resize":92,"../../utils/dom":93,"../../utils/get-browser":94,"../../utils/get-device":95,"../../utils/get-support":96,"../../utils/utils":97,"./breakpoints/index":14,"./check-overflow/index":16,"./classes/index":18,"./defaults":21,"./events-emitter":22,"./events/index":23,"./grab-cursor/index":30,"./images/index":33,"./loop/index":36,"./manipulation/index":42,"./modular":46,"./slide/index":47,"./transition/index":55,"./translate/index":60,"./update/index":65,"ssr-window":9}],21:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _default = {
  init: true,
  direction: 'horizontal',
  touchEventsTarget: 'container',
  initialSlide: 0,
  speed: 300,
  cssMode: false,
  updateOnWindowResize: true,
  resizeObserver: false,
  nested: false,
  createElements: false,
  enabled: true,
  focusableElements: 'input, select, option, textarea, button, video, label',
  // Overrides
  width: null,
  height: null,
  //
  preventInteractionOnTransition: false,
  // ssr
  userAgent: null,
  url: null,
  // To support iOS's swipe-to-go-back gesture (when being used in-app).
  edgeSwipeDetection: false,
  edgeSwipeThreshold: 20,
  // Free mode
  freeMode: false,
  freeModeMomentum: true,
  freeModeMomentumRatio: 1,
  freeModeMomentumBounce: true,
  freeModeMomentumBounceRatio: 1,
  freeModeMomentumVelocityRatio: 1,
  freeModeSticky: false,
  freeModeMinimumVelocity: 0.02,
  // Autoheight
  autoHeight: false,
  // Set wrapper width
  setWrapperSize: false,
  // Virtual Translate
  virtualTranslate: false,
  // Effects
  effect: 'slide',
  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'
  // Breakpoints
  breakpoints: undefined,
  breakpointsBase: 'window',
  // Slides grid
  spaceBetween: 0,
  slidesPerView: 1,
  slidesPerColumn: 1,
  slidesPerColumnFill: 'column',
  slidesPerGroup: 1,
  slidesPerGroupSkip: 0,
  centeredSlides: false,
  centeredSlidesBounds: false,
  slidesOffsetBefore: 0,
  // in px
  slidesOffsetAfter: 0,
  // in px
  normalizeSlideIndex: true,
  centerInsufficientSlides: false,
  // Disable swiper and hide navigation when container not overflow
  watchOverflow: false,
  // Round length
  roundLengths: false,
  // Touches
  touchRatio: 1,
  touchAngle: 45,
  simulateTouch: true,
  shortSwipes: true,
  longSwipes: true,
  longSwipesRatio: 0.5,
  longSwipesMs: 300,
  followFinger: true,
  allowTouchMove: true,
  threshold: 0,
  touchMoveStopPropagation: false,
  touchStartPreventDefault: true,
  touchStartForcePreventDefault: false,
  touchReleaseOnEdges: false,
  // Unique Navigation Elements
  uniqueNavElements: true,
  // Resistance
  resistance: true,
  resistanceRatio: 0.85,
  // Progress
  watchSlidesProgress: false,
  watchSlidesVisibility: false,
  // Cursor
  grabCursor: false,
  // Clicks
  preventClicks: true,
  preventClicksPropagation: true,
  slideToClickedSlide: false,
  // Images
  preloadImages: true,
  updateOnImagesReady: true,
  // loop
  loop: false,
  loopAdditionalSlides: 0,
  loopedSlides: null,
  loopFillGroupWithBlank: false,
  loopPreventsSlide: true,
  // Swiping/no swiping
  allowSlidePrev: true,
  allowSlideNext: true,
  swipeHandler: null,
  // '.swipe-handler',
  noSwiping: true,
  noSwipingClass: 'swiper-no-swiping',
  noSwipingSelector: null,
  // Passive Listeners
  passiveListeners: true,
  // NS
  containerModifierClass: 'swiper-container-',
  // NEW
  slideClass: 'swiper-slide',
  slideBlankClass: 'swiper-slide-invisible-blank',
  slideActiveClass: 'swiper-slide-active',
  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',
  slideVisibleClass: 'swiper-slide-visible',
  slideDuplicateClass: 'swiper-slide-duplicate',
  slideNextClass: 'swiper-slide-next',
  slideDuplicateNextClass: 'swiper-slide-duplicate-next',
  slidePrevClass: 'swiper-slide-prev',
  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',
  wrapperClass: 'swiper-wrapper',
  // Callbacks
  runCallbacksOnInit: true,
  // Internals
  _emitClasses: false
};
exports.default = _default;
},{}],22:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

/* eslint-disable no-underscore-dangle */
var _default = {
  on: function on(events, handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;
    var method = priority ? 'unshift' : 'push';
    events.split(' ').forEach(function (event) {
      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];
      self.eventsListeners[event][method](handler);
    });
    return self;
  },
  once: function once(events, handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;

    function onceHandler() {
      self.off(events, onceHandler);

      if (onceHandler.__emitterProxy) {
        delete onceHandler.__emitterProxy;
      }

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      handler.apply(self, args);
    }

    onceHandler.__emitterProxy = handler;
    return self.on(events, onceHandler, priority);
  },
  onAny: function onAny(handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;
    var method = priority ? 'unshift' : 'push';

    if (self.eventsAnyListeners.indexOf(handler) < 0) {
      self.eventsAnyListeners[method](handler);
    }

    return self;
  },
  offAny: function offAny(handler) {
    var self = this;
    if (!self.eventsAnyListeners) return self;
    var index = self.eventsAnyListeners.indexOf(handler);

    if (index >= 0) {
      self.eventsAnyListeners.splice(index, 1);
    }

    return self;
  },
  off: function off(events, handler) {
    var self = this;
    if (!self.eventsListeners) return self;
    events.split(' ').forEach(function (event) {
      if (typeof handler === 'undefined') {
        self.eventsListeners[event] = [];
      } else if (self.eventsListeners[event]) {
        self.eventsListeners[event].forEach(function (eventHandler, index) {
          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {
            self.eventsListeners[event].splice(index, 1);
          }
        });
      }
    });
    return self;
  },
  emit: function emit() {
    var self = this;
    if (!self.eventsListeners) return self;
    var events;
    var data;
    var context;

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    if (typeof args[0] === 'string' || Array.isArray(args[0])) {
      events = args[0];
      data = args.slice(1, args.length);
      context = self;
    } else {
      events = args[0].events;
      data = args[0].data;
      context = args[0].context || self;
    }

    data.unshift(context);
    var eventsArray = Array.isArray(events) ? events : events.split(' ');
    eventsArray.forEach(function (event) {
      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {
        self.eventsAnyListeners.forEach(function (eventHandler) {
          eventHandler.apply(context, [event].concat(data));
        });
      }

      if (self.eventsListeners && self.eventsListeners[event]) {
        self.eventsListeners[event].forEach(function (eventHandler) {
          eventHandler.apply(context, data);
        });
      }
    });
    return self;
  }
};
exports.default = _default;
},{}],23:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _onTouchStart = _interopRequireDefault(require("./onTouchStart"));

var _onTouchMove = _interopRequireDefault(require("./onTouchMove"));

var _onTouchEnd = _interopRequireDefault(require("./onTouchEnd"));

var _onResize = _interopRequireDefault(require("./onResize"));

var _onClick = _interopRequireDefault(require("./onClick"));

var _onScroll = _interopRequireDefault(require("./onScroll"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var dummyEventAttached = false;

function dummyEventListener() {}

function attachEvents() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      touchEvents = swiper.touchEvents,
      el = swiper.el,
      wrapperEl = swiper.wrapperEl,
      device = swiper.device,
      support = swiper.support;
  swiper.onTouchStart = _onTouchStart.default.bind(swiper);
  swiper.onTouchMove = _onTouchMove.default.bind(swiper);
  swiper.onTouchEnd = _onTouchEnd.default.bind(swiper);

  if (params.cssMode) {
    swiper.onScroll = _onScroll.default.bind(swiper);
  }

  swiper.onClick = _onClick.default.bind(swiper);
  var capture = !!params.nested; // Touch Events

  if (!support.touch && support.pointerEvents) {
    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);
    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);
    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);
  } else {
    if (support.touch) {
      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {
        passive: true,
        capture: false
      } : false;
      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {
        passive: false,
        capture: capture
      } : capture);
      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);

      if (touchEvents.cancel) {
        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);
      }

      if (!dummyEventAttached) {
        document.addEventListener('touchstart', dummyEventListener);
        dummyEventAttached = true;
      }
    }

    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {
      el.addEventListener('mousedown', swiper.onTouchStart, false);
      document.addEventListener('mousemove', swiper.onTouchMove, capture);
      document.addEventListener('mouseup', swiper.onTouchEnd, false);
    }
  } // Prevent Links Clicks


  if (params.preventClicks || params.preventClicksPropagation) {
    el.addEventListener('click', swiper.onClick, true);
  }

  if (params.cssMode) {
    wrapperEl.addEventListener('scroll', swiper.onScroll);
  } // Resize handler


  if (params.updateOnWindowResize) {
    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', _onResize.default, true);
  } else {
    swiper.on('observerUpdate', _onResize.default, true);
  }
}

function detachEvents() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      touchEvents = swiper.touchEvents,
      el = swiper.el,
      wrapperEl = swiper.wrapperEl,
      device = swiper.device,
      support = swiper.support;
  var capture = !!params.nested; // Touch Events

  if (!support.touch && support.pointerEvents) {
    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);
    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);
  } else {
    if (support.touch) {
      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {
        passive: true,
        capture: false
      } : false;
      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);

      if (touchEvents.cancel) {
        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);
      }
    }

    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {
      el.removeEventListener('mousedown', swiper.onTouchStart, false);
      document.removeEventListener('mousemove', swiper.onTouchMove, capture);
      document.removeEventListener('mouseup', swiper.onTouchEnd, false);
    }
  } // Prevent Links Clicks


  if (params.preventClicks || params.preventClicksPropagation) {
    el.removeEventListener('click', swiper.onClick, true);
  }

  if (params.cssMode) {
    wrapperEl.removeEventListener('scroll', swiper.onScroll);
  } // Resize handler


  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', _onResize.default);
}

var _default = {
  attachEvents: attachEvents,
  detachEvents: detachEvents
};
exports.default = _default;
},{"./onClick":24,"./onResize":25,"./onScroll":26,"./onTouchEnd":27,"./onTouchMove":28,"./onTouchStart":29,"ssr-window":9}],24:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onClick;

function onClick(e) {
  var swiper = this;
  if (!swiper.enabled) return;

  if (!swiper.allowClick) {
    if (swiper.params.preventClicks) e.preventDefault();

    if (swiper.params.preventClicksPropagation && swiper.animating) {
      e.stopPropagation();
      e.stopImmediatePropagation();
    }
  }
}
},{}],25:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onResize;

function onResize() {
  var swiper = this;
  var params = swiper.params,
      el = swiper.el;
  if (el && el.offsetWidth === 0) return; // Breakpoints

  if (params.breakpoints) {
    swiper.setBreakpoint();
  } // Save locks


  var allowSlideNext = swiper.allowSlideNext,
      allowSlidePrev = swiper.allowSlidePrev,
      snapGrid = swiper.snapGrid; // Disable locks on resize

  swiper.allowSlideNext = true;
  swiper.allowSlidePrev = true;
  swiper.updateSize();
  swiper.updateSlides();
  swiper.updateSlidesClasses();

  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {
    swiper.slideTo(swiper.slides.length - 1, 0, false, true);
  } else {
    swiper.slideTo(swiper.activeIndex, 0, false, true);
  }

  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {
    swiper.autoplay.run();
  } // Return locks after resize


  swiper.allowSlidePrev = allowSlidePrev;
  swiper.allowSlideNext = allowSlideNext;

  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {
    swiper.checkOverflow();
  }
}
},{}],26:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onScroll;

function onScroll() {
  var swiper = this;
  var wrapperEl = swiper.wrapperEl,
      rtlTranslate = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return;
  swiper.previousTranslate = swiper.translate;

  if (swiper.isHorizontal()) {
    if (rtlTranslate) {
      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;
    } else {
      swiper.translate = -wrapperEl.scrollLeft;
    }
  } else {
    swiper.translate = -wrapperEl.scrollTop;
  } // eslint-disable-next-line


  if (swiper.translate === -0) swiper.translate = 0;
  swiper.updateActiveIndex();
  swiper.updateSlidesClasses();
  var newProgress;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();

  if (translatesDiff === 0) {
    newProgress = 0;
  } else {
    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;
  }

  if (newProgress !== swiper.progress) {
    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);
  }

  swiper.emit('setTranslate', swiper.translate, false);
}
},{}],27:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchEnd;

var _utils = require("../../../utils/utils");

function onTouchEnd(event) {
  var swiper = this;
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      rtl = swiper.rtlTranslate,
      $wrapperEl = swiper.$wrapperEl,
      slidesGrid = swiper.slidesGrid,
      snapGrid = swiper.snapGrid,
      enabled = swiper.enabled;
  if (!enabled) return;
  var e = event;
  if (e.originalEvent) e = e.originalEvent;

  if (data.allowTouchCallbacks) {
    swiper.emit('touchEnd', e);
  }

  data.allowTouchCallbacks = false;

  if (!data.isTouched) {
    if (data.isMoved && params.grabCursor) {
      swiper.setGrabCursor(false);
    }

    data.isMoved = false;
    data.startMoving = false;
    return;
  } // Return Grab Cursor


  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
    swiper.setGrabCursor(false);
  } // Time diff


  var touchEndTime = (0, _utils.now)();
  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click

  if (swiper.allowClick) {
    swiper.updateClickedSlide(e);
    swiper.emit('tap click', e);

    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {
      swiper.emit('doubleTap doubleClick', e);
    }
  }

  data.lastClickTime = (0, _utils.now)();
  (0, _utils.nextTick)(function () {
    if (!swiper.destroyed) swiper.allowClick = true;
  });

  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {
    data.isTouched = false;
    data.isMoved = false;
    data.startMoving = false;
    return;
  }

  data.isTouched = false;
  data.isMoved = false;
  data.startMoving = false;
  var currentPos;

  if (params.followFinger) {
    currentPos = rtl ? swiper.translate : -swiper.translate;
  } else {
    currentPos = -data.currentTranslate;
  }

  if (params.cssMode) {
    return;
  }

  if (params.freeMode) {
    if (currentPos < -swiper.minTranslate()) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    if (currentPos > -swiper.maxTranslate()) {
      if (swiper.slides.length < snapGrid.length) {
        swiper.slideTo(snapGrid.length - 1);
      } else {
        swiper.slideTo(swiper.slides.length - 1);
      }

      return;
    }

    if (params.freeModeMomentum) {
      if (data.velocities.length > 1) {
        var lastMoveEvent = data.velocities.pop();
        var velocityEvent = data.velocities.pop();
        var distance = lastMoveEvent.position - velocityEvent.position;
        var time = lastMoveEvent.time - velocityEvent.time;
        swiper.velocity = distance / time;
        swiper.velocity /= 2;

        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {
          swiper.velocity = 0;
        } // this implies that the user stopped moving a finger then released.
        // There would be no events with distance zero, so the last event is stale.


        if (time > 150 || (0, _utils.now)() - lastMoveEvent.time > 300) {
          swiper.velocity = 0;
        }
      } else {
        swiper.velocity = 0;
      }

      swiper.velocity *= params.freeModeMomentumVelocityRatio;
      data.velocities.length = 0;
      var momentumDuration = 1000 * params.freeModeMomentumRatio;
      var momentumDistance = swiper.velocity * momentumDuration;
      var newPosition = swiper.translate + momentumDistance;
      if (rtl) newPosition = -newPosition;
      var doBounce = false;
      var afterBouncePosition;
      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;
      var needsLoopFix;

      if (newPosition < swiper.maxTranslate()) {
        if (params.freeModeMomentumBounce) {
          if (newPosition + swiper.maxTranslate() < -bounceAmount) {
            newPosition = swiper.maxTranslate() - bounceAmount;
          }

          afterBouncePosition = swiper.maxTranslate();
          doBounce = true;
          data.allowMomentumBounce = true;
        } else {
          newPosition = swiper.maxTranslate();
        }

        if (params.loop && params.centeredSlides) needsLoopFix = true;
      } else if (newPosition > swiper.minTranslate()) {
        if (params.freeModeMomentumBounce) {
          if (newPosition - swiper.minTranslate() > bounceAmount) {
            newPosition = swiper.minTranslate() + bounceAmount;
          }

          afterBouncePosition = swiper.minTranslate();
          doBounce = true;
          data.allowMomentumBounce = true;
        } else {
          newPosition = swiper.minTranslate();
        }

        if (params.loop && params.centeredSlides) needsLoopFix = true;
      } else if (params.freeModeSticky) {
        var nextSlide;

        for (var j = 0; j < snapGrid.length; j += 1) {
          if (snapGrid[j] > -newPosition) {
            nextSlide = j;
            break;
          }
        }

        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {
          newPosition = snapGrid[nextSlide];
        } else {
          newPosition = snapGrid[nextSlide - 1];
        }

        newPosition = -newPosition;
      }

      if (needsLoopFix) {
        swiper.once('transitionEnd', function () {
          swiper.loopFix();
        });
      } // Fix duration


      if (swiper.velocity !== 0) {
        if (rtl) {
          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);
        } else {
          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);
        }

        if (params.freeModeSticky) {
          // If freeModeSticky is active and the user ends a swipe with a slow-velocity
          // event, then durations can be 20+ seconds to slide one (or zero!) slides.
          // It's easy to see this when simulating touch with mouse events. To fix this,
          // limit single-slide swipes to the default slide duration. This also has the
          // nice side effect of matching slide speed if the user stopped moving before
          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.
          // For faster swipes, also apply limits (albeit higher ones).
          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);
          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];

          if (moveDistance < currentSlideSize) {
            momentumDuration = params.speed;
          } else if (moveDistance < 2 * currentSlideSize) {
            momentumDuration = params.speed * 1.5;
          } else {
            momentumDuration = params.speed * 2.5;
          }
        }
      } else if (params.freeModeSticky) {
        swiper.slideToClosest();
        return;
      }

      if (params.freeModeMomentumBounce && doBounce) {
        swiper.updateProgress(afterBouncePosition);
        swiper.setTransition(momentumDuration);
        swiper.setTranslate(newPosition);
        swiper.transitionStart(true, swiper.swipeDirection);
        swiper.animating = true;
        $wrapperEl.transitionEnd(function () {
          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;
          swiper.emit('momentumBounce');
          swiper.setTransition(params.speed);
          setTimeout(function () {
            swiper.setTranslate(afterBouncePosition);
            $wrapperEl.transitionEnd(function () {
              if (!swiper || swiper.destroyed) return;
              swiper.transitionEnd();
            });
          }, 0);
        });
      } else if (swiper.velocity) {
        swiper.updateProgress(newPosition);
        swiper.setTransition(momentumDuration);
        swiper.setTranslate(newPosition);
        swiper.transitionStart(true, swiper.swipeDirection);

        if (!swiper.animating) {
          swiper.animating = true;
          $wrapperEl.transitionEnd(function () {
            if (!swiper || swiper.destroyed) return;
            swiper.transitionEnd();
          });
        }
      } else {
        swiper.emit('_freeModeNoMomentumRelease');
        swiper.updateProgress(newPosition);
      }

      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    } else if (params.freeModeSticky) {
      swiper.slideToClosest();
      return;
    } else if (params.freeMode) {
      swiper.emit('_freeModeNoMomentumRelease');
    }

    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {
      swiper.updateProgress();
      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    }

    return;
  } // Find current slide


  var stopIndex = 0;
  var groupSize = swiper.slidesSizesGrid[0];

  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {
    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;

    if (typeof slidesGrid[i + _increment] !== 'undefined') {
      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {
        stopIndex = i;
        groupSize = slidesGrid[i + _increment] - slidesGrid[i];
      }
    } else if (currentPos >= slidesGrid[i]) {
      stopIndex = i;
      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];
    }
  } // Find current slide size


  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;
  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;

  if (timeDiff > params.longSwipesMs) {
    // Long touches
    if (!params.longSwipes) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    if (swiper.swipeDirection === 'next') {
      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);
    }

    if (swiper.swipeDirection === 'prev') {
      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);
    }
  } else {
    // Short swipes
    if (!params.shortSwipes) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);

    if (!isNavButtonTarget) {
      if (swiper.swipeDirection === 'next') {
        swiper.slideTo(stopIndex + increment);
      }

      if (swiper.swipeDirection === 'prev') {
        swiper.slideTo(stopIndex);
      }
    } else if (e.target === swiper.navigation.nextEl) {
      swiper.slideTo(stopIndex + increment);
    } else {
      swiper.slideTo(stopIndex);
    }
  }
}
},{"../../../utils/utils":97}],28:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchMove;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function onTouchMove(event) {
  var document = (0, _ssrWindow.getDocument)();
  var swiper = this;
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      rtl = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return;
  var e = event;
  if (e.originalEvent) e = e.originalEvent;

  if (!data.isTouched) {
    if (data.startMoving && data.isScrolling) {
      swiper.emit('touchMoveOpposite', e);
    }

    return;
  }

  if (data.isTouchEvent && e.type !== 'touchmove') return;
  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);
  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;
  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;

  if (e.preventedByNestedSwiper) {
    touches.startX = pageX;
    touches.startY = pageY;
    return;
  }

  if (!swiper.allowTouchMove) {
    // isMoved = true;
    swiper.allowClick = false;

    if (data.isTouched) {
      (0, _utils.extend)(touches, {
        startX: pageX,
        startY: pageY,
        currentX: pageX,
        currentY: pageY
      });
      data.touchStartTime = (0, _utils.now)();
    }

    return;
  }

  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {
    if (swiper.isVertical()) {
      // Vertical
      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {
        data.isTouched = false;
        data.isMoved = false;
        return;
      }
    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {
      return;
    }
  }

  if (data.isTouchEvent && document.activeElement) {
    if (e.target === document.activeElement && (0, _dom.default)(e.target).is(data.focusableElements)) {
      data.isMoved = true;
      swiper.allowClick = false;
      return;
    }
  }

  if (data.allowTouchCallbacks) {
    swiper.emit('touchMove', e);
  }

  if (e.targetTouches && e.targetTouches.length > 1) return;
  touches.currentX = pageX;
  touches.currentY = pageY;
  var diffX = touches.currentX - touches.startX;
  var diffY = touches.currentY - touches.startY;
  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;

  if (typeof data.isScrolling === 'undefined') {
    var touchAngle;

    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {
      data.isScrolling = false;
    } else {
      // eslint-disable-next-line
      if (diffX * diffX + diffY * diffY >= 25) {
        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;
        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;
      }
    }
  }

  if (data.isScrolling) {
    swiper.emit('touchMoveOpposite', e);
  }

  if (typeof data.startMoving === 'undefined') {
    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {
      data.startMoving = true;
    }
  }

  if (data.isScrolling) {
    data.isTouched = false;
    return;
  }

  if (!data.startMoving) {
    return;
  }

  swiper.allowClick = false;

  if (!params.cssMode && e.cancelable) {
    e.preventDefault();
  }

  if (params.touchMoveStopPropagation && !params.nested) {
    e.stopPropagation();
  }

  if (!data.isMoved) {
    if (params.loop) {
      swiper.loopFix();
    }

    data.startTranslate = swiper.getTranslate();
    swiper.setTransition(0);

    if (swiper.animating) {
      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');
    }

    data.allowMomentumBounce = false; // Grab Cursor

    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
      swiper.setGrabCursor(true);
    }

    swiper.emit('sliderFirstMove', e);
  }

  swiper.emit('sliderMove', e);
  data.isMoved = true;
  var diff = swiper.isHorizontal() ? diffX : diffY;
  touches.diff = diff;
  diff *= params.touchRatio;
  if (rtl) diff = -diff;
  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';
  data.currentTranslate = diff + data.startTranslate;
  var disableParentSwiper = true;
  var resistanceRatio = params.resistanceRatio;

  if (params.touchReleaseOnEdges) {
    resistanceRatio = 0;
  }

  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {
    disableParentSwiper = false;
    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);
  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {
    disableParentSwiper = false;
    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);
  }

  if (disableParentSwiper) {
    e.preventedByNestedSwiper = true;
  } // Directions locks


  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {
    data.currentTranslate = data.startTranslate;
  }

  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {
    data.currentTranslate = data.startTranslate;
  }

  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {
    data.currentTranslate = data.startTranslate;
  } // Threshold


  if (params.threshold > 0) {
    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {
      if (!data.allowThresholdMove) {
        data.allowThresholdMove = true;
        touches.startX = touches.currentX;
        touches.startY = touches.currentY;
        data.currentTranslate = data.startTranslate;
        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;
        return;
      }
    } else {
      data.currentTranslate = data.startTranslate;
      return;
    }
  }

  if (!params.followFinger || params.cssMode) return; // Update active index in free mode

  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  }

  if (params.freeMode) {
    // Velocity
    if (data.velocities.length === 0) {
      data.velocities.push({
        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],
        time: data.touchStartTime
      });
    }

    data.velocities.push({
      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],
      time: (0, _utils.now)()
    });
  } // Update progress


  swiper.updateProgress(data.currentTranslate); // Update translate

  swiper.setTranslate(data.currentTranslate);
}
},{"../../../utils/dom":93,"../../../utils/utils":97,"ssr-window":9}],29:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchStart;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd
function closestElement(selector, base) {
  if (base === void 0) {
    base = this;
  }

  function __closestFrom(el) {
    if (!el || el === (0, _ssrWindow.getDocument)() || el === (0, _ssrWindow.getWindow)()) return null;
    if (el.assignedSlot) el = el.assignedSlot;
    var found = el.closest(selector);
    return found || __closestFrom(el.getRootNode().host);
  }

  return __closestFrom(base);
}

function onTouchStart(event) {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var window = (0, _ssrWindow.getWindow)();
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      enabled = swiper.enabled;
  if (!enabled) return;

  if (swiper.animating && params.preventInteractionOnTransition) {
    return;
  }

  var e = event;
  if (e.originalEvent) e = e.originalEvent;
  var $targetEl = (0, _dom.default)(e.target);

  if (params.touchEventsTarget === 'wrapper') {
    if (!$targetEl.closest(swiper.wrapperEl).length) return;
  }

  data.isTouchEvent = e.type === 'touchstart';
  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;
  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;
  if (data.isTouched && data.isMoved) return; // change target el for shadow root component

  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';

  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {
    $targetEl = (0, _dom.default)(event.path[0]);
  }

  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : "." + params.noSwipingClass;
  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element

  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {
    swiper.allowClick = true;
    return;
  }

  if (params.swipeHandler) {
    if (!$targetEl.closest(params.swipeHandler)[0]) return;
  }

  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
  var startX = touches.currentX;
  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore

  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;
  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;

  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {
    if (edgeSwipeDetection === 'prevent') {
      event.preventDefault();
    } else {
      return;
    }
  }

  (0, _utils.extend)(data, {
    isTouched: true,
    isMoved: false,
    allowTouchCallbacks: true,
    isScrolling: undefined,
    startMoving: undefined
  });
  touches.startX = startX;
  touches.startY = startY;
  data.touchStartTime = (0, _utils.now)();
  swiper.allowClick = true;
  swiper.updateSize();
  swiper.swipeDirection = undefined;
  if (params.threshold > 0) data.allowThresholdMove = false;

  if (e.type !== 'touchstart') {
    var preventDefault = true;
    if ($targetEl.is(data.focusableElements)) preventDefault = false;

    if (document.activeElement && (0, _dom.default)(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {
      document.activeElement.blur();
    }

    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;

    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {
      e.preventDefault();
    }
  }

  swiper.emit('touchStart', e);
}
},{"../../../utils/dom":93,"../../../utils/utils":97,"ssr-window":9}],30:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setGrabCursor = _interopRequireDefault(require("./setGrabCursor"));

var _unsetGrabCursor = _interopRequireDefault(require("./unsetGrabCursor"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setGrabCursor: _setGrabCursor.default,
  unsetGrabCursor: _unsetGrabCursor.default
};
exports.default = _default;
},{"./setGrabCursor":31,"./unsetGrabCursor":32}],31:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setGrabCursor;

function setGrabCursor(moving) {
  var swiper = this;
  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;
  var el = swiper.el;
  el.style.cursor = 'move';
  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';
  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';
  el.style.cursor = moving ? 'grabbing' : 'grab';
}
},{}],32:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = unsetGrabCursor;

function unsetGrabCursor() {
  var swiper = this;

  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {
    return;
  }

  swiper.el.style.cursor = '';
}
},{}],33:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _loadImage = _interopRequireDefault(require("./loadImage"));

var _preloadImages = _interopRequireDefault(require("./preloadImages"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  loadImage: _loadImage.default,
  preloadImages: _preloadImages.default
};
exports.default = _default;
},{"./loadImage":34,"./preloadImages":35}],34:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loadImage;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {
  var window = (0, _ssrWindow.getWindow)();
  var image;

  function onReady() {
    if (callback) callback();
  }

  var isPicture = (0, _dom.default)(imageEl).parent('picture')[0];

  if (!isPicture && (!imageEl.complete || !checkForComplete)) {
    if (src) {
      image = new window.Image();
      image.onload = onReady;
      image.onerror = onReady;

      if (sizes) {
        image.sizes = sizes;
      }

      if (srcset) {
        image.srcset = srcset;
      }

      if (src) {
        image.src = src;
      }
    } else {
      onReady();
    }
  } else {
    // image already loaded...
    onReady();
  }
}
},{"../../../utils/dom":93,"ssr-window":9}],35:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = preloadImages;

function preloadImages() {
  var swiper = this;
  swiper.imagesToLoad = swiper.$el.find('img');

  function onReady() {
    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;
    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;

    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {
      if (swiper.params.updateOnImagesReady) swiper.update();
      swiper.emit('imagesReady');
    }
  }

  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {
    var imageEl = swiper.imagesToLoad[i];
    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);
  }
}
},{}],36:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _loopCreate = _interopRequireDefault(require("./loopCreate"));

var _loopFix = _interopRequireDefault(require("./loopFix"));

var _loopDestroy = _interopRequireDefault(require("./loopDestroy"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  loopCreate: _loopCreate.default,
  loopFix: _loopFix.default,
  loopDestroy: _loopDestroy.default
};
exports.default = _default;
},{"./loopCreate":37,"./loopDestroy":38,"./loopFix":39}],37:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopCreate;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function loopCreate() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides

  $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass).remove();
  var slides = $wrapperEl.children("." + params.slideClass);

  if (params.loopFillGroupWithBlank) {
    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;

    if (blankSlidesNum !== params.slidesPerGroup) {
      for (var i = 0; i < blankSlidesNum; i += 1) {
        var blankNode = (0, _dom.default)(document.createElement('div')).addClass(params.slideClass + " " + params.slideBlankClass);
        $wrapperEl.append(blankNode);
      }

      slides = $wrapperEl.children("." + params.slideClass);
    }
  }

  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;
  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));
  swiper.loopedSlides += params.loopAdditionalSlides;

  if (swiper.loopedSlides > slides.length) {
    swiper.loopedSlides = slides.length;
  }

  var prependSlides = [];
  var appendSlides = [];
  slides.each(function (el, index) {
    var slide = (0, _dom.default)(el);

    if (index < swiper.loopedSlides) {
      appendSlides.push(el);
    }

    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {
      prependSlides.push(el);
    }

    slide.attr('data-swiper-slide-index', index);
  });

  for (var _i = 0; _i < appendSlides.length; _i += 1) {
    $wrapperEl.append((0, _dom.default)(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));
  }

  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {
    $wrapperEl.prepend((0, _dom.default)(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));
  }
}
},{"../../../utils/dom":93,"ssr-window":9}],38:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopDestroy;

function loopDestroy() {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params,
      slides = swiper.slides;
  $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + ",." + params.slideClass + "." + params.slideBlankClass).remove();
  slides.removeAttr('data-swiper-slide-index');
}
},{}],39:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopFix;

function loopFix() {
  var swiper = this;
  swiper.emit('beforeLoopFix');
  var activeIndex = swiper.activeIndex,
      slides = swiper.slides,
      loopedSlides = swiper.loopedSlides,
      allowSlidePrev = swiper.allowSlidePrev,
      allowSlideNext = swiper.allowSlideNext,
      snapGrid = swiper.snapGrid,
      rtl = swiper.rtlTranslate;
  var newIndex;
  swiper.allowSlidePrev = true;
  swiper.allowSlideNext = true;
  var snapTranslate = -snapGrid[activeIndex];
  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding

  if (activeIndex < loopedSlides) {
    newIndex = slides.length - loopedSlides * 3 + activeIndex;
    newIndex += loopedSlides;
    var slideChanged = swiper.slideTo(newIndex, 0, false, true);

    if (slideChanged && diff !== 0) {
      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
    }
  } else if (activeIndex >= slides.length - loopedSlides) {
    // Fix For Positive Oversliding
    newIndex = -slides.length + activeIndex + loopedSlides;
    newIndex += loopedSlides;

    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);

    if (_slideChanged && diff !== 0) {
      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
    }
  }

  swiper.allowSlidePrev = allowSlidePrev;
  swiper.allowSlideNext = allowSlideNext;
  swiper.emit('loopFix');
}
},{}],40:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = addSlide;

function addSlide(index, slides) {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params,
      activeIndex = swiper.activeIndex;
  var activeIndexBuffer = activeIndex;

  if (params.loop) {
    activeIndexBuffer -= swiper.loopedSlides;
    swiper.loopDestroy();
    swiper.slides = $wrapperEl.children("." + params.slideClass);
  }

  var baseLength = swiper.slides.length;

  if (index <= 0) {
    swiper.prependSlide(slides);
    return;
  }

  if (index >= baseLength) {
    swiper.appendSlide(slides);
    return;
  }

  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;
  var slidesBuffer = [];

  for (var i = baseLength - 1; i >= index; i -= 1) {
    var currentSlide = swiper.slides.eq(i);
    currentSlide.remove();
    slidesBuffer.unshift(currentSlide);
  }

  if (typeof slides === 'object' && 'length' in slides) {
    for (var _i = 0; _i < slides.length; _i += 1) {
      if (slides[_i]) $wrapperEl.append(slides[_i]);
    }

    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;
  } else {
    $wrapperEl.append(slides);
  }

  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {
    $wrapperEl.append(slidesBuffer[_i2]);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  if (params.loop) {
    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);
  } else {
    swiper.slideTo(newActiveIndex, 0, false);
  }
}
},{}],41:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = appendSlide;

function appendSlide(slides) {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params;

  if (params.loop) {
    swiper.loopDestroy();
  }

  if (typeof slides === 'object' && 'length' in slides) {
    for (var i = 0; i < slides.length; i += 1) {
      if (slides[i]) $wrapperEl.append(slides[i]);
    }
  } else {
    $wrapperEl.append(slides);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }
}
},{}],42:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _appendSlide = _interopRequireDefault(require("./appendSlide"));

var _prependSlide = _interopRequireDefault(require("./prependSlide"));

var _addSlide = _interopRequireDefault(require("./addSlide"));

var _removeSlide = _interopRequireDefault(require("./removeSlide"));

var _removeAllSlides = _interopRequireDefault(require("./removeAllSlides"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  appendSlide: _appendSlide.default,
  prependSlide: _prependSlide.default,
  addSlide: _addSlide.default,
  removeSlide: _removeSlide.default,
  removeAllSlides: _removeAllSlides.default
};
exports.default = _default;
},{"./addSlide":40,"./appendSlide":41,"./prependSlide":43,"./removeAllSlides":44,"./removeSlide":45}],43:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = prependSlide;

function prependSlide(slides) {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex;

  if (params.loop) {
    swiper.loopDestroy();
  }

  var newActiveIndex = activeIndex + 1;

  if (typeof slides === 'object' && 'length' in slides) {
    for (var i = 0; i < slides.length; i += 1) {
      if (slides[i]) $wrapperEl.prepend(slides[i]);
    }

    newActiveIndex = activeIndex + slides.length;
  } else {
    $wrapperEl.prepend(slides);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  swiper.slideTo(newActiveIndex, 0, false);
}
},{}],44:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeAllSlides;

function removeAllSlides() {
  var swiper = this;
  var slidesIndexes = [];

  for (var i = 0; i < swiper.slides.length; i += 1) {
    slidesIndexes.push(i);
  }

  swiper.removeSlide(slidesIndexes);
}
},{}],45:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeSlide;

function removeSlide(slidesIndexes) {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex;
  var activeIndexBuffer = activeIndex;

  if (params.loop) {
    activeIndexBuffer -= swiper.loopedSlides;
    swiper.loopDestroy();
    swiper.slides = $wrapperEl.children("." + params.slideClass);
  }

  var newActiveIndex = activeIndexBuffer;
  var indexToRemove;

  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {
    for (var i = 0; i < slidesIndexes.length; i += 1) {
      indexToRemove = slidesIndexes[i];
      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();
      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;
    }

    newActiveIndex = Math.max(newActiveIndex, 0);
  } else {
    indexToRemove = slidesIndexes;
    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();
    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;
    newActiveIndex = Math.max(newActiveIndex, 0);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  if (params.loop) {
    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);
  } else {
    swiper.slideTo(newActiveIndex, 0, false);
  }
}
},{}],46:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

var _default = {
  useParams: function useParams(instanceParams) {
    var instance = this;
    if (!instance.modules) return;
    Object.keys(instance.modules).forEach(function (moduleName) {
      var module = instance.modules[moduleName]; // Extend params

      if (module.params) {
        (0, _utils.extend)(instanceParams, module.params);
      }
    });
  },
  useModules: function useModules(modulesParams) {
    if (modulesParams === void 0) {
      modulesParams = {};
    }

    var instance = this;
    if (!instance.modules) return;
    Object.keys(instance.modules).forEach(function (moduleName) {
      var module = instance.modules[moduleName];
      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners

      if (module.on && instance.on) {
        Object.keys(module.on).forEach(function (moduleEventName) {
          instance.on(moduleEventName, module.on[moduleEventName]);
        });
      } // Module create callback


      if (module.create) {
        module.create.bind(instance)(moduleParams);
      }
    });
  }
};
exports.default = _default;
},{"../../utils/utils":97}],47:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _slideTo = _interopRequireDefault(require("./slideTo"));

var _slideToLoop = _interopRequireDefault(require("./slideToLoop"));

var _slideNext = _interopRequireDefault(require("./slideNext"));

var _slidePrev = _interopRequireDefault(require("./slidePrev"));

var _slideReset = _interopRequireDefault(require("./slideReset"));

var _slideToClosest = _interopRequireDefault(require("./slideToClosest"));

var _slideToClickedSlide = _interopRequireDefault(require("./slideToClickedSlide"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  slideTo: _slideTo.default,
  slideToLoop: _slideToLoop.default,
  slideNext: _slideNext.default,
  slidePrev: _slidePrev.default,
  slideReset: _slideReset.default,
  slideToClosest: _slideToClosest.default,
  slideToClickedSlide: _slideToClickedSlide.default
};
exports.default = _default;
},{"./slideNext":48,"./slidePrev":49,"./slideReset":50,"./slideTo":51,"./slideToClickedSlide":52,"./slideToClosest":53,"./slideToLoop":54}],48:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideNext;

/* eslint no-unused-vars: "off" */
function slideNext(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var params = swiper.params,
      animating = swiper.animating,
      enabled = swiper.enabled;
  if (!enabled) return swiper;
  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;

  if (params.loop) {
    if (animating && params.loopPreventsSlide) return false;
    swiper.loopFix(); // eslint-disable-next-line

    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
  }

  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);
}
},{}],49:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slidePrev;

/* eslint no-unused-vars: "off" */
function slidePrev(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var params = swiper.params,
      animating = swiper.animating,
      snapGrid = swiper.snapGrid,
      slidesGrid = swiper.slidesGrid,
      rtlTranslate = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return swiper;

  if (params.loop) {
    if (animating && params.loopPreventsSlide) return false;
    swiper.loopFix(); // eslint-disable-next-line

    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
  }

  var translate = rtlTranslate ? swiper.translate : -swiper.translate;

  function normalize(val) {
    if (val < 0) return -Math.floor(Math.abs(val));
    return Math.floor(val);
  }

  var normalizedTranslate = normalize(translate);
  var normalizedSnapGrid = snapGrid.map(function (val) {
    return normalize(val);
  });
  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];

  if (typeof prevSnap === 'undefined' && params.cssMode) {
    snapGrid.forEach(function (snap) {
      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;
    });
  }

  var prevIndex;

  if (typeof prevSnap !== 'undefined') {
    prevIndex = slidesGrid.indexOf(prevSnap);
    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;
  }

  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);
}
},{}],50:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideReset;

/* eslint no-unused-vars: "off" */
function slideReset(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);
}
},{}],51:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideTo;

function slideTo(index, speed, runCallbacks, internal, initial) {
  if (index === void 0) {
    index = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (typeof index !== 'number' && typeof index !== 'string') {
    throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [" + typeof index + "] given.");
  }

  if (typeof index === 'string') {
    /**
     * The `index` argument converted from `string` to `number`.
     * @type {number}
     */
    var indexAsNumber = parseInt(index, 10);
    /**
     * Determines whether the `index` argument is a valid `number`
     * after being converted from the `string` type.
     * @type {boolean}
     */

    var isValidNumber = isFinite(indexAsNumber);

    if (!isValidNumber) {
      throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [" + index + "] given.");
    } // Knowing that the converted `index` is a valid number,
    // we can update the original argument's value.


    index = indexAsNumber;
  }

  var swiper = this;
  var slideIndex = index;
  if (slideIndex < 0) slideIndex = 0;
  var params = swiper.params,
      snapGrid = swiper.snapGrid,
      slidesGrid = swiper.slidesGrid,
      previousIndex = swiper.previousIndex,
      activeIndex = swiper.activeIndex,
      rtl = swiper.rtlTranslate,
      wrapperEl = swiper.wrapperEl,
      enabled = swiper.enabled;

  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {
    return false;
  }

  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);
  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);
  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;

  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {
    swiper.emit('beforeSlideChangeStart');
  }

  var translate = -snapGrid[snapIndex]; // Update progress

  swiper.updateProgress(translate); // Normalize slideIndex

  if (params.normalizeSlideIndex) {
    for (var i = 0; i < slidesGrid.length; i += 1) {
      var normalizedTranslate = -Math.floor(translate * 100);
      var normalizedGird = Math.floor(slidesGrid[i] * 100);
      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);

      if (typeof slidesGrid[i + 1] !== 'undefined') {
        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {
          slideIndex = i;
        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {
          slideIndex = i + 1;
        }
      } else if (normalizedTranslate >= normalizedGird) {
        slideIndex = i;
      }
    }
  } // Directions locks


  if (swiper.initialized && slideIndex !== activeIndex) {
    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {
      return false;
    }

    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {
      if ((activeIndex || 0) !== slideIndex) return false;
    }
  }

  var direction;
  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index

  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {
    swiper.updateActiveIndex(slideIndex); // Update Height

    if (params.autoHeight) {
      swiper.updateAutoHeight();
    }

    swiper.updateSlidesClasses();

    if (params.effect !== 'slide') {
      swiper.setTranslate(translate);
    }

    if (direction !== 'reset') {
      swiper.transitionStart(runCallbacks, direction);
      swiper.transitionEnd(runCallbacks, direction);
    }

    return false;
  }

  if (params.cssMode) {
    var isH = swiper.isHorizontal();
    var t = -translate;

    if (rtl) {
      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;
    }

    if (speed === 0) {
      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;
    } else {
      // eslint-disable-next-line
      if (wrapperEl.scrollTo) {
        var _wrapperEl$scrollTo;

        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));
      } else {
        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;
      }
    }

    return true;
  }

  if (speed === 0) {
    swiper.setTransition(0);
    swiper.setTranslate(translate);
    swiper.updateActiveIndex(slideIndex);
    swiper.updateSlidesClasses();
    swiper.emit('beforeTransitionStart', speed, internal);
    swiper.transitionStart(runCallbacks, direction);
    swiper.transitionEnd(runCallbacks, direction);
  } else {
    swiper.setTransition(speed);
    swiper.setTranslate(translate);
    swiper.updateActiveIndex(slideIndex);
    swiper.updateSlidesClasses();
    swiper.emit('beforeTransitionStart', speed, internal);
    swiper.transitionStart(runCallbacks, direction);

    if (!swiper.animating) {
      swiper.animating = true;

      if (!swiper.onSlideToWrapperTransitionEnd) {
        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {
          if (!swiper || swiper.destroyed) return;
          if (e.target !== this) return;
          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);
          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);
          swiper.onSlideToWrapperTransitionEnd = null;
          delete swiper.onSlideToWrapperTransitionEnd;
          swiper.transitionEnd(runCallbacks, direction);
        };
      }

      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);
      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);
    }
  }

  return true;
}
},{}],52:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToClickedSlide;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function slideToClickedSlide() {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl;
  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;
  var slideToIndex = swiper.clickedIndex;
  var realIndex;

  if (params.loop) {
    if (swiper.animating) return;
    realIndex = parseInt((0, _dom.default)(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);

    if (params.centeredSlides) {
      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {
        swiper.loopFix();
        slideToIndex = $wrapperEl.children("." + params.slideClass + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + params.slideDuplicateClass + ")").eq(0).index();
        (0, _utils.nextTick)(function () {
          swiper.slideTo(slideToIndex);
        });
      } else {
        swiper.slideTo(slideToIndex);
      }
    } else if (slideToIndex > swiper.slides.length - slidesPerView) {
      swiper.loopFix();
      slideToIndex = $wrapperEl.children("." + params.slideClass + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + params.slideDuplicateClass + ")").eq(0).index();
      (0, _utils.nextTick)(function () {
        swiper.slideTo(slideToIndex);
      });
    } else {
      swiper.slideTo(slideToIndex);
    }
  } else {
    swiper.slideTo(slideToIndex);
  }
}
},{"../../../utils/dom":93,"../../../utils/utils":97}],53:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToClosest;

/* eslint no-unused-vars: "off" */
function slideToClosest(speed, runCallbacks, internal, threshold) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (threshold === void 0) {
    threshold = 0.5;
  }

  var swiper = this;
  var index = swiper.activeIndex;
  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);
  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);
  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;

  if (translate >= swiper.snapGrid[snapIndex]) {
    // The current translate is on or after the current snap index, so the choice
    // is between the current index and the one after it.
    var currentSnap = swiper.snapGrid[snapIndex];
    var nextSnap = swiper.snapGrid[snapIndex + 1];

    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {
      index += swiper.params.slidesPerGroup;
    }
  } else {
    // The current translate is before the current snap index, so the choice
    // is between the current index and the one before it.
    var prevSnap = swiper.snapGrid[snapIndex - 1];
    var _currentSnap = swiper.snapGrid[snapIndex];

    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {
      index -= swiper.params.slidesPerGroup;
    }
  }

  index = Math.max(index, 0);
  index = Math.min(index, swiper.slidesGrid.length - 1);
  return swiper.slideTo(index, speed, runCallbacks, internal);
}
},{}],54:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToLoop;

function slideToLoop(index, speed, runCallbacks, internal) {
  if (index === void 0) {
    index = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var newIndex = index;

  if (swiper.params.loop) {
    newIndex += swiper.loopedSlides;
  }

  return swiper.slideTo(newIndex, speed, runCallbacks, internal);
}
},{}],55:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setTransition = _interopRequireDefault(require("./setTransition"));

var _transitionStart = _interopRequireDefault(require("./transitionStart"));

var _transitionEnd = _interopRequireDefault(require("./transitionEnd"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setTransition: _setTransition.default,
  transitionStart: _transitionStart.default,
  transitionEnd: _transitionEnd.default
};
exports.default = _default;
},{"./setTransition":56,"./transitionEnd":57,"./transitionStart":58}],56:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setTransition;

function setTransition(duration, byController) {
  var swiper = this;

  if (!swiper.params.cssMode) {
    swiper.$wrapperEl.transition(duration);
  }

  swiper.emit('setTransition', duration, byController);
}
},{}],57:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = transitionEnd;

function transitionEnd(runCallbacks, direction) {
  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var activeIndex = swiper.activeIndex,
      previousIndex = swiper.previousIndex,
      params = swiper.params;
  swiper.animating = false;
  if (params.cssMode) return;
  swiper.setTransition(0);
  var dir = direction;

  if (!dir) {
    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';
  }

  swiper.emit('transitionEnd');

  if (runCallbacks && activeIndex !== previousIndex) {
    if (dir === 'reset') {
      swiper.emit('slideResetTransitionEnd');
      return;
    }

    swiper.emit('slideChangeTransitionEnd');

    if (dir === 'next') {
      swiper.emit('slideNextTransitionEnd');
    } else {
      swiper.emit('slidePrevTransitionEnd');
    }
  }
}
},{}],58:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = transitionStart;

function transitionStart(runCallbacks, direction) {
  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var activeIndex = swiper.activeIndex,
      params = swiper.params,
      previousIndex = swiper.previousIndex;
  if (params.cssMode) return;

  if (params.autoHeight) {
    swiper.updateAutoHeight();
  }

  var dir = direction;

  if (!dir) {
    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';
  }

  swiper.emit('transitionStart');

  if (runCallbacks && activeIndex !== previousIndex) {
    if (dir === 'reset') {
      swiper.emit('slideResetTransitionStart');
      return;
    }

    swiper.emit('slideChangeTransitionStart');

    if (dir === 'next') {
      swiper.emit('slideNextTransitionStart');
    } else {
      swiper.emit('slidePrevTransitionStart');
    }
  }
}
},{}],59:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = getSwiperTranslate;

var _utils = require("../../../utils/utils");

function getSwiperTranslate(axis) {
  if (axis === void 0) {
    axis = this.isHorizontal() ? 'x' : 'y';
  }

  var swiper = this;
  var params = swiper.params,
      rtl = swiper.rtlTranslate,
      translate = swiper.translate,
      $wrapperEl = swiper.$wrapperEl;

  if (params.virtualTranslate) {
    return rtl ? -translate : translate;
  }

  if (params.cssMode) {
    return translate;
  }

  var currentTranslate = (0, _utils.getTranslate)($wrapperEl[0], axis);
  if (rtl) currentTranslate = -currentTranslate;
  return currentTranslate || 0;
}
},{"../../../utils/utils":97}],60:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _getTranslate = _interopRequireDefault(require("./getTranslate"));

var _setTranslate = _interopRequireDefault(require("./setTranslate"));

var _minTranslate = _interopRequireDefault(require("./minTranslate"));

var _maxTranslate = _interopRequireDefault(require("./maxTranslate"));

var _translateTo = _interopRequireDefault(require("./translateTo"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  getTranslate: _getTranslate.default,
  setTranslate: _setTranslate.default,
  minTranslate: _minTranslate.default,
  maxTranslate: _maxTranslate.default,
  translateTo: _translateTo.default
};
exports.default = _default;
},{"./getTranslate":59,"./maxTranslate":61,"./minTranslate":62,"./setTranslate":63,"./translateTo":64}],61:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = maxTranslate;

function maxTranslate() {
  return -this.snapGrid[this.snapGrid.length - 1];
}
},{}],62:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = minTranslate;

function minTranslate() {
  return -this.snapGrid[0];
}
},{}],63:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setTranslate;

function setTranslate(translate, byController) {
  var swiper = this;
  var rtl = swiper.rtlTranslate,
      params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      wrapperEl = swiper.wrapperEl,
      progress = swiper.progress;
  var x = 0;
  var y = 0;
  var z = 0;

  if (swiper.isHorizontal()) {
    x = rtl ? -translate : translate;
  } else {
    y = translate;
  }

  if (params.roundLengths) {
    x = Math.floor(x);
    y = Math.floor(y);
  }

  if (params.cssMode) {
    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;
  } else if (!params.virtualTranslate) {
    $wrapperEl.transform("translate3d(" + x + "px, " + y + "px, " + z + "px)");
  }

  swiper.previousTranslate = swiper.translate;
  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress

  var newProgress;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();

  if (translatesDiff === 0) {
    newProgress = 0;
  } else {
    newProgress = (translate - swiper.minTranslate()) / translatesDiff;
  }

  if (newProgress !== progress) {
    swiper.updateProgress(translate);
  }

  swiper.emit('setTranslate', swiper.translate, byController);
}
},{}],64:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = translateTo;

function translateTo(translate, speed, runCallbacks, translateBounds, internal) {
  if (translate === void 0) {
    translate = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (translateBounds === void 0) {
    translateBounds = true;
  }

  var swiper = this;
  var params = swiper.params,
      wrapperEl = swiper.wrapperEl;

  if (swiper.animating && params.preventInteractionOnTransition) {
    return false;
  }

  var minTranslate = swiper.minTranslate();
  var maxTranslate = swiper.maxTranslate();
  var newTranslate;
  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress

  swiper.updateProgress(newTranslate);

  if (params.cssMode) {
    var isH = swiper.isHorizontal();

    if (speed === 0) {
      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;
    } else {
      // eslint-disable-next-line
      if (wrapperEl.scrollTo) {
        var _wrapperEl$scrollTo;

        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));
      } else {
        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;
      }
    }

    return true;
  }

  if (speed === 0) {
    swiper.setTransition(0);
    swiper.setTranslate(newTranslate);

    if (runCallbacks) {
      swiper.emit('beforeTransitionStart', speed, internal);
      swiper.emit('transitionEnd');
    }
  } else {
    swiper.setTransition(speed);
    swiper.setTranslate(newTranslate);

    if (runCallbacks) {
      swiper.emit('beforeTransitionStart', speed, internal);
      swiper.emit('transitionStart');
    }

    if (!swiper.animating) {
      swiper.animating = true;

      if (!swiper.onTranslateToWrapperTransitionEnd) {
        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {
          if (!swiper || swiper.destroyed) return;
          if (e.target !== this) return;
          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);
          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);
          swiper.onTranslateToWrapperTransitionEnd = null;
          delete swiper.onTranslateToWrapperTransitionEnd;

          if (runCallbacks) {
            swiper.emit('transitionEnd');
          }
        };
      }

      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);
      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);
    }
  }

  return true;
}
},{}],65:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _updateSize = _interopRequireDefault(require("./updateSize"));

var _updateSlides = _interopRequireDefault(require("./updateSlides"));

var _updateAutoHeight = _interopRequireDefault(require("./updateAutoHeight"));

var _updateSlidesOffset = _interopRequireDefault(require("./updateSlidesOffset"));

var _updateSlidesProgress = _interopRequireDefault(require("./updateSlidesProgress"));

var _updateProgress = _interopRequireDefault(require("./updateProgress"));

var _updateSlidesClasses = _interopRequireDefault(require("./updateSlidesClasses"));

var _updateActiveIndex = _interopRequireDefault(require("./updateActiveIndex"));

var _updateClickedSlide = _interopRequireDefault(require("./updateClickedSlide"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  updateSize: _updateSize.default,
  updateSlides: _updateSlides.default,
  updateAutoHeight: _updateAutoHeight.default,
  updateSlidesOffset: _updateSlidesOffset.default,
  updateSlidesProgress: _updateSlidesProgress.default,
  updateProgress: _updateProgress.default,
  updateSlidesClasses: _updateSlidesClasses.default,
  updateActiveIndex: _updateActiveIndex.default,
  updateClickedSlide: _updateClickedSlide.default
};
exports.default = _default;
},{"./updateActiveIndex":66,"./updateAutoHeight":67,"./updateClickedSlide":68,"./updateProgress":69,"./updateSize":70,"./updateSlides":71,"./updateSlidesClasses":72,"./updateSlidesOffset":73,"./updateSlidesProgress":74}],66:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateActiveIndex;

var _utils = require("../../../utils/utils");

function updateActiveIndex(newActiveIndex) {
  var swiper = this;
  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;
  var slidesGrid = swiper.slidesGrid,
      snapGrid = swiper.snapGrid,
      params = swiper.params,
      previousIndex = swiper.activeIndex,
      previousRealIndex = swiper.realIndex,
      previousSnapIndex = swiper.snapIndex;
  var activeIndex = newActiveIndex;
  var snapIndex;

  if (typeof activeIndex === 'undefined') {
    for (var i = 0; i < slidesGrid.length; i += 1) {
      if (typeof slidesGrid[i + 1] !== 'undefined') {
        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {
          activeIndex = i;
        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {
          activeIndex = i + 1;
        }
      } else if (translate >= slidesGrid[i]) {
        activeIndex = i;
      }
    } // Normalize slideIndex


    if (params.normalizeSlideIndex) {
      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;
    }
  }

  if (snapGrid.indexOf(translate) >= 0) {
    snapIndex = snapGrid.indexOf(translate);
  } else {
    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);
    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);
  }

  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;

  if (activeIndex === previousIndex) {
    if (snapIndex !== previousSnapIndex) {
      swiper.snapIndex = snapIndex;
      swiper.emit('snapIndexChange');
    }

    return;
  } // Get real index


  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);
  (0, _utils.extend)(swiper, {
    snapIndex: snapIndex,
    realIndex: realIndex,
    previousIndex: previousIndex,
    activeIndex: activeIndex
  });
  swiper.emit('activeIndexChange');
  swiper.emit('snapIndexChange');

  if (previousRealIndex !== realIndex) {
    swiper.emit('realIndexChange');
  }

  if (swiper.initialized || swiper.params.runCallbacksOnInit) {
    swiper.emit('slideChange');
  }
}
},{"../../../utils/utils":97}],67:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateAutoHeight;

function updateAutoHeight(speed) {
  var swiper = this;
  var activeSlides = [];
  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
  var newHeight = 0;
  var i;

  if (typeof speed === 'number') {
    swiper.setTransition(speed);
  } else if (speed === true) {
    swiper.setTransition(swiper.params.speed);
  }

  var getSlideByIndex = function getSlideByIndex(index) {
    if (isVirtual) {
      return swiper.slides.filter(function (el) {
        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;
      })[0];
    }

    return swiper.slides.eq(index)[0];
  }; // Find slides currently in view


  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {
    if (swiper.params.centeredSlides) {
      swiper.visibleSlides.each(function (slide) {
        activeSlides.push(slide);
      });
    } else {
      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {
        var index = swiper.activeIndex + i;
        if (index > swiper.slides.length && !isVirtual) break;
        activeSlides.push(getSlideByIndex(index));
      }
    }
  } else {
    activeSlides.push(getSlideByIndex(swiper.activeIndex));
  } // Find new height from highest slide in view


  for (i = 0; i < activeSlides.length; i += 1) {
    if (typeof activeSlides[i] !== 'undefined') {
      var height = activeSlides[i].offsetHeight;
      newHeight = height > newHeight ? height : newHeight;
    }
  } // Update Height


  if (newHeight) swiper.$wrapperEl.css('height', newHeight + "px");
}
},{}],68:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateClickedSlide;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateClickedSlide(e) {
  var swiper = this;
  var params = swiper.params;
  var slide = (0, _dom.default)(e.target).closest("." + params.slideClass)[0];
  var slideFound = false;
  var slideIndex;

  if (slide) {
    for (var i = 0; i < swiper.slides.length; i += 1) {
      if (swiper.slides[i] === slide) {
        slideFound = true;
        slideIndex = i;
        break;
      }
    }
  }

  if (slide && slideFound) {
    swiper.clickedSlide = slide;

    if (swiper.virtual && swiper.params.virtual.enabled) {
      swiper.clickedIndex = parseInt((0, _dom.default)(slide).attr('data-swiper-slide-index'), 10);
    } else {
      swiper.clickedIndex = slideIndex;
    }
  } else {
    swiper.clickedSlide = undefined;
    swiper.clickedIndex = undefined;
    return;
  }

  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {
    swiper.slideToClickedSlide();
  }
}
},{"../../../utils/dom":93}],69:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateProgress;

var _utils = require("../../../utils/utils");

function updateProgress(translate) {
  var swiper = this;

  if (typeof translate === 'undefined') {
    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line

    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;
  }

  var params = swiper.params;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
  var progress = swiper.progress,
      isBeginning = swiper.isBeginning,
      isEnd = swiper.isEnd;
  var wasBeginning = isBeginning;
  var wasEnd = isEnd;

  if (translatesDiff === 0) {
    progress = 0;
    isBeginning = true;
    isEnd = true;
  } else {
    progress = (translate - swiper.minTranslate()) / translatesDiff;
    isBeginning = progress <= 0;
    isEnd = progress >= 1;
  }

  (0, _utils.extend)(swiper, {
    progress: progress,
    isBeginning: isBeginning,
    isEnd: isEnd
  });
  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);

  if (isBeginning && !wasBeginning) {
    swiper.emit('reachBeginning toEdge');
  }

  if (isEnd && !wasEnd) {
    swiper.emit('reachEnd toEdge');
  }

  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {
    swiper.emit('fromEdge');
  }

  swiper.emit('progress', progress);
}
},{"../../../utils/utils":97}],70:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSize;

var _utils = require("../../../utils/utils");

function updateSize() {
  var swiper = this;
  var width;
  var height;
  var $el = swiper.$el;

  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {
    width = swiper.params.width;
  } else {
    width = $el[0].clientWidth;
  }

  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {
    height = swiper.params.height;
  } else {
    height = $el[0].clientHeight;
  }

  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {
    return;
  } // Subtract paddings


  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);
  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);
  if (Number.isNaN(width)) width = 0;
  if (Number.isNaN(height)) height = 0;
  (0, _utils.extend)(swiper, {
    width: width,
    height: height,
    size: swiper.isHorizontal() ? width : height
  });
}
},{"../../../utils/utils":97}],71:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlides;

var _utils = require("../../../utils/utils");

function updateSlides() {
  var swiper = this;

  function getDirectionLabel(property) {
    if (swiper.isHorizontal()) {
      return property;
    } // prettier-ignore


    return {
      'width': 'height',
      'margin-top': 'margin-left',
      'margin-bottom ': 'margin-right',
      'margin-left': 'margin-top',
      'margin-right': 'margin-bottom',
      'padding-left': 'padding-top',
      'padding-right': 'padding-bottom',
      'marginRight': 'marginBottom'
    }[property];
  }

  function getDirectionPropertyValue(node, label) {
    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);
  }

  var params = swiper.params;
  var $wrapperEl = swiper.$wrapperEl,
      swiperSize = swiper.size,
      rtl = swiper.rtlTranslate,
      wrongRTL = swiper.wrongRTL;
  var isVirtual = swiper.virtual && params.virtual.enabled;
  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;
  var slides = $wrapperEl.children("." + swiper.params.slideClass);
  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;
  var snapGrid = [];
  var slidesGrid = [];
  var slidesSizesGrid = [];
  var offsetBefore = params.slidesOffsetBefore;

  if (typeof offsetBefore === 'function') {
    offsetBefore = params.slidesOffsetBefore.call(swiper);
  }

  var offsetAfter = params.slidesOffsetAfter;

  if (typeof offsetAfter === 'function') {
    offsetAfter = params.slidesOffsetAfter.call(swiper);
  }

  var previousSnapGridLength = swiper.snapGrid.length;
  var previousSlidesGridLength = swiper.slidesGrid.length;
  var spaceBetween = params.spaceBetween;
  var slidePosition = -offsetBefore;
  var prevSlideSize = 0;
  var index = 0;

  if (typeof swiperSize === 'undefined') {
    return;
  }

  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {
    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;
  }

  swiper.virtualSize = -spaceBetween; // reset margins

  if (rtl) slides.css({
    marginLeft: '',
    marginBottom: '',
    marginTop: ''
  });else slides.css({
    marginRight: '',
    marginBottom: '',
    marginTop: ''
  });
  var slidesNumberEvenToRows;

  if (params.slidesPerColumn > 1) {
    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {
      slidesNumberEvenToRows = slidesLength;
    } else {
      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;
    }

    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {
      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);
    }
  } // Calc slides


  var slideSize;
  var slidesPerColumn = params.slidesPerColumn;
  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;
  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);

  for (var i = 0; i < slidesLength; i += 1) {
    slideSize = 0;
    var slide = slides.eq(i);

    if (params.slidesPerColumn > 1) {
      // Set slides order
      var newSlideOrderIndex = void 0;
      var column = void 0;
      var row = void 0;

      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {
        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));
        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;
        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);
        row = Math.floor(slideIndexInGroup / columnsInGroup);
        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;
        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;
        slide.css({
          '-webkit-box-ordinal-group': newSlideOrderIndex,
          '-moz-box-ordinal-group': newSlideOrderIndex,
          '-ms-flex-order': newSlideOrderIndex,
          '-webkit-order': newSlideOrderIndex,
          order: newSlideOrderIndex
        });
      } else if (params.slidesPerColumnFill === 'column') {
        column = Math.floor(i / slidesPerColumn);
        row = i - column * slidesPerColumn;

        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {
          row += 1;

          if (row >= slidesPerColumn) {
            row = 0;
            column += 1;
          }
        }
      } else {
        row = Math.floor(i / slidesPerRow);
        column = i - row * slidesPerRow;
      }

      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + "px" : '');
    }

    if (slide.css('display') === 'none') continue; // eslint-disable-line

    if (params.slidesPerView === 'auto') {
      var slideStyles = getComputedStyle(slide[0]);
      var currentTransform = slide[0].style.transform;
      var currentWebKitTransform = slide[0].style.webkitTransform;

      if (currentTransform) {
        slide[0].style.transform = 'none';
      }

      if (currentWebKitTransform) {
        slide[0].style.webkitTransform = 'none';
      }

      if (params.roundLengths) {
        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);
      } else {
        // eslint-disable-next-line
        var width = getDirectionPropertyValue(slideStyles, 'width');
        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');
        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');
        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');
        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');
        var boxSizing = slideStyles.getPropertyValue('box-sizing');

        if (boxSizing && boxSizing === 'border-box') {
          slideSize = width + marginLeft + marginRight;
        } else {
          var _slide$ = slide[0],
              clientWidth = _slide$.clientWidth,
              offsetWidth = _slide$.offsetWidth;
          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);
        }
      }

      if (currentTransform) {
        slide[0].style.transform = currentTransform;
      }

      if (currentWebKitTransform) {
        slide[0].style.webkitTransform = currentWebKitTransform;
      }

      if (params.roundLengths) slideSize = Math.floor(slideSize);
    } else {
      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;
      if (params.roundLengths) slideSize = Math.floor(slideSize);

      if (slides[i]) {
        slides[i].style[getDirectionLabel('width')] = slideSize + "px";
      }
    }

    if (slides[i]) {
      slides[i].swiperSlideSize = slideSize;
    }

    slidesSizesGrid.push(slideSize);

    if (params.centeredSlides) {
      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;
      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;
      if (params.roundLengths) slidePosition = Math.floor(slidePosition);
      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);
      slidesGrid.push(slidePosition);
    } else {
      if (params.roundLengths) slidePosition = Math.floor(slidePosition);
      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);
      slidesGrid.push(slidePosition);
      slidePosition = slidePosition + slideSize + spaceBetween;
    }

    swiper.virtualSize += slideSize + spaceBetween;
    prevSlideSize = slideSize;
    index += 1;
  }

  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;
  var newSlidesGrid;

  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {
    $wrapperEl.css({
      width: swiper.virtualSize + params.spaceBetween + "px"
    });
  }

  if (params.setWrapperSize) {
    var _$wrapperEl$css;

    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + "px", _$wrapperEl$css));
  }

  if (params.slidesPerColumn > 1) {
    var _$wrapperEl$css2;

    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;
    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;
    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + "px", _$wrapperEl$css2));

    if (params.centeredSlides) {
      newSlidesGrid = [];

      for (var _i = 0; _i < snapGrid.length; _i += 1) {
        var slidesGridItem = snapGrid[_i];
        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);
        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);
      }

      snapGrid = newSlidesGrid;
    }
  } // Remove last grid elements depending on width


  if (!params.centeredSlides) {
    newSlidesGrid = [];

    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {
      var _slidesGridItem = snapGrid[_i2];
      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);

      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {
        newSlidesGrid.push(_slidesGridItem);
      }
    }

    snapGrid = newSlidesGrid;

    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {
      snapGrid.push(swiper.virtualSize - swiperSize);
    }
  }

  if (snapGrid.length === 0) snapGrid = [0];

  if (params.spaceBetween !== 0) {
    var _slides$filter$css;

    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');
    slides.filter(function (_, slideIndex) {
      if (!params.cssMode) return true;

      if (slideIndex === slides.length - 1) {
        return false;
      }

      return true;
    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + "px", _slides$filter$css));
  }

  if (params.centeredSlides && params.centeredSlidesBounds) {
    var allSlidesSize = 0;
    slidesSizesGrid.forEach(function (slideSizeValue) {
      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
    });
    allSlidesSize -= params.spaceBetween;
    var maxSnap = allSlidesSize - swiperSize;
    snapGrid = snapGrid.map(function (snap) {
      if (snap < 0) return -offsetBefore;
      if (snap > maxSnap) return maxSnap + offsetAfter;
      return snap;
    });
  }

  if (params.centerInsufficientSlides) {
    var _allSlidesSize = 0;
    slidesSizesGrid.forEach(function (slideSizeValue) {
      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
    });
    _allSlidesSize -= params.spaceBetween;

    if (_allSlidesSize < swiperSize) {
      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;
      snapGrid.forEach(function (snap, snapIndex) {
        snapGrid[snapIndex] = snap - allSlidesOffset;
      });
      slidesGrid.forEach(function (snap, snapIndex) {
        slidesGrid[snapIndex] = snap + allSlidesOffset;
      });
    }
  }

  (0, _utils.extend)(swiper, {
    slides: slides,
    snapGrid: snapGrid,
    slidesGrid: slidesGrid,
    slidesSizesGrid: slidesSizesGrid
  });

  if (slidesLength !== previousSlidesLength) {
    swiper.emit('slidesLengthChange');
  }

  if (snapGrid.length !== previousSnapGridLength) {
    if (swiper.params.watchOverflow) swiper.checkOverflow();
    swiper.emit('snapGridLengthChange');
  }

  if (slidesGrid.length !== previousSlidesGridLength) {
    swiper.emit('slidesGridLengthChange');
  }

  if (params.watchSlidesProgress || params.watchSlidesVisibility) {
    swiper.updateSlidesOffset();
  }
}
},{"../../../utils/utils":97}],72:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesClasses;

function updateSlidesClasses() {
  var swiper = this;
  var slides = swiper.slides,
      params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex,
      realIndex = swiper.realIndex;
  var isVirtual = swiper.virtual && params.virtual.enabled;
  slides.removeClass(params.slideActiveClass + " " + params.slideNextClass + " " + params.slidePrevClass + " " + params.slideDuplicateActiveClass + " " + params.slideDuplicateNextClass + " " + params.slideDuplicatePrevClass);
  var activeSlide;

  if (isVirtual) {
    activeSlide = swiper.$wrapperEl.find("." + params.slideClass + "[data-swiper-slide-index=\"" + activeIndex + "\"]");
  } else {
    activeSlide = slides.eq(activeIndex);
  } // Active classes


  activeSlide.addClass(params.slideActiveClass);

  if (params.loop) {
    // Duplicate to all looped slides
    if (activeSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + realIndex + "\"]").addClass(params.slideDuplicateActiveClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + realIndex + "\"]").addClass(params.slideDuplicateActiveClass);
    }
  } // Next Slide


  var nextSlide = activeSlide.nextAll("." + params.slideClass).eq(0).addClass(params.slideNextClass);

  if (params.loop && nextSlide.length === 0) {
    nextSlide = slides.eq(0);
    nextSlide.addClass(params.slideNextClass);
  } // Prev Slide


  var prevSlide = activeSlide.prevAll("." + params.slideClass).eq(0).addClass(params.slidePrevClass);

  if (params.loop && prevSlide.length === 0) {
    prevSlide = slides.eq(-1);
    prevSlide.addClass(params.slidePrevClass);
  }

  if (params.loop) {
    // Duplicate to all looped slides
    if (nextSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + nextSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicateNextClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + nextSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicateNextClass);
    }

    if (prevSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + prevSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicatePrevClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + prevSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicatePrevClass);
    }
  }

  swiper.emitSlidesClasses();
}
},{}],73:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesOffset;

function updateSlidesOffset() {
  var swiper = this;
  var slides = swiper.slides;

  for (var i = 0; i < slides.length; i += 1) {
    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;
  }
}
},{}],74:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesProgress;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateSlidesProgress(translate) {
  if (translate === void 0) {
    translate = this && this.translate || 0;
  }

  var swiper = this;
  var params = swiper.params;
  var slides = swiper.slides,
      rtl = swiper.rtlTranslate;
  if (slides.length === 0) return;
  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();
  var offsetCenter = -translate;
  if (rtl) offsetCenter = translate; // Visible Slides

  slides.removeClass(params.slideVisibleClass);
  swiper.visibleSlidesIndexes = [];
  swiper.visibleSlides = [];

  for (var i = 0; i < slides.length; i += 1) {
    var slide = slides[i];
    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);

    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {
      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);
      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];
      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;

      if (isVisible) {
        swiper.visibleSlides.push(slide);
        swiper.visibleSlidesIndexes.push(i);
        slides.eq(i).addClass(params.slideVisibleClass);
      }
    }

    slide.progress = rtl ? -slideProgress : slideProgress;
  }

  swiper.visibleSlides = (0, _dom.default)(swiper.visibleSlides);
}
},{"../../../utils/dom":93}],75:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Coverflow = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var swiperWidth = swiper.width,
        swiperHeight = swiper.height,
        slides = swiper.slides,
        slidesSizesGrid = swiper.slidesSizesGrid;
    var params = swiper.params.coverflowEffect;
    var isHorizontal = swiper.isHorizontal();
    var transform = swiper.translate;
    var center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;
    var rotate = isHorizontal ? params.rotate : -params.rotate;
    var translate = params.depth; // Each slide offset from center

    for (var i = 0, length = slides.length; i < length; i += 1) {
      var $slideEl = slides.eq(i);
      var slideSize = slidesSizesGrid[i];
      var slideOffset = $slideEl[0].swiperSlideOffset;
      var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;
      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;
      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0

      var translateZ = -translate * Math.abs(offsetMultiplier);
      var stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders

      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {
        stretch = parseFloat(params.stretch) / 100 * slideSize;
      }

      var translateY = isHorizontal ? 0 : stretch * offsetMultiplier;
      var translateX = isHorizontal ? stretch * offsetMultiplier : 0;
      var scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values

      if (Math.abs(translateX) < 0.001) translateX = 0;
      if (Math.abs(translateY) < 0.001) translateY = 0;
      if (Math.abs(translateZ) < 0.001) translateZ = 0;
      if (Math.abs(rotateY) < 0.001) rotateY = 0;
      if (Math.abs(rotateX) < 0.001) rotateX = 0;
      if (Math.abs(scale) < 0.001) scale = 0;
      var slideTransform = "translate3d(" + translateX + "px," + translateY + "px," + translateZ + "px)  rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg) scale(" + scale + ")";
      $slideEl.transform(slideTransform);
      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;

      if (params.slideShadows) {
        // Set shadows
        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if ($shadowBeforeEl.length === 0) {
          $shadowBeforeEl = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>");
          $slideEl.append($shadowBeforeEl);
        }

        if ($shadowAfterEl.length === 0) {
          $shadowAfterEl = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append($shadowAfterEl);
        }

        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;
        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;
      }
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
  }
};
var _default = {
  name: 'effect-coverflow',
  params: {
    coverflowEffect: {
      rotate: 50,
      stretch: 0,
      depth: 100,
      scale: 1,
      modifier: 1,
      slideShadows: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      coverflowEffect: _extends({}, Coverflow)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "coverflow");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      swiper.params.watchSlidesProgress = true;
      swiper.originalParams.watchSlidesProgress = true;
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.coverflowEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.coverflowEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],76:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Cube = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var $el = swiper.$el,
        $wrapperEl = swiper.$wrapperEl,
        slides = swiper.slides,
        swiperWidth = swiper.width,
        swiperHeight = swiper.height,
        rtl = swiper.rtlTranslate,
        swiperSize = swiper.size,
        browser = swiper.browser;
    var params = swiper.params.cubeEffect;
    var isHorizontal = swiper.isHorizontal();
    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
    var wrapperRotate = 0;
    var $cubeShadowEl;

    if (params.shadow) {
      if (isHorizontal) {
        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');

        if ($cubeShadowEl.length === 0) {
          $cubeShadowEl = (0, _dom.default)('<div class="swiper-cube-shadow"></div>');
          $wrapperEl.append($cubeShadowEl);
        }

        $cubeShadowEl.css({
          height: swiperWidth + "px"
        });
      } else {
        $cubeShadowEl = $el.find('.swiper-cube-shadow');

        if ($cubeShadowEl.length === 0) {
          $cubeShadowEl = (0, _dom.default)('<div class="swiper-cube-shadow"></div>');
          $el.append($cubeShadowEl);
        }
      }
    }

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = slides.eq(i);
      var slideIndex = i;

      if (isVirtual) {
        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);
      }

      var slideAngle = slideIndex * 90;
      var round = Math.floor(slideAngle / 360);

      if (rtl) {
        slideAngle = -slideAngle;
        round = Math.floor(-slideAngle / 360);
      }

      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
      var tx = 0;
      var ty = 0;
      var tz = 0;

      if (slideIndex % 4 === 0) {
        tx = -round * 4 * swiperSize;
        tz = 0;
      } else if ((slideIndex - 1) % 4 === 0) {
        tx = 0;
        tz = -round * 4 * swiperSize;
      } else if ((slideIndex - 2) % 4 === 0) {
        tx = swiperSize + round * 4 * swiperSize;
        tz = swiperSize;
      } else if ((slideIndex - 3) % 4 === 0) {
        tx = -swiperSize;
        tz = 3 * swiperSize + swiperSize * 4 * round;
      }

      if (rtl) {
        tx = -tx;
      }

      if (!isHorizontal) {
        ty = tx;
        tx = 0;
      }

      var transform = "rotateX(" + (isHorizontal ? 0 : -slideAngle) + "deg) rotateY(" + (isHorizontal ? slideAngle : 0) + "deg) translate3d(" + tx + "px, " + ty + "px, " + tz + "px)";

      if (progress <= 1 && progress > -1) {
        wrapperRotate = slideIndex * 90 + progress * 90;
        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;
      }

      $slideEl.transform(transform);

      if (params.slideShadows) {
        // Set shadows
        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if (shadowBefore.length === 0) {
          shadowBefore = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>");
          $slideEl.append(shadowBefore);
        }

        if (shadowAfter.length === 0) {
          shadowAfter = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append(shadowAfter);
        }

        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);
        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);
      }
    }

    $wrapperEl.css({
      '-webkit-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      '-moz-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      '-ms-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      'transform-origin': "50% 50% -" + swiperSize / 2 + "px"
    });

    if (params.shadow) {
      if (isHorizontal) {
        $cubeShadowEl.transform("translate3d(0px, " + (swiperWidth / 2 + params.shadowOffset) + "px, " + -swiperWidth / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + params.shadowScale + ")");
      } else {
        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;
        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);
        var scale1 = params.shadowScale;
        var scale2 = params.shadowScale / multiplier;
        var offset = params.shadowOffset;
        $cubeShadowEl.transform("scale3d(" + scale1 + ", 1, " + scale2 + ") translate3d(0px, " + (swiperHeight / 2 + offset) + "px, " + -swiperHeight / 2 / scale2 + "px) rotateX(-90deg)");
      }
    }

    var zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;
    $wrapperEl.transform("translate3d(0px,0," + zFactor + "px) rotateX(" + (swiper.isHorizontal() ? 0 : wrapperRotate) + "deg) rotateY(" + (swiper.isHorizontal() ? -wrapperRotate : 0) + "deg)");
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var $el = swiper.$el,
        slides = swiper.slides;
    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);

    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {
      $el.find('.swiper-cube-shadow').transition(duration);
    }
  }
};
var _default = {
  name: 'effect-cube',
  params: {
    cubeEffect: {
      slideShadows: true,
      shadow: true,
      shadowOffset: 20,
      shadowScale: 0.94
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      cubeEffect: _extends({}, Cube)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'cube') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "cube");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        resistanceRatio: 0,
        spaceBetween: 0,
        centeredSlides: false,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'cube') return;
      swiper.cubeEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'cube') return;
      swiper.cubeEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],77:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Fade = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var slides = swiper.slides;

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = swiper.slides.eq(i);
      var offset = $slideEl[0].swiperSlideOffset;
      var tx = -offset;
      if (!swiper.params.virtualTranslate) tx -= swiper.translate;
      var ty = 0;

      if (!swiper.isHorizontal()) {
        ty = tx;
        tx = 0;
      }

      var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);
      $slideEl.css({
        opacity: slideOpacity
      }).transform("translate3d(" + tx + "px, " + ty + "px, 0px)");
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var slides = swiper.slides,
        $wrapperEl = swiper.$wrapperEl;
    slides.transition(duration);

    if (swiper.params.virtualTranslate && duration !== 0) {
      var eventTriggered = false;
      slides.transitionEnd(function () {
        if (eventTriggered) return;
        if (!swiper || swiper.destroyed) return;
        eventTriggered = true;
        swiper.animating = false;
        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];

        for (var i = 0; i < triggerEvents.length; i += 1) {
          $wrapperEl.trigger(triggerEvents[i]);
        }
      });
    }
  }
};
var _default = {
  name: 'effect-fade',
  params: {
    fadeEffect: {
      crossFade: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      fadeEffect: _extends({}, Fade)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'fade') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "fade");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        spaceBetween: 0,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'fade') return;
      swiper.fadeEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'fade') return;
      swiper.fadeEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97}],78:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Flip = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var slides = swiper.slides,
        rtl = swiper.rtlTranslate;

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = slides.eq(i);
      var progress = $slideEl[0].progress;

      if (swiper.params.flipEffect.limitRotation) {
        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
      }

      var offset = $slideEl[0].swiperSlideOffset;
      var rotate = -180 * progress;
      var rotateY = rotate;
      var rotateX = 0;
      var tx = -offset;
      var ty = 0;

      if (!swiper.isHorizontal()) {
        ty = tx;
        tx = 0;
        rotateX = -rotateY;
        rotateY = 0;
      } else if (rtl) {
        rotateY = -rotateY;
      }

      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;

      if (swiper.params.flipEffect.slideShadows) {
        // Set shadows
        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if (shadowBefore.length === 0) {
          shadowBefore = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'left' : 'top') + "\"></div>");
          $slideEl.append(shadowBefore);
        }

        if (shadowAfter.length === 0) {
          shadowAfter = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append(shadowAfter);
        }

        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);
        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);
      }

      $slideEl.transform("translate3d(" + tx + "px, " + ty + "px, 0px) rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)");
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var slides = swiper.slides,
        activeIndex = swiper.activeIndex,
        $wrapperEl = swiper.$wrapperEl;
    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);

    if (swiper.params.virtualTranslate && duration !== 0) {
      var eventTriggered = false; // eslint-disable-next-line

      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {
        if (eventTriggered) return;
        if (!swiper || swiper.destroyed) return; // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;

        eventTriggered = true;
        swiper.animating = false;
        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];

        for (var i = 0; i < triggerEvents.length; i += 1) {
          $wrapperEl.trigger(triggerEvents[i]);
        }
      });
    }
  }
};
var _default = {
  name: 'effect-flip',
  params: {
    flipEffect: {
      slideShadows: true,
      limitRotation: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      flipEffect: _extends({}, Flip)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'flip') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "flip");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        spaceBetween: 0,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'flip') return;
      swiper.flipEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'flip') return;
      swiper.flipEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],79:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var HashNavigation = {
  onHashChange: function onHashChange() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    swiper.emit('hashChange');
    var newHash = document.location.hash.replace('#', '');
    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');

    if (newHash !== activeSlideHash) {
      var newIndex = swiper.$wrapperEl.children("." + swiper.params.slideClass + "[data-hash=\"" + newHash + "\"]").index();
      if (typeof newIndex === 'undefined') return;
      swiper.slideTo(newIndex);
    }
  },
  setHash: function setHash() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    var document = (0, _ssrWindow.getDocument)();
    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;

    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {
      window.history.replaceState(null, null, "#" + swiper.slides.eq(swiper.activeIndex).attr('data-hash') || '');
      swiper.emit('hashSet');
    } else {
      var slide = swiper.slides.eq(swiper.activeIndex);
      var hash = slide.attr('data-hash') || slide.attr('data-history');
      document.location.hash = hash || '';
      swiper.emit('hashSet');
    }
  },
  init: function init() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;
    swiper.hashNavigation.initialized = true;
    var hash = document.location.hash.replace('#', '');

    if (hash) {
      var speed = 0;

      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
        var slide = swiper.slides.eq(i);
        var slideHash = slide.attr('data-hash') || slide.attr('data-history');

        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {
          var index = slide.index();
          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);
        }
      }
    }

    if (swiper.params.hashNavigation.watchState) {
      (0, _dom.default)(window).on('hashchange', swiper.hashNavigation.onHashChange);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (swiper.params.hashNavigation.watchState) {
      (0, _dom.default)(window).off('hashchange', swiper.hashNavigation.onHashChange);
    }
  }
};
var _default = {
  name: 'hash-navigation',
  params: {
    hashNavigation: {
      enabled: false,
      replaceState: false,
      watchState: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      hashNavigation: _extends({
        initialized: false
      }, HashNavigation)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.hashNavigation.enabled) {
        swiper.hashNavigation.init();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.params.hashNavigation.enabled) {
        swiper.hashNavigation.destroy();
      }
    },
    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {
      if (swiper.hashNavigation.initialized) {
        swiper.hashNavigation.setHash();
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.hashNavigation.initialized && swiper.params.cssMode) {
        swiper.hashNavigation.setHash();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],80:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var History = {
  init: function init() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.params.history) return;

    if (!window.history || !window.history.pushState) {
      swiper.params.history.enabled = false;
      swiper.params.hashNavigation.enabled = true;
      return;
    }

    var history = swiper.history;
    history.initialized = true;
    history.paths = History.getPathValues(swiper.params.url);
    if (!history.paths.key && !history.paths.value) return;
    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);

    if (!swiper.params.history.replaceState) {
      window.addEventListener('popstate', swiper.history.setHistoryPopState);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (!swiper.params.history.replaceState) {
      window.removeEventListener('popstate', swiper.history.setHistoryPopState);
    }
  },
  setHistoryPopState: function setHistoryPopState() {
    var swiper = this;
    swiper.history.paths = History.getPathValues(swiper.params.url);
    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);
  },
  getPathValues: function getPathValues(urlOverride) {
    var window = (0, _ssrWindow.getWindow)();
    var location;

    if (urlOverride) {
      location = new URL(urlOverride);
    } else {
      location = window.location;
    }

    var pathArray = location.pathname.slice(1).split('/').filter(function (part) {
      return part !== '';
    });
    var total = pathArray.length;
    var key = pathArray[total - 2];
    var value = pathArray[total - 1];
    return {
      key: key,
      value: value
    };
  },
  setHistory: function setHistory(key, index) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.history.initialized || !swiper.params.history.enabled) return;
    var location;

    if (swiper.params.url) {
      location = new URL(swiper.params.url);
    } else {
      location = window.location;
    }

    var slide = swiper.slides.eq(index);
    var value = History.slugify(slide.attr('data-history'));

    if (swiper.params.history.root.length > 0) {
      var root = swiper.params.history.root;
      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);
      value = root + "/" + key + "/" + value;
    } else if (!location.pathname.includes(key)) {
      value = key + "/" + value;
    }

    var currentState = window.history.state;

    if (currentState && currentState.value === value) {
      return;
    }

    if (swiper.params.history.replaceState) {
      window.history.replaceState({
        value: value
      }, null, value);
    } else {
      window.history.pushState({
        value: value
      }, null, value);
    }
  },
  slugify: function slugify(text) {
    return text.toString().replace(/\s+/g, '-').replace(/[^\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
  },
  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {
    var swiper = this;

    if (value) {
      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
        var slide = swiper.slides.eq(i);
        var slideHistory = History.slugify(slide.attr('data-history'));

        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {
          var index = slide.index();
          swiper.slideTo(index, speed, runCallbacks);
        }
      }
    } else {
      swiper.slideTo(0, speed, runCallbacks);
    }
  }
};
var _default = {
  name: 'history',
  params: {
    history: {
      enabled: false,
      root: '',
      replaceState: false,
      key: 'slides'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      history: _extends({}, History)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.history.enabled) {
        swiper.history.init();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.params.history.enabled) {
        swiper.history.destroy();
      }
    },
    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {
      if (swiper.history.initialized) {
        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.history.initialized && swiper.params.cssMode) {
        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);
      }
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],81:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Keyboard = {
  handle: function handle(event) {
    var swiper = this;
    if (!swiper.enabled) return;
    var window = (0, _ssrWindow.getWindow)();
    var document = (0, _ssrWindow.getDocument)();
    var rtl = swiper.rtlTranslate;
    var e = event;
    if (e.originalEvent) e = e.originalEvent; // jquery fix

    var kc = e.keyCode || e.charCode;
    var pageUpDown = swiper.params.keyboard.pageUpDown;
    var isPageUp = pageUpDown && kc === 33;
    var isPageDown = pageUpDown && kc === 34;
    var isArrowLeft = kc === 37;
    var isArrowRight = kc === 39;
    var isArrowUp = kc === 38;
    var isArrowDown = kc === 40; // Directions locks

    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {
      return false;
    }

    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {
      return false;
    }

    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {
      return undefined;
    }

    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {
      return undefined;
    }

    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {
      var inView = false; // Check that swiper should be inside of visible area of window

      if (swiper.$el.parents("." + swiper.params.slideClass).length > 0 && swiper.$el.parents("." + swiper.params.slideActiveClass).length === 0) {
        return undefined;
      }

      var $el = swiper.$el;
      var swiperWidth = $el[0].clientWidth;
      var swiperHeight = $el[0].clientHeight;
      var windowWidth = window.innerWidth;
      var windowHeight = window.innerHeight;
      var swiperOffset = swiper.$el.offset();
      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;
      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];

      for (var i = 0; i < swiperCoord.length; i += 1) {
        var point = swiperCoord[i];

        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {
          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line

          inView = true;
        }
      }

      if (!inView) return undefined;
    }

    if (swiper.isHorizontal()) {
      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {
        if (e.preventDefault) e.preventDefault();else e.returnValue = false;
      }

      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();
      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();
    } else {
      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {
        if (e.preventDefault) e.preventDefault();else e.returnValue = false;
      }

      if (isPageDown || isArrowDown) swiper.slideNext();
      if (isPageUp || isArrowUp) swiper.slidePrev();
    }

    swiper.emit('keyPress', kc);
    return undefined;
  },
  enable: function enable() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    if (swiper.keyboard.enabled) return;
    (0, _dom.default)(document).on('keydown', swiper.keyboard.handle);
    swiper.keyboard.enabled = true;
  },
  disable: function disable() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    if (!swiper.keyboard.enabled) return;
    (0, _dom.default)(document).off('keydown', swiper.keyboard.handle);
    swiper.keyboard.enabled = false;
  }
};
var _default = {
  name: 'keyboard',
  params: {
    keyboard: {
      enabled: false,
      onlyInViewport: true,
      pageUpDown: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      keyboard: _extends({
        enabled: false
      }, Keyboard)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.keyboard.enabled) {
        swiper.keyboard.enable();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.keyboard.enabled) {
        swiper.keyboard.disable();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],82:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Lazy = {
  loadInSlide: function loadInSlide(index, loadInDuplicate) {
    if (loadInDuplicate === void 0) {
      loadInDuplicate = true;
    }

    var swiper = this;
    var params = swiper.params.lazy;
    if (typeof index === 'undefined') return;
    if (swiper.slides.length === 0) return;
    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
    var $slideEl = isVirtual ? swiper.$wrapperEl.children("." + swiper.params.slideClass + "[data-swiper-slide-index=\"" + index + "\"]") : swiper.slides.eq(index);
    var $images = $slideEl.find("." + params.elementClass + ":not(." + params.loadedClass + "):not(." + params.loadingClass + ")");

    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {
      $images.push($slideEl[0]);
    }

    if ($images.length === 0) return;
    $images.each(function (imageEl) {
      var $imageEl = (0, _dom.default)(imageEl);
      $imageEl.addClass(params.loadingClass);
      var background = $imageEl.attr('data-background');
      var src = $imageEl.attr('data-src');
      var srcset = $imageEl.attr('data-srcset');
      var sizes = $imageEl.attr('data-sizes');
      var $pictureEl = $imageEl.parent('picture');
      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {
        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;

        if (background) {
          $imageEl.css('background-image', "url(\"" + background + "\")");
          $imageEl.removeAttr('data-background');
        } else {
          if (srcset) {
            $imageEl.attr('srcset', srcset);
            $imageEl.removeAttr('data-srcset');
          }

          if (sizes) {
            $imageEl.attr('sizes', sizes);
            $imageEl.removeAttr('data-sizes');
          }

          if ($pictureEl.length) {
            $pictureEl.children('source').each(function (sourceEl) {
              var $source = (0, _dom.default)(sourceEl);

              if ($source.attr('data-srcset')) {
                $source.attr('srcset', $source.attr('data-srcset'));
                $source.removeAttr('data-srcset');
              }
            });
          }

          if (src) {
            $imageEl.attr('src', src);
            $imageEl.removeAttr('data-src');
          }
        }

        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);
        $slideEl.find("." + params.preloaderClass).remove();

        if (swiper.params.loop && loadInDuplicate) {
          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');

          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {
            var originalSlide = swiper.$wrapperEl.children("[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]:not(." + swiper.params.slideDuplicateClass + ")");
            swiper.lazy.loadInSlide(originalSlide.index(), false);
          } else {
            var duplicatedSlide = swiper.$wrapperEl.children("." + swiper.params.slideDuplicateClass + "[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]");
            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);
          }
        }

        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);

        if (swiper.params.autoHeight) {
          swiper.updateAutoHeight();
        }
      });
      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);
    });
  },
  load: function load() {
    var swiper = this;
    var $wrapperEl = swiper.$wrapperEl,
        swiperParams = swiper.params,
        slides = swiper.slides,
        activeIndex = swiper.activeIndex;
    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;
    var params = swiperParams.lazy;
    var slidesPerView = swiperParams.slidesPerView;

    if (slidesPerView === 'auto') {
      slidesPerView = 0;
    }

    function slideExist(index) {
      if (isVirtual) {
        if ($wrapperEl.children("." + swiperParams.slideClass + "[data-swiper-slide-index=\"" + index + "\"]").length) {
          return true;
        }
      } else if (slides[index]) return true;

      return false;
    }

    function slideIndex(slideEl) {
      if (isVirtual) {
        return (0, _dom.default)(slideEl).attr('data-swiper-slide-index');
      }

      return (0, _dom.default)(slideEl).index();
    }

    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;

    if (swiper.params.watchSlidesVisibility) {
      $wrapperEl.children("." + swiperParams.slideVisibleClass).each(function (slideEl) {
        var index = isVirtual ? (0, _dom.default)(slideEl).attr('data-swiper-slide-index') : (0, _dom.default)(slideEl).index();
        swiper.lazy.loadInSlide(index);
      });
    } else if (slidesPerView > 1) {
      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {
        if (slideExist(i)) swiper.lazy.loadInSlide(i);
      }
    } else {
      swiper.lazy.loadInSlide(activeIndex);
    }

    if (params.loadPrevNext) {
      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {
        var amount = params.loadPrevNextAmount;
        var spv = slidesPerView;
        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);
        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides

        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {
          if (slideExist(_i)) swiper.lazy.loadInSlide(_i);
        } // Prev Slides


        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {
          if (slideExist(_i2)) swiper.lazy.loadInSlide(_i2);
        }
      } else {
        var nextSlide = $wrapperEl.children("." + swiperParams.slideNextClass);
        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));
        var prevSlide = $wrapperEl.children("." + swiperParams.slidePrevClass);
        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));
      }
    }
  },
  checkInViewOnLoad: function checkInViewOnLoad() {
    var window = (0, _ssrWindow.getWindow)();
    var swiper = this;
    if (!swiper || swiper.destroyed) return;
    var $scrollElement = swiper.params.lazy.scrollingElement ? (0, _dom.default)(swiper.params.lazy.scrollingElement) : (0, _dom.default)(window);
    var isWindow = $scrollElement[0] === window;
    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;
    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;
    var swiperOffset = swiper.$el.offset();
    var rtl = swiper.rtlTranslate;
    var inView = false;
    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;
    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];

    for (var i = 0; i < swiperCoord.length; i += 1) {
      var point = swiperCoord[i];

      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {
        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line

        inView = true;
      }
    }

    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;

    if (inView) {
      swiper.lazy.load();
      $scrollElement.off('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);
    } else if (!swiper.lazy.scrollHandlerAttached) {
      swiper.lazy.scrollHandlerAttached = true;
      $scrollElement.on('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);
    }
  }
};
var _default = {
  name: 'lazy',
  params: {
    lazy: {
      checkInView: false,
      enabled: false,
      loadPrevNext: false,
      loadPrevNextAmount: 1,
      loadOnTransitionStart: false,
      scrollingElement: '',
      elementClass: 'swiper-lazy',
      loadingClass: 'swiper-lazy-loading',
      loadedClass: 'swiper-lazy-loaded',
      preloaderClass: 'swiper-lazy-preloader'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      lazy: _extends({
        initialImageLoaded: false
      }, Lazy)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {
        swiper.params.preloadImages = false;
      }
    },
    init: function init(swiper) {
      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {
        if (swiper.params.lazy.checkInView) {
          swiper.lazy.checkInViewOnLoad();
        } else {
          swiper.lazy.load();
        }
      }
    },
    scroll: function scroll(swiper) {
      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {
        swiper.lazy.load();
      }
    },
    'scrollbarDragMove resize _freeModeNoMomentumRelease': function lazyLoad(swiper) {
      if (swiper.params.lazy.enabled) {
        swiper.lazy.load();
      }
    },
    transitionStart: function transitionStart(swiper) {
      if (swiper.params.lazy.enabled) {
        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded) {
          swiper.lazy.load();
        }
      }
    },
    transitionEnd: function transitionEnd(swiper) {
      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {
        swiper.lazy.load();
      }
    },
    slideChange: function slideChange(swiper) {
      var _swiper$params = swiper.params,
          lazy = _swiper$params.lazy,
          cssMode = _swiper$params.cssMode,
          watchSlidesVisibility = _swiper$params.watchSlidesVisibility,
          watchSlidesProgress = _swiper$params.watchSlidesProgress,
          touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,
          resistanceRatio = _swiper$params.resistanceRatio;

      if (lazy.enabled && (cssMode || (watchSlidesVisibility || watchSlidesProgress) && (touchReleaseOnEdges || resistanceRatio === 0))) {
        swiper.lazy.load();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],83:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable consistent-return */
function isEventSupported() {
  var document = (0, _ssrWindow.getDocument)();
  var eventName = 'onwheel';
  var isSupported = (eventName in document);

  if (!isSupported) {
    var element = document.createElement('div');
    element.setAttribute(eventName, 'return;');
    isSupported = typeof element[eventName] === 'function';
  }

  if (!isSupported && document.implementation && document.implementation.hasFeature && // always returns true in newer browsers as per the standard.
  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature
  document.implementation.hasFeature('', '') !== true) {
    // This is the only way to test support for the `wheel` event in IE9+.
    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');
  }

  return isSupported;
}

var Mousewheel = {
  lastScrollTime: (0, _utils.now)(),
  lastEventBeforeSnap: undefined,
  recentWheelEvents: [],
  event: function event() {
    var window = (0, _ssrWindow.getWindow)();
    if (window.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';
    return isEventSupported() ? 'wheel' : 'mousewheel';
  },
  normalize: function normalize(e) {
    // Reasonable defaults
    var PIXEL_STEP = 10;
    var LINE_HEIGHT = 40;
    var PAGE_HEIGHT = 800;
    var sX = 0;
    var sY = 0; // spinX, spinY

    var pX = 0;
    var pY = 0; // pixelX, pixelY
    // Legacy

    if ('detail' in e) {
      sY = e.detail;
    }

    if ('wheelDelta' in e) {
      sY = -e.wheelDelta / 120;
    }

    if ('wheelDeltaY' in e) {
      sY = -e.wheelDeltaY / 120;
    }

    if ('wheelDeltaX' in e) {
      sX = -e.wheelDeltaX / 120;
    } // side scrolling on FF with DOMMouseScroll


    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {
      sX = sY;
      sY = 0;
    }

    pX = sX * PIXEL_STEP;
    pY = sY * PIXEL_STEP;

    if ('deltaY' in e) {
      pY = e.deltaY;
    }

    if ('deltaX' in e) {
      pX = e.deltaX;
    }

    if (e.shiftKey && !pX) {
      // if user scrolls with shift he wants horizontal scroll
      pX = pY;
      pY = 0;
    }

    if ((pX || pY) && e.deltaMode) {
      if (e.deltaMode === 1) {
        // delta in LINE units
        pX *= LINE_HEIGHT;
        pY *= LINE_HEIGHT;
      } else {
        // delta in PAGE units
        pX *= PAGE_HEIGHT;
        pY *= PAGE_HEIGHT;
      }
    } // Fall-back if spin cannot be determined


    if (pX && !sX) {
      sX = pX < 1 ? -1 : 1;
    }

    if (pY && !sY) {
      sY = pY < 1 ? -1 : 1;
    }

    return {
      spinX: sX,
      spinY: sY,
      pixelX: pX,
      pixelY: pY
    };
  },
  handleMouseEnter: function handleMouseEnter() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.mouseEntered = true;
  },
  handleMouseLeave: function handleMouseLeave() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.mouseEntered = false;
  },
  handle: function handle(event) {
    var e = event;
    var disableParentSwiper = true;
    var swiper = this;
    if (!swiper.enabled) return;
    var params = swiper.params.mousewheel;

    if (swiper.params.cssMode) {
      e.preventDefault();
    }

    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;
    if (e.originalEvent) e = e.originalEvent; // jquery fix

    var delta = 0;
    var rtlFactor = swiper.rtlTranslate ? -1 : 1;
    var data = Mousewheel.normalize(e);

    if (params.forceToAxis) {
      if (swiper.isHorizontal()) {
        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;
      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;
    } else {
      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;
    }

    if (delta === 0) return true;
    if (params.invert) delta = -delta; // Get the scroll positions

    var positions = swiper.getTranslate() + delta * params.sensitivity;
    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();
    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:
    //     the disableParentSwiper will be true.
    // When loop is false:
    //     if the scroll positions is not on edge,
    //     then the disableParentSwiper will be true.
    //     if the scroll on edge positions,
    //     then the disableParentSwiper will be false.

    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());
    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();

    if (!swiper.params.freeMode) {
      // Register the new event in a variable which stores the relevant data
      var newEvent = {
        time: (0, _utils.now)(),
        delta: Math.abs(delta),
        direction: Math.sign(delta),
        raw: event
      }; // Keep the most recent events

      var recentWheelEvents = swiper.mousewheel.recentWheelEvents;

      if (recentWheelEvents.length >= 2) {
        recentWheelEvents.shift(); // only store the last N events
      }

      var prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;
      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:
      //   If direction has changed or
      //   if the scroll is quicker than the previous one:
      //     Animate the slider.
      // Else (this is the first time the wheel is moved):
      //     Animate the slider.

      if (prevEvent) {
        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {
          swiper.mousewheel.animateSlider(newEvent);
        }
      } else {
        swiper.mousewheel.animateSlider(newEvent);
      } // If it's time to release the scroll:
      //   Return now so you don't hit the preventDefault.


      if (swiper.mousewheel.releaseScroll(newEvent)) {
        return true;
      }
    } else {
      // Freemode or scrollContainer:
      // If we recently snapped after a momentum scroll, then ignore wheel events
      // to give time for the deceleration to finish. Stop ignoring after 500 msecs
      // or if it's a new scroll (larger delta or inverse sign as last event before
      // an end-of-momentum snap).
      var _newEvent = {
        time: (0, _utils.now)(),
        delta: Math.abs(delta),
        direction: Math.sign(delta)
      };
      var lastEventBeforeSnap = swiper.mousewheel.lastEventBeforeSnap;
      var ignoreWheelEvents = lastEventBeforeSnap && _newEvent.time < lastEventBeforeSnap.time + 500 && _newEvent.delta <= lastEventBeforeSnap.delta && _newEvent.direction === lastEventBeforeSnap.direction;

      if (!ignoreWheelEvents) {
        swiper.mousewheel.lastEventBeforeSnap = undefined;

        if (swiper.params.loop) {
          swiper.loopFix();
        }

        var position = swiper.getTranslate() + delta * params.sensitivity;
        var wasBeginning = swiper.isBeginning;
        var wasEnd = swiper.isEnd;
        if (position >= swiper.minTranslate()) position = swiper.minTranslate();
        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();
        swiper.setTransition(0);
        swiper.setTranslate(position);
        swiper.updateProgress();
        swiper.updateActiveIndex();
        swiper.updateSlidesClasses();

        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {
          swiper.updateSlidesClasses();
        }

        if (swiper.params.freeModeSticky) {
          // When wheel scrolling starts with sticky (aka snap) enabled, then detect
          // the end of a momentum scroll by storing recent (N=15?) wheel events.
          // 1. do all N events have decreasing or same (absolute value) delta?
          // 2. did all N events arrive in the last M (M=500?) msecs?
          // 3. does the earliest event have an (absolute value) delta that's
          //    at least P (P=1?) larger than the most recent event's delta?
          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?
          // If 1-4 are "yes" then we're near the end of a momentum scroll deceleration.
          // Snap immediately and ignore remaining wheel events in this scroll.
          // See comment above for "remaining wheel events in this scroll" determination.
          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.
          clearTimeout(swiper.mousewheel.timeout);
          swiper.mousewheel.timeout = undefined;
          var _recentWheelEvents = swiper.mousewheel.recentWheelEvents;

          if (_recentWheelEvents.length >= 15) {
            _recentWheelEvents.shift(); // only store the last N events

          }

          var _prevEvent = _recentWheelEvents.length ? _recentWheelEvents[_recentWheelEvents.length - 1] : undefined;

          var firstEvent = _recentWheelEvents[0];

          _recentWheelEvents.push(_newEvent);

          if (_prevEvent && (_newEvent.delta > _prevEvent.delta || _newEvent.direction !== _prevEvent.direction)) {
            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.
            _recentWheelEvents.splice(0);
          } else if (_recentWheelEvents.length >= 15 && _newEvent.time - firstEvent.time < 500 && firstEvent.delta - _newEvent.delta >= 1 && _newEvent.delta <= 6) {
            // We're at the end of the deceleration of a momentum scroll, so there's no need
            // to wait for more events. Snap ASAP on the next tick.
            // Also, because there's some remaining momentum we'll bias the snap in the
            // direction of the ongoing scroll because it's better UX for the scroll to snap
            // in the same direction as the scroll instead of reversing to snap.  Therefore,
            // if it's already scrolled more than 20% in the current direction, keep going.
            var snapToThreshold = delta > 0 ? 0.8 : 0.2;
            swiper.mousewheel.lastEventBeforeSnap = _newEvent;

            _recentWheelEvents.splice(0);

            swiper.mousewheel.timeout = (0, _utils.nextTick)(function () {
              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);
            }, 0); // no delay; move on next tick
          }

          if (!swiper.mousewheel.timeout) {
            // if we get here, then we haven't detected the end of a momentum scroll, so
            // we'll consider a scroll "complete" when there haven't been any wheel events
            // for 500ms.
            swiper.mousewheel.timeout = (0, _utils.nextTick)(function () {
              var snapToThreshold = 0.5;
              swiper.mousewheel.lastEventBeforeSnap = _newEvent;

              _recentWheelEvents.splice(0);

              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);
            }, 500);
          }
        } // Emit event


        if (!ignoreWheelEvents) swiper.emit('scroll', e); // Stop autoplay

        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions

        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;
      }
    }

    if (e.preventDefault) e.preventDefault();else e.returnValue = false;
    return false;
  },
  animateSlider: function animateSlider(newEvent) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (this.params.mousewheel.thresholdDelta && newEvent.delta < this.params.mousewheel.thresholdDelta) {
      // Prevent if delta of wheel scroll delta is below configured threshold
      return false;
    }

    if (this.params.mousewheel.thresholdTime && (0, _utils.now)() - swiper.mousewheel.lastScrollTime < this.params.mousewheel.thresholdTime) {
      // Prevent if time between scrolls is below configured threshold
      return false;
    } // If the movement is NOT big enough and
    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):
    //   Don't go any further (avoid insignificant scroll movement).


    if (newEvent.delta >= 6 && (0, _utils.now)() - swiper.mousewheel.lastScrollTime < 60) {
      // Return false as a default
      return true;
    } // If user is scrolling towards the end:
    //   If the slider hasn't hit the latest slide or
    //   if the slider is a loop and
    //   if the slider isn't moving right now:
    //     Go to next slide and
    //     emit a scroll event.
    // Else (the user is scrolling towards the beginning) and
    // if the slider hasn't hit the first slide or
    // if the slider is a loop and
    // if the slider isn't moving right now:
    //   Go to prev slide and
    //   emit a scroll event.


    if (newEvent.direction < 0) {
      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {
        swiper.slideNext();
        swiper.emit('scroll', newEvent.raw);
      }
    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {
      swiper.slidePrev();
      swiper.emit('scroll', newEvent.raw);
    } // If you got here is because an animation has been triggered so store the current time


    swiper.mousewheel.lastScrollTime = new window.Date().getTime(); // Return false as a default

    return false;
  },
  releaseScroll: function releaseScroll(newEvent) {
    var swiper = this;
    var params = swiper.params.mousewheel;

    if (newEvent.direction < 0) {
      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {
        // Return true to animate scroll on edges
        return true;
      }
    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {
      // Return true to animate scroll on edges
      return true;
    }

    return false;
  },
  enable: function enable() {
    var swiper = this;
    var event = Mousewheel.event();

    if (swiper.params.cssMode) {
      swiper.wrapperEl.removeEventListener(event, swiper.mousewheel.handle);
      return true;
    }

    if (!event) return false;
    if (swiper.mousewheel.enabled) return false;
    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    target.on('mouseenter', swiper.mousewheel.handleMouseEnter);
    target.on('mouseleave', swiper.mousewheel.handleMouseLeave);
    target.on(event, swiper.mousewheel.handle);
    swiper.mousewheel.enabled = true;
    return true;
  },
  disable: function disable() {
    var swiper = this;
    var event = Mousewheel.event();

    if (swiper.params.cssMode) {
      swiper.wrapperEl.addEventListener(event, swiper.mousewheel.handle);
      return true;
    }

    if (!event) return false;
    if (!swiper.mousewheel.enabled) return false;
    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    target.off(event, swiper.mousewheel.handle);
    swiper.mousewheel.enabled = false;
    return true;
  }
};
var _default = {
  name: 'mousewheel',
  params: {
    mousewheel: {
      enabled: false,
      releaseOnEdges: false,
      invert: false,
      forceToAxis: false,
      sensitivity: 1,
      eventsTarget: 'container',
      thresholdDelta: null,
      thresholdTime: null
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      mousewheel: {
        enabled: false,
        lastScrollTime: (0, _utils.now)(),
        lastEventBeforeSnap: undefined,
        recentWheelEvents: [],
        enable: Mousewheel.enable,
        disable: Mousewheel.disable,
        handle: Mousewheel.handle,
        handleMouseEnter: Mousewheel.handleMouseEnter,
        handleMouseLeave: Mousewheel.handleMouseLeave,
        animateSlider: Mousewheel.animateSlider,
        releaseScroll: Mousewheel.releaseScroll
      }
    });
  },
  on: {
    init: function init(swiper) {
      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {
        swiper.mousewheel.disable();
      }

      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();
    },
    destroy: function destroy(swiper) {
      if (swiper.params.cssMode) {
        swiper.mousewheel.enable();
      }

      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],84:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Navigation = {
  toggleEl: function toggleEl($el, disabled) {
    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);
    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;
  },
  update: function update() {
    // Update Navigation Buttons
    var swiper = this;
    var params = swiper.params.navigation;
    var toggleEl = swiper.navigation.toggleEl;
    if (swiper.params.loop) return;
    var _swiper$navigation = swiper.navigation,
        $nextEl = _swiper$navigation.$nextEl,
        $prevEl = _swiper$navigation.$prevEl;

    if ($prevEl && $prevEl.length > 0) {
      if (swiper.isBeginning) {
        toggleEl($prevEl, true);
      } else {
        toggleEl($prevEl, false);
      }

      if (swiper.params.watchOverflow && swiper.enabled) {
        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      if (swiper.isEnd) {
        toggleEl($nextEl, true);
      } else {
        toggleEl($nextEl, false);
      }

      if (swiper.params.watchOverflow && swiper.enabled) {
        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
      }
    }
  },
  onPrevClick: function onPrevClick(e) {
    var swiper = this;
    e.preventDefault();
    if (swiper.isBeginning && !swiper.params.loop) return;
    swiper.slidePrev();
  },
  onNextClick: function onNextClick(e) {
    var swiper = this;
    e.preventDefault();
    if (swiper.isEnd && !swiper.params.loop) return;
    swiper.slideNext();
  },
  init: function init() {
    var swiper = this;
    var params = swiper.params.navigation;
    swiper.params.navigation = (0, _utils.createElementIfNotDefined)(swiper.$el, swiper.params.navigation, swiper.params.createElements, {
      nextEl: 'swiper-button-next',
      prevEl: 'swiper-button-prev'
    });
    if (!(params.nextEl || params.prevEl)) return;
    var $nextEl;
    var $prevEl;

    if (params.nextEl) {
      $nextEl = (0, _dom.default)(params.nextEl);

      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {
        $nextEl = swiper.$el.find(params.nextEl);
      }
    }

    if (params.prevEl) {
      $prevEl = (0, _dom.default)(params.prevEl);

      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {
        $prevEl = swiper.$el.find(params.prevEl);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      $nextEl.on('click', swiper.navigation.onNextClick);
    }

    if ($prevEl && $prevEl.length > 0) {
      $prevEl.on('click', swiper.navigation.onPrevClick);
    }

    (0, _utils.extend)(swiper.navigation, {
      $nextEl: $nextEl,
      nextEl: $nextEl && $nextEl[0],
      $prevEl: $prevEl,
      prevEl: $prevEl && $prevEl[0]
    });

    if (!swiper.enabled) {
      if ($nextEl) $nextEl.addClass(params.lockClass);
      if ($prevEl) $prevEl.addClass(params.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var _swiper$navigation2 = swiper.navigation,
        $nextEl = _swiper$navigation2.$nextEl,
        $prevEl = _swiper$navigation2.$prevEl;

    if ($nextEl && $nextEl.length) {
      $nextEl.off('click', swiper.navigation.onNextClick);
      $nextEl.removeClass(swiper.params.navigation.disabledClass);
    }

    if ($prevEl && $prevEl.length) {
      $prevEl.off('click', swiper.navigation.onPrevClick);
      $prevEl.removeClass(swiper.params.navigation.disabledClass);
    }
  }
};
var _default = {
  name: 'navigation',
  params: {
    navigation: {
      nextEl: null,
      prevEl: null,
      hideOnClick: false,
      disabledClass: 'swiper-button-disabled',
      hiddenClass: 'swiper-button-hidden',
      lockClass: 'swiper-button-lock'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      navigation: _extends({}, Navigation)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.navigation.init();
      swiper.navigation.update();
    },
    toEdge: function toEdge(swiper) {
      swiper.navigation.update();
    },
    fromEdge: function fromEdge(swiper) {
      swiper.navigation.update();
    },
    destroy: function destroy(swiper) {
      swiper.navigation.destroy();
    },
    'enable disable': function enableDisable(swiper) {
      var _swiper$navigation3 = swiper.navigation,
          $nextEl = _swiper$navigation3.$nextEl,
          $prevEl = _swiper$navigation3.$prevEl;

      if ($nextEl) {
        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);
      }

      if ($prevEl) {
        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);
      }
    },
    click: function click(swiper, e) {
      var _swiper$navigation4 = swiper.navigation,
          $nextEl = _swiper$navigation4.$nextEl,
          $prevEl = _swiper$navigation4.$prevEl;
      var targetEl = e.target;

      if (swiper.params.navigation.hideOnClick && !(0, _dom.default)(targetEl).is($prevEl) && !(0, _dom.default)(targetEl).is($nextEl)) {
        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;
        var isHidden;

        if ($nextEl) {
          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);
        } else if ($prevEl) {
          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);
        }

        if (isHidden === true) {
          swiper.emit('navigationShow');
        } else {
          swiper.emit('navigationHide');
        }

        if ($nextEl) {
          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);
        }

        if ($prevEl) {
          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);
        }
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],85:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Pagination = {
  update: function update() {
    // Render || Update Pagination bullets/items
    var swiper = this;
    var rtl = swiper.rtl;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
    var $el = swiper.pagination.$el; // Current/Total

    var current;
    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;

    if (swiper.params.loop) {
      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);

      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {
        current -= slidesLength - swiper.loopedSlides * 2;
      }

      if (current > total - 1) current -= total;
      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;
    } else if (typeof swiper.snapIndex !== 'undefined') {
      current = swiper.snapIndex;
    } else {
      current = swiper.activeIndex || 0;
    } // Types


    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {
      var bullets = swiper.pagination.bullets;
      var firstIndex;
      var lastIndex;
      var midIndex;

      if (params.dynamicBullets) {
        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);
        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + "px");

        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {
          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;

          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {
            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;
          } else if (swiper.pagination.dynamicBulletIndex < 0) {
            swiper.pagination.dynamicBulletIndex = 0;
          }
        }

        firstIndex = current - swiper.pagination.dynamicBulletIndex;
        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);
        midIndex = (lastIndex + firstIndex) / 2;
      }

      bullets.removeClass(params.bulletActiveClass + " " + params.bulletActiveClass + "-next " + params.bulletActiveClass + "-next-next " + params.bulletActiveClass + "-prev " + params.bulletActiveClass + "-prev-prev " + params.bulletActiveClass + "-main");

      if ($el.length > 1) {
        bullets.each(function (bullet) {
          var $bullet = (0, _dom.default)(bullet);
          var bulletIndex = $bullet.index();

          if (bulletIndex === current) {
            $bullet.addClass(params.bulletActiveClass);
          }

          if (params.dynamicBullets) {
            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {
              $bullet.addClass(params.bulletActiveClass + "-main");
            }

            if (bulletIndex === firstIndex) {
              $bullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
            }

            if (bulletIndex === lastIndex) {
              $bullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
            }
          }
        });
      } else {
        var $bullet = bullets.eq(current);
        var bulletIndex = $bullet.index();
        $bullet.addClass(params.bulletActiveClass);

        if (params.dynamicBullets) {
          var $firstDisplayedBullet = bullets.eq(firstIndex);
          var $lastDisplayedBullet = bullets.eq(lastIndex);

          for (var i = firstIndex; i <= lastIndex; i += 1) {
            bullets.eq(i).addClass(params.bulletActiveClass + "-main");
          }

          if (swiper.params.loop) {
            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {
              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {
                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + "-main");
              }

              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + "-prev");
            } else {
              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
            }
          } else {
            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
          }
        }
      }

      if (params.dynamicBullets) {
        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);
        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;
        var offsetProp = rtl ? 'right' : 'left';
        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + "px");
      }
    }

    if (params.type === 'fraction') {
      $el.find((0, _utils.classesToSelector)(params.currentClass)).text(params.formatFractionCurrent(current + 1));
      $el.find((0, _utils.classesToSelector)(params.totalClass)).text(params.formatFractionTotal(total));
    }

    if (params.type === 'progressbar') {
      var progressbarDirection;

      if (params.progressbarOpposite) {
        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';
      } else {
        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';
      }

      var scale = (current + 1) / total;
      var scaleX = 1;
      var scaleY = 1;

      if (progressbarDirection === 'horizontal') {
        scaleX = scale;
      } else {
        scaleY = scale;
      }

      $el.find((0, _utils.classesToSelector)(params.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(" + scaleX + ") scaleY(" + scaleY + ")").transition(swiper.params.speed);
    }

    if (params.type === 'custom' && params.renderCustom) {
      $el.html(params.renderCustom(swiper, current + 1, total));
      swiper.emit('paginationRender', $el[0]);
    } else {
      swiper.emit('paginationUpdate', $el[0]);
    }

    if (swiper.params.watchOverflow && swiper.enabled) {
      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
    }
  },
  render: function render() {
    // Render Container
    var swiper = this;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
    var $el = swiper.pagination.$el;
    var paginationHTML = '';

    if (params.type === 'bullets') {
      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;

      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {
        numberOfBullets = slidesLength;
      }

      for (var i = 0; i < numberOfBullets; i += 1) {
        if (params.renderBullet) {
          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);
        } else {
          paginationHTML += "<" + params.bulletElement + " class=\"" + params.bulletClass + "\"></" + params.bulletElement + ">";
        }
      }

      $el.html(paginationHTML);
      swiper.pagination.bullets = $el.find((0, _utils.classesToSelector)(params.bulletClass));
    }

    if (params.type === 'fraction') {
      if (params.renderFraction) {
        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);
      } else {
        paginationHTML = "<span class=\"" + params.currentClass + "\"></span>" + ' / ' + ("<span class=\"" + params.totalClass + "\"></span>");
      }

      $el.html(paginationHTML);
    }

    if (params.type === 'progressbar') {
      if (params.renderProgressbar) {
        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);
      } else {
        paginationHTML = "<span class=\"" + params.progressbarFillClass + "\"></span>";
      }

      $el.html(paginationHTML);
    }

    if (params.type !== 'custom') {
      swiper.emit('paginationRender', swiper.pagination.$el[0]);
    }
  },
  init: function init() {
    var swiper = this;
    swiper.params.pagination = (0, _utils.createElementIfNotDefined)(swiper.$el, swiper.params.pagination, swiper.params.createElements, {
      el: 'swiper-pagination'
    });
    var params = swiper.params.pagination;
    if (!params.el) return;
    var $el = (0, _dom.default)(params.el);
    if ($el.length === 0) return;

    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {
      $el = swiper.$el.find(params.el);
    }

    if (params.type === 'bullets' && params.clickable) {
      $el.addClass(params.clickableClass);
    }

    $el.addClass(params.modifierClass + params.type);

    if (params.type === 'bullets' && params.dynamicBullets) {
      $el.addClass("" + params.modifierClass + params.type + "-dynamic");
      swiper.pagination.dynamicBulletIndex = 0;

      if (params.dynamicMainBullets < 1) {
        params.dynamicMainBullets = 1;
      }
    }

    if (params.type === 'progressbar' && params.progressbarOpposite) {
      $el.addClass(params.progressbarOppositeClass);
    }

    if (params.clickable) {
      $el.on('click', (0, _utils.classesToSelector)(params.bulletClass), function onClick(e) {
        e.preventDefault();
        var index = (0, _dom.default)(this).index() * swiper.params.slidesPerGroup;
        if (swiper.params.loop) index += swiper.loopedSlides;
        swiper.slideTo(index);
      });
    }

    (0, _utils.extend)(swiper.pagination, {
      $el: $el,
      el: $el[0]
    });

    if (!swiper.enabled) {
      $el.addClass(params.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var $el = swiper.pagination.$el;
    $el.removeClass(params.hiddenClass);
    $el.removeClass(params.modifierClass + params.type);
    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);

    if (params.clickable) {
      $el.off('click', (0, _utils.classesToSelector)(params.bulletClass));
    }
  }
};
var _default = {
  name: 'pagination',
  params: {
    pagination: {
      el: null,
      bulletElement: 'span',
      clickable: false,
      hideOnClick: false,
      renderBullet: null,
      renderProgressbar: null,
      renderFraction: null,
      renderCustom: null,
      progressbarOpposite: false,
      type: 'bullets',
      // 'bullets' or 'progressbar' or 'fraction' or 'custom'
      dynamicBullets: false,
      dynamicMainBullets: 1,
      formatFractionCurrent: function formatFractionCurrent(number) {
        return number;
      },
      formatFractionTotal: function formatFractionTotal(number) {
        return number;
      },
      bulletClass: 'swiper-pagination-bullet',
      bulletActiveClass: 'swiper-pagination-bullet-active',
      modifierClass: 'swiper-pagination-',
      // NEW
      currentClass: 'swiper-pagination-current',
      totalClass: 'swiper-pagination-total',
      hiddenClass: 'swiper-pagination-hidden',
      progressbarFillClass: 'swiper-pagination-progressbar-fill',
      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',
      clickableClass: 'swiper-pagination-clickable',
      // NEW
      lockClass: 'swiper-pagination-lock'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      pagination: _extends({
        dynamicBulletIndex: 0
      }, Pagination)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.pagination.init();
      swiper.pagination.render();
      swiper.pagination.update();
    },
    activeIndexChange: function activeIndexChange(swiper) {
      if (swiper.params.loop) {
        swiper.pagination.update();
      } else if (typeof swiper.snapIndex === 'undefined') {
        swiper.pagination.update();
      }
    },
    snapIndexChange: function snapIndexChange(swiper) {
      if (!swiper.params.loop) {
        swiper.pagination.update();
      }
    },
    slidesLengthChange: function slidesLengthChange(swiper) {
      if (swiper.params.loop) {
        swiper.pagination.render();
        swiper.pagination.update();
      }
    },
    snapGridLengthChange: function snapGridLengthChange(swiper) {
      if (!swiper.params.loop) {
        swiper.pagination.render();
        swiper.pagination.update();
      }
    },
    destroy: function destroy(swiper) {
      swiper.pagination.destroy();
    },
    'enable disable': function enableDisable(swiper) {
      var $el = swiper.pagination.$el;

      if ($el) {
        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);
      }
    },
    click: function click(swiper, e) {
      var targetEl = e.target;

      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !(0, _dom.default)(targetEl).hasClass(swiper.params.pagination.bulletClass)) {
        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;
        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);

        if (isHidden === true) {
          swiper.emit('paginationShow');
        } else {
          swiper.emit('paginationHide');
        }

        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],86:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Parallax = {
  setTransform: function setTransform(el, progress) {
    var swiper = this;
    var rtl = swiper.rtl;
    var $el = (0, _dom.default)(el);
    var rtlFactor = rtl ? -1 : 1;
    var p = $el.attr('data-swiper-parallax') || '0';
    var x = $el.attr('data-swiper-parallax-x');
    var y = $el.attr('data-swiper-parallax-y');
    var scale = $el.attr('data-swiper-parallax-scale');
    var opacity = $el.attr('data-swiper-parallax-opacity');

    if (x || y) {
      x = x || '0';
      y = y || '0';
    } else if (swiper.isHorizontal()) {
      x = p;
      y = '0';
    } else {
      y = p;
      x = '0';
    }

    if (x.indexOf('%') >= 0) {
      x = parseInt(x, 10) * progress * rtlFactor + "%";
    } else {
      x = x * progress * rtlFactor + "px";
    }

    if (y.indexOf('%') >= 0) {
      y = parseInt(y, 10) * progress + "%";
    } else {
      y = y * progress + "px";
    }

    if (typeof opacity !== 'undefined' && opacity !== null) {
      var currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));
      $el[0].style.opacity = currentOpacity;
    }

    if (typeof scale === 'undefined' || scale === null) {
      $el.transform("translate3d(" + x + ", " + y + ", 0px)");
    } else {
      var currentScale = scale - (scale - 1) * (1 - Math.abs(progress));
      $el.transform("translate3d(" + x + ", " + y + ", 0px) scale(" + currentScale + ")");
    }
  },
  setTranslate: function setTranslate() {
    var swiper = this;
    var $el = swiper.$el,
        slides = swiper.slides,
        progress = swiper.progress,
        snapGrid = swiper.snapGrid;
    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {
      swiper.parallax.setTransform(el, progress);
    });
    slides.each(function (slideEl, slideIndex) {
      var slideProgress = slideEl.progress;

      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {
        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);
      }

      slideProgress = Math.min(Math.max(slideProgress, -1), 1);
      (0, _dom.default)(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {
        swiper.parallax.setTransform(el, slideProgress);
      });
    });
  },
  setTransition: function setTransition(duration) {
    if (duration === void 0) {
      duration = this.params.speed;
    }

    var swiper = this;
    var $el = swiper.$el;
    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (parallaxEl) {
      var $parallaxEl = (0, _dom.default)(parallaxEl);
      var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;
      if (duration === 0) parallaxDuration = 0;
      $parallaxEl.transition(parallaxDuration);
    });
  }
};
var _default = {
  name: 'parallax',
  params: {
    parallax: {
      enabled: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      parallax: _extends({}, Parallax)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.params.watchSlidesProgress = true;
      swiper.originalParams.watchSlidesProgress = true;
    },
    init: function init(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTranslate();
    },
    setTranslate: function setTranslate(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],87:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Scrollbar = {
  setTranslate: function setTranslate() {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    var scrollbar = swiper.scrollbar,
        rtl = swiper.rtlTranslate,
        progress = swiper.progress;
    var dragSize = scrollbar.dragSize,
        trackSize = scrollbar.trackSize,
        $dragEl = scrollbar.$dragEl,
        $el = scrollbar.$el;
    var params = swiper.params.scrollbar;
    var newSize = dragSize;
    var newPos = (trackSize - dragSize) * progress;

    if (rtl) {
      newPos = -newPos;

      if (newPos > 0) {
        newSize = dragSize - newPos;
        newPos = 0;
      } else if (-newPos + dragSize > trackSize) {
        newSize = trackSize + newPos;
      }
    } else if (newPos < 0) {
      newSize = dragSize + newPos;
      newPos = 0;
    } else if (newPos + dragSize > trackSize) {
      newSize = trackSize - newPos;
    }

    if (swiper.isHorizontal()) {
      $dragEl.transform("translate3d(" + newPos + "px, 0, 0)");
      $dragEl[0].style.width = newSize + "px";
    } else {
      $dragEl.transform("translate3d(0px, " + newPos + "px, 0)");
      $dragEl[0].style.height = newSize + "px";
    }

    if (params.hide) {
      clearTimeout(swiper.scrollbar.timeout);
      $el[0].style.opacity = 1;
      swiper.scrollbar.timeout = setTimeout(function () {
        $el[0].style.opacity = 0;
        $el.transition(400);
      }, 1000);
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    swiper.scrollbar.$dragEl.transition(duration);
  },
  updateSize: function updateSize() {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    var scrollbar = swiper.scrollbar;
    var $dragEl = scrollbar.$dragEl,
        $el = scrollbar.$el;
    $dragEl[0].style.width = '';
    $dragEl[0].style.height = '';
    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;
    var divider = swiper.size / swiper.virtualSize;
    var moveDivider = divider * (trackSize / swiper.size);
    var dragSize;

    if (swiper.params.scrollbar.dragSize === 'auto') {
      dragSize = trackSize * divider;
    } else {
      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);
    }

    if (swiper.isHorizontal()) {
      $dragEl[0].style.width = dragSize + "px";
    } else {
      $dragEl[0].style.height = dragSize + "px";
    }

    if (divider >= 1) {
      $el[0].style.display = 'none';
    } else {
      $el[0].style.display = '';
    }

    if (swiper.params.scrollbar.hide) {
      $el[0].style.opacity = 0;
    }

    (0, _utils.extend)(scrollbar, {
      trackSize: trackSize,
      divider: divider,
      moveDivider: moveDivider,
      dragSize: dragSize
    });

    if (swiper.params.watchOverflow && swiper.enabled) {
      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);
    }
  },
  getPointerPosition: function getPointerPosition(e) {
    var swiper = this;

    if (swiper.isHorizontal()) {
      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;
    }

    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;
  },
  setDragPosition: function setDragPosition(e) {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        rtl = swiper.rtlTranslate;
    var $el = scrollbar.$el,
        dragSize = scrollbar.dragSize,
        trackSize = scrollbar.trackSize,
        dragStartPos = scrollbar.dragStartPos;
    var positionRatio;
    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);
    positionRatio = Math.max(Math.min(positionRatio, 1), 0);

    if (rtl) {
      positionRatio = 1 - positionRatio;
    }

    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;
    swiper.updateProgress(position);
    swiper.setTranslate(position);
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  },
  onDragStart: function onDragStart(e) {
    var swiper = this;
    var params = swiper.params.scrollbar;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el,
        $dragEl = scrollbar.$dragEl;
    swiper.scrollbar.isTouched = true;
    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;
    e.preventDefault();
    e.stopPropagation();
    $wrapperEl.transition(100);
    $dragEl.transition(100);
    scrollbar.setDragPosition(e);
    clearTimeout(swiper.scrollbar.dragTimeout);
    $el.transition(0);

    if (params.hide) {
      $el.css('opacity', 1);
    }

    if (swiper.params.cssMode) {
      swiper.$wrapperEl.css('scroll-snap-type', 'none');
    }

    swiper.emit('scrollbarDragStart', e);
  },
  onDragMove: function onDragMove(e) {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el,
        $dragEl = scrollbar.$dragEl;
    if (!swiper.scrollbar.isTouched) return;
    if (e.preventDefault) e.preventDefault();else e.returnValue = false;
    scrollbar.setDragPosition(e);
    $wrapperEl.transition(0);
    $el.transition(0);
    $dragEl.transition(0);
    swiper.emit('scrollbarDragMove', e);
  },
  onDragEnd: function onDragEnd(e) {
    var swiper = this;
    var params = swiper.params.scrollbar;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el;
    if (!swiper.scrollbar.isTouched) return;
    swiper.scrollbar.isTouched = false;

    if (swiper.params.cssMode) {
      swiper.$wrapperEl.css('scroll-snap-type', '');
      $wrapperEl.transition('');
    }

    if (params.hide) {
      clearTimeout(swiper.scrollbar.dragTimeout);
      swiper.scrollbar.dragTimeout = (0, _utils.nextTick)(function () {
        $el.css('opacity', 0);
        $el.transition(400);
      }, 1000);
    }

    swiper.emit('scrollbarDragEnd', e);

    if (params.snapOnRelease) {
      swiper.slideToClosest();
    }
  },
  enableDraggable: function enableDraggable() {
    var swiper = this;
    if (!swiper.params.scrollbar.el) return;
    var document = (0, _ssrWindow.getDocument)();
    var scrollbar = swiper.scrollbar,
        touchEventsTouch = swiper.touchEventsTouch,
        touchEventsDesktop = swiper.touchEventsDesktop,
        params = swiper.params,
        support = swiper.support;
    var $el = scrollbar.$el;
    var target = $el[0];
    var activeListener = support.passiveListener && params.passiveListeners ? {
      passive: false,
      capture: false
    } : false;
    var passiveListener = support.passiveListener && params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    if (!target) return;

    if (!support.touch) {
      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
    } else {
      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);
      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);
      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);
    }
  },
  disableDraggable: function disableDraggable() {
    var swiper = this;
    if (!swiper.params.scrollbar.el) return;
    var document = (0, _ssrWindow.getDocument)();
    var scrollbar = swiper.scrollbar,
        touchEventsTouch = swiper.touchEventsTouch,
        touchEventsDesktop = swiper.touchEventsDesktop,
        params = swiper.params,
        support = swiper.support;
    var $el = scrollbar.$el;
    var target = $el[0];
    var activeListener = support.passiveListener && params.passiveListeners ? {
      passive: false,
      capture: false
    } : false;
    var passiveListener = support.passiveListener && params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    if (!target) return;

    if (!support.touch) {
      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
    } else {
      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);
      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);
      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);
    }
  },
  init: function init() {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        $swiperEl = swiper.$el;
    swiper.params.scrollbar = (0, _utils.createElementIfNotDefined)($swiperEl, swiper.params.scrollbar, swiper.params.createElements, {
      el: 'swiper-scrollbar'
    });
    var params = swiper.params.scrollbar;
    if (!params.el) return;
    var $el = (0, _dom.default)(params.el);

    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {
      $el = $swiperEl.find(params.el);
    }

    var $dragEl = $el.find("." + swiper.params.scrollbar.dragClass);

    if ($dragEl.length === 0) {
      $dragEl = (0, _dom.default)("<div class=\"" + swiper.params.scrollbar.dragClass + "\"></div>");
      $el.append($dragEl);
    }

    (0, _utils.extend)(scrollbar, {
      $el: $el,
      el: $el[0],
      $dragEl: $dragEl,
      dragEl: $dragEl[0]
    });

    if (params.draggable) {
      scrollbar.enableDraggable();
    }

    if ($el) {
      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    swiper.scrollbar.disableDraggable();
  }
};
var _default = {
  name: 'scrollbar',
  params: {
    scrollbar: {
      el: null,
      dragSize: 'auto',
      hide: false,
      draggable: false,
      snapOnRelease: true,
      lockClass: 'swiper-scrollbar-lock',
      dragClass: 'swiper-scrollbar-drag'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      scrollbar: _extends({
        isTouched: false,
        timeout: null,
        dragTimeout: null
      }, Scrollbar)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.scrollbar.init();
      swiper.scrollbar.updateSize();
      swiper.scrollbar.setTranslate();
    },
    update: function update(swiper) {
      swiper.scrollbar.updateSize();
    },
    resize: function resize(swiper) {
      swiper.scrollbar.updateSize();
    },
    observerUpdate: function observerUpdate(swiper) {
      swiper.scrollbar.updateSize();
    },
    setTranslate: function setTranslate(swiper) {
      swiper.scrollbar.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      swiper.scrollbar.setTransition(duration);
    },
    'enable disable': function enableDisable(swiper) {
      var $el = swiper.scrollbar.$el;

      if ($el) {
        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);
      }
    },
    destroy: function destroy(swiper) {
      swiper.scrollbar.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],88:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

var _dom = _interopRequireDefault(require("../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Thumbs = {
  init: function init() {
    var swiper = this;
    var thumbsParams = swiper.params.thumbs;
    if (swiper.thumbs.initialized) return false;
    swiper.thumbs.initialized = true;
    var SwiperClass = swiper.constructor;

    if (thumbsParams.swiper instanceof SwiperClass) {
      swiper.thumbs.swiper = thumbsParams.swiper;
      (0, _utils.extend)(swiper.thumbs.swiper.originalParams, {
        watchSlidesProgress: true,
        slideToClickedSlide: false
      });
      (0, _utils.extend)(swiper.thumbs.swiper.params, {
        watchSlidesProgress: true,
        slideToClickedSlide: false
      });
    } else if ((0, _utils.isObject)(thumbsParams.swiper)) {
      swiper.thumbs.swiper = new SwiperClass((0, _utils.extend)({}, thumbsParams.swiper, {
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
        slideToClickedSlide: false
      }));
      swiper.thumbs.swiperCreated = true;
    }

    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);
    swiper.thumbs.swiper.on('tap', swiper.thumbs.onThumbClick);
    return true;
  },
  onThumbClick: function onThumbClick() {
    var swiper = this;
    var thumbsSwiper = swiper.thumbs.swiper;
    if (!thumbsSwiper) return;
    var clickedIndex = thumbsSwiper.clickedIndex;
    var clickedSlide = thumbsSwiper.clickedSlide;
    if (clickedSlide && (0, _dom.default)(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;
    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;
    var slideToIndex;

    if (thumbsSwiper.params.loop) {
      slideToIndex = parseInt((0, _dom.default)(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);
    } else {
      slideToIndex = clickedIndex;
    }

    if (swiper.params.loop) {
      var currentIndex = swiper.activeIndex;

      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {
        swiper.loopFix(); // eslint-disable-next-line

        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
        currentIndex = swiper.activeIndex;
      }

      var prevIndex = swiper.slides.eq(currentIndex).prevAll("[data-swiper-slide-index=\"" + slideToIndex + "\"]").eq(0).index();
      var nextIndex = swiper.slides.eq(currentIndex).nextAll("[data-swiper-slide-index=\"" + slideToIndex + "\"]").eq(0).index();
      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;
    }

    swiper.slideTo(slideToIndex);
  },
  update: function update(initial) {
    var swiper = this;
    var thumbsSwiper = swiper.thumbs.swiper;
    if (!thumbsSwiper) return;
    var slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;
    var autoScrollOffset = swiper.params.thumbs.autoScrollOffset;
    var useOffset = autoScrollOffset && !thumbsSwiper.params.loop;

    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {
      var currentThumbsIndex = thumbsSwiper.activeIndex;
      var newThumbsIndex;
      var direction;

      if (thumbsSwiper.params.loop) {
        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {
          thumbsSwiper.loopFix(); // eslint-disable-next-line

          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;
          currentThumbsIndex = thumbsSwiper.activeIndex;
        } // Find actual thumbs index to slide to


        var prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll("[data-swiper-slide-index=\"" + swiper.realIndex + "\"]").eq(0).index();
        var nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll("[data-swiper-slide-index=\"" + swiper.realIndex + "\"]").eq(0).index();

        if (typeof prevThumbsIndex === 'undefined') {
          newThumbsIndex = nextThumbsIndex;
        } else if (typeof nextThumbsIndex === 'undefined') {
          newThumbsIndex = prevThumbsIndex;
        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {
          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;
        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {
          newThumbsIndex = nextThumbsIndex;
        } else {
          newThumbsIndex = prevThumbsIndex;
        }

        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';
      } else {
        newThumbsIndex = swiper.realIndex;
        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';
      }

      if (useOffset) {
        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;
      }

      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {
        if (thumbsSwiper.params.centeredSlides) {
          if (newThumbsIndex > currentThumbsIndex) {
            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;
          } else {
            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;
          }
        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;
        }

        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);
      }
    } // Activate thumbs


    var thumbsToActivate = 1;
    var thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;

    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {
      thumbsToActivate = swiper.params.slidesPerView;
    }

    if (!swiper.params.thumbs.multipleActiveThumbs) {
      thumbsToActivate = 1;
    }

    thumbsToActivate = Math.floor(thumbsToActivate);
    thumbsSwiper.slides.removeClass(thumbActiveClass);

    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {
      for (var i = 0; i < thumbsToActivate; i += 1) {
        thumbsSwiper.$wrapperEl.children("[data-swiper-slide-index=\"" + (swiper.realIndex + i) + "\"]").addClass(thumbActiveClass);
      }
    } else {
      for (var _i = 0; _i < thumbsToActivate; _i += 1) {
        thumbsSwiper.slides.eq(swiper.realIndex + _i).addClass(thumbActiveClass);
      }
    }
  }
};
var _default = {
  name: 'thumbs',
  params: {
    thumbs: {
      swiper: null,
      multipleActiveThumbs: true,
      autoScrollOffset: 0,
      slideThumbActiveClass: 'swiper-slide-thumb-active',
      thumbsContainerClass: 'swiper-container-thumbs'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      thumbs: _extends({
        swiper: null,
        initialized: false
      }, Thumbs)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      var thumbs = swiper.params.thumbs;
      if (!thumbs || !thumbs.swiper) return;
      swiper.thumbs.init();
      swiper.thumbs.update(true);
    },
    slideChange: function slideChange(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    update: function update(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    resize: function resize(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    observerUpdate: function observerUpdate(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    setTransition: function setTransition(swiper, duration) {
      var thumbsSwiper = swiper.thumbs.swiper;
      if (!thumbsSwiper) return;
      thumbsSwiper.setTransition(duration);
    },
    beforeDestroy: function beforeDestroy(swiper) {
      var thumbsSwiper = swiper.thumbs.swiper;
      if (!thumbsSwiper) return;

      if (swiper.thumbs.swiperCreated && thumbsSwiper) {
        thumbsSwiper.destroy();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],89:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Virtual = {
  update: function update(force) {
    var swiper = this;
    var _swiper$params = swiper.params,
        slidesPerView = _swiper$params.slidesPerView,
        slidesPerGroup = _swiper$params.slidesPerGroup,
        centeredSlides = _swiper$params.centeredSlides;
    var _swiper$params$virtua = swiper.params.virtual,
        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,
        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;
    var _swiper$virtual = swiper.virtual,
        previousFrom = _swiper$virtual.from,
        previousTo = _swiper$virtual.to,
        slides = _swiper$virtual.slides,
        previousSlidesGrid = _swiper$virtual.slidesGrid,
        renderSlide = _swiper$virtual.renderSlide,
        previousOffset = _swiper$virtual.offset;
    swiper.updateActiveIndex();
    var activeIndex = swiper.activeIndex || 0;
    var offsetProp;
    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';
    var slidesAfter;
    var slidesBefore;

    if (centeredSlides) {
      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;
      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;
    } else {
      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;
      slidesBefore = slidesPerGroup + addSlidesBefore;
    }

    var from = Math.max((activeIndex || 0) - slidesBefore, 0);
    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);
    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);
    (0, _utils.extend)(swiper.virtual, {
      from: from,
      to: to,
      offset: offset,
      slidesGrid: swiper.slidesGrid
    });

    function onRendered() {
      swiper.updateSlides();
      swiper.updateProgress();
      swiper.updateSlidesClasses();

      if (swiper.lazy && swiper.params.lazy.enabled) {
        swiper.lazy.load();
      }
    }

    if (previousFrom === from && previousTo === to && !force) {
      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {
        swiper.slides.css(offsetProp, offset + "px");
      }

      swiper.updateProgress();
      return;
    }

    if (swiper.params.virtual.renderExternal) {
      swiper.params.virtual.renderExternal.call(swiper, {
        offset: offset,
        from: from,
        to: to,
        slides: function getSlides() {
          var slidesToRender = [];

          for (var i = from; i <= to; i += 1) {
            slidesToRender.push(slides[i]);
          }

          return slidesToRender;
        }()
      });

      if (swiper.params.virtual.renderExternalUpdate) {
        onRendered();
      }

      return;
    }

    var prependIndexes = [];
    var appendIndexes = [];

    if (force) {
      swiper.$wrapperEl.find("." + swiper.params.slideClass).remove();
    } else {
      for (var i = previousFrom; i <= previousTo; i += 1) {
        if (i < from || i > to) {
          swiper.$wrapperEl.find("." + swiper.params.slideClass + "[data-swiper-slide-index=\"" + i + "\"]").remove();
        }
      }
    }

    for (var _i = 0; _i < slides.length; _i += 1) {
      if (_i >= from && _i <= to) {
        if (typeof previousTo === 'undefined' || force) {
          appendIndexes.push(_i);
        } else {
          if (_i > previousTo) appendIndexes.push(_i);
          if (_i < previousFrom) prependIndexes.push(_i);
        }
      }
    }

    appendIndexes.forEach(function (index) {
      swiper.$wrapperEl.append(renderSlide(slides[index], index));
    });
    prependIndexes.sort(function (a, b) {
      return b - a;
    }).forEach(function (index) {
      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));
    });
    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + "px");
    onRendered();
  },
  renderSlide: function renderSlide(slide, index) {
    var swiper = this;
    var params = swiper.params.virtual;

    if (params.cache && swiper.virtual.cache[index]) {
      return swiper.virtual.cache[index];
    }

    var $slideEl = params.renderSlide ? (0, _dom.default)(params.renderSlide.call(swiper, slide, index)) : (0, _dom.default)("<div class=\"" + swiper.params.slideClass + "\" data-swiper-slide-index=\"" + index + "\">" + slide + "</div>");
    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);
    if (params.cache) swiper.virtual.cache[index] = $slideEl;
    return $slideEl;
  },
  appendSlide: function appendSlide(slides) {
    var swiper = this;

    if (typeof slides === 'object' && 'length' in slides) {
      for (var i = 0; i < slides.length; i += 1) {
        if (slides[i]) swiper.virtual.slides.push(slides[i]);
      }
    } else {
      swiper.virtual.slides.push(slides);
    }

    swiper.virtual.update(true);
  },
  prependSlide: function prependSlide(slides) {
    var swiper = this;
    var activeIndex = swiper.activeIndex;
    var newActiveIndex = activeIndex + 1;
    var numberOfNewSlides = 1;

    if (Array.isArray(slides)) {
      for (var i = 0; i < slides.length; i += 1) {
        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);
      }

      newActiveIndex = activeIndex + slides.length;
      numberOfNewSlides = slides.length;
    } else {
      swiper.virtual.slides.unshift(slides);
    }

    if (swiper.params.virtual.cache) {
      var cache = swiper.virtual.cache;
      var newCache = {};
      Object.keys(cache).forEach(function (cachedIndex) {
        var $cachedEl = cache[cachedIndex];
        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');

        if (cachedElIndex) {
          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);
        }

        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;
      });
      swiper.virtual.cache = newCache;
    }

    swiper.virtual.update(true);
    swiper.slideTo(newActiveIndex, 0);
  },
  removeSlide: function removeSlide(slidesIndexes) {
    var swiper = this;
    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;
    var activeIndex = swiper.activeIndex;

    if (Array.isArray(slidesIndexes)) {
      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {
        swiper.virtual.slides.splice(slidesIndexes[i], 1);

        if (swiper.params.virtual.cache) {
          delete swiper.virtual.cache[slidesIndexes[i]];
        }

        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;
        activeIndex = Math.max(activeIndex, 0);
      }
    } else {
      swiper.virtual.slides.splice(slidesIndexes, 1);

      if (swiper.params.virtual.cache) {
        delete swiper.virtual.cache[slidesIndexes];
      }

      if (slidesIndexes < activeIndex) activeIndex -= 1;
      activeIndex = Math.max(activeIndex, 0);
    }

    swiper.virtual.update(true);
    swiper.slideTo(activeIndex, 0);
  },
  removeAllSlides: function removeAllSlides() {
    var swiper = this;
    swiper.virtual.slides = [];

    if (swiper.params.virtual.cache) {
      swiper.virtual.cache = {};
    }

    swiper.virtual.update(true);
    swiper.slideTo(0, 0);
  }
};
var _default = {
  name: 'virtual',
  params: {
    virtual: {
      enabled: false,
      slides: [],
      cache: true,
      renderSlide: null,
      renderExternal: null,
      renderExternalUpdate: true,
      addSlidesBefore: 0,
      addSlidesAfter: 0
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      virtual: _extends({}, Virtual, {
        slides: swiper.params.virtual.slides,
        cache: {}
      })
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (!swiper.params.virtual.enabled) return;
      swiper.classNames.push(swiper.params.containerModifierClass + "virtual");
      var overwriteParams = {
        watchSlidesProgress: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);

      if (!swiper.params.initialSlide) {
        swiper.virtual.update();
      }
    },
    setTranslate: function setTranslate(swiper) {
      if (!swiper.params.virtual.enabled) return;
      swiper.virtual.update();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],90:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Zoom = {
  // Calc Scale From Multi-touches
  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {
    if (e.targetTouches.length < 2) return 1;
    var x1 = e.targetTouches[0].pageX;
    var y1 = e.targetTouches[0].pageY;
    var x2 = e.targetTouches[1].pageX;
    var y2 = e.targetTouches[1].pageY;
    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
    return distance;
  },
  // Events
  onGestureStart: function onGestureStart(e) {
    var swiper = this;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;
    zoom.fakeGestureTouched = false;
    zoom.fakeGestureMoved = false;

    if (!support.gestures) {
      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {
        return;
      }

      zoom.fakeGestureTouched = true;
      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);
    }

    if (!gesture.$slideEl || !gesture.$slideEl.length) {
      gesture.$slideEl = (0, _dom.default)(e.target).closest("." + swiper.params.slideClass);
      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;

      if (gesture.$imageWrapEl.length === 0) {
        gesture.$imageEl = undefined;
        return;
      }
    }

    if (gesture.$imageEl) {
      gesture.$imageEl.transition(0);
    }

    swiper.zoom.isScaling = true;
  },
  onGestureChange: function onGestureChange(e) {
    var swiper = this;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (!support.gestures) {
      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {
        return;
      }

      zoom.fakeGestureMoved = true;
      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
      if (e.type === 'gesturechange') zoom.onGestureStart(e);
      return;
    }

    if (support.gestures) {
      zoom.scale = e.scale * zoom.currentScale;
    } else {
      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;
    }

    if (zoom.scale > gesture.maxRatio) {
      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);
    }

    if (zoom.scale < params.minRatio) {
      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);
    }

    gesture.$imageEl.transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
  },
  onGestureEnd: function onGestureEnd(e) {
    var swiper = this;
    var device = swiper.device;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (!support.gestures) {
      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {
        return;
      }

      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {
        return;
      }

      zoom.fakeGestureTouched = false;
      zoom.fakeGestureMoved = false;
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);
    gesture.$imageEl.transition(swiper.params.speed).transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
    zoom.currentScale = zoom.scale;
    zoom.isScaling = false;
    if (zoom.scale === 1) gesture.$slideEl = undefined;
  },
  onTouchStart: function onTouchStart(e) {
    var swiper = this;
    var device = swiper.device;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    if (image.isTouched) return;
    if (device.android && e.cancelable) e.preventDefault();
    image.isTouched = true;
    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
  },
  onTouchMove: function onTouchMove(e) {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image,
        velocity = zoom.velocity;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    swiper.allowClick = false;
    if (!image.isTouched || !gesture.$slideEl) return;

    if (!image.isMoved) {
      image.width = gesture.$imageEl[0].offsetWidth;
      image.height = gesture.$imageEl[0].offsetHeight;
      image.startX = (0, _utils.getTranslate)(gesture.$imageWrapEl[0], 'x') || 0;
      image.startY = (0, _utils.getTranslate)(gesture.$imageWrapEl[0], 'y') || 0;
      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;
      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;
      gesture.$imageWrapEl.transition(0);
    } // Define if we need image drag


    var scaledWidth = image.width * zoom.scale;
    var scaledHeight = image.height * zoom.scale;
    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;
    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);
    image.maxX = -image.minX;
    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);
    image.maxY = -image.minY;
    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;

    if (!image.isMoved && !zoom.isScaling) {
      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {
        image.isTouched = false;
        return;
      }

      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {
        image.isTouched = false;
        return;
      }
    }

    if (e.cancelable) {
      e.preventDefault();
    }

    e.stopPropagation();
    image.isMoved = true;
    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;
    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;

    if (image.currentX < image.minX) {
      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);
    }

    if (image.currentX > image.maxX) {
      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);
    }

    if (image.currentY < image.minY) {
      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);
    }

    if (image.currentY > image.maxY) {
      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);
    } // Velocity


    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;
    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;
    if (!velocity.prevTime) velocity.prevTime = Date.now();
    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;
    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;
    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;
    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;
    velocity.prevPositionX = image.touchesCurrent.x;
    velocity.prevPositionY = image.touchesCurrent.y;
    velocity.prevTime = Date.now();
    gesture.$imageWrapEl.transform("translate3d(" + image.currentX + "px, " + image.currentY + "px,0)");
  },
  onTouchEnd: function onTouchEnd() {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image,
        velocity = zoom.velocity;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;

    if (!image.isTouched || !image.isMoved) {
      image.isTouched = false;
      image.isMoved = false;
      return;
    }

    image.isTouched = false;
    image.isMoved = false;
    var momentumDurationX = 300;
    var momentumDurationY = 300;
    var momentumDistanceX = velocity.x * momentumDurationX;
    var newPositionX = image.currentX + momentumDistanceX;
    var momentumDistanceY = velocity.y * momentumDurationY;
    var newPositionY = image.currentY + momentumDistanceY; // Fix duration

    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);
    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);
    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);
    image.currentX = newPositionX;
    image.currentY = newPositionY; // Define if we need image drag

    var scaledWidth = image.width * zoom.scale;
    var scaledHeight = image.height * zoom.scale;
    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);
    image.maxX = -image.minX;
    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);
    image.maxY = -image.minY;
    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);
    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);
    gesture.$imageWrapEl.transition(momentumDuration).transform("translate3d(" + image.currentX + "px, " + image.currentY + "px,0)");
  },
  onTransitionEnd: function onTransitionEnd() {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {
      if (gesture.$imageEl) {
        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');
      }

      if (gesture.$imageWrapEl) {
        gesture.$imageWrapEl.transform('translate3d(0,0,0)');
      }

      zoom.scale = 1;
      zoom.currentScale = 1;
      gesture.$slideEl = undefined;
      gesture.$imageEl = undefined;
      gesture.$imageWrapEl = undefined;
    }
  },
  // Toggle Zoom
  toggle: function toggle(e) {
    var swiper = this;
    var zoom = swiper.zoom;

    if (zoom.scale && zoom.scale !== 1) {
      // Zoom Out
      zoom.out();
    } else {
      // Zoom In
      zoom.in(e);
    }
  },
  in: function _in(e) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    var zoom = swiper.zoom;
    var params = swiper.params.zoom;
    var gesture = zoom.gesture,
        image = zoom.image;

    if (!gesture.$slideEl) {
      if (e && e.target) {
        gesture.$slideEl = (0, _dom.default)(e.target).closest("." + swiper.params.slideClass);
      }

      if (!gesture.$slideEl) {
        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {
          gesture.$slideEl = swiper.$wrapperEl.children("." + swiper.params.slideActiveClass);
        } else {
          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
        }
      }

      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;
    gesture.$slideEl.addClass("" + params.zoomedSlideClass);
    var touchX;
    var touchY;
    var offsetX;
    var offsetY;
    var diffX;
    var diffY;
    var translateX;
    var translateY;
    var imageWidth;
    var imageHeight;
    var scaledWidth;
    var scaledHeight;
    var translateMinX;
    var translateMinY;
    var translateMaxX;
    var translateMaxY;
    var slideWidth;
    var slideHeight;

    if (typeof image.touchesStart.x === 'undefined' && e) {
      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;
      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;
    } else {
      touchX = image.touchesStart.x;
      touchY = image.touchesStart.y;
    }

    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;
    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;

    if (e) {
      slideWidth = gesture.$slideEl[0].offsetWidth;
      slideHeight = gesture.$slideEl[0].offsetHeight;
      offsetX = gesture.$slideEl.offset().left + window.scrollX;
      offsetY = gesture.$slideEl.offset().top + window.scrollY;
      diffX = offsetX + slideWidth / 2 - touchX;
      diffY = offsetY + slideHeight / 2 - touchY;
      imageWidth = gesture.$imageEl[0].offsetWidth;
      imageHeight = gesture.$imageEl[0].offsetHeight;
      scaledWidth = imageWidth * zoom.scale;
      scaledHeight = imageHeight * zoom.scale;
      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);
      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);
      translateMaxX = -translateMinX;
      translateMaxY = -translateMinY;
      translateX = diffX * zoom.scale;
      translateY = diffY * zoom.scale;

      if (translateX < translateMinX) {
        translateX = translateMinX;
      }

      if (translateX > translateMaxX) {
        translateX = translateMaxX;
      }

      if (translateY < translateMinY) {
        translateY = translateMinY;
      }

      if (translateY > translateMaxY) {
        translateY = translateMaxY;
      }
    } else {
      translateX = 0;
      translateY = 0;
    }

    gesture.$imageWrapEl.transition(300).transform("translate3d(" + translateX + "px, " + translateY + "px,0)");
    gesture.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
  },
  out: function out() {
    var swiper = this;
    var zoom = swiper.zoom;
    var params = swiper.params.zoom;
    var gesture = zoom.gesture;

    if (!gesture.$slideEl) {
      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {
        gesture.$slideEl = swiper.$wrapperEl.children("." + swiper.params.slideActiveClass);
      } else {
        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
      }

      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;
    zoom.scale = 1;
    zoom.currentScale = 1;
    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');
    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');
    gesture.$slideEl.removeClass("" + params.zoomedSlideClass);
    gesture.$slideEl = undefined;
  },
  toggleGestures: function toggleGestures(method) {
    var swiper = this;
    var zoom = swiper.zoom;
    var selector = zoom.slideSelector,
        passive = zoom.passiveListener;
    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);
    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);
    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);
  },
  enableGestures: function enableGestures() {
    if (this.zoom.gesturesEnabled) return;
    this.zoom.gesturesEnabled = true;
    this.zoom.toggleGestures('on');
  },
  disableGestures: function disableGestures() {
    if (!this.zoom.gesturesEnabled) return;
    this.zoom.gesturesEnabled = false;
    this.zoom.toggleGestures('off');
  },
  // Attach/Detach Events
  enable: function enable() {
    var swiper = this;
    var support = swiper.support;
    var zoom = swiper.zoom;
    if (zoom.enabled) return;
    zoom.enabled = true;
    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    var activeListenerWithCapture = support.passiveListener ? {
      passive: false,
      capture: true
    } : true;
    var slideSelector = "." + swiper.params.slideClass;
    swiper.zoom.passiveListener = passiveListener;
    swiper.zoom.slideSelector = slideSelector; // Scale image

    if (support.gestures) {
      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);
      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);
    } else if (swiper.touchEvents.start === 'touchstart') {
      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);
      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);
      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);

      if (swiper.touchEvents.cancel) {
        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);
      }
    } // Move image


    swiper.$wrapperEl.on(swiper.touchEvents.move, "." + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);
  },
  disable: function disable() {
    var swiper = this;
    var zoom = swiper.zoom;
    if (!zoom.enabled) return;
    var support = swiper.support;
    swiper.zoom.enabled = false;
    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    var activeListenerWithCapture = support.passiveListener ? {
      passive: false,
      capture: true
    } : true;
    var slideSelector = "." + swiper.params.slideClass; // Scale image

    if (support.gestures) {
      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);
      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);
    } else if (swiper.touchEvents.start === 'touchstart') {
      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);
      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);
      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);

      if (swiper.touchEvents.cancel) {
        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);
      }
    } // Move image


    swiper.$wrapperEl.off(swiper.touchEvents.move, "." + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);
  }
};
var _default = {
  name: 'zoom',
  params: {
    zoom: {
      enabled: false,
      maxRatio: 3,
      minRatio: 1,
      toggle: true,
      containerClass: 'swiper-zoom-container',
      zoomedSlideClass: 'swiper-slide-zoomed'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      zoom: _extends({
        enabled: false,
        scale: 1,
        currentScale: 1,
        isScaling: false,
        gesture: {
          $slideEl: undefined,
          slideWidth: undefined,
          slideHeight: undefined,
          $imageEl: undefined,
          $imageWrapEl: undefined,
          maxRatio: 3
        },
        image: {
          isTouched: undefined,
          isMoved: undefined,
          currentX: undefined,
          currentY: undefined,
          minX: undefined,
          minY: undefined,
          maxX: undefined,
          maxY: undefined,
          width: undefined,
          height: undefined,
          startX: undefined,
          startY: undefined,
          touchesStart: {},
          touchesCurrent: {}
        },
        velocity: {
          x: undefined,
          y: undefined,
          prevPositionX: undefined,
          prevPositionY: undefined,
          prevTime: undefined
        }
      }, Zoom)
    });
    var scale = 1;
    Object.defineProperty(swiper.zoom, 'scale', {
      get: function get() {
        return scale;
      },
      set: function set(value) {
        if (scale !== value) {
          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;
          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;
          swiper.emit('zoomChange', value, imageEl, slideEl);
        }

        scale = value;
      }
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.zoom.enabled) {
        swiper.zoom.enable();
      }
    },
    destroy: function destroy(swiper) {
      swiper.zoom.disable();
    },
    touchStart: function touchStart(swiper, e) {
      if (!swiper.zoom.enabled) return;
      swiper.zoom.onTouchStart(e);
    },
    touchEnd: function touchEnd(swiper, e) {
      if (!swiper.zoom.enabled) return;
      swiper.zoom.onTouchEnd(e);
    },
    doubleTap: function doubleTap(swiper, e) {
      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {
        swiper.zoom.toggle(e);
      }
    },
    transitionEnd: function transitionEnd(swiper) {
      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {
        swiper.zoom.onTransitionEnd();
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {
        swiper.zoom.onTransitionEnd();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],91:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Observer = {
  attach: function attach(target, options) {
    if (options === void 0) {
      options = {};
    }

    var window = (0, _ssrWindow.getWindow)();
    var swiper = this;
    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;
    var observer = new ObserverFunc(function (mutations) {
      // The observerUpdate event should only be triggered
      // once despite the number of mutations.  Additional
      // triggers are redundant and are very costly
      if (mutations.length === 1) {
        swiper.emit('observerUpdate', mutations[0]);
        return;
      }

      var observerUpdate = function observerUpdate() {
        swiper.emit('observerUpdate', mutations[0]);
      };

      if (window.requestAnimationFrame) {
        window.requestAnimationFrame(observerUpdate);
      } else {
        window.setTimeout(observerUpdate, 0);
      }
    });
    observer.observe(target, {
      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,
      childList: typeof options.childList === 'undefined' ? true : options.childList,
      characterData: typeof options.characterData === 'undefined' ? true : options.characterData
    });
    swiper.observer.observers.push(observer);
  },
  init: function init() {
    var swiper = this;
    if (!swiper.support.observer || !swiper.params.observer) return;

    if (swiper.params.observeParents) {
      var containerParents = swiper.$el.parents();

      for (var i = 0; i < containerParents.length; i += 1) {
        swiper.observer.attach(containerParents[i]);
      }
    } // Observe container


    swiper.observer.attach(swiper.$el[0], {
      childList: swiper.params.observeSlideChildren
    }); // Observe wrapper

    swiper.observer.attach(swiper.$wrapperEl[0], {
      attributes: false
    });
  },
  destroy: function destroy() {
    var swiper = this;
    swiper.observer.observers.forEach(function (observer) {
      observer.disconnect();
    });
    swiper.observer.observers = [];
  }
};
var _default = {
  name: 'observer',
  params: {
    observer: false,
    observeParents: false,
    observeSlideChildren: false
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      observer: _extends({}, Observer, {
        observers: []
      })
    });
  },
  on: {
    init: function init(swiper) {
      swiper.observer.init();
    },
    destroy: function destroy(swiper) {
      swiper.observer.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],92:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

var supportsResizeObserver = function supportsResizeObserver() {
  var window = (0, _ssrWindow.getWindow)();
  return typeof window.ResizeObserver !== 'undefined';
};

var _default = {
  name: 'resize',
  create: function create() {
    var swiper = this;
    (0, _utils.extend)(swiper, {
      resize: {
        observer: null,
        createObserver: function createObserver() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.resize.observer = new ResizeObserver(function (entries) {
            var width = swiper.width,
                height = swiper.height;
            var newWidth = width;
            var newHeight = height;
            entries.forEach(function (_ref) {
              var contentBoxSize = _ref.contentBoxSize,
                  contentRect = _ref.contentRect,
                  target = _ref.target;
              if (target && target !== swiper.el) return;
              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;
              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;
            });

            if (newWidth !== width || newHeight !== height) {
              swiper.resize.resizeHandler();
            }
          });
          swiper.resize.observer.observe(swiper.el);
        },
        removeObserver: function removeObserver() {
          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {
            swiper.resize.observer.unobserve(swiper.el);
            swiper.resize.observer = null;
          }
        },
        resizeHandler: function resizeHandler() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.emit('beforeResize');
          swiper.emit('resize');
        },
        orientationChangeHandler: function orientationChangeHandler() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.emit('orientationchange');
        }
      }
    });
  },
  on: {
    init: function init(swiper) {
      var window = (0, _ssrWindow.getWindow)();

      if (swiper.params.resizeObserver && supportsResizeObserver()) {
        swiper.resize.createObserver();
        return;
      } // Emit resize


      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange

      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);
    },
    destroy: function destroy(swiper) {
      var window = (0, _ssrWindow.getWindow)();
      swiper.resize.removeObserver();
      window.removeEventListener('resize', swiper.resize.resizeHandler);
      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],93:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = require("dom7");

var Methods = {
  addClass: _dom.addClass,
  removeClass: _dom.removeClass,
  hasClass: _dom.hasClass,
  toggleClass: _dom.toggleClass,
  attr: _dom.attr,
  removeAttr: _dom.removeAttr,
  transform: _dom.transform,
  transition: _dom.transition,
  on: _dom.on,
  off: _dom.off,
  trigger: _dom.trigger,
  transitionEnd: _dom.transitionEnd,
  outerWidth: _dom.outerWidth,
  outerHeight: _dom.outerHeight,
  styles: _dom.styles,
  offset: _dom.offset,
  css: _dom.css,
  each: _dom.each,
  html: _dom.html,
  text: _dom.text,
  is: _dom.is,
  index: _dom.index,
  eq: _dom.eq,
  append: _dom.append,
  prepend: _dom.prepend,
  next: _dom.next,
  nextAll: _dom.nextAll,
  prev: _dom.prev,
  prevAll: _dom.prevAll,
  parent: _dom.parent,
  parents: _dom.parents,
  closest: _dom.closest,
  find: _dom.find,
  children: _dom.children,
  filter: _dom.filter,
  remove: _dom.remove
};
Object.keys(Methods).forEach(function (methodName) {
  Object.defineProperty(_dom.$.fn, methodName, {
    value: Methods[methodName],
    writable: true
  });
});
var _default = _dom.$;
exports.default = _default;
},{"dom7":3}],94:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getBrowser = getBrowser;

var _ssrWindow = require("ssr-window");

var browser;

function calcBrowser() {
  var window = (0, _ssrWindow.getWindow)();

  function isSafari() {
    var ua = window.navigator.userAgent.toLowerCase();
    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;
  }

  return {
    isEdge: !!window.navigator.userAgent.match(/Edge/g),
    isSafari: isSafari(),
    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)
  };
}

function getBrowser() {
  if (!browser) {
    browser = calcBrowser();
  }

  return browser;
}
},{"ssr-window":9}],95:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getDevice = getDevice;

var _ssrWindow = require("ssr-window");

var _getSupport = require("./get-support");

var device;

function calcDevice(_temp) {
  var _ref = _temp === void 0 ? {} : _temp,
      userAgent = _ref.userAgent;

  var support = (0, _getSupport.getSupport)();
  var window = (0, _ssrWindow.getWindow)();
  var platform = window.navigator.platform;
  var ua = userAgent || window.navigator.userAgent;
  var device = {
    ios: false,
    android: false
  };
  var screenWidth = window.screen.width;
  var screenHeight = window.screen.height;
  var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/); // eslint-disable-line

  var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
  var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
  var iphone = !ipad && ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
  var windows = platform === 'Win32';
  var macos = platform === 'MacIntel'; // iPadOs 13 fix

  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];

  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + "x" + screenHeight) >= 0) {
    ipad = ua.match(/(Version)\/([\d.]+)/);
    if (!ipad) ipad = [0, 1, '13_0_0'];
    macos = false;
  } // Android


  if (android && !windows) {
    device.os = 'android';
    device.android = true;
  }

  if (ipad || iphone || ipod) {
    device.os = 'ios';
    device.ios = true;
  } // Export object


  return device;
}

function getDevice(overrides) {
  if (overrides === void 0) {
    overrides = {};
  }

  if (!device) {
    device = calcDevice(overrides);
  }

  return device;
}
},{"./get-support":96,"ssr-window":9}],96:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getSupport = getSupport;

var _ssrWindow = require("ssr-window");

var support;

function calcSupport() {
  var window = (0, _ssrWindow.getWindow)();
  var document = (0, _ssrWindow.getDocument)();
  return {
    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),
    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,
    observer: function checkObserver() {
      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;
    }(),
    passiveListener: function checkPassiveListener() {
      var supportsPassive = false;

      try {
        var opts = Object.defineProperty({}, 'passive', {
          // eslint-disable-next-line
          get: function get() {
            supportsPassive = true;
          }
        });
        window.addEventListener('testPassiveListener', null, opts);
      } catch (e) {// No support
      }

      return supportsPassive;
    }(),
    gestures: function checkGestures() {
      return 'ongesturestart' in window;
    }()
  };
}

function getSupport() {
  if (!support) {
    support = calcSupport();
  }

  return support;
}
},{"ssr-window":9}],97:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.deleteProps = deleteProps;
exports.nextTick = nextTick;
exports.now = now;
exports.getTranslate = getTranslate;
exports.isObject = isObject;
exports.extend = extend;
exports.bindModuleMethods = bindModuleMethods;
exports.getComputedStyle = getComputedStyle;
exports.classesToSelector = classesToSelector;
exports.createElementIfNotDefined = createElementIfNotDefined;

var _ssrWindow = require("ssr-window");

function deleteProps(obj) {
  var object = obj;
  Object.keys(object).forEach(function (key) {
    try {
      object[key] = null;
    } catch (e) {// no getter for object
    }

    try {
      delete object[key];
    } catch (e) {// something got wrong
    }
  });
}

function nextTick(callback, delay) {
  if (delay === void 0) {
    delay = 0;
  }

  return setTimeout(callback, delay);
}

function now() {
  return Date.now();
}

function getComputedStyle(el) {
  var window = (0, _ssrWindow.getWindow)();
  var style;

  if (window.getComputedStyle) {
    style = window.getComputedStyle(el, null);
  }

  if (!style && el.currentStyle) {
    style = el.currentStyle;
  }

  if (!style) {
    style = el.style;
  }

  return style;
}

function getTranslate(el, axis) {
  if (axis === void 0) {
    axis = 'x';
  }

  var window = (0, _ssrWindow.getWindow)();
  var matrix;
  var curTransform;
  var transformMatrix;
  var curStyle = getComputedStyle(el, null);

  if (window.WebKitCSSMatrix) {
    curTransform = curStyle.transform || curStyle.webkitTransform;

    if (curTransform.split(',').length > 6) {
      curTransform = curTransform.split(', ').map(function (a) {
        return a.replace(',', '.');
      }).join(', ');
    } // Some old versions of Webkit choke when 'none' is passed; pass
    // empty string instead in this case


    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);
  } else {
    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');
    matrix = transformMatrix.toString().split(',');
  }

  if (axis === 'x') {
    // Latest Chrome and webkits Fix
    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix
    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers
      else curTransform = parseFloat(matrix[4]);
  }

  if (axis === 'y') {
    // Latest Chrome and webkits Fix
    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix
    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers
      else curTransform = parseFloat(matrix[5]);
  }

  return curTransform || 0;
}

function isObject(o) {
  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';
}

function isNode(node) {
  // eslint-disable-next-line
  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {
    return node instanceof HTMLElement;
  }

  return node && (node.nodeType === 1 || node.nodeType === 11);
}

function extend() {
  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);
  var noExtend = ['__proto__', 'constructor', 'prototype'];

  for (var i = 1; i < arguments.length; i += 1) {
    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];

    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {
      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {
        return noExtend.indexOf(key) < 0;
      });

      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {
        var nextKey = keysArray[nextIndex];
        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);

        if (desc !== undefined && desc.enumerable) {
          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {
            if (nextSource[nextKey].__swiper__) {
              to[nextKey] = nextSource[nextKey];
            } else {
              extend(to[nextKey], nextSource[nextKey]);
            }
          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {
            to[nextKey] = {};

            if (nextSource[nextKey].__swiper__) {
              to[nextKey] = nextSource[nextKey];
            } else {
              extend(to[nextKey], nextSource[nextKey]);
            }
          } else {
            to[nextKey] = nextSource[nextKey];
          }
        }
      }
    }
  }

  return to;
}

function bindModuleMethods(instance, obj) {
  Object.keys(obj).forEach(function (key) {
    if (isObject(obj[key])) {
      Object.keys(obj[key]).forEach(function (subKey) {
        if (typeof obj[key][subKey] === 'function') {
          obj[key][subKey] = obj[key][subKey].bind(instance);
        }
      });
    }

    instance[key] = obj[key];
  });
}

function classesToSelector(classes) {
  if (classes === void 0) {
    classes = '';
  }

  return "." + classes.trim().replace(/([\.:!\/])/g, '\\$1') // eslint-disable-line
  .replace(/ /g, '.');
}

function createElementIfNotDefined($container, params, createElements, checkProps) {
  var document = (0, _ssrWindow.getDocument)();

  if (createElements) {
    Object.keys(checkProps).forEach(function (key) {
      if (!params[key] && params.auto === true) {
        var element = document.createElement('div');
        element.className = checkProps[key];
        $container.append(element);
        params[key] = element;
      }
    });
  }

  return params;
}
},{"ssr-window":9}],98:[function(require,module,exports){
/**
 * Swiper 6.8.4
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2021 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: August 23, 2021
 */

"use strict";
exports.__esModule = true;
exports.default = require('./cjs/components/core/core-class').default;
exports.Swiper = require('./cjs/components/core/core-class').default;
exports.Virtual = require('./cjs/components/virtual/virtual').default;
exports.Keyboard = require('./cjs/components/keyboard/keyboard').default;
exports.Mousewheel = require('./cjs/components/mousewheel/mousewheel').default;
exports.Navigation = require('./cjs/components/navigation/navigation').default;
exports.Pagination = require('./cjs/components/pagination/pagination').default;
exports.Scrollbar = require('./cjs/components/scrollbar/scrollbar').default;
exports.Parallax = require('./cjs/components/parallax/parallax').default;
exports.Zoom = require('./cjs/components/zoom/zoom').default;
exports.Lazy = require('./cjs/components/lazy/lazy').default;
exports.Controller = require('./cjs/components/controller/controller').default;
exports.A11y = require('./cjs/components/a11y/a11y').default;
exports.History = require('./cjs/components/history/history').default;
exports.HashNavigation = require('./cjs/components/hash-navigation/hash-navigation').default;
exports.Autoplay = require('./cjs/components/autoplay/autoplay').default;
exports.EffectFade = require('./cjs/components/effect-fade/effect-fade').default;
exports.EffectCube = require('./cjs/components/effect-cube/effect-cube').default;
exports.EffectFlip = require('./cjs/components/effect-flip/effect-flip').default;
exports.EffectCoverflow = require('./cjs/components/effect-coverflow/effect-coverflow').default;
exports.Thumbs = require('./cjs/components/thumbs/thumbs').default;
},{"./cjs/components/a11y/a11y":10,"./cjs/components/autoplay/autoplay":11,"./cjs/components/controller/controller":12,"./cjs/components/core/core-class":20,"./cjs/components/effect-coverflow/effect-coverflow":75,"./cjs/components/effect-cube/effect-cube":76,"./cjs/components/effect-fade/effect-fade":77,"./cjs/components/effect-flip/effect-flip":78,"./cjs/components/hash-navigation/hash-navigation":79,"./cjs/components/history/history":80,"./cjs/components/keyboard/keyboard":81,"./cjs/components/lazy/lazy":82,"./cjs/components/mousewheel/mousewheel":83,"./cjs/components/navigation/navigation":84,"./cjs/components/pagination/pagination":85,"./cjs/components/parallax/parallax":86,"./cjs/components/scrollbar/scrollbar":87,"./cjs/components/thumbs/thumbs":88,"./cjs/components/virtual/virtual":89,"./cjs/components/zoom/zoom":90}],99:[function(require,module,exports){
"use strict";

require("utils/polyfills");

require("utils/classList");

var _componentLoader = _interopRequireDefault(require("./components/_component-loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Polyfills
// Helpers
// Components loader
// Load all the components
(0, _componentLoader.default)(); // Fix top offset for anchor links (fixed top nav)

require('service/anchor.js');

},{"./components/_component-loader":100,"service/anchor.js":124,"utils/classList":127,"utils/polyfills":129}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _elementExist = _interopRequireDefault(require("utils/elementExist"));

var _mMenu = _interopRequireDefault(require("molecules/m-menu/m-menu.js"));

var _aInput = _interopRequireDefault(require("atoms/form-elements/a-input/a-input.js"));

var _aSelect = _interopRequireDefault(require("atoms/form-elements/a-select/a-select.js"));

var _oHeader = _interopRequireDefault(require("./organisms/o-header/o-header"));

var _oCampaign = _interopRequireDefault(require("./organisms/o-campaign/o-campaign"));

var _oPeopleGrid = _interopRequireDefault(require("./organisms/o-people-grid/o-people-grid"));

var _mMap = _interopRequireDefault(require("./molecules/m-map/m-map"));

var _mShare = _interopRequireDefault(require("./molecules/m-share/m-share"));

var _aSearch = _interopRequireDefault(require("./atoms/a-search/a-search"));

var _mPerson = _interopRequireDefault(require("./molecules/m-person/m-person"));

var _aImageLazy = _interopRequireDefault(require("./atoms/a-image/a-image-lazy"));

var _aImageCover = _interopRequireDefault(require("./atoms/a-image/a-image-cover"));

var _mForm = _interopRequireDefault(require("./molecules/m-form/m-form"));

var _aBreadcrumbs = _interopRequireDefault(require("./atoms/a-breadcrumbs/a-breadcrumbs"));

var _aProgress = _interopRequireDefault(require("./atoms/a-progress/a-progress"));

var _page = _interopRequireDefault(require("./templates/page/page"));

var _oFooter = _interopRequireDefault(require("./organisms/o-footer/o-footer"));

var _aSocialIcon = _interopRequireDefault(require("./atoms/a-social-icon/a-social-icon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

// ================= STOP TO ADD HERE

/**
 * Add your component in the COMPONENTS_TO_LOAD array with the tree properties
 * "view", "name" & "selector"
 *
 * Example: where the selector is the DOM selector for querySelector
 *    { view: MyComponent, name: 'MyComponent', selector: '[data-my-component]'
 * }
 */
var COMPONENTS_TO_LOAD = [{
  view: _mMenu.default,
  name: 'MMenu',
  selector: '.m-menu'
}, // load as very first (performance)
{
  view: _oHeader.default,
  name: 'OHeader',
  selector: '.o-header'
}, // load second (performance)
{
  view: _aSearch.default,
  name: 'ASearch',
  selector: '.a-search'
}, {
  view: _oCampaign.default,
  name: 'OCampaign',
  selector: '.o-campaign'
}, {
  view: _aInput.default,
  name: 'AInput',
  selector: '.a-input'
}, {
  view: _aSelect.default,
  name: 'ASelect',
  selector: '.a-select'
}, {
  view: _oPeopleGrid.default,
  name: 'OPeopleGrid',
  selector: '.o-people-grid--horizontal'
}, {
  view: _mMap.default,
  name: 'MMap',
  selector: '.m-map'
}, {
  view: _mShare.default,
  name: 'MShare',
  selector: '.m-share'
}, {
  view: _mPerson.default,
  name: 'MPerson',
  selector: '.m-person--expandable'
}, {
  view: _aImageLazy.default,
  name: 'AImageLazy',
  selector: '.a-image__image--lazy'
}, {
  view: _aImageCover.default,
  name: 'AImageCover',
  selector: '.a-image'
}, {
  view: _mForm.default,
  name: 'MForm',
  selector: '.m-form'
}, {
  view: _aBreadcrumbs.default,
  name: 'ABreadcrumbs',
  selector: '.a-breadcrumbs'
}, {
  view: _aProgress.default,
  name: 'AProgress',
  selector: '.a-progress'
}, {
  view: _page.default,
  name: 'Page',
  selector: '.page'
}, {
  view: _oFooter.default,
  name: 'OFooter',
  selector: '.o-footer'
}, {
  view: _aSocialIcon.default,
  name: 'ASocialIcon',
  selector: '.a-social-icon'
}];
var LOADED_COMPONENTS = {};
/**
 * Load all the components.
 * All the component are builded using the same interface, so...
 * the .bind method does the magic for everyone.
 */

function _default() {
  for (var i = 0; i < COMPONENTS_TO_LOAD.length; i++) {
    var _COMPONENTS_TO_LOAD$i = COMPONENTS_TO_LOAD[i],
        selector = _COMPONENTS_TO_LOAD$i.selector,
        view = _COMPONENTS_TO_LOAD$i.view,
        name = _COMPONENTS_TO_LOAD$i.name;
    var element = document.querySelectorAll(selector); // Only if the DOM element exist
    // we load the view.

    if ((0, _elementExist.default)(element)) {
      for (var j = 0; j < element.length; j++) {
        // Create the view instance
        // and push the view in the loaded view cache object.
        var v = new view(element[j]);
        v.setComponentsReference(LOADED_COMPONENTS);
        LOADED_COMPONENTS[name + j] = v;
      }
    }
  }

  Object.entries(LOADED_COMPONENTS).forEach(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        component = _ref2[1];

    component.bind();
  }); // Exposes the loaded views for dev purposes
  // window.COMPONENTS = LOADED_COMPONENTS;

  return LOADED_COMPONENTS;
}

},{"./atoms/a-breadcrumbs/a-breadcrumbs":101,"./atoms/a-image/a-image-cover":102,"./atoms/a-image/a-image-lazy":103,"./atoms/a-progress/a-progress":104,"./atoms/a-search/a-search":105,"./atoms/a-social-icon/a-social-icon":106,"./molecules/m-form/m-form":109,"./molecules/m-map/m-map":110,"./molecules/m-person/m-person":115,"./molecules/m-share/m-share":116,"./organisms/o-campaign/o-campaign":117,"./organisms/o-footer/o-footer":118,"./organisms/o-header/o-header":119,"./organisms/o-people-grid/o-people-grid":120,"./templates/page/page":121,"atoms/form-elements/a-input/a-input.js":107,"atoms/form-elements/a-select/a-select.js":108,"molecules/m-menu/m-menu.js":114,"utils/elementExist":128}],101:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var FIRST_LINK_SELECTOR = 'div > span > span > a';
var MENU_SELECTOR = '.o-header__display';
var ITEM_SELECTOR = '.m-menu__nav-link--';
var HAMBURGER_SELECTOR = '.a-hamburger';
var PARENT_CLASS = 'm-menu__nav-link--parent';
var HASH_PREFIX = '#menu-item-';

var ABreadcrumbs = /*#__PURE__*/function (_BaseView) {
  _inherits(ABreadcrumbs, _BaseView);

  var _super = _createSuper(ABreadcrumbs);

  function ABreadcrumbs() {
    _classCallCheck(this, ABreadcrumbs);

    return _super.apply(this, arguments);
  }

  _createClass(ABreadcrumbs, [{
    key: "initialize",
    value: function initialize() {
      this.menu = document.querySelector(MENU_SELECTOR);
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ABreadcrumbs.prototype), "bind", this).call(this);

      this.on('click', FIRST_LINK_SELECTOR, function (event) {
        return _this.handleClick(event);
      });
    }
  }, {
    key: "handleClick",
    value: function handleClick(event) {
      var hash = event.delegateTarget.hash;
      var id = hash.replace(HASH_PREFIX, '');
      var item = this.menu.querySelector(ITEM_SELECTOR + id);

      if (item && item.classList.contains(PARENT_CLASS)) {
        this.openNav(item);
        event.preventDefault();
      }
    }
  }, {
    key: "openNav",
    value: function openNav(item) {
      if (!this.isDesktop()) {
        this.menu.querySelector(HAMBURGER_SELECTOR).click();
      }

      item.click();
    }
  }]);

  return ABreadcrumbs;
}(_baseView.default);

exports.default = ABreadcrumbs;

},{"base-view":122}],102:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var COVER_IMAGE_SELECTOR = '.a-image__image--fp';
var LAZY_LOADED = 'a-image__image--loaded';
var COMPATIBILITY_STATE = 'object-fit-ie';
var LAZY_LOAD_WAIT_MS = 200;
/**
 * Since IE and Edge don't support object-fit, use background: cover css for
 * them
 *
 * @see https://medium.com/@primozcigler/neat-trick-for-css-object-fit-fallback-on-edge-and-other-browsers-afbc53bbb2c3
 */

var AImageCover = /*#__PURE__*/function (_BaseView) {
  _inherits(AImageCover, _BaseView);

  var _super = _createSuper(AImageCover);

  function AImageCover() {
    _classCallCheck(this, AImageCover);

    return _super.apply(this, arguments);
  }

  _createClass(AImageCover, [{
    key: "initialize",
    value: function initialize() {
      this.initUrl = this.getUrl();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AImageCover.prototype), "bind", this).call(this);

      this.on('afterReplaceImage', function () {
        _this.setSizes();

        _this.objectFit();
      });
    }
  }, {
    key: "objectFit",
    value: function objectFit() {
      if ('objectFit' in document.documentElement.style !== false) {
        this.destroy();
        return;
      }

      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);

      if (!img) {
        this.destroy();
        return;
      }

      this.polyfill(img);
    }
  }, {
    key: "polyfill",
    value: function polyfill(img) {
      var _this2 = this;

      var url = this.getUrl(); // wait for lazy loading to be complete

      if (img.classList.contains(LAZY_LOADED)) {
        if (this.initUrl === url) {
          window.setTimeout(function () {
            return _this2.polyfill(img);
          }, LAZY_LOAD_WAIT_MS);
          return;
        }
      }

      var fp = img.className.match(/\ba-image__image--fp-[^\s]+\b/g);

      if (fp) {
        this.addClass('a-image__image--fp');
        this.addClass(fp[0]);
      }

      this.addClass(COMPATIBILITY_STATE);
      this.element.style.backgroundImage = "url('" + url + "')";
      this.addClass(img, COMPATIBILITY_STATE);
    }
  }, {
    key: "getUrl",
    value: function getUrl() {
      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);

      if (img) {
        return img.src;
      }

      return '';
    }
  }, {
    key: "setSizes",
    value: function setSizes() {
      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);
      var cDims = this.element.getBoundingClientRect();
      var cRatio = cDims.width / cDims.height;
      var iRatio = img.naturalWidth / img.naturalHeight;
      var zoom = iRatio > cRatio ? iRatio / cRatio : cRatio / iRatio;
      img.sizes = cDims.width * zoom + 'px';
    }
  }]);

  return AImageCover;
}(_baseView.default);

exports.default = AImageCover;

},{"base-view":122}],103:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _inview = _interopRequireDefault(require("../../../js/service/inview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BASE_CONTAINER_SELECTOR = '.a-image';
var LAZY_STATE = 'a-image__image--lazy';
var LAZY_LOADED = 'a-image__image--loaded';
var DEBOUNCE_DELAY_MS = 300;

var AImageLazy = /*#__PURE__*/function (_BaseView) {
  _inherits(AImageLazy, _BaseView);

  var _super = _createSuper(AImageLazy);

  function AImageLazy() {
    _classCallCheck(this, AImageLazy);

    return _super.apply(this, arguments);
  }

  _createClass(AImageLazy, [{
    key: "initialize",
    value: function initialize() {
      this.loading = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AImageLazy.prototype), "bind", this).call(this);

      (0, _inview.default)(this.element, DEBOUNCE_DELAY_MS).then(function () {
        return _this.maybeLoadImage();
      });
    }
  }, {
    key: "maybeLoadImage",
    value: function maybeLoadImage() {
      var _this2 = this;

      if (!this.loading) {
        this.loading = true;
        var img = this.loadFullImage();

        if (img.complete) {
          this.replaceImage(img);
        } else {
          img.onload = function () {
            return _this2.replaceImage(img);
          };
        }
      }
    }
  }, {
    key: "loadFullImage",
    value: function loadFullImage() {
      var img = this.element.cloneNode(true);
      img.srcset = img.dataset.srcset || '';
      img.sizes = img.dataset.sizes || '';
      img.removeAttribute('data-srcset');
      img.removeAttribute('data-sized');
      return img;
    }
  }, {
    key: "replaceImage",
    value: function replaceImage(img) {
      if (this.element.parentNode) {
        this.element.parentNode.replaceChild(img, this.element);
      }

      img.classList.add(LAZY_LOADED);
      img.classList.remove(LAZY_STATE);
      this.triggerAfterReplaceEvent(img.closest(BASE_CONTAINER_SELECTOR));
      this.destroy();
    }
  }, {
    key: "triggerAfterReplaceEvent",
    value: function triggerAfterReplaceEvent(elem) {
      // use the old fashioned way, cause we need it in IE
      var event = document.createEvent('Event');
      event.initEvent('afterReplaceImage', true, true);
      elem.dispatchEvent(event);
    }
  }]);

  return AImageLazy;
}(_baseView.default);

exports.default = AImageLazy;

},{"../../../js/service/inview":126,"base-view":122}],104:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _inview = _interopRequireDefault(require("../../../js/service/inview"));

var _ajax = _interopRequireDefault(require("../../../js/service/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BAR_SELECTOR = '.a-progress__bar';
var VALUE_SELECTOR = '.a-progress__value';
var LEGEND_SELECTOR = '.a-progress__legend';
var LEGEND_VALUE_SELECTOR = '.a-progress__legend-value';
var LOADING_CLASS = 'a-progress--loading';
var DEBOUNCE_DELAY_MS = 300;
var STEPS = 200;
var STEP_DELAY = 25; // ms
// sync with m-form.js

var SUBMISSION_NOTIFICATION_EVENT = 'supt_form_submission';

var AProgress = /*#__PURE__*/function (_BaseView) {
  _inherits(AProgress, _BaseView);

  var _super = _createSuper(AProgress);

  function AProgress() {
    _classCallCheck(this, AProgress);

    return _super.apply(this, arguments);
  }

  _createClass(AProgress, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AProgress.prototype), "bind", this).call(this);

      this.firstRun = true;
      this.bar = this.getScopedElement(BAR_SELECTOR);
      this.listenForSubmissions();
      this.updateData().finally(function () {
        (0, _inview.default)(_this.element, DEBOUNCE_DELAY_MS).then(function () {
          return _this.startAnimation();
        });
      });
    }
  }, {
    key: "updateData",
    value: function updateData() {
      var _this2 = this;

      if (!('url' in this.bar.dataset)) {
        return new Promise(function (resolve) {
          return resolve();
        });
      }

      var url = this.bar.dataset.url;
      return (0, _ajax.default)(url, 'GET').then(function (resp) {
        if (resp instanceof Object && 'current' in resp && 'goal' in resp && 'legend' in resp) {
          _this2.bar.setAttribute('aria-valuenow', resp.current);

          _this2.bar.setAttribute('aria-valuemax', resp.goal);

          _this2.getScopedElement(LEGEND_SELECTOR).innerHTML = resp.legend;
        }
      });
    }
  }, {
    key: "startAnimation",
    value: function startAnimation() {
      this.value = this.getScopedElement(VALUE_SELECTOR);
      this.legend_value = this.getScopedElement(LEGEND_VALUE_SELECTOR);
      this.min = this.bar.getAttribute('aria-valuemin');
      this.max = this.bar.getAttribute('aria-valuemax');
      this.current = this.bar.getAttribute('aria-valuenow');

      if (this.firstRun) {
        this.step_count = 0;
        this.state = 0;
        this.state_percent = 0;
      }

      this.sumOfSteps = 1 / 2 * STEPS * (STEPS + 1);
      this.spread = this.current - this.min;
      this.timer = setInterval(this.animate.bind(this), STEP_DELAY);
    }
  }, {
    key: "addSubmission",
    value: function addSubmission() {
      this.updateData().then(this.startAnimation.bind(this));
    }
  }, {
    key: "animate",
    value: function animate() {
      if (this.firstRun) {
        this.removeClass(this.element, LOADING_CLASS);
        this.firstRun = false;
      }

      if (this.step_count > STEPS) {
        clearInterval(this.timer); // we need this extra step to circumvent float calculation errors

        var current = this.spread / (this.max - this.min);
        this.bar.style.width = current * 100 + '%';
        this.setLabelValue(this.current);
      } else {
        this.step_count++;
        var easing = (STEPS - this.step_count) / this.sumOfSteps;
        var step_size = this.spread * easing;
        var step_percent = step_size / (this.max - this.min);
        this.state += step_size;
        this.state_percent += step_percent;
        this.bar.style.width = this.state_percent * 100 + '%';
        this.setLabelValue(Math.round(this.state));
      }
    }
  }, {
    key: "setLabelValue",
    value: function setLabelValue(value) {
      if (this.legend_value) {
        this.legend_value.innerText = value;
      }

      this.value.innerText = value;
    }
  }, {
    key: "listenForSubmissions",
    value: function listenForSubmissions() {
      var _this3 = this;

      document.addEventListener(SUBMISSION_NOTIFICATION_EVENT, function (event) {
        if (!('form' in _this3.bar.dataset)) {
          return;
        }

        var progressFormId = parseInt(_this3.bar.dataset.form);
        var eventFormId = parseInt(event.detail.formId);

        if (progressFormId === eventFormId) {
          _this3.addSubmission();
        }
      });
    }
  }, {
    key: "destroy",
    value: function destroy() {
      window.removeEventListener('scroll', this.eventHandler);
      window.removeEventListener('resize', this.eventHandler);

      _get(_getPrototypeOf(AProgress.prototype), "destroy", this).call(this);
    }
  }]);

  return AProgress;
}(_baseView.default);

exports.default = AProgress;

},{"../../../js/service/ajax":123,"../../../js/service/inview":126,"base-view":122}],105:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _classList = _interopRequireDefault(require("./../../../js/utils/classList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ICON_SELECTOR = '.a-search__icon';
var FIELD_SELECTOR = '.a-search__field';
var SUBMIT_LABEL_SELECTOR = '.a-search__submit-label';
var COVERING_CLASS = 'a-search--covering';
var ACTIVE_STATE = 'is-active';
var HOVER_STATE = 'highlight';

var ASearch = /*#__PURE__*/function (_BaseView) {
  _inherits(ASearch, _BaseView);

  var _super = _createSuper(ASearch);

  function ASearch() {
    _classCallCheck(this, ASearch);

    return _super.apply(this, arguments);
  }

  _createClass(ASearch, [{
    key: "initialize",
    value: function initialize() {
      this.icon = this.getScopedElement(ICON_SELECTOR);
      this.field = this.getScopedElement(FIELD_SELECTOR);
      this.overIcon = false;
      this.overField = false;
      this.active = false;
      this.covering = this.element.classList.contains(COVERING_CLASS);

      if (this.covering) {
        this.initialWidth = this.element.scrollWidth;
      }
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ASearch.prototype), "bind", this).call(this);

      this.on('mouseover', ICON_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseover', FIELD_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseout', ICON_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseout', FIELD_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('click', SUBMIT_LABEL_SELECTOR, function (event) {
        return _this.handleGlassClick(event);
      });
      this.on('focus', FIELD_SELECTOR, function () {
        return _this.setFocus(true);
      });
      this.on('blur', FIELD_SELECTOR, function () {
        return _this.setFocus(false);
      });
    }
  }, {
    key: "setHover",
    value: function setHover(event) {
      var overState = 'mouseover' === event.type;
      this.setOverState(event.target, overState);
      var hoverState = !this.active && (this.overIcon || this.overField);
      this.setHoverState(hoverState);
    }
  }, {
    key: "setHoverState",
    value: function setHoverState(active) {
      if (active) {
        if ((0, _classList.default)(this.icon)) {
          this.addClass(this.icon, HOVER_STATE);
        }

        this.addClass(this.field, HOVER_STATE);
      } else {
        if ((0, _classList.default)(this.icon)) {
          this.removeClass(this.icon, HOVER_STATE);
        }

        this.removeClass(this.field, HOVER_STATE);
      }
    }
  }, {
    key: "handleGlassClick",
    value: function handleGlassClick(event) {
      if (!this.active) {
        event.preventDefault();
        this.setFocus(true);
      } else if (!this.field.value) {
        event.preventDefault();
        this.setFocus(false);
      }
    }
  }, {
    key: "setFocus",
    value: function setFocus(active) {
      var _this2 = this;

      if (active) {
        this.open();
      } else {
        setTimeout(function () {
          // without delay we can't click the icon
          // this allows us send the form by click
          _this2.close();
        }, 200);
      }
    }
  }, {
    key: "open",
    value: function open() {
      this.active = true;
      this.field.focus();
      this.setHoverState(false);
      this.addClass(this.field, ACTIVE_STATE); // expand the whole element to make sure we hide all elements on the right

      if (this.covering) {
        var left = this.element.offsetLeft;
        var vw = document.body.clientWidth;
        this.element.style.maxWidth = vw - left + 'px';
        this.addClass(ACTIVE_STATE);
      }
    }
  }, {
    key: "close",
    value: function close() {
      this.removeClass(this.field, ACTIVE_STATE);
      this.active = false; // shrink the background

      if (this.covering) {
        this.element.style.maxWidth = null;
        this.removeClass(ACTIVE_STATE);
      }
    }
  }, {
    key: "setOverState",
    value: function setOverState(target, state) {
      if ('text' === target.type) {
        this.overField = state;
      } else {
        this.overIcon = state;
      }
    }
  }]);

  return ASearch;
}(_baseView.default);

exports.default = ASearch;

},{"./../../../js/utils/classList":127,"base-view":122}],106:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MESSAGE_SELECTOR = '.a-social-icon__copied';
var MESSAGE_VISIBLE_CLASS = 'a-social-icon__copied--visible';

var MShareBlock = /*#__PURE__*/function (_BaseView) {
  _inherits(MShareBlock, _BaseView);

  var _super = _createSuper(MShareBlock);

  function MShareBlock() {
    _classCallCheck(this, MShareBlock);

    return _super.apply(this, arguments);
  }

  _createClass(MShareBlock, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MShareBlock.prototype), "bind", this).call(this);

      if (this.isLinkButton()) {
        this.on('click', function () {
          return _this.copyLink();
        });
      }
    }
  }, {
    key: "isLinkButton",
    value: function isLinkButton() {
      return 'link' in this.element.dataset;
    }
  }, {
    key: "copyLink",
    value: function copyLink() {
      navigator.clipboard.writeText(this.element.dataset.link).then(this.showMessage.bind(this));
    }
  }, {
    key: "showMessage",
    value: function showMessage() {
      var _this2 = this;

      var message = this.getScopedElement(MESSAGE_SELECTOR);
      this.addClass(message, MESSAGE_VISIBLE_CLASS);
      window.setTimeout(function () {
        _this2.removeClass(message, MESSAGE_VISIBLE_CLASS);
      }, 100);
    }
  }]);

  return MShareBlock;
}(_baseView.default);

exports.default = MShareBlock;

},{"base-view":122}],107:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var INPUT_SELECTOR = '.a-input__field';
var LABEL_SELECTOR = '.a-input__label';
var EMPTY_STATE = 'is-empty';
var TOUCHED_STATE = 'is-touched';

var AInput = /*#__PURE__*/function (_BaseView) {
  _inherits(AInput, _BaseView);

  var _super = _createSuper(AInput);

  function AInput() {
    _classCallCheck(this, AInput);

    return _super.apply(this, arguments);
  }

  _createClass(AInput, [{
    key: "initialize",
    value: function initialize() {
      this.input = this.getScopedElement(INPUT_SELECTOR);
      this.label = this.getScopedElement(LABEL_SELECTOR);
      this.manageEmptyState();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AInput.prototype), "bind", this).call(this);

      this.on('keyup', INPUT_SELECTOR, function () {
        return _this.setStateClasses();
      });
      this.on('blur', INPUT_SELECTOR, function () {
        return _this.manageEmptyState();
      }); // don't use the focus event, since it makes input fields unusable on FF mobile for Android
    }
  }, {
    key: "setStateClasses",
    value: function setStateClasses() {
      this.addClass(this.input, TOUCHED_STATE);
      this.manageEmptyState();
    }
  }, {
    key: "manageEmptyState",
    value: function manageEmptyState() {
      if (this.isEmpty()) {
        this.setEmptyState();
      } else {
        this.removeEmptyState();
      }
    }
  }, {
    key: "setEmptyState",
    value: function setEmptyState() {
      this.addClass(this.label, EMPTY_STATE);
      this.addClass(this.input, EMPTY_STATE);
    }
  }, {
    key: "removeEmptyState",
    value: function removeEmptyState() {
      this.removeClass(this.label, EMPTY_STATE);
      this.removeClass(this.input, EMPTY_STATE);
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return !this.input.value;
    }
  }]);

  return AInput;
}(_baseView.default);

exports.default = AInput;

},{"base-view":122}],108:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var INPUT_SELECTOR = '.a-select__field';
var BACKGROUND_SELECTOR = '.a-select__background';
var LABEL_SELECTOR = '.a-select__label';
var FOCUS_WITHIN_STATE = 'has-focus-within';
var EMPTY_STATE = 'is-empty';
var TOUCHED_STATE = 'is-touched';
var VALID_STATE = 'is-valid';
var INVALID_STATE = 'is-invalid';

var ASelect = /*#__PURE__*/function (_BaseView) {
  _inherits(ASelect, _BaseView);

  var _super = _createSuper(ASelect);

  function ASelect() {
    _classCallCheck(this, ASelect);

    return _super.apply(this, arguments);
  }

  _createClass(ASelect, [{
    key: "initialize",
    value: function initialize() {
      this.select = this.getScopedElement(INPUT_SELECTOR);
      this.background = this.getScopedElement(BACKGROUND_SELECTOR);
      this.label = this.getScopedElement(LABEL_SELECTOR);
      this.manageEmptyState();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ASelect.prototype), "bind", this).call(this);

      this.on('focus', INPUT_SELECTOR, function () {
        return _this.onSetFocus();
      });
      this.on('blur', INPUT_SELECTOR, function () {
        return _this.onRemoveFocus();
      });
      this.on('change', INPUT_SELECTOR, function () {
        return _this.onChange();
      }, false, false);
      this.on('click', LABEL_SELECTOR, function () {
        _this.select.focus();
      });
    }
  }, {
    key: "onChange",
    value: function onChange() {
      this.manageEmptyState();
      this.setTouchedState();
      this.manageValidState();
    }
  }, {
    key: "onSetFocus",
    value: function onSetFocus() {
      this.setTouchedState();
      this.addClass(this.background, FOCUS_WITHIN_STATE);
      this.manageEmptyState();
    }
  }, {
    key: "onRemoveFocus",
    value: function onRemoveFocus() {
      this.removeClass(this.background, FOCUS_WITHIN_STATE);
      this.manageEmptyState();
      this.manageValidState();
    }
  }, {
    key: "manageEmptyState",
    value: function manageEmptyState() {
      if (this.isEmpty()) {
        this.setEmptyState();
      } else {
        this.removeEmptyState();
      }
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return !this.select.value;
    }
  }, {
    key: "setEmptyState",
    value: function setEmptyState() {
      this.addClass(this.label, EMPTY_STATE);
    }
  }, {
    key: "removeEmptyState",
    value: function removeEmptyState() {
      this.removeClass(this.label, EMPTY_STATE);
    }
  }, {
    key: "setTouchedState",
    value: function setTouchedState() {
      this.addClass(this.background, TOUCHED_STATE);
    }
  }, {
    key: "manageValidState",
    value: function manageValidState() {
      if (!this.select.hasAttribute('required')) {
        return;
      }

      if (!this.isEmpty()) {
        this.addClass(this.background, VALID_STATE);
        this.removeClass(this.background, INVALID_STATE);
      }

      if (this.select.hasAttribute('required') && this.isEmpty()) {
        this.removeClass(this.background, VALID_STATE);
        this.addClass(this.background, INVALID_STATE);
      }
    }
  }]);

  return ASelect;
}(_baseView.default);

exports.default = ASelect;

},{"base-view":122}],109:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _ajax = _interopRequireDefault(require("../../../js/service/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SUBMIT_BUTTON_SELECTOR = '[data-form-submit]';
var SUBMIT_WRAPPER_SELECTOR = '.m-form__submit-wrapper';
var SUCCESS_MESSAGE_SELECTOR = '.m-form__message--success';
var ERROR_MESSAGE_SELECTOR = '.m-form__message--failure';
var INVALID_MESSAGE_SELECTOR = '.m-form__message--invalid';
var SERVER_FEEDBACK_MESSAGE_SELECTOR = '.m-form__message-error';
var FORM_SELECTOR = '.m-form';
var HIDDEN_STATE = 'is-hidden';
var SHOWN_STATE = 'is-shown';
var INVALID_STATE = 'is-invalid';
var LAST_SUBMISSION = 'pred'; // sync with a-progress.js

var SUBMISSION_NOTIFICATION_EVENT = 'supt_form_submission';

var MForm = /*#__PURE__*/function (_BaseView) {
  _inherits(MForm, _BaseView);

  var _super = _createSuper(MForm);

  function MForm() {
    _classCallCheck(this, MForm);

    return _super.apply(this, arguments);
  }

  _createClass(MForm, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MForm.prototype), "bind", this).call(this);
      /* @noinspection JSCheckFunctionSignaturesInspection */


      this.on('submit', function (e) {
        return _this.submit(e);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(resp) {
      if (resp instanceof Object && 'data' in resp) {
        if ('nonce' in resp.data) {
          this.element.dataset.nonce = resp.data.nonce;
        }

        if ('general' in resp.data) {
          this.showErrorMessage(resp.data.general);
        } else if ('validation' in resp.data) {
          this.showInvalidMessage(resp.data.validation);
        } else {
          this.showErrorMessage('');
        }
      } else {
        this.showErrorMessage('');
      }
    }
  }, {
    key: "clearSendingState",
    value: function clearSendingState() {
      clearInterval(this.sendingTimer);
      this.submitButton.disabled = false;
      this.submitted = false;
      this.submitButton.innerHTML = this.origSubmitLbl;
    }
  }, {
    key: "showInvalidMessage",
    value: function showInvalidMessage(messages) {
      var invalidMessage = this.getScopedElement(INVALID_MESSAGE_SELECTOR);
      var serverMessage = invalidMessage.querySelector(SERVER_FEEDBACK_MESSAGE_SELECTOR);
      var message = '';

      for (var _i = 0, _Object$keys = Object.keys(messages); _i < _Object$keys.length; _i++) {
        var key = _Object$keys[_i];
        var el = this.getScopedElement('[name=' + key + ']');
        this.addClass(el, INVALID_STATE);
        message += "<li>".concat(messages[key], "</li>");
      }

      serverMessage.innerHTML = "<ul>".concat(message, "</ul>");
      this.addClass(invalidMessage, SHOWN_STATE);
      invalidMessage.setAttribute('aria-hidden', 'false');
    }
  }, {
    key: "showErrorMessage",
    value: function showErrorMessage(message) {
      var errorMessage = this.getScopedElement(ERROR_MESSAGE_SELECTOR);
      var serverMessage = errorMessage.querySelector(SERVER_FEEDBACK_MESSAGE_SELECTOR);
      serverMessage.innerHTML = "<ul><li>".concat(message, "</li></ul>");
      this.addClass(errorMessage, SHOWN_STATE);
      errorMessage.setAttribute('aria-hidden', 'false');
    }
  }, {
    key: "initialize",
    value: function initialize() {
      this.submitButton = this.getScopedElement(SUBMIT_BUTTON_SELECTOR);
      this.submitted = false;
      this.sendingTimer = null;
      this.origSubmitLbl = this.submitButton.innerHTML;
      this.predecessorId = MForm.getUrlParam(LAST_SUBMISSION, -1);
    }
  }, {
    key: "showSending",
    value: function showSending() {
      var _this2 = this;

      var lbl = this.element.dataset.sendingLbl;
      var counter = 0;
      this.sendingTimer = setInterval(function () {
        counter++;
        counter = counter <= 3 ? counter : 0;
        var lblAdd = '';

        for (var i = 0; i < counter; i++) {
          lblAdd += '.';
        }

        _this2.submitButton.innerHTML = lbl + '<span class="m-form__sending">' + lblAdd + '</span>';
      }, 300);
    }
  }, {
    key: "submit",
    value: function submit(event) {
      var _this3 = this;

      event.preventDefault(); // hide error messages

      var errorMessage = this.getScopedElement(ERROR_MESSAGE_SELECTOR);
      var invalidMessage = this.getScopedElement(INVALID_MESSAGE_SELECTOR);
      errorMessage.setAttribute('aria-hidden', 'true');
      invalidMessage.setAttribute('aria-hidden', 'true');
      this.removeClass(errorMessage, SHOWN_STATE);
      this.removeClass(invalidMessage, SHOWN_STATE); // prevent double submit

      if (this.submitted) {
        return;
      }

      this.submitButton.disabled = true;
      this.submitted = true; // mark as sending

      this.showSending(); // the form data

      var data = this.getFormData();
      var url = this.element.action; // get a nonce, then submit the form

      this.getNonce().then(function (nonce) {
        return data.append('nonce', nonce);
      }).then(function () {
        return _this3.sendForm(url, data);
      }).then(function (resp) {
        return _this3.showSuccess(resp);
      }).then(function () {
        return _this3.sendSubmissionNotification();
      }).catch(function (resp) {
        return _this3.handleError(resp);
      }).finally(this.clearSendingState.bind(this));
    }
  }, {
    key: "sendForm",
    value: function sendForm(url, data) {
      return (0, _ajax.default)(url, 'POST', data).then(function (resp) {
        if (resp instanceof Object && 'success' in resp && true === resp.success) {
          return Promise.resolve(resp.data);
        } else {
          return Promise.reject(resp);
        }
      });
    }
  }, {
    key: "getFormData",
    value: function getFormData() {
      var data = new FormData(this.element);
      /**
       * append the following data in JS, so we have a first spam barrier
       */
      // add wordpress action

      data.append('action', 'supt_form_submit'); // add form id

      data.append('form_id', this.element.dataset.formId); // add action id (engagement funnel plugin)

      if (this.element.dataset.actionId) {
        data.append('action_id', this.element.dataset.actionId);
      } // add config id (engagement funnel plugin)


      if (this.element.dataset.configId) {
        data.append('config_id', this.element.dataset.configId);
      } // add the id of the last form


      data.append('predecessor_id', this.predecessorId);
      return data;
    }
  }, {
    key: "showSuccess",
    value: function showSuccess(data) {
      if (-1 === data.next_action_id || !data.html) {
        if (data.redirect && -1 === data.next_action_id) {
          window.location.href = MForm.buildRedirectUrl(data.redirect, data.predecessor_id);
        } else {
          this.predecessorId = data.predecessor_id;
          var submitWrapper = this.getScopedElement(SUBMIT_WRAPPER_SELECTOR);
          var successMessage = this.getScopedElement(SUCCESS_MESSAGE_SELECTOR);
          submitWrapper.setAttribute('aria-hidden', 'true');
          successMessage.setAttribute('aria-hidden', 'false');
          this.addClass(submitWrapper, HIDDEN_STATE);
          this.addClass(successMessage, SHOWN_STATE);
        }
      } else {
        var parent = this.element.parentNode.parentNode;
        parent.innerHTML = data.html;
        var form = new MForm(parent.querySelector(FORM_SELECTOR));
        form.bind();
        this.destroy();
      }
    }
  }, {
    key: "getNonce",
    value: function getNonce() {
      return (0, _ajax.default)(this.element.dataset.nonce, 'GET');
    }
  }, {
    key: "sendSubmissionNotification",
    value: function sendSubmissionNotification() {
      var notification = new CustomEvent(SUBMISSION_NOTIFICATION_EVENT, {
        detail: {
          formId: this.element.dataset.formId
        }
      });
      document.dispatchEvent(notification);
    }
  }], [{
    key: "getUrlParam",
    value: function getUrlParam(param, defaultValue) {
      var url = new URL(window.location.href);
      var value = url.searchParams.get(param);

      if (value) {
        return value;
      }

      return defaultValue;
    }
  }, {
    key: "buildRedirectUrl",
    value: function buildRedirectUrl(url, formId) {
      url = new URL(url);
      url.searchParams.set(LAST_SUBMISSION, formId);
      return url.toString();
    }
  }]);

  return MForm;
}(_baseView.default);

exports.default = MForm;

},{"../../../js/service/ajax":123,"base-view":122}],110:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("../../../js/base-view"));

var _classList = _interopRequireDefault(require("../../../js/utils/classList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SELECT_SELECTOR = '#party-selector';
var DIALOG_WRAPPER_SELECTOR = '.m-map__dialog';
var MAP_SELECTOR = '.m-map__map';
var MAP_SECTION_SELECTOR = MAP_SELECTOR + ' .map-item';
var DIALOG_CLOSE_SELECTOR = '.a-simple-dialog__close';
var MODAL_SELECTOR = '.m-map__modal';
var DIALOG_ID_PREFIX = 'a-simple-dialog--';
var OPEN_STATE = 'is-open';
var ALIGN_LEFT_STATE = 'pull-left';
var ACTIVE_STATE = 'is-active';
/*eslint no-console: ["error", { allow: ["error"] }] */

var MMap = /*#__PURE__*/function (_BaseView) {
  _inherits(MMap, _BaseView);

  var _super = _createSuper(MMap);

  function MMap() {
    _classCallCheck(this, MMap);

    return _super.apply(this, arguments);
  }

  _createClass(MMap, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMap.prototype), "initialize", this).call(this);

      this.select = this.getScopedElement(SELECT_SELECTOR);
      this.map = this.getScopedElement(MAP_SELECTOR);
      this.modal = this.getScopedElement(MODAL_SELECTOR);
      this.dialog = null;
      this.mapItem = null;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMap.prototype), "bind", this).call(this);

      this.on('change', SELECT_SELECTOR, function () {
        return _this.selectHandler();
      }, false, false);
      this.on('click', MAP_SECTION_SELECTOR, function (event) {
        return _this.mapClickHandler(event);
      });
      this.on('click', DIALOG_CLOSE_SELECTOR, function () {
        return _this.closeClickHandler();
      });
      this.on('click', MODAL_SELECTOR, function () {
        return _this.closeClickHandler();
      });
    }
  }, {
    key: "closeClickHandler",
    value: function closeClickHandler() {
      this.hideDialog();
      this.unhighlightClickedMapItem();
    }
  }, {
    key: "mapClickHandler",
    value: function mapClickHandler(event) {
      this.select.value = event.delegateTarget.id;
      this.select.dispatchEvent(new Event('change'));
      this.setPosition(event.pageX);
    }
  }, {
    key: "selectHandler",
    value: function selectHandler() {
      this.hideDialog();
      this.unhighlightClickedMapItem();

      if (!this.select.value) {
        this.dialog = null;
        return;
      }

      this.showDialog();
      this.highlightClickedMapItem();
    }
  }, {
    key: "setMapItem",
    value: function setMapItem() {
      var selector = '#' + this.select.value;
      var mapItem = this.getScopedElement(MAP_SELECTOR).querySelector(selector);

      if (!mapItem) {
        this.mapItem = null;
        console.error("NOT FOUND: There was no map item with the selector '".concat(selector, "'."));
        return;
      }

      this.mapItem = mapItem;
    }
  }, {
    key: "unhighlightClickedMapItem",
    value: function unhighlightClickedMapItem() {
      // check for class list as well to ensure that browsers,
      // which don't support the classList property on svg elements,
      // don't crash.
      if (this.mapItem && (0, _classList.default)(this.mapItem)) {
        this.removeClass(this.mapItem, ACTIVE_STATE);
      }
    }
  }, {
    key: "highlightClickedMapItem",
    value: function highlightClickedMapItem() {
      this.setMapItem(); // check for class list as well to ensure that browsers,
      // which don't support the classList property on svg elements,
      // don't crash.

      if (this.mapItem && (0, _classList.default)(this.mapItem)) {
        this.addClass(this.mapItem, ACTIVE_STATE);
      }
    }
  }, {
    key: "setDialog",
    value: function setDialog() {
      var selector = '#' + DIALOG_ID_PREFIX + this.select.value;
      var dialog = this.getScopedElement(selector);

      if (!dialog) {
        this.dialog = null;
        console.error("NOT FOUND: There was no address with the selector '".concat(selector, "'."));
        return;
      }

      this.dialog = dialog.closest(DIALOG_WRAPPER_SELECTOR);
    }
  }, {
    key: "hideDialog",
    value: function hideDialog() {
      this.hideModal();

      if (this.dialog) {
        this.removeClass(this.dialog, OPEN_STATE);
        this.removeClass(this.dialog, ALIGN_LEFT_STATE);
      }
    }
  }, {
    key: "showDialog",
    value: function showDialog() {
      this.setDialog();

      if (this.dialog) {
        this.addClass(this.dialog, OPEN_STATE);
        this.showModal();
      }
    }
  }, {
    key: "showModal",
    value: function showModal() {
      this.addClass(this.modal, OPEN_STATE);
    }
  }, {
    key: "hideModal",
    value: function hideModal() {
      this.removeClass(this.modal, OPEN_STATE);
    }
  }, {
    key: "setPosition",
    value: function setPosition(clickOffsetX) {
      if (!this.dialog) {
        return;
      }

      var mapOffsetX = this.map.getBoundingClientRect().left;
      var relClickOffsetX = clickOffsetX - mapOffsetX;

      if (this.map.clientWidth - relClickOffsetX < this.dialog.clientWidth) {
        this.addClass(this.dialog, ALIGN_LEFT_STATE);
      }
    }
  }]);

  return MMap;
}(_baseView.default);

exports.default = MMap;

},{"../../../js/base-view":122,"../../../js/utils/classList":127}],111:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SUBMENU_SELECTOR = exports.OPEN_STATE = exports.MMenuBase = exports.MAIN_ENTRY_SELECTOR = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MAIN_ENTRY_SELECTOR = '.m-menu__nav-link--js-hook';
exports.MAIN_ENTRY_SELECTOR = MAIN_ENTRY_SELECTOR;
var SUBMENU_SELECTOR = '.m-menu__submenu';
exports.SUBMENU_SELECTOR = SUBMENU_SELECTOR;
var OPEN_STATE = 'is-open';
exports.OPEN_STATE = OPEN_STATE;

var MMenuBase = /*#__PURE__*/function (_BaseView) {
  _inherits(MMenuBase, _BaseView);

  var _super = _createSuper(MMenuBase);

  function MMenuBase() {
    _classCallCheck(this, MMenuBase);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuBase, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuBase.prototype), "initialize", this).call(this);

      this.currentSub = null;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuBase.prototype), "bind", this).call(this);

      this.on('click', MAIN_ENTRY_SELECTOR, function (event) {
        return _this.toggleSubNavigation(event);
      });
    }
  }, {
    key: "toggleSubNavigation",
    value: function toggleSubNavigation(event) {
      if (this.currentSub !== event.target) {
        this.closeSubNavigation();
        this.openSubNavigation(event);
      } else {
        event.preventDefault();
        this.closeSubNavigation();
      }
    }
  }, {
    key: "openSubNavigation",
    value: function openSubNavigation(event) {
      var element = event.target;
      var submenu = element.parentElement.querySelector(SUBMENU_SELECTOR);

      if (null === submenu) {
        // if there is no submenu, handle it as regular link
        return;
      }

      event.preventDefault();
      this.currentSub = element;
      this.addClass(submenu, OPEN_STATE);
      this.addClass(element, OPEN_STATE);
      element.setAttribute('aria-expanded', true);
      this.afterOpenSubNavigation(element);
    }
  }, {
    key: "closeSubNavigation",
    value: function closeSubNavigation() {
      this.currentSub = null;
      var elements = this.getScopedElements(SUBMENU_SELECTOR + ', ' + MAIN_ENTRY_SELECTOR);

      for (var key in elements) {
        if (Object.prototype.hasOwnProperty.call(elements, key)) {
          this.removeClass(elements[key], OPEN_STATE);
          elements[key].setAttribute('aria-expanded', false);
        }
      }

      this.afterCloseSubNavigation();
    }
  }, {
    key: "closeNavigation",
    value: function closeNavigation() {
      this.closeSubNavigation();
    }
    /**
     * overwrite those functions to do some more stuff on opening
     *
     * @param {EventTarget} element
     */

  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation() {}
    /**
     * overwrite those functions to do some more stuff on closing
     */

  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {}
  }]);

  return MMenuBase;
}(_baseView.default);

exports.MMenuBase = MMenuBase;

},{"base-view":122}],112:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _mMenuBase = require("./m-menu--base");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var CLOSE_SELECTOR = '.m-menu__submenu__close';
var UP = 1;
var DOWN = 2;

var MMenuDesktop = /*#__PURE__*/function (_MMenuBase) {
  _inherits(MMenuDesktop, _MMenuBase);

  var _super = _createSuper(MMenuDesktop);

  function MMenuDesktop() {
    _classCallCheck(this, MMenuDesktop);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuDesktop, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuDesktop.prototype), "initialize", this).call(this);

      this.ticking = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuDesktop.prototype), "bind", this).call(this);

      this.on('click', CLOSE_SELECTOR, function () {
        return _this.closeSubNavigation();
      });
    }
  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation() {
      var _this2 = this;

      this.clickedItem = this.currentSub;
      this.submenu = this.getScopedElement(_mMenuBase.SUBMENU_SELECTOR + '.' + _mMenuBase.OPEN_STATE);

      if (this.submenu.offsetHeight !== this.submenu.scrollHeight) {
        this.setInitialScrollPos();

        this.scrollHandler = function (event) {
          return _this2.requestTick(event);
        };

        window.addEventListener('scroll', this.scrollHandler, false);
      }
    }
  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {
      if (this.submenu) {
        window.removeEventListener('scroll', this.scrollHandler);
      }

      if (this.clickedItem === document.activeElement) {
        document.activeElement.blur();
        this.clickedItem = null;
      }
    }
  }, {
    key: "setInitialScrollPos",
    value: function setInitialScrollPos() {
      var scrollTop = this.scrollTop();
      var submenuHeight = this.submenu.scrollHeight;
      var body = document.body;
      var html = document.documentElement;
      var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);

      if (scrollTop + submenuHeight > documentHeight) {
        window.scrollTo(0, scrollTop - submenuHeight);
      }

      this.initialScrollPos = this.lastPos = this.scrollTop();
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking && this.submenu) {
        this.ticking = true;
        window.requestAnimationFrame(this.scrollSubNavigation.bind(this));
      }
    }
  }, {
    key: "scrollTop",
    value: function scrollTop() {
      // browser incompatibilities are so awful
      return window.scrollY || window.pageYOffset || document.body.scrollTop + (document.documentElement && document.documentElement.scrollTop || 0);
    }
  }, {
    key: "scrollSubNavigation",
    value: function scrollSubNavigation() {
      var scrollTop = this.scrollTop();
      var direction = DOWN;

      if (this.lastPos > scrollTop) {
        direction = UP;
      }

      if (this.lastDirection !== direction) {
        if (UP === direction) {
          this.initialScrollPos = scrollTop - this.submenu.scrollTop;
        } else {
          this.initialScrollPos = scrollTop;
        }
      }

      this.submenu.scrollTop = scrollTop - this.initialScrollPos;
      this.lastPos = scrollTop;
      this.lastDirection = direction;
      this.ticking = false;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(MMenuDesktop.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
    }
  }]);

  return MMenuDesktop;
}(_mMenuBase.MMenuBase);

exports.default = MMenuDesktop;

},{"./m-menu--base":111}],113:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _mMenuBase = require("./m-menu--base");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var NAV_WRAPPER_SELECTOR = '.m-menu__nav';
var MAIN_MENU_SELECTOR = '.m-menu__nav-list';
var RIGHT_SELECTOR = '.m-menu__right';
var HAMBURGER_SELECTOR = '.a-hamburger';
var SUBMENU_ITEMS_SELECTOR = '.m-menu__nav-item';
var HIDDEN_STATE = 'is-hidden';
var ACTIVE_STATE = 'is-active';

var MMenuMobile = /*#__PURE__*/function (_MMenuBase) {
  _inherits(MMenuMobile, _MMenuBase);

  var _super = _createSuper(MMenuMobile);

  function MMenuMobile() {
    _classCallCheck(this, MMenuMobile);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuMobile, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuMobile.prototype), "initialize", this).call(this);

      this.mobileOpen = false;
      this.navWrapper = this.getScopedElement(NAV_WRAPPER_SELECTOR);
      this.mainNav = this.getScopedElement(MAIN_MENU_SELECTOR);
      this.hamburger = this.getScopedElement(HAMBURGER_SELECTOR);
      this.right = this.getScopedElement(RIGHT_SELECTOR);
      this.menuItems = this.getScopedElements(SUBMENU_ITEMS_SELECTOR);
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuMobile.prototype), "bind", this).call(this);

      this.on('click', HAMBURGER_SELECTOR, function (event) {
        return _this.toggleMainNavigation(event);
      });
    }
  }, {
    key: "toggleMainNavigation",
    value: function toggleMainNavigation(event) {
      event.preventDefault();

      if (this.mobileOpen) {
        this.closeMainNavigation();
      } else {
        this.openMainNavigation();
      }
    }
  }, {
    key: "openMainNavigation",
    value: function openMainNavigation() {
      this.mobileOpen = true;
      this.addClass(this.navWrapper, _mMenuBase.OPEN_STATE);
      this.addClass(this.hamburger, _mMenuBase.OPEN_STATE);
      this.addClass(this.mainNav, _mMenuBase.OPEN_STATE);
      this.addClass(this.right, _mMenuBase.OPEN_STATE);
      this.hamburger.setAttribute('aria-expanded', true);
    }
  }, {
    key: "closeMainNavigation",
    value: function closeMainNavigation() {
      this.mobileOpen = false;
      this.removeClass(this.navWrapper, _mMenuBase.OPEN_STATE);
      this.removeClass(this.hamburger, _mMenuBase.OPEN_STATE);
      this.removeClass(this.mainNav, _mMenuBase.OPEN_STATE);
      this.removeClass(this.right, _mMenuBase.OPEN_STATE);
      this.hamburger.setAttribute('aria-expanded', false);
      this.closeSubNavigation();
    }
  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation(element) {
      var _this2 = this;

      var isRight = element.closest(RIGHT_SELECTOR);

      if (isRight) {
        return;
      }

      this.removeClass(this.right, _mMenuBase.OPEN_STATE);
      var liClicked = element.parentElement;
      this.menuItems.forEach(function (item) {
        if (item === liClicked) {
          _this2.addClass(item, ACTIVE_STATE);
        } else {
          _this2.addClass(item, HIDDEN_STATE);
        }
      });
    }
  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {
      var _this3 = this;

      if (this.mobileOpen) {
        this.addClass(this.right, _mMenuBase.OPEN_STATE);
      }

      this.menuItems.forEach(function (item) {
        _this3.removeClass(item, HIDDEN_STATE);

        _this3.removeClass(item, ACTIVE_STATE);
      });
    }
  }, {
    key: "closeNavigation",
    value: function closeNavigation() {
      this.closeMainNavigation();
    }
  }]);

  return MMenuMobile;
}(_mMenuBase.MMenuBase);

exports.default = MMenuMobile;

},{"./m-menu--base":111}],114:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _mMenuDesktop = _interopRequireDefault(require("./m-menu--desktop"));

var _mMenuMobile = _interopRequireDefault(require("./m-menu--mobile"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var FORCE_MOBILE_CLASS = 'm-menu--force-mobile';
var HAMBURGER_SELECTOR = '.a-hamburger';

var MMenu = /*#__PURE__*/function (_BaseView) {
  _inherits(MMenu, _BaseView);

  var _super = _createSuper(MMenu);

  function MMenu() {
    _classCallCheck(this, MMenu);

    return _super.apply(this, arguments);
  }

  _createClass(MMenu, [{
    key: "initialize",
    value: function initialize() {
      this.forceMobile = this.element.classList.contains(FORCE_MOBILE_CLASS);
      this.distractionFree = (0, _distractionFree.default)();
      this.setMenuHandler();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenu.prototype), "bind", this).call(this);

      this.setMenuHandler = this.setMenuHandler.bind(this);
      window.addEventListener('resize', this.setMenuHandler);

      if (this.distractionFree) {
        this.on('click', HAMBURGER_SELECTOR, function () {
          return _this.removeForceMobile();
        });
      } else {
        this.removeForceMobile();
      }
    }
  }, {
    key: "removeForceMobile",
    value: function removeForceMobile() {
      if (this.forceMobile) {
        this.element.classList.remove(FORCE_MOBILE_CLASS);
        this.forceMobile = false;
      }
    }
  }, {
    key: "setMenuHandler",
    value: function setMenuHandler() {
      var old = this.handler;
      var old_desktop = this.desktop;
      this.desktop = this.isDesktop();

      if (old_desktop !== this.desktop) {
        if (this.desktop) {
          this.handler = new _mMenuDesktop.default(this.element);
        } else {
          this.handler = new _mMenuMobile.default(this.element);
        }

        if (undefined !== old) {
          old.closeNavigation();
          old.destroy();
        }

        this.handler.initialize();
        this.handler.bind();
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(MMenu.prototype), "destroy", this).call(this);

      window.removeEventListener('resize', this.setMenuHandler);
    }
  }]);

  return MMenu;
}(_baseView.default);

exports.default = MMenu;

},{"../../../js/service/distractionFree":125,"./m-menu--desktop":112,"./m-menu--mobile":113,"base-view":122}],115:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BUTTON_SELECTOR = '.m-person__toggle';
var CONTENT_SELECTOR = '.m-person__expandable';
var COLLABSED_STATE = 'is-collapsed';
var EXPANDED_STATE = 'is-expanded';

var MPerson = /*#__PURE__*/function (_BaseView) {
  _inherits(MPerson, _BaseView);

  var _super = _createSuper(MPerson);

  function MPerson() {
    _classCallCheck(this, MPerson);

    return _super.apply(this, arguments);
  }

  _createClass(MPerson, [{
    key: "initialize",
    value: function initialize() {
      this.button = this.getScopedElement(BUTTON_SELECTOR);
      this.content = this.getScopedElement(CONTENT_SELECTOR);
      this.hiddenAnchorTags = this.getScopedElement(CONTENT_SELECTOR).getElementsByTagName('a');
      this.setTabIndexes(-1);
      this.expanded = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MPerson.prototype), "bind", this).call(this);

      this.on('click', BUTTON_SELECTOR, function () {
        return _this.toggle();
      });
    }
  }, {
    key: "toggle",
    value: function toggle() {
      if (this.expanded) {
        // collaps it
        this.removeClass(this.button, EXPANDED_STATE);
        this.removeClass(this.content, EXPANDED_STATE);
        this.addClass(this.button, COLLABSED_STATE);
        this.addClass(this.content, COLLABSED_STATE);
        this.button.innerText = this.button.getAttribute('data-expand');
        this.setTabIndexes(-1);
      } else {
        // expand it
        this.removeClass(this.button, COLLABSED_STATE);
        this.removeClass(this.content, COLLABSED_STATE);
        this.addClass(this.button, EXPANDED_STATE);
        this.addClass(this.content, EXPANDED_STATE);
        this.button.innerText = this.button.getAttribute('data-collaps');
        this.setTabIndexes(0);
      }

      this.content.setAttribute('aria-hidden', this.expanded);
      this.expanded = !this.expanded;
    }
  }, {
    key: "setTabIndexes",
    value: function setTabIndexes(int) {
      for (var i = 0; i < this.hiddenAnchorTags.length; i++) {
        this.hiddenAnchorTags.item(i).tabIndex = int;
      }
    }
  }]);

  return MPerson;
}(_baseView.default);

exports.default = MPerson;

},{"base-view":122}],116:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MOBILE_SELECTOR = '.m-share__mobile';
var LABEL_SELECTOR = '.m-share__desc';
var CLOSE_SELECTOR = '.m-share__close';
var BUTTONS_SELECTOR = '.m-share__buttons';
var OPEN_STATE = 'is-open';
var HAS_SHARE_BUTTONS = 'has-share-buttons';

var MShare = /*#__PURE__*/function (_BaseView) {
  _inherits(MShare, _BaseView);

  var _super = _createSuper(MShare);

  function MShare() {
    _classCallCheck(this, MShare);

    return _super.apply(this, arguments);
  }

  _createClass(MShare, [{
    key: "initialize",
    value: function initialize() {
      this.buttons = this.getScopedElement(BUTTONS_SELECTOR);
      this.addPageBottomMargin();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MShare.prototype), "bind", this).call(this);

      this.on('click', MOBILE_SELECTOR, function () {
        return _this.show();
      });
      this.on('click', LABEL_SELECTOR, function () {
        return _this.show();
      });
      this.on('click', CLOSE_SELECTOR, function () {
        return _this.hide();
      });
    }
  }, {
    key: "addPageBottomMargin",
    value: function addPageBottomMargin() {
      this.addClass(document.body, HAS_SHARE_BUTTONS);
    }
  }, {
    key: "show",
    value: function show() {
      if (!this.isDesktop()) {
        this.addClass(this.buttons, OPEN_STATE);
        this.addClass(OPEN_STATE);
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      if (!this.isDesktop()) {
        this.removeClass(this.buttons, OPEN_STATE);
        this.removeClass(OPEN_STATE);
      }
    }
  }]);

  return MShare;
}(_baseView.default);

exports.default = MShare;

},{"./../../../js/base-view":122}],117:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _lodash = _interopRequireDefault(require("lodash.throttle"));

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var IMAGE_SELECTOR = '.o-campaign__image';
var IMAGE_WRAPPER_SELECTOR = '.o-campaign__image-wrapper';
var BARS_SELECTOR = '.o-campaign__bars';
var SCROLL_SPEED = 0.1;
var RESIZE_THROTTLING_MS = 100;

var OCampaign = /*#__PURE__*/function (_BaseView) {
  _inherits(OCampaign, _BaseView);

  var _super = _createSuper(OCampaign);

  function OCampaign() {
    _classCallCheck(this, OCampaign);

    return _super.apply(this, arguments);
  }

  _createClass(OCampaign, [{
    key: "initialize",
    value: function initialize() {
      this.image = this.getScopedElement(IMAGE_SELECTOR);
      this.imageWrapper = this.getScopedElement(IMAGE_WRAPPER_SELECTOR);
      this.bars = this.getScopedElement(BARS_SELECTOR);
      this.header = this.getComponent('OHeader0');
      this.branding = this.header.getBranding();
      this.ticking = false;
      this.setBarPosition();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(OCampaign.prototype), "bind", this).call(this);

      this.scrollHandler = function () {
        return _this.requestTick();
      };

      this.resizeHandler = (0, _lodash.default)(function () {
        return _this.onResize();
      }, RESIZE_THROTTLING_MS, {
        leading: false,
        trailing: true
      });
      window.addEventListener('resize', this.resizeHandler);
      window.addEventListener('scroll', this.scrollHandler, false);
      this.scrollHandler();
      this.resizeHandler();
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking) {
        this.ticking = true;
        window.requestAnimationFrame(this.onScroll.bind(this));
      }
    }
  }, {
    key: "onResize",
    value: function onResize() {
      this.setBrandingHeight();
      this.setScrollStop();
      this.setBarPosition();
    }
  }, {
    key: "onScroll",
    value: function onScroll() {
      if (!this.header.getFixed()) {
        this.imageWrapper.style.transform = this.translate(-this.getScrollTop());
      } else {
        if (this.getScrollTop() < this.scrollStop) {
          var delta = this.getScrollTop() - this.brandingHeight;
          this.imageWrapper.style.transform = this.translate(-this.brandingHeight - delta * SCROLL_SPEED);
        }
      }

      this.ticking = false;
    }
  }, {
    key: "setBrandingHeight",
    value: function setBrandingHeight() {
      if (this.branding) {
        this.brandingHeight = this.branding.clientHeight;
      } else {
        this.brandingHeight = 0;
      }
    }
  }, {
    key: "setScrollStop",
    value: function setScrollStop() {
      this.scrollStop = this.brandingHeight + this.element.clientHeight;
    }
  }, {
    key: "translate",
    value: function translate(y) {
      return "translate3d(0px, ".concat(y, "px, 0px)");
    }
  }, {
    key: "setBarPosition",
    value: function setBarPosition() {
      if (!this.bars) {
        return;
      }

      var barsBottom = this.bars.getBoundingClientRect().bottom;
      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      var scrollTop = this.getScrollTop();
      var viewportBottom = viewportHeight + scrollTop;

      if (barsBottom > viewportBottom) {
        this.bars.style.height = viewportHeight - this.header.element.clientHeight + scrollTop + 'px';
      } else {
        this.bars.style.height = this.image.clientHeight + 'px';
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(OCampaign.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
      window.removeEventListener('resize', this.resizeHandler);
    }
  }]);

  return OCampaign;
}(_baseView.default);

exports.default = OCampaign;

},{"./../../../js/base-view":122,"lodash.throttle":8}],118:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DISTRACTING_WIDGET_CLASS = 'distracting_widget';

var OFooter = /*#__PURE__*/function (_BaseView) {
  _inherits(OFooter, _BaseView);

  var _super = _createSuper(OFooter);

  function OFooter() {
    _classCallCheck(this, OFooter);

    return _super.apply(this, arguments);
  }

  _createClass(OFooter, [{
    key: "initialize",
    value: function initialize() {
      this.distractionFree = (0, _distractionFree.default)();
    }
  }, {
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(OFooter.prototype), "bind", this).call(this);

      if (!this.distractionFree) {
        this.showWidgets();
      }
    }
  }, {
    key: "showWidgets",
    value: function showWidgets() {
      var widgets = this.getScopedElements('.' + DISTRACTING_WIDGET_CLASS);

      var _iterator = _createForOfIteratorHelper(widgets),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var el = _step.value;
          this.removeClass(el, DISTRACTING_WIDGET_CLASS);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
  }]);

  return OFooter;
}(_baseView.default);

exports.default = OFooter;

},{"../../../js/service/distractionFree":125,"base-view":122}],119:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BRANDING_SELECTOR = '.o-header__branding';
var MENU_SELECTOR = '.o-header__menu';
var VISIBLE_MENU_SELECTOR = '.o-header__display';

var OHeader = /*#__PURE__*/function (_BaseView) {
  _inherits(OHeader, _BaseView);

  var _super = _createSuper(OHeader);

  function OHeader() {
    _classCallCheck(this, OHeader);

    return _super.apply(this, arguments);
  }

  _createClass(OHeader, [{
    key: "initialize",
    value: function initialize() {
      this.branding = this.getScopedElement(BRANDING_SELECTOR);
      this.menu = this.getScopedElement(MENU_SELECTOR);
      this.visibleMenu = this.getScopedElement(VISIBLE_MENU_SELECTOR);
      this.ticking = false;
      this.isFixed = false;
      this.setMenuBarPosition();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(OHeader.prototype), "bind", this).call(this);

      this.scrollHandler = function () {
        return _this.requestTick();
      };

      window.addEventListener('scroll', this.scrollHandler, false);
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking) {
        this.ticking = true;
        window.requestAnimationFrame(this.setMenuBarPosition.bind(this));
      }
    }
  }, {
    key: "setMenuBarPosition",
    value: function setMenuBarPosition() {
      if (!this.branding) {
        this.isFixed = true;
        return;
      }

      var scrollTop = this.getScrollTop();

      if (!this.isFixed && scrollTop >= this.branding.clientHeight) {
        this.isFixed = true;
        this.visibleMenu.style.transform = this.translate(-this.branding.clientHeight);
      }

      if (scrollTop < this.branding.clientHeight) {
        this.visibleMenu.style.transform = this.translate(-scrollTop);
        this.isFixed = false;
      }

      this.ticking = false;
    }
  }, {
    key: "translate",
    value: function translate(y) {
      return "translate3d(0px, ".concat(y, "px, 0px)");
    }
  }, {
    key: "getFixed",
    value: function getFixed() {
      return this.isFixed;
    }
  }, {
    key: "getMenu",
    value: function getMenu() {
      return this.menu;
    }
  }, {
    key: "getBranding",
    value: function getBranding() {
      return this.branding;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(OHeader.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
    }
  }]);

  return OHeader;
}(_baseView.default);

exports.default = OHeader;

},{"base-view":122}],120:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

var _swiper = _interopRequireWildcard(require("swiper"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// Install modules
_swiper.default.use([_swiper.Keyboard, _swiper.Navigation, _swiper.A11y]);

var SWIPER_CONTAINER_SELECTOR = '.o-people-grid__library-container';
var SLIDER_NEXT_BUTTON_SELECTOR = '.o-people-grid__slide-button--right';
var SLIDER_PREVIOUS_BUTTON_SELECTOR = '.o-people-grid__slide-button--left';

var OPeopleGrid = /*#__PURE__*/function (_BaseView) {
  _inherits(OPeopleGrid, _BaseView);

  var _super = _createSuper(OPeopleGrid);

  function OPeopleGrid() {
    _classCallCheck(this, OPeopleGrid);

    return _super.apply(this, arguments);
  }

  _createClass(OPeopleGrid, [{
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(OPeopleGrid.prototype), "bind", this).call(this);

      new _swiper.default(SWIPER_CONTAINER_SELECTOR, {
        slidesPerView: 'auto',
        navigation: {
          nextEl: SLIDER_NEXT_BUTTON_SELECTOR,
          prevEl: SLIDER_PREVIOUS_BUTTON_SELECTOR
        },
        keyboard: {
          enabled: true,
          onlyInViewport: false
        }
      });
    }
  }]);

  return OPeopleGrid;
}(_baseView.default);

exports.default = OPeopleGrid;

},{"./../../../js/base-view":122,"swiper":98}],121:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DISTRACTING_BREADCRUMBS_CLASS = 'page__breadcrumbs--distracting';
var DISTRACTING_POST_META_CLASS = 'page__post-meta--distracting';

var Page = /*#__PURE__*/function (_BaseView) {
  _inherits(Page, _BaseView);

  var _super = _createSuper(Page);

  function Page() {
    _classCallCheck(this, Page);

    return _super.apply(this, arguments);
  }

  _createClass(Page, [{
    key: "initialize",
    value: function initialize() {
      this.distractionFree = (0, _distractionFree.default)();
    }
  }, {
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(Page.prototype), "bind", this).call(this);

      if (!this.distractionFree) {
        this.showBreadcrumbs();
        this.showPostMeta();
      }
    }
  }, {
    key: "showBreadcrumbs",
    value: function showBreadcrumbs() {
      this.removeDistractingClass(DISTRACTING_BREADCRUMBS_CLASS);
    }
  }, {
    key: "showPostMeta",
    value: function showPostMeta() {
      this.removeDistractingClass(DISTRACTING_POST_META_CLASS);
    }
  }, {
    key: "removeDistractingClass",
    value: function removeDistractingClass(domClass) {
      var el = this.getScopedElement('.' + domClass);

      if (el) {
        this.removeClass(el, domClass);
      }
    }
  }]);

  return Page;
}(_baseView.default);

exports.default = Page;

},{"../../../js/service/distractionFree":125,"base-view":122}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _lodash = _interopRequireDefault(require("lodash.isfunction"));

var _lodash2 = _interopRequireDefault(require("lodash.isempty"));

var _lodash3 = _interopRequireDefault(require("lodash.isboolean"));

var _delegate = _interopRequireDefault(require("delegate"));

var _lodash4 = _interopRequireDefault(require("lodash.pullat"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

/**
 * Generate an incremental
 * view id.
 */
var VIEW_ID = 0;

function generateViewId() {
  return ++VIEW_ID;
}
/**
 * Parse the array to retrieve the strings and an optional Element.
 * @param array args Array containing the arguments of a function
 * @return object
 */


function parseClassArguments(args) {
  var el = this.element;
  var classes = [];
  Array.prototype.forEach.call(args, function (arg) {
    if (typeof arg == 'string') {
      classes.push(arg);
    } else if (arg.nodeType == 1) {
      el = arg;
    }
  });
  return {
    el: el,
    classes: classes
  };
}
/**
 * Base view class.
 * All the components should extend this class.
 *
 * @class BaseView
 */


var BaseView = /*#__PURE__*/function () {
  /**
   * Constructor.
   */
  function BaseView(element) {
    _classCallCheck(this, BaseView);

    this.element = element;
    this.channel = document;
    this.vid = generateViewId();
    this.events = {
      global: {},
      element: {}
    };
  }
  /**
   * Default initialize method.
   */


  _createClass(BaseView, [{
    key: "initialize",
    value: function initialize() {}
    /**
     * Return the events attached to the element & channel.
     *
     * @return {Object}
     */

  }, {
    key: "getEvents",
    value: function getEvents() {
      return this.events;
    }
    /**
     * Main bind function.
     * Trigger all the code on the view.
     */

  }, {
    key: "bind",
    value: function bind() {
      // this.delegateEvents();
      this.initialize();
    }
    /**
     * Get a scoped element.
     *
     * @param {String} selector
     * @return {Element}
     */

  }, {
    key: "getScopedElement",
    value: function getScopedElement(selector) {
      return this.element.querySelector(selector);
    }
    /**
     * Get a scoped collection of elements.
     *
     * @param {String} selector
     * @return {elementList}            A non-live NodeList of element objects.
     */

  }, {
    key: "getScopedElements",
    value: function getScopedElements(selector) {
      return this.element.querySelectorAll(selector);
    }
    /**
     * Is desktop?
     *
     * @return {boolean}
     */

  }, {
    key: "isDesktop",
    value: function isDesktop() {
      if (window && window.innerWidth) {
        return window.innerWidth >= 1024;
      }

      return true;
    }
    /**
     * How far have we scrolled down?
     *
     * @return {number}
     */

  }, {
    key: "getScrollTop",
    value: function getScrollTop() {
      return window.pageYOffset || document.documentElement.scrollTop;
    }
    /**
     * Trigger a global event.
     *
     * @param {String} event_name
     * @param {Object} params
     */

  }, {
    key: "trigger",
    value: function trigger(event_name) {
      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      this.channel.dispatchEvent(new CustomEvent(event_name, params));
    }
    /**
     * Bind a callback to an element event or global event.
     *
     * @param {String}        event_name
     * @param {String}        selector        Optional.
     * @param {Function}    handler
     * @param {Boolean}        channel            Optional. Default: false. Whether or not to bind a global event.
     * @param {Boolean}     stopPropagation     Optional. Default: false. Whether the handler event should stop the events propagation.
     */

  }, {
    key: "on",
    value: function on(event_name, selector, handler) {
      var channel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
      var stopPropagation = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;

      // Handle the optional selector argument
      if ((0, _lodash.default)(selector)) {
        channel = handler || false;
        handler = selector;
        selector = null;
      }

      if (channel) {
        if (!(event_name in this.events.global)) {
          this.events.global[event_name] = [];
        }

        this.channel.addEventListener(event_name, handler);
        this.events.global[event_name].push(handler);
      } else {
        if (!(event_name in this.events.element)) {
          this.events.element[event_name] = [];
        }

        if ((0, _lodash2.default)(selector)) {
          this.element.addEventListener(event_name, handler);
          this.events.element[event_name].push({
            selector: 'self',
            handler: handler
          });
        } else {
          this.events.element[event_name].push({
            selector: selector,
            handler: handler,
            delegate: (0, _delegate.default)(this.element, selector, event_name, function (e) {
              if (stopPropagation) {
                e.stopPropagation();
              }

              handler(e);
            }, true)
          });
        }
      }
    }
    /**
     * Unbind the given element event or global event.
     *
     * @param {String}        event_name
     * @param {String}        selector        Optional.
     * @param {Boolean}        channel            Optional. Default: false. Whether or not to unbind a global event.
     */

  }, {
    key: "off",
    value: function off(event_name) {
      var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var channel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      // Handle the optional selector argument
      if ((0, _lodash3.default)(selector)) {
        channel = selector;
        selector = null;
      }

      if (channel) {
        if (event_name in this.events.global) {
          for (var i = 0; i < this.events.global[event_name].length; i++) {
            this.channel.removeEventListener(event_name, this.events.global[event_name][i]);
          }
        }

        delete this.events.global[event_name];
      } else if (event_name in this.events.element) {
        if ((0, _lodash2.default)(selector)) {
          // Events binded to the element
          for (var _i = this.events.element[event_name].length - 1; _i >= 0; _i--) {
            if ('self' == this.events.element[event_name][_i].selector) {
              this.element.removeEventListener(event_name, this.events.element[event_name][_i].handler);
            } else {
              this.events.element[event_name][_i].delegate.destroy();
            }
          }

          delete this.events.element[event_name];
        } else {
          // unbind delegates events
          for (var _i2 = this.events.element[event_name].length - 1; _i2 >= 0; _i2--) {
            if (selector == this.events.element[event_name][_i2].selector) {
              this.events.element[event_name][_i2].delegate.destroy();

              (0, _lodash4.default)(this.events.element[event_name], _i2);
            }
          }
        }
      }
    }
    /**
     * Helper to easily add classes in a single line which will then add one per class (IE10 compatible)
     *
     * @param {Element}        el        Optional. Default: current View element. The target element to add classes.
     * @param {String}        cls        Class name separated by a comma or space.
     */

  }, {
    key: "addClass",
    value: function addClass() {
      var _parseClassArguments$ = parseClassArguments.call(this, arguments),
          el = _parseClassArguments$.el,
          classes = _parseClassArguments$.classes;

      classes.forEach(function (c) {
        el.classList.add(c);
      });
    }
    /**
     * Helper to easily remove classes in a single line which will then remove one per class (IE10 compatible)
     *
     * @param {Element}  el     Optional. Default: current View element. The target element to remove classes.
     * @param {String}   class  Class name. Multiple classes can be passed as extra args.
     */

  }, {
    key: "removeClass",
    value: function removeClass() {
      var _parseClassArguments$2 = parseClassArguments.call(this, arguments),
          el = _parseClassArguments$2.el,
          classes = _parseClassArguments$2.classes;

      classes.forEach(function (c) {
        el.classList.remove(c);
      });
    }
    /**
     * Sets a reference to the loaded components
     *
     * @param {Object} components
     */

  }, {
    key: "setComponentsReference",
    value: function setComponentsReference(components) {
      this.components = components;
    }
    /**
     * Returns the component with the referenced key
     *
     * @param key
     * @returns {*}
     */

  }, {
    key: "getComponent",
    value: function getComponent(key) {
      return this.components[key];
    }
    /**
     * Off all events (element & global).
     *
     * @global viewport_service
     */

  }, {
    key: "destroy",
    value: function destroy() {
      for (var event_name in this.events.global) {
        this.off(event_name, null, null, true);
      }

      for (var _event_name in this.events.element) {
        this.off(_event_name);
      } // Remove listeners attached to the viewport service
      // viewport_service.removeAllListeners();

    }
  }]);

  return BaseView;
}();

exports.default = BaseView;

},{"delegate":2,"lodash.isboolean":4,"lodash.isempty":5,"lodash.isfunction":6,"lodash.pullat":7}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ajax;

function ajax(url, method) {
  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return new Promise(function (resolve, reject) {
    var xhr = new XMLHttpRequest();
    xhr.open(method, url);
    xhr.send(data);

    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        var raw = xhr.responseText;
        var resp;

        try {
          resp = JSON.parse(raw);
        } catch (err) {
          resp = {};
        }

        if (xhr.status === 200) {
          resolve(resp);
        } else {
          reject(resp);
        }
      }
    };
  });
}

},{}],124:[function(require,module,exports){
"use strict";

/**
 * Make sure anchor links jump dont jump to high (fixed header)
 *
 * Adaptation of https://stackoverflow.com/a/13067009
 */
(function (document, history, location) {
  var HISTORY_SUPPORT = !!(history && history.pushState);
  var anchorScrolls = {
    ANCHOR_REGEX: /^#[^ ]+$/,
    ADDITIONAL_MARGIN_PX: 20,

    /**
     * Establish events, and fix initial scroll position if a hash is provided.
     */
    init: function init() {
      this.scrollToCurrent();
      window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
      document.body.addEventListener('click', this.delegateAnchors.bind(this));
    },

    /**
     * Return the offset amount to deduct from the normal scroll position.
     * Modify as appropriate to allow for dynamic calculations
     */
    getFixedOffset: function getFixedOffset() {
      var nav = document.getElementsByClassName('o-header__menu');
      var admin = document.getElementById('wpadminbar');
      var offset = this.ADDITIONAL_MARGIN_PX;

      if (admin && admin.offsetHeight) {
        offset += admin.offsetHeight;
      }

      if (nav.length && nav[0].offsetHeight) {
        offset += nav[0].offsetHeight;
      }

      return offset;
    },

    /**
     * If the provided href is an anchor which resolves to an element on the
     * page, scroll to it.
     * @param  {String} href
     * @return {Boolean} - Was the href an anchor.
     */
    scrollIfAnchor: function scrollIfAnchor(href, pushToHistory) {
      var match, rect, anchorOffset;

      if (!this.ANCHOR_REGEX.test(href)) {
        return false;
      }

      match = document.getElementById(href.slice(1));

      if (match) {
        rect = match.getBoundingClientRect();
        anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
        window.scrollTo(window.pageXOffset, anchorOffset); // Add the state to history as-per normal anchor links

        if (HISTORY_SUPPORT && pushToHistory) {
          history.pushState({}, document.title, location.pathname + href);
        }
      }

      return !!match;
    },

    /**
     * Attempt to scroll to the current location's hash.
     */
    scrollToCurrent: function scrollToCurrent() {
      this.scrollIfAnchor(window.location.hash);
    },

    /**
     * If the click event's target was an anchor, fix the scroll position.
     */
    delegateAnchors: function delegateAnchors(e) {
      var elem = e.target;

      if (elem.nodeName === 'A' && this.scrollIfAnchor(elem.getAttribute('href'), true)) {
        e.preventDefault();
      }
    }
  };
  window.addEventListener('DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls));
})(window.document, window.history, window.location);

},{}],125:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Determines if the page should be displayed distraction free.
 *
 * Returns true if the page satisfies any of the following criteria:
 * - the url query string `focus` is present
 * - the referrer is not the current site
 *
 * Therefore visitors following internal links do not see the
 * distraction free page, unless the `focus` query string was set.
 *
 * @return boolean
 */
var distractionFree = function distractionFree() {
  var url, referrer;

  try {
    url = new URL(window.location);
  } catch (e) {
    return true;
  }

  if (url.searchParams.get('focus') !== null) {
    return true;
  }

  try {
    referrer = new URL(document.referrer);
  } catch (e) {
    return true;
  }

  return url.hostname !== referrer.hostname;
};

var _default = distractionFree;
exports.default = _default;

},{}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

var InView = /*#__PURE__*/function () {
  function InView(element, callback, debounceDelayMS) {
    _classCallCheck(this, InView);

    this.element = element;
    this.callback = callback;
    this.debounceDelay = debounceDelayMS;
  }

  _createClass(InView, [{
    key: "requestTick",
    value: function requestTick() {
      var _this = this;

      this.timer = this.timer || setTimeout(function () {
        _this.timer = null;

        if (!_this.ticking) {
          _this.ticking = true;
          window.requestAnimationFrame(_this.maybeTriggerAction.bind(_this));
        }
      }, this.debounceDelay);
    }
  }, {
    key: "maybeTriggerAction",
    value: function maybeTriggerAction() {
      if (this.inView()) {
        this.callback();
      }

      this.ticking = false;
    }
  }, {
    key: "inView",
    value: function inView() {
      var windowTop = window.pageYOffset;
      var windowBottom = windowTop + window.innerHeight;
      var imgRect = this.element.getBoundingClientRect();
      var imgTop = windowTop + imgRect.top;
      var imgBottom = imgTop + imgRect.height;
      return windowTop < imgBottom && windowBottom > imgTop;
    }
  }]);

  return InView;
}();

function _default(element) {
  var debounceDelayMS = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;
  var resolve;
  var promise = new Promise(function (res) {
    return resolve = res;
  });
  var watcher = new InView(element, function () {
    return resolve();
  }, debounceDelayMS);
  var handler = watcher.requestTick.bind(watcher);
  window.addEventListener('scroll', handler, false);
  window.addEventListener('resize', handler, false);
  watcher.requestTick();
  return promise.then(function () {
    window.removeEventListener('scroll', handler);
    window.removeEventListener('resize', handler);
  });
}

},{}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Check if the browser supports the class list property for this element.
 *
 * @param {Element} element
 * @return {Boolean}
 */
function browserSupportsClassList(element) {
  return !!element.classList;
}

var _default = browserSupportsClassList;
exports.default = _default;

},{}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Check if a dom element exist.
 *
 * @param {Element} element
 * @return {Boolean}
 */
function elementExist(element) {
  return !!element;
}

var _default = elementExist;
exports.default = _default;

},{}],129:[function(require,module,exports){
(function (global){(function (){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/* eslint-disable */

/* Polyfill service v3.38.0
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 *
 * Features requested: Array.prototype.entries,Array.prototype.forEach,CustomEvent,Element.prototype.closest,HTMLPictureElement,Object.assign,Object.entries,Promise,URL,matchMedia
 *
 * - _ESAbstract.ArrayCreate, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Call, License: CC0 (required by "Array.prototype.forEach", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "_ESAbstract.OrdinaryToPrimitive", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Get, License: CC0 (required by "Array.prototype.forEach", "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "_ESAbstract.IsRegExp", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.OrdinaryToPrimitive", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map", "_ESAbstract.ArraySpeciesCreate", "_ESAbstract.GetPrototypeFromConstructor", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct")
 * - _ESAbstract.HasProperty, License: CC0 (required by "Array.prototype.forEach", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsArray, License: CC0 (required by "Array.isArray", "URL", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsCallable, License: CC0 (required by "Array.prototype.forEach", "Function.prototype.bind", "Object.getOwnPropertyDescriptor", "Object.assign", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "_ESAbstract.OrdinaryToPrimitive", "Array.prototype.filter", "Symbol", "Array.prototype.map")
 * - _ESAbstract.RequireObjectCoercible, License: CC0 (required by "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.ToBoolean, License: CC0 (required by "_ESAbstract.IsRegExp", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.filter", "Symbol", "_Iterator")
 * - _ESAbstract.ToInteger, License: CC0 (required by "_ESAbstract.ToLength", "Array.prototype.forEach", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.ToLength, License: CC0 (required by "Array.prototype.forEach", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.ToObject, License: CC0 (required by "Array.prototype.entries", "Array.prototype.forEach", "Object.assign", "Object.entries", "Object.defineProperties", "URL", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.map", "_ESAbstract.GetV", "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString")
 * - _ESAbstract.GetV, License: CC0 (required by "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.GetMethod, License: CC0 (required by "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach", "_ESAbstract.IsConstructor", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Type, License: CC0 (required by "_ESAbstract.ToString", "Array.prototype.forEach", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Object.create", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.ToPrimitive", "_ESAbstract.IsRegExp", "String.prototype.includes", "_ESAbstract.OrdinaryToPrimitive", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map", "_ESAbstract.IsConstructor", "_ESAbstract.GetPrototypeFromConstructor", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct")
 * - _ESAbstract.GetPrototypeFromConstructor, License: CC0 (required by "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsConstructor, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map", "_ESAbstract.Construct")
 * - _ESAbstract.IsRegExp, License: CC0 (required by "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.OrdinaryToPrimitive, License: CC0 (required by "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.ToPrimitive, License: CC0 (required by "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.ToString, License: CC0 (required by "Array.prototype.forEach", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map")
 * - document, License: CC0 (required by "Event", "CustomEvent", "matchMedia", "~html5-elements", "HTMLPictureElement", "Element", "Element.prototype.matches", "Element.prototype.closest", "document.querySelector")
 * - ~html5-elements, License: MIT (required by "HTMLPictureElement")
 * - Element, License: CC0 (required by "Event", "CustomEvent", "matchMedia", "Element.prototype.matches", "Element.prototype.closest", "document.querySelector")
 * - document.querySelector, License: CC0 (required by "Element.prototype.matches", "Element.prototype.closest")
 * - Element.prototype.matches, License: CC0 (required by "Element.prototype.closest")
 * - Element.prototype.closest, License: CC0
 * - HTMLPictureElement, License: MIT
 * - Object.defineProperty, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.CreateMethodProperty", "Array.prototype.forEach", "Object.assign", "Object.entries", "Event", "CustomEvent", "matchMedia", "Object.defineProperties", "URL", "_Iterator", "Object.setPrototypeOf", "Symbol", "Symbol.iterator", "Symbol.toStringTag", "_ESAbstract.CreateDataProperty", "_ESAbstract.CreateDataPropertyOrThrow", "Array.prototype.filter", "Array.prototype.map", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate")
 * - _ESAbstract.CreateDataProperty, License: CC0 (required by "_ESAbstract.CreateDataPropertyOrThrow", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.CreateDataPropertyOrThrow, License: CC0 (required by "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.CreateMethodProperty, License: CC0 (required by "Array.prototype.entries", "Array.prototype.forEach", "Object.assign", "Object.entries", "Object.getOwnPropertyDescriptor", "Object.keys", "Object.defineProperties", "URL", "Array.isArray", "Object.create", "_ArrayIterator", "Object.setPrototypeOf", "String.prototype.includes", "Function.prototype.bind", "_Iterator", "Object.getPrototypeOf", "Object.getOwnPropertyNames", "Symbol", "Array.prototype.filter", "Array.prototype.map", "Object.freeze")
 * - Array.isArray, License: CC0 (required by "URL")
 * - Array.prototype.forEach, License: CC0 (required by "URL", "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Function.prototype.bind, License: MIT (required by "Object.getOwnPropertyDescriptor", "Object.assign", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "Array.prototype.map")
 * - Object.freeze, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.getOwnPropertyDescriptor, License: CC0 (required by "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Object.getOwnPropertyNames, License: CC0 (required by "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Object.getPrototypeOf, License: CC0 (required by "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map")
 * - Object.keys, License: MIT (required by "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.EnumerableOwnProperties, License: CC0 (required by "Object.entries")
 * - Object.entries, License: CC0
 * - Object.assign, License: CC0 (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.defineProperties, License: CC0 (required by "URL", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Object.create")
 * - Object.create, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries", "Object.setPrototypeOf", "Symbol", "_Iterator", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Array.prototype.map")
 * - _ESAbstract.OrdinaryCreateFromConstructor, License: CC0 (required by "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Construct, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.ArraySpeciesCreate, License: CC0 (required by "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - Array.prototype.filter, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Array.prototype.map, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.setPrototypeOf, License: MIT (required by "_ArrayIterator", "Array.prototype.entries")
 * - Promise, License: MIT
 * - String.prototype.includes, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries")
 * - Symbol, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Symbol.iterator", "Symbol.toStringTag")
 * - Symbol.iterator, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Symbol.toStringTag, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - _Iterator, License: MIT (required by "_ArrayIterator", "Array.prototype.entries")
 * - _ArrayIterator, License: MIT (required by "Array.prototype.entries")
 * - Array.prototype.entries, License: CC0
 * - URL, License: CC0-1.0
 * - Window, License: CC0 (required by "Event", "CustomEvent", "matchMedia")
 * - Event, License: CC0 (required by "CustomEvent", "matchMedia")
 * - CustomEvent, License: CC0
 * - matchMedia, License: CC0 */
(function (undefined) {
  // _ESAbstract.ArrayCreate
  // 9.4.2.2. ArrayCreate ( length [ , proto ] )
  function ArrayCreate(length
  /* [, proto] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: length is an integer Number ≥ 0.
    // 2. If length is -0, set length to +0.
    if (1 / length === -Infinity) {
      length = 0;
    } // 3. If length>2^32-1, throw a RangeError exception.


    if (length > Math.pow(2, 32) - 1) {
      throw new RangeError('Invalid array length');
    } // 4. If proto is not present, set proto to the intrinsic object %ArrayPrototype%.
    // 5. Let A be a newly created Array exotic object.


    var A = []; // 6. Set A's essential internal methods except for [[DefineOwnProperty]] to the default ordinary object definitions specified in 9.1.
    // 7. Set A.[[DefineOwnProperty]] as specified in 9.4.2.1.
    // 8. Set A.[[Prototype]] to proto.
    // 9. Set A.[[Extensible]] to true.
    // 10. Perform ! OrdinaryDefineOwnProperty(A, "length", PropertyDescriptor{[[Value]]: length, [[Writable]]: true, [[Enumerable]]: false, [[Configurable]]: false}).

    A.length = length; // 11. Return A.

    return A;
  } // _ESAbstract.Call

  /* global IsCallable */
  // 7.3.12. Call ( F, V [ , argumentsList ] )


  function Call(F, V
  /* [, argumentsList] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. If argumentsList is not present, set argumentsList to a new empty List.
    var argumentsList = arguments.length > 2 ? arguments[2] : []; // 2. If IsCallable(F) is false, throw a TypeError exception.

    if (IsCallable(F) === false) {
      throw new TypeError(Object.prototype.toString.call(F) + 'is not a function.');
    } // 3. Return ? F.[[Call]](V, argumentsList).


    return F.apply(V, argumentsList);
  } // _ESAbstract.Get
  // 7.3.1. Get ( O, P )


  function Get(O, P) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Return ? O.[[Get]](P, O).
    return O[P];
  } // _ESAbstract.HasProperty
  // 7.3.10. HasProperty ( O, P )


  function HasProperty(O, P) {
    // eslint-disable-line no-unused-vars
    // Assert: Type(O) is Object.
    // Assert: IsPropertyKey(P) is true.
    // Return ? O.[[HasProperty]](P).
    return P in O;
  } // _ESAbstract.IsArray
  // 7.2.2. IsArray ( argument )


  function IsArray(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    // 2. If argument is an Array exotic object, return true.
    // 3. If argument is a Proxy exotic object, then
    // a. If argument.[[ProxyHandler]] is null, throw a TypeError exception.
    // b. Let target be argument.[[ProxyTarget]].
    // c. Return ? IsArray(target).
    // 4. Return false.
    // Polyfill.io - We can skip all the above steps and check the string returned from Object.prototype.toString().
    return Object.prototype.toString.call(argument) === '[object Array]';
  } // _ESAbstract.IsCallable
  // 7.2.3. IsCallable ( argument )


  function IsCallable(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    // 2. If argument has a [[Call]] internal method, return true.
    // 3. Return false.
    // Polyfill.io - Only function objects have a [[Call]] internal method. This means we can simplify this function to check that the argument has a type of function.
    return typeof argument === 'function';
  } // _ESAbstract.RequireObjectCoercible
  // 7.2.1. RequireObjectCoercible ( argument )
  // The abstract operation ToObject converts argument to a value of type Object according to Table 12:
  // Table 12: ToObject Conversions

  /*
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Argument Type | Result                                                                                                                             |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Undefined     | Throw a TypeError exception.                                                                                                       |
  | Null          | Throw a TypeError exception.                                                                                                       |
  | Boolean       | Return argument.                                                                                                                   |
  | Number        | Return argument.                                                                                                                   |
  | String        | Return argument.                                                                                                                   |
  | Symbol        | Return argument.                                                                                                                   |
  | Object        | Return argument.                                                                                                                   |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  */


  function RequireObjectCoercible(argument) {
    // eslint-disable-line no-unused-vars
    if (argument === null || argument === undefined) {
      throw TypeError();
    }

    return argument;
  } // _ESAbstract.ToBoolean
  // 7.1.2. ToBoolean ( argument )
  // The abstract operation ToBoolean converts argument to a value of type Boolean according to Table 9:

  /*
  --------------------------------------------------------------------------------------------------------------
  | Argument Type | Result                                                                                     |
  --------------------------------------------------------------------------------------------------------------
  | Undefined     | Return false.                                                                              |
  | Null          | Return false.                                                                              |
  | Boolean       | Return argument.                                                                           |
  | Number        | If argument is +0, -0, or NaN, return false; otherwise return true.                        |
  | String        | If argument is the empty String (its length is zero), return false; otherwise return true. |
  | Symbol        | Return true.                                                                               |
  | Object        | Return true.                                                                               |
  --------------------------------------------------------------------------------------------------------------
  */


  function ToBoolean(argument) {
    // eslint-disable-line no-unused-vars
    return Boolean(argument);
  } // _ESAbstract.ToInteger
  // 7.1.4. ToInteger ( argument )


  function ToInteger(argument) {
    // eslint-disable-line no-unused-vars
    // 1. Let number be ? ToNumber(argument).
    var number = Number(argument); // 2. If number is NaN, return +0.

    if (isNaN(number)) {
      return 0;
    } // 3. If number is +0, -0, +∞, or -∞, return number.


    if (1 / number === Infinity || 1 / number === -Infinity || number === Infinity || number === -Infinity) {
      return number;
    } // 4. Return the number value that is the same sign as number and whose magnitude is floor(abs(number)).


    return (number < 0 ? -1 : 1) * Math.floor(Math.abs(number));
  } // _ESAbstract.ToLength

  /* global ToInteger */
  // 7.1.15. ToLength ( argument )


  function ToLength(argument) {
    // eslint-disable-line no-unused-vars
    // 1. Let len be ? ToInteger(argument).
    var len = ToInteger(argument); // 2. If len ≤ +0, return +0.

    if (len <= 0) {
      return 0;
    } // 3. Return min(len, 253-1).


    return Math.min(len, Math.pow(2, 53) - 1);
  } // _ESAbstract.ToObject
  // 7.1.13 ToObject ( argument )
  // The abstract operation ToObject converts argument to a value of type Object according to Table 12:
  // Table 12: ToObject Conversions

  /*
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Argument Type | Result                                                                                                                             |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Undefined     | Throw a TypeError exception.                                                                                                       |
  | Null          | Throw a TypeError exception.                                                                                                       |
  | Boolean       | Return a new Boolean object whose [[BooleanData]] internal slot is set to argument. See 19.3 for a description of Boolean objects. |
  | Number        | Return a new Number object whose [[NumberData]] internal slot is set to argument. See 20.1 for a description of Number objects.    |
  | String        | Return a new String object whose [[StringData]] internal slot is set to argument. See 21.1 for a description of String objects.    |
  | Symbol        | Return a new Symbol object whose [[SymbolData]] internal slot is set to argument. See 19.4 for a description of Symbol objects.    |
  | Object        | Return argument.                                                                                                                   |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  */


  function ToObject(argument) {
    // eslint-disable-line no-unused-vars
    if (argument === null || argument === undefined) {
      throw TypeError();
    }

    return Object(argument);
  } // _ESAbstract.GetV

  /* global ToObject */
  // 7.3.2 GetV (V, P)


  function GetV(v, p) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: IsPropertyKey(P) is true.
    // 2. Let O be ? ToObject(V).
    var o = ToObject(v); // 3. Return ? O.[[Get]](P, V).

    return o[p];
  } // _ESAbstract.GetMethod

  /* global GetV, IsCallable */
  // 7.3.9. GetMethod ( V, P )


  function GetMethod(V, P) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: IsPropertyKey(P) is true.
    // 2. Let func be ? GetV(V, P).
    var func = GetV(V, P); // 3. If func is either undefined or null, return undefined.

    if (func === null || func === undefined) {
      return undefined;
    } // 4. If IsCallable(func) is false, throw a TypeError exception.


    if (IsCallable(func) === false) {
      throw new TypeError('Method not callable: ' + P);
    } // 5. Return func.


    return func;
  } // _ESAbstract.Type
  // "Type(x)" is used as shorthand for "the type of x"...


  function Type(x) {
    // eslint-disable-line no-unused-vars
    switch (_typeof(x)) {
      case 'undefined':
        return 'undefined';

      case 'boolean':
        return 'boolean';

      case 'number':
        return 'number';

      case 'string':
        return 'string';

      case 'symbol':
        return 'symbol';

      default:
        // typeof null is 'object'
        if (x === null) return 'null'; // Polyfill.io - This is here because a Symbol polyfill will have a typeof `object`.

        if ('Symbol' in this && x instanceof this.Symbol) return 'symbol';
        return 'object';
    }
  } // _ESAbstract.GetPrototypeFromConstructor

  /* global Get, Type */
  // 9.1.14. GetPrototypeFromConstructor ( constructor, intrinsicDefaultProto )


  function GetPrototypeFromConstructor(constructor, intrinsicDefaultProto) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object. The corresponding object must be an intrinsic that is intended to be used as the [[Prototype]] value of an object.
    // 2. Assert: IsCallable(constructor) is true.
    // 3. Let proto be ? Get(constructor, "prototype").
    var proto = Get(constructor, "prototype"); // 4. If Type(proto) is not Object, then

    if (Type(proto) !== 'object') {
      // a. Let realm be ? GetFunctionRealm(constructor).
      // b. Set proto to realm's intrinsic object named intrinsicDefaultProto.
      proto = intrinsicDefaultProto;
    } // 5. Return proto.


    return proto;
  } // _ESAbstract.IsConstructor

  /* global Type */
  // 7.2.4. IsConstructor ( argument )


  function IsConstructor(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    if (Type(argument) !== 'object') {
      return false;
    } // 2. If argument has a [[Construct]] internal method, return true.
    // 3. Return false.
    // Polyfill.io - `new argument` is the only way  to truly test if a function is a constructor.
    // We choose to not use`new argument` because the argument could have side effects when called.
    // Instead we check to see if the argument is a function and if it has a prototype.
    // Arrow functions do not have a [[Construct]] internal method, nor do they have a prototype.


    return typeof argument === 'function' && !!argument.prototype;
  } // _ESAbstract.IsRegExp

  /* global Type, Get, ToBoolean */
  // 7.2.8. IsRegExp ( argument )


  function IsRegExp(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    if (Type(argument) !== 'object') {
      return false;
    } // 2. Let matcher be ? Get(argument, @@match).


    var matcher = 'Symbol' in this && 'match' in this.Symbol ? Get(argument, this.Symbol.match) : undefined; // 3. If matcher is not undefined, return ToBoolean(matcher).

    if (matcher !== undefined) {
      return ToBoolean(matcher);
    } // 4. If argument has a [[RegExpMatcher]] internal slot, return true.


    try {
      var lastIndex = argument.lastIndex;
      argument.lastIndex = 0;
      RegExp.prototype.exec.call(argument);
      return true;
    } catch (e) {} finally {
      argument.lastIndex = lastIndex;
    } // 5. Return false.


    return false;
  } // _ESAbstract.OrdinaryToPrimitive

  /* global Get, IsCallable, Call, Type */
  // 7.1.1.1. OrdinaryToPrimitive ( O, hint )


  function OrdinaryToPrimitive(O, hint) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: Type(hint) is String and its value is either "string" or "number".
    // 3. If hint is "string", then
    if (hint === 'string') {
      // a. Let methodNames be « "toString", "valueOf" ».
      var methodNames = ['toString', 'valueOf']; // 4. Else,
    } else {
      // a. Let methodNames be « "valueOf", "toString" ».
      methodNames = ['valueOf', 'toString'];
    } // 5. For each name in methodNames in List order, do


    for (var i = 0; i < methodNames.length; ++i) {
      var name = methodNames[i]; // a. Let method be ? Get(O, name).

      var method = Get(O, name); // b. If IsCallable(method) is true, then

      if (IsCallable(method)) {
        // i. Let result be ? Call(method, O).
        var result = Call(method, O); // ii. If Type(result) is not Object, return result.

        if (Type(result) !== 'object') {
          return result;
        }
      }
    } // 6. Throw a TypeError exception.


    throw new TypeError('Cannot convert to primitive.');
  } // _ESAbstract.ToPrimitive

  /* global Type, GetMethod, Call, OrdinaryToPrimitive */
  // 7.1.1. ToPrimitive ( input [ , PreferredType ] )


  function ToPrimitive(input
  /* [, PreferredType] */
  ) {
    // eslint-disable-line no-unused-vars
    var PreferredType = arguments.length > 1 ? arguments[1] : undefined; // 1. Assert: input is an ECMAScript language value.
    // 2. If Type(input) is Object, then

    if (Type(input) === 'object') {
      // a. If PreferredType is not present, let hint be "default".
      if (arguments.length < 2) {
        var hint = 'default'; // b. Else if PreferredType is hint String, let hint be "string".
      } else if (PreferredType === String) {
        hint = 'string'; // c. Else PreferredType is hint Number, let hint be "number".
      } else if (PreferredType === Number) {
        hint = 'number';
      } // d. Let exoticToPrim be ? GetMethod(input, @@toPrimitive).


      var exoticToPrim = typeof this.Symbol === 'function' && _typeof(this.Symbol.toPrimitive) === 'symbol' ? GetMethod(input, this.Symbol.toPrimitive) : undefined; // e. If exoticToPrim is not undefined, then

      if (exoticToPrim !== undefined) {
        // i. Let result be ? Call(exoticToPrim, input, « hint »).
        var result = Call(exoticToPrim, input, [hint]); // ii. If Type(result) is not Object, return result.

        if (Type(result) !== 'object') {
          return result;
        } // iii. Throw a TypeError exception.


        throw new TypeError('Cannot convert exotic object to primitive.');
      } // f. If hint is "default", set hint to "number".


      if (hint === 'default') {
        hint = 'number';
      } // g. Return ? OrdinaryToPrimitive(input, hint).


      return OrdinaryToPrimitive(input, hint);
    } // 3. Return input


    return input;
  } // _ESAbstract.ToString

  /* global Type, ToPrimitive */
  // 7.1.12. ToString ( argument )
  // The abstract operation ToString converts argument to a value of type String according to Table 11:
  // Table 11: ToString Conversions

  /*
  |---------------|--------------------------------------------------------|
  | Argument Type | Result                                                 |
  |---------------|--------------------------------------------------------|
  | Undefined     | Return "undefined".                                    |
  |---------------|--------------------------------------------------------|
  | Null	        | Return "null".                                         |
  |---------------|--------------------------------------------------------|
  | Boolean       | If argument is true, return "true".                    |
  |               | If argument is false, return "false".                  |
  |---------------|--------------------------------------------------------|
  | Number        | Return NumberToString(argument).                       |
  |---------------|--------------------------------------------------------|
  | String        | Return argument.                                       |
  |---------------|--------------------------------------------------------|
  | Symbol        | Throw a TypeError exception.                           |
  |---------------|--------------------------------------------------------|
  | Object        | Apply the following steps:                             |
  |               | Let primValue be ? ToPrimitive(argument, hint String). |
  |               | Return ? ToString(primValue).                          |
  |---------------|--------------------------------------------------------|
  */


  function ToString(argument) {
    // eslint-disable-line no-unused-vars
    switch (Type(argument)) {
      case 'symbol':
        throw new TypeError('Cannot convert a Symbol value to a string');
        break;

      case 'object':
        var primValue = ToPrimitive(argument, 'string');
        return ToString(primValue);

      default:
        return String(argument);
    }
  }

  if (!("document" in this)) {
    // document
    if (typeof WorkerGlobalScope === "undefined" && typeof importScripts !== "function") {
      if (this.HTMLDocument) {
        // IE8
        // HTMLDocument is an extension of Document.  If the browser has HTMLDocument but not Document, the former will suffice as an alias for the latter.
        this.Document = this.HTMLDocument;
      } else {
        // Create an empty function to act as the missing constructor for the document object, attach the document object as its prototype.  The function needs to be anonymous else it is hoisted and causes the feature detect to prematurely pass, preventing the assignments below being made.
        this.Document = this.HTMLDocument = document.constructor = new Function('return function Document() {}')();
        this.Document.prototype = document;
      }
    }
  }

  if (!function () {
    var e = document.createElement("p"),
        t = !1;
    return e.innerHTML = "<section></section>", document.documentElement.appendChild(e), e.firstChild && ("getComputedStyle" in window ? t = "block" === getComputedStyle(e.firstChild).display : e.firstChild.currentStyle && (t = "block" === e.firstChild.currentStyle.display)), document.documentElement.removeChild(e), t;
  }()) {
    // ~html5-elements

    /**
     * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
     */
    !function (a, b) {
      function c(a, b) {
        var c = a.createElement("p"),
            d = a.getElementsByTagName("head")[0] || a.documentElement;
        return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild);
      }

      function d() {
        var a = t.elements;
        return "string" == typeof a ? a.split(" ") : a;
      }

      function e(a, b) {
        var c = t.elements;
        "string" != typeof c && (c = c.join(" ")), "string" != typeof a && (a = a.join(" ")), t.elements = c + " " + a, j(b);
      }

      function f(a) {
        var b = s[a[q]];
        return b || (b = {}, r++, a[q] = r, s[r] = b), b;
      }

      function g(a, c, d) {
        if (c || (c = b), l) return c.createElement(a);
        d || (d = f(c));
        var e;
        return e = d.cache[a] ? d.cache[a].cloneNode() : p.test(a) ? (d.cache[a] = d.createElem(a)).cloneNode() : d.createElem(a), !e.canHaveChildren || o.test(a) || e.tagUrn ? e : d.frag.appendChild(e);
      }

      function h(a, c) {
        if (a || (a = b), l) return a.createDocumentFragment();
        c = c || f(a);

        for (var e = c.frag.cloneNode(), g = 0, h = d(), i = h.length; i > g; g++) {
          e.createElement(h[g]);
        }

        return e;
      }

      function i(a, b) {
        b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function (c) {
          return t.shivMethods ? g(c, a, b) : b.createElem(c);
        }, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + d().join().replace(/[\w\-:]+/g, function (a) {
          return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")';
        }) + ");return n}")(t, b.frag);
      }

      function j(a) {
        a || (a = b);
        var d = f(a);
        return !t.shivCSS || k || d.hasCSS || (d.hasCSS = !!c(a, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")), l || i(a, d), a;
      }

      var k,
          l,
          m = "3.7.3-pre",
          n = a.html5 || {},
          o = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
          p = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
          q = "_html5shiv",
          r = 0,
          s = {};
      !function () {
        try {
          var a = b.createElement("a");
          a.innerHTML = "<xyz></xyz>", k = "hidden" in a, l = 1 == a.childNodes.length || function () {
            b.createElement("a");
            var a = b.createDocumentFragment();
            return "undefined" == typeof a.cloneNode || "undefined" == typeof a.createDocumentFragment || "undefined" == typeof a.createElement;
          }();
        } catch (c) {
          k = !0, l = !0;
        }
      }();
      var t = {
        elements: n.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
        version: m,
        shivCSS: n.shivCSS !== !1,
        supportsUnknownElements: l,
        shivMethods: n.shivMethods !== !1,
        type: "default",
        shivDocument: j,
        createElement: g,
        createDocumentFragment: h,
        addElements: e
      };
      a.html5 = t, j(b), "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) && module.exports && (module.exports = t);
    }("undefined" != typeof window ? window : this, document);
  }

  if (!("Element" in this && "HTMLElement" in this)) {
    // Element
    (function () {
      // IE8
      if (window.Element && !window.HTMLElement) {
        window.HTMLElement = window.Element;
        return;
      } // create Element constructor


      window.Element = window.HTMLElement = new Function('return function Element() {}')(); // generate sandboxed iframe

      var vbody = document.appendChild(document.createElement('body'));
      var frame = vbody.appendChild(document.createElement('iframe')); // use sandboxed iframe to replicate Element functionality

      var frameDocument = frame.contentWindow.document;
      var prototype = Element.prototype = frameDocument.appendChild(frameDocument.createElement('*'));
      var cache = {}; // polyfill Element.prototype on an element

      var shiv = function shiv(element, deep) {
        var childNodes = element.childNodes || [],
            index = -1,
            key,
            value,
            childNode;

        if (element.nodeType === 1 && element.constructor !== Element) {
          element.constructor = Element;

          for (key in cache) {
            value = cache[key];
            element[key] = value;
          }
        }

        while (childNode = deep && childNodes[++index]) {
          shiv(childNode, deep);
        }

        return element;
      };

      var elements = document.getElementsByTagName('*');
      var nativeCreateElement = document.createElement;
      var interval;
      var loopLimit = 100;
      prototype.attachEvent('onpropertychange', function (event) {
        var propertyName = event.propertyName,
            nonValue = !cache.hasOwnProperty(propertyName),
            newValue = prototype[propertyName],
            oldValue = cache[propertyName],
            index = -1,
            element;

        while (element = elements[++index]) {
          if (element.nodeType === 1) {
            if (nonValue || element[propertyName] === oldValue) {
              element[propertyName] = newValue;
            }
          }
        }

        cache[propertyName] = newValue;
      });
      prototype.constructor = Element;

      if (!prototype.hasAttribute) {
        // <Element>.hasAttribute
        prototype.hasAttribute = function hasAttribute(name) {
          return this.getAttribute(name) !== null;
        };
      } // Apply Element prototype to the pre-existing DOM as soon as the body element appears.


      function bodyCheck() {
        if (!loopLimit--) clearTimeout(interval);

        if (document.body && !document.body.prototype && /(complete|interactive)/.test(document.readyState)) {
          shiv(document, true);
          if (interval && document.body.prototype) clearTimeout(interval);
          return !!document.body.prototype;
        }

        return false;
      }

      if (!bodyCheck()) {
        document.onreadystatechange = bodyCheck;
        interval = setInterval(bodyCheck, 25);
      } // Apply to any new elements created after load


      document.createElement = function createElement(nodeName) {
        var element = nativeCreateElement(String(nodeName).toLowerCase());
        return shiv(element);
      }; // remove sandboxed iframe


      document.removeChild(vbody);
    })();
  }

  if (!("document" in this && "querySelector" in this.document)) {
    // document.querySelector
    (function () {
      var head = document.getElementsByTagName('head')[0];

      function getElementsByQuery(node, selector, one) {
        var generator = document.createElement('div'),
            id = 'qsa' + String(Math.random()).slice(3),
            style,
            elements;
        generator.innerHTML = 'x<style>' + selector + '{qsa:' + id + ';}';
        style = head.appendChild(generator.lastChild);
        elements = getElements(node, selector, one, id);
        head.removeChild(style);
        return one ? elements[0] : elements;
      }

      function getElements(node, selector, one, id) {
        var validNode = /1|9/.test(node.nodeType),
            childNodes = node.childNodes,
            elements = [],
            index = -1,
            childNode;

        if (validNode && node.currentStyle && node.currentStyle.qsa === id) {
          if (elements.push(node) && one) {
            return elements;
          }
        }

        while (childNode = childNodes[++index]) {
          elements = elements.concat(getElements(childNode, selector, one, id));

          if (one && elements.length) {
            return elements;
          }
        }

        return elements;
      }

      Document.prototype.querySelector = Element.prototype.querySelector = function querySelectorAll(selector) {
        return getElementsByQuery(this, selector, true);
      };

      Document.prototype.querySelectorAll = Element.prototype.querySelectorAll = function querySelectorAll(selector) {
        return getElementsByQuery(this, selector, false);
      };
    })();
  }

  if (!("document" in this && "matches" in document.documentElement)) {
    // Element.prototype.matches
    Element.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {
      var element = this;
      var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
      var index = 0;

      while (elements[index] && elements[index] !== element) {
        ++index;
      }

      return !!elements[index];
    };
  }

  if (!("document" in this && "closest" in document.documentElement)) {
    // Element.prototype.closest
    Element.prototype.closest = function closest(selector) {
      var node = this;

      while (node) {
        if (node.matches(selector)) return node;else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;
      }

      return null;
    };
  }

  if (!("HTMLPictureElement" in this || "picturefill" in this)) {
    // HTMLPictureElement

    /*! picturefill - v3.0.2 - 2016-02-12
     * https://scottjehl.github.io/picturefill/
     * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
     */
    !function (a) {
      var b = navigator.userAgent;
      a.HTMLPictureElement && /ecko/.test(b) && b.match(/rv\:(\d+)/) && RegExp.$1 < 45 && addEventListener("resize", function () {
        var b,
            c = document.createElement("source"),
            d = function d(a) {
          var b,
              d,
              e = a.parentNode;
          "PICTURE" === e.nodeName.toUpperCase() ? (b = c.cloneNode(), e.insertBefore(b, e.firstElementChild), setTimeout(function () {
            e.removeChild(b);
          })) : (!a._pfLastSize || a.offsetWidth > a._pfLastSize) && (a._pfLastSize = a.offsetWidth, d = a.sizes, a.sizes += ",100vw", setTimeout(function () {
            a.sizes = d;
          }));
        },
            e = function e() {
          var a,
              b = document.querySelectorAll("picture > img, img[srcset][sizes]");

          for (a = 0; a < b.length; a++) {
            d(b[a]);
          }
        },
            f = function f() {
          clearTimeout(b), b = setTimeout(e, 99);
        },
            g = a.matchMedia && matchMedia("(orientation: landscape)"),
            h = function h() {
          f(), g && g.addListener && g.addListener(f);
        };

        return c.srcset = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", /^[c|i]|d$/.test(document.readyState || "") ? h() : document.addEventListener("DOMContentLoaded", h), f;
      }());
    }(window), function (a, b, c) {
      "use strict";

      function d(a) {
        return " " === a || "	" === a || "\n" === a || "\f" === a || "\r" === a;
      }

      function e(b, c) {
        var d = new a.Image();
        return d.onerror = function () {
          A[b] = !1, ba();
        }, d.onload = function () {
          A[b] = 1 === d.width, ba();
        }, d.src = c, "pending";
      }

      function f() {
        M = !1, P = a.devicePixelRatio, N = {}, O = {}, s.DPR = P || 1, Q.width = Math.max(a.innerWidth || 0, z.clientWidth), Q.height = Math.max(a.innerHeight || 0, z.clientHeight), Q.vw = Q.width / 100, Q.vh = Q.height / 100, r = [Q.height, Q.width, P].join("-"), Q.em = s.getEmValue(), Q.rem = Q.em;
      }

      function g(a, b, c, d) {
        var e, f, g, h;
        return "saveData" === B.algorithm ? a > 2.7 ? h = c + 1 : (f = b - c, e = Math.pow(a - .6, 1.5), g = f * e, d && (g += .1 * e), h = a + g) : h = c > 1 ? Math.sqrt(a * b) : a, h > c;
      }

      function h(a) {
        var b,
            c = s.getSet(a),
            d = !1;
        "pending" !== c && (d = r, c && (b = s.setRes(c), s.applySetCandidate(b, a))), a[s.ns].evaled = d;
      }

      function i(a, b) {
        return a.res - b.res;
      }

      function j(a, b, c) {
        var d;
        return !c && b && (c = a[s.ns].sets, c = c && c[c.length - 1]), d = k(b, c), d && (b = s.makeUrl(b), a[s.ns].curSrc = b, a[s.ns].curCan = d, d.res || aa(d, d.set.sizes)), d;
      }

      function k(a, b) {
        var c, d, e;
        if (a && b) for (e = s.parseSet(b), a = s.makeUrl(a), c = 0; c < e.length; c++) {
          if (a === s.makeUrl(e[c].url)) {
            d = e[c];
            break;
          }
        }
        return d;
      }

      function l(a, b) {
        var c,
            d,
            e,
            f,
            g = a.getElementsByTagName("source");

        for (c = 0, d = g.length; d > c; c++) {
          e = g[c], e[s.ns] = !0, f = e.getAttribute("srcset"), f && b.push({
            srcset: f,
            media: e.getAttribute("media"),
            type: e.getAttribute("type"),
            sizes: e.getAttribute("sizes")
          });
        }
      }

      function m(a, b) {
        function c(b) {
          var c,
              d = b.exec(a.substring(m));
          return d ? (c = d[0], m += c.length, c) : void 0;
        }

        function e() {
          var a,
              c,
              d,
              e,
              f,
              i,
              j,
              k,
              l,
              m = !1,
              o = {};

          for (e = 0; e < h.length; e++) {
            f = h[e], i = f[f.length - 1], j = f.substring(0, f.length - 1), k = parseInt(j, 10), l = parseFloat(j), X.test(j) && "w" === i ? ((a || c) && (m = !0), 0 === k ? m = !0 : a = k) : Y.test(j) && "x" === i ? ((a || c || d) && (m = !0), 0 > l ? m = !0 : c = l) : X.test(j) && "h" === i ? ((d || c) && (m = !0), 0 === k ? m = !0 : d = k) : m = !0;
          }

          m || (o.url = g, a && (o.w = a), c && (o.d = c), d && (o.h = d), d || c || a || (o.d = 1), 1 === o.d && (b.has1x = !0), o.set = b, n.push(o));
        }

        function f() {
          for (c(T), i = "", j = "in descriptor";;) {
            if (k = a.charAt(m), "in descriptor" === j) {
              if (d(k)) i && (h.push(i), i = "", j = "after descriptor");else {
                if ("," === k) return m += 1, i && h.push(i), void e();
                if ("(" === k) i += k, j = "in parens";else {
                  if ("" === k) return i && h.push(i), void e();
                  i += k;
                }
              }
            } else if ("in parens" === j) {
              if (")" === k) i += k, j = "in descriptor";else {
                if ("" === k) return h.push(i), void e();
                i += k;
              }
            } else if ("after descriptor" === j) if (d(k)) ;else {
              if ("" === k) return void e();
              j = "in descriptor", m -= 1;
            }
            m += 1;
          }
        }

        for (var g, h, i, j, k, l = a.length, m = 0, n = [];;) {
          if (c(U), m >= l) return n;
          g = c(V), h = [], "," === g.slice(-1) ? (g = g.replace(W, ""), e()) : f();
        }
      }

      function n(a) {
        function b(a) {
          function b() {
            f && (g.push(f), f = "");
          }

          function c() {
            g[0] && (h.push(g), g = []);
          }

          for (var e, f = "", g = [], h = [], i = 0, j = 0, k = !1;;) {
            if (e = a.charAt(j), "" === e) return b(), c(), h;

            if (k) {
              if ("*" === e && "/" === a[j + 1]) {
                k = !1, j += 2, b();
                continue;
              }

              j += 1;
            } else {
              if (d(e)) {
                if (a.charAt(j - 1) && d(a.charAt(j - 1)) || !f) {
                  j += 1;
                  continue;
                }

                if (0 === i) {
                  b(), j += 1;
                  continue;
                }

                e = " ";
              } else if ("(" === e) i += 1;else if (")" === e) i -= 1;else {
                if ("," === e) {
                  b(), c(), j += 1;
                  continue;
                }

                if ("/" === e && "*" === a.charAt(j + 1)) {
                  k = !0, j += 2;
                  continue;
                }
              }

              f += e, j += 1;
            }
          }
        }

        function c(a) {
          return k.test(a) && parseFloat(a) >= 0 ? !0 : l.test(a) ? !0 : "0" === a || "-0" === a || "+0" === a ? !0 : !1;
        }

        var e,
            f,
            g,
            h,
            i,
            j,
            k = /^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,
            l = /^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;

        for (f = b(a), g = f.length, e = 0; g > e; e++) {
          if (h = f[e], i = h[h.length - 1], c(i)) {
            if (j = i, h.pop(), 0 === h.length) return j;
            if (h = h.join(" "), s.matchesMedia(h)) return j;
          }
        }

        return "100vw";
      }

      b.createElement("picture");

      var o,
          p,
          q,
          r,
          s = {},
          t = !1,
          u = function u() {},
          v = b.createElement("img"),
          w = v.getAttribute,
          x = v.setAttribute,
          y = v.removeAttribute,
          z = b.documentElement,
          A = {},
          B = {
        algorithm: ""
      },
          C = "data-pfsrc",
          D = C + "set",
          E = navigator.userAgent,
          F = /rident/.test(E) || /ecko/.test(E) && E.match(/rv\:(\d+)/) && RegExp.$1 > 35,
          G = "currentSrc",
          H = /\s+\+?\d+(e\d+)?w/,
          I = /(\([^)]+\))?\s*(.+)/,
          J = a.picturefillCFG,
          K = "position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",
          L = "font-size:100%!important;",
          M = !0,
          N = {},
          O = {},
          P = a.devicePixelRatio,
          Q = {
        px: 1,
        "in": 96
      },
          R = b.createElement("a"),
          S = !1,
          T = /^[ \t\n\r\u000c]+/,
          U = /^[, \t\n\r\u000c]+/,
          V = /^[^ \t\n\r\u000c]+/,
          W = /[,]+$/,
          X = /^\d+$/,
          Y = /^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,
          Z = function Z(a, b, c, d) {
        a.addEventListener ? a.addEventListener(b, c, d || !1) : a.attachEvent && a.attachEvent("on" + b, c);
      },
          $ = function $(a) {
        var b = {};
        return function (c) {
          return c in b || (b[c] = a(c)), b[c];
        };
      },
          _ = function () {
        var a = /^([\d\.]+)(em|vw|px)$/,
            b = function b() {
          for (var a = arguments, b = 0, c = a[0]; (++b in a);) {
            c = c.replace(a[b], a[++b]);
          }

          return c;
        },
            c = $(function (a) {
          return "return " + b((a || "").toLowerCase(), /\band\b/g, "&&", /,/g, "||", /min-([a-z-\s]+):/g, "e.$1>=", /max-([a-z-\s]+):/g, "e.$1<=", /calc([^)]+)/g, "($1)", /(\d+[\.]*[\d]*)([a-z]+)/g, "($1 * e.$2)", /^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi, "") + ";";
        });

        return function (b, d) {
          var e;
          if (!(b in N)) if (N[b] = !1, d && (e = b.match(a))) N[b] = e[1] * Q[e[2]];else try {
            N[b] = new Function("e", c(b))(Q);
          } catch (f) {}
          return N[b];
        };
      }(),
          aa = function aa(a, b) {
        return a.w ? (a.cWidth = s.calcListLength(b || "100vw"), a.res = a.w / a.cWidth) : a.res = a.d, a;
      },
          ba = function ba(a) {
        if (t) {
          var c,
              d,
              e,
              f = a || {};

          if (f.elements && 1 === f.elements.nodeType && ("IMG" === f.elements.nodeName.toUpperCase() ? f.elements = [f.elements] : (f.context = f.elements, f.elements = null)), c = f.elements || s.qsa(f.context || b, f.reevaluate || f.reselect ? s.sel : s.selShort), e = c.length) {
            for (s.setupRun(f), S = !0, d = 0; e > d; d++) {
              s.fillImg(c[d], f);
            }

            s.teardownRun(f);
          }
        }
      };

      o = a.console && console.warn ? function (a) {
        console.warn(a);
      } : u, G in v || (G = "src"), A["image/jpeg"] = !0, A["image/gif"] = !0, A["image/png"] = !0, A["image/svg+xml"] = b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1"), s.ns = ("pf" + new Date().getTime()).substr(0, 9), s.supSrcset = "srcset" in v, s.supSizes = "sizes" in v, s.supPicture = !!a.HTMLPictureElement, s.supSrcset && s.supPicture && !s.supSizes && !function (a) {
        v.srcset = "data:,a", a.src = "data:,a", s.supSrcset = v.complete === a.complete, s.supPicture = s.supSrcset && s.supPicture;
      }(b.createElement("img")), s.supSrcset && !s.supSizes ? !function () {
        var a = "data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",
            c = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
            d = b.createElement("img"),
            e = function e() {
          var a = d.width;
          2 === a && (s.supSizes = !0), q = s.supSrcset && !s.supSizes, t = !0, setTimeout(ba);
        };

        d.onload = e, d.onerror = e, d.setAttribute("sizes", "9px"), d.srcset = c + " 1w," + a + " 9w", d.src = c;
      }() : t = !0, s.selShort = "picture>img,img[srcset]", s.sel = s.selShort, s.cfg = B, s.DPR = P || 1, s.u = Q, s.types = A, s.setSize = u, s.makeUrl = $(function (a) {
        return R.href = a, R.href;
      }), s.qsa = function (a, b) {
        return "querySelector" in a ? a.querySelectorAll(b) : [];
      }, s.matchesMedia = function () {
        return a.matchMedia && (matchMedia("(min-width: 0.1em)") || {}).matches ? s.matchesMedia = function (a) {
          return !a || matchMedia(a).matches;
        } : s.matchesMedia = s.mMQ, s.matchesMedia.apply(this, arguments);
      }, s.mMQ = function (a) {
        return a ? _(a) : !0;
      }, s.calcLength = function (a) {
        var b = _(a, !0) || !1;
        return 0 > b && (b = !1), b;
      }, s.supportsType = function (a) {
        return a ? A[a] : !0;
      }, s.parseSize = $(function (a) {
        var b = (a || "").match(I);
        return {
          media: b && b[1],
          length: b && b[2]
        };
      }), s.parseSet = function (a) {
        return a.cands || (a.cands = m(a.srcset, a)), a.cands;
      }, s.getEmValue = function () {
        var a;

        if (!p && (a = b.body)) {
          var c = b.createElement("div"),
              d = z.style.cssText,
              e = a.style.cssText;
          c.style.cssText = K, z.style.cssText = L, a.style.cssText = L, a.appendChild(c), p = c.offsetWidth, a.removeChild(c), p = parseFloat(p, 10), z.style.cssText = d, a.style.cssText = e;
        }

        return p || 16;
      }, s.calcListLength = function (a) {
        if (!(a in O) || B.uT) {
          var b = s.calcLength(n(a));
          O[a] = b ? b : Q.width;
        }

        return O[a];
      }, s.setRes = function (a) {
        var b;

        if (a) {
          b = s.parseSet(a);

          for (var c = 0, d = b.length; d > c; c++) {
            aa(b[c], a.sizes);
          }
        }

        return b;
      }, s.setRes.res = aa, s.applySetCandidate = function (a, b) {
        if (a.length) {
          var c,
              d,
              e,
              f,
              h,
              k,
              l,
              m,
              n,
              o = b[s.ns],
              p = s.DPR;
          if (k = o.curSrc || b[G], l = o.curCan || j(b, k, a[0].set), l && l.set === a[0].set && (n = F && !b.complete && l.res - .1 > p, n || (l.cached = !0, l.res >= p && (h = l))), !h) for (a.sort(i), f = a.length, h = a[f - 1], d = 0; f > d; d++) {
            if (c = a[d], c.res >= p) {
              e = d - 1, h = a[e] && (n || k !== s.makeUrl(c.url)) && g(a[e].res, c.res, p, a[e].cached) ? a[e] : c;
              break;
            }
          }
          h && (m = s.makeUrl(h.url), o.curSrc = m, o.curCan = h, m !== k && s.setSrc(b, h), s.setSize(b));
        }
      }, s.setSrc = function (a, b) {
        var c;
        a.src = b.url, "image/svg+xml" === b.set.type && (c = a.style.width, a.style.width = a.offsetWidth + 1 + "px", a.offsetWidth + 1 && (a.style.width = c));
      }, s.getSet = function (a) {
        var b,
            c,
            d,
            e = !1,
            f = a[s.ns].sets;

        for (b = 0; b < f.length && !e; b++) {
          if (c = f[b], c.srcset && s.matchesMedia(c.media) && (d = s.supportsType(c.type))) {
            "pending" === d && (c = d), e = c;
            break;
          }
        }

        return e;
      }, s.parseSets = function (a, b, d) {
        var e,
            f,
            g,
            h,
            i = b && "PICTURE" === b.nodeName.toUpperCase(),
            j = a[s.ns];
        (j.src === c || d.src) && (j.src = w.call(a, "src"), j.src ? x.call(a, C, j.src) : y.call(a, C)), (j.srcset === c || d.srcset || !s.supSrcset || a.srcset) && (e = w.call(a, "srcset"), j.srcset = e, h = !0), j.sets = [], i && (j.pic = !0, l(b, j.sets)), j.srcset ? (f = {
          srcset: j.srcset,
          sizes: w.call(a, "sizes")
        }, j.sets.push(f), g = (q || j.src) && H.test(j.srcset || ""), g || !j.src || k(j.src, f) || f.has1x || (f.srcset += ", " + j.src, f.cands.push({
          url: j.src,
          d: 1,
          set: f
        }))) : j.src && j.sets.push({
          srcset: j.src,
          sizes: null
        }), j.curCan = null, j.curSrc = c, j.supported = !(i || f && !s.supSrcset || g && !s.supSizes), h && s.supSrcset && !j.supported && (e ? (x.call(a, D, e), a.srcset = "") : y.call(a, D)), j.supported && !j.srcset && (!j.src && a.src || a.src !== s.makeUrl(j.src)) && (null === j.src ? a.removeAttribute("src") : a.src = j.src), j.parsed = !0;
      }, s.fillImg = function (a, b) {
        var c,
            d = b.reselect || b.reevaluate;
        a[s.ns] || (a[s.ns] = {}), c = a[s.ns], (d || c.evaled !== r) && ((!c.parsed || b.reevaluate) && s.parseSets(a, a.parentNode, b), c.supported ? c.evaled = r : h(a));
      }, s.setupRun = function () {
        (!S || M || P !== a.devicePixelRatio) && f();
      }, s.supPicture ? (ba = u, s.fillImg = u) : !function () {
        var c,
            d = a.attachEvent ? /d$|^c/ : /d$|^c|^i/,
            e = function e() {
          var a = b.readyState || "";
          f = setTimeout(e, "loading" === a ? 200 : 999), b.body && (s.fillImgs(), c = c || d.test(a), c && clearTimeout(f));
        },
            f = setTimeout(e, b.body ? 9 : 99),
            g = function g(a, b) {
          var c,
              d,
              e = function e() {
            var f = new Date() - d;
            b > f ? c = setTimeout(e, b - f) : (c = null, a());
          };

          return function () {
            d = new Date(), c || (c = setTimeout(e, b));
          };
        },
            h = z.clientHeight,
            i = function i() {
          M = Math.max(a.innerWidth || 0, z.clientWidth) !== Q.width || z.clientHeight !== h, h = z.clientHeight, M && s.fillImgs();
        };

        Z(a, "resize", g(i, 99)), Z(b, "readystatechange", e);
      }(), s.picturefill = ba, s.fillImgs = ba, s.teardownRun = u, ba._ = s, a.picturefillCFG = {
        pf: s,
        push: function push(a) {
          var b = a.shift();
          "function" == typeof s[b] ? s[b].apply(s, a) : (B[b] = a[0], S && s.fillImgs({
            reselect: !0
          }));
        }
      };

      for (; J && J.length;) {
        a.picturefillCFG.push(J.shift());
      }

      a.picturefill = ba, "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) && "object" == _typeof(module.exports) ? module.exports = ba : "function" == typeof define && define.amd && define("picturefill", function () {
        return ba;
      }), s.supPicture || (A["image/webp"] = e("image/webp", "data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="));
    }(window, document);
    /*! picturefill - v3.0.2 - 2016-02-12
    * https://scottjehl.github.io/picturefill/
    * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
    */

    !function (a) {
      "use strict";

      var b,
          c = 0,
          d = function d() {
        window.picturefill && a(window.picturefill), (window.picturefill || c > 9999) && clearInterval(b), c++;
      };

      b = setInterval(d, 8), d();
    }(function (a) {
      "use strict";

      var b = window.document,
          c = window.Element,
          d = window.MutationObserver,
          e = function e() {},
          f = {
        disconnect: e,
        take: e,
        observe: e,
        start: e,
        stop: e,
        connected: !1
      },
          g = /^loade|^c|^i/.test(b.readyState || ""),
          h = a._;

      if (h.mutationSupport = !1, h.observer = f, Object.keys && window.HTMLSourceElement && b.addEventListener) {
        var i,
            j,
            k,
            l,
            m = {
          src: 1,
          srcset: 1,
          sizes: 1,
          media: 1
        },
            n = Object.keys(m),
            o = {
          attributes: !0,
          childList: !0,
          subtree: !0,
          attributeFilter: n
        },
            p = c && c.prototype,
            q = {},
            r = function r(a, b) {
          q[a] = h[a], h[a] = b;
        };

        p && !p.matches && (p.matches = p.matchesSelector || p.mozMatchesSelector || p.webkitMatchesSelector || p.msMatchesSelector), p && p.matches && (i = function i(a, b) {
          return a.matches(b);
        }, h.mutationSupport = !(!Object.create || !Object.defineProperties)), h.mutationSupport && (f.observe = function () {
          k && (f.connected = !0, j && j.observe(b.documentElement, o));
        }, f.disconnect = function () {
          f.connected = !1, j && j.disconnect();
        }, f.take = function () {
          j ? h.onMutations(j.takeRecords()) : l && l.take();
        }, f.start = function () {
          k = !0, f.observe();
        }, f.stop = function () {
          k = !1, f.disconnect();
        }, r("setupRun", function () {
          return f.disconnect(), q.setupRun.apply(this, arguments);
        }), r("teardownRun", function () {
          var a = q.setupRun.apply(this, arguments);
          return f.observe(), a;
        }), r("setSrc", function () {
          var a,
              b = f.connected;
          return f.disconnect(), a = q.setSrc.apply(this, arguments), b && f.observe(), a;
        }), h.onMutations = function (a) {
          var b,
              c,
              d = [];

          for (b = 0, c = a.length; c > b; b++) {
            g && "childList" === a[b].type ? h.onSubtreeChange(a[b], d) : "attributes" === a[b].type && h.onAttrChange(a[b], d);
          }

          d.length && h.fillImgs({
            elements: d,
            reevaluate: !0
          });
        }, h.onSubtreeChange = function (a, b) {
          h.findAddedMutations(a.addedNodes, b), h.findRemovedMutations(a.removedNodes, a.target, b);
        }, h.findAddedMutations = function (a, b) {
          var c, d, e, f;

          for (c = 0, d = a.length; d > c; c++) {
            e = a[c], 1 === e.nodeType && (f = e.nodeName.toUpperCase(), "PICTURE" === f ? h.addToElements(e.getElementsByTagName("img")[0], b) : "IMG" === f && i(e, h.selShort) ? h.addToElements(e, b) : "SOURCE" === f ? h.addImgForSource(e, e.parentNode, b) : h.addToElements(h.qsa(e, h.selShort), b));
          }
        }, h.findRemovedMutations = function (a, b, c) {
          var d, e, f;

          for (d = 0, e = a.length; e > d; d++) {
            f = a[d], 1 === f.nodeType && "SOURCE" === f.nodeName.toUpperCase() && h.addImgForSource(f, b, c);
          }
        }, h.addImgForSource = function (a, b, c) {
          b && "PICTURE" !== (b.nodeName || "").toUpperCase() && (b = b.parentNode, b && "PICTURE" === (b.nodeName || "").toUpperCase() || (b = null)), b && h.addToElements(b.getElementsByTagName("img")[0], c);
        }, h.addToElements = function (a, b) {
          var c, d;
          if (a) if ("length" in a && !a.nodeType) for (c = 0, d = a.length; d > c; c++) {
            h.addToElements(a[c], b);
          } else a.parentNode && -1 === b.indexOf(a) && b.push(a);
        }, h.onAttrChange = function (a, b) {
          var c,
              d = a.target[h.ns];
          d || "srcset" !== a.attributeName || "IMG" !== (c = a.target.nodeName.toUpperCase()) ? d && (c || (c = a.target.nodeName.toUpperCase()), "IMG" === c ? (a.attributeName in d && (d[a.attributeName] = void 0), h.addToElements(a.target, b)) : "SOURCE" === c && h.addImgForSource(a.target, a.target.parentNode, b)) : h.addToElements(a.target, b);
        }, h.supPicture || (d && !h.testMutationEvents ? j = new d(h.onMutations) : (l = function () {
          var a = !1,
              b = [],
              c = window.setImmediate || window.setTimeout;
          return function (d) {
            a || (a = !0, l.take || (l.take = function () {
              b.length && (h.onMutations(b), b = []), a = !1;
            }), c(l.take)), b.push(d);
          };
        }(), b.documentElement.addEventListener("DOMNodeInserted", function (a) {
          f.connected && g && l({
            type: "childList",
            addedNodes: [a.target],
            removedNodes: []
          });
        }, !0), b.documentElement.addEventListener("DOMNodeRemoved", function (a) {
          f.connected && g && "SOURCE" === (a.target || {}).nodeName && l({
            type: "childList",
            addedNodes: [],
            removedNodes: [a.target],
            target: a.target.parentNode
          });
        }, !0), b.documentElement.addEventListener("DOMAttrModified", function (a) {
          f.connected && m[a.attrName] && l({
            type: "attributes",
            target: a.target,
            attributeName: a.attrName
          });
        }, !0)), window.HTMLImageElement && Object.defineProperties && !function () {
          var a = b.createElement("img"),
              c = [],
              d = a.getAttribute,
              e = a.setAttribute,
              f = {
            src: 1
          };
          h.supSrcset && !h.supSizes && (f.srcset = 1), Object.defineProperties(HTMLImageElement.prototype, {
            getAttribute: {
              value: function value(a) {
                var b;
                return f[a] && (b = this[h.ns]) && void 0 !== b[a] ? b[a] : d.apply(this, arguments);
              },
              writeable: !0,
              enumerable: !0,
              configurable: !0
            }
          }), h.supSrcset || c.push("srcset"), h.supSizes || c.push("sizes"), c.forEach(function (a) {
            Object.defineProperty(HTMLImageElement.prototype, a, {
              set: function set(b) {
                e.call(this, a, b);
              },
              get: function get() {
                return d.call(this, a) || "";
              },
              enumerable: !0,
              configurable: !0
            });
          }), "currentSrc" in a || !function () {
            var a,
                c = function c(a, b) {
              null == b && (b = a.src || ""), Object.defineProperty(a, "pfCurrentSrc", {
                value: b,
                writable: !0
              });
            },
                d = c;

            h.supSrcset && window.devicePixelRatio && (a = function a(_a, b) {
              var c = _a.d || _a.w || _a.res,
                  d = b.d || b.w || b.res;
              return c - d;
            }, c = function c(b) {
              var c,
                  e,
                  f,
                  g,
                  i = b[h.ns];

              if (i && i.supported && i.srcset && i.sets && (e = h.parseSet(i.sets[0])) && e.sort) {
                for (e.sort(a), f = e.length, g = e[f - 1], c = 0; f > c; c++) {
                  if (e[c].d >= window.devicePixelRatio) {
                    g = e[c];
                    break;
                  }
                }

                g && (g = h.makeUrl(g.url));
              }

              d(b, g);
            }), b.addEventListener("load", function (a) {
              "IMG" === a.target.nodeName.toUpperCase() && c(a.target);
            }, !0), Object.defineProperty(HTMLImageElement.prototype, "currentSrc", {
              set: function set() {
                window.console && console.warn && console.warn("currentSrc can't be set on img element");
              },
              get: function get() {
                return this.complete && c(this), this.src || this.srcset ? this.pfCurrentSrc || "" : "";
              },
              enumerable: !0,
              configurable: !0
            });
          }(), !window.HTMLSourceElement || "srcset" in b.createElement("source") || ["srcset", "sizes"].forEach(function (a) {
            Object.defineProperty(window.HTMLSourceElement.prototype, a, {
              set: function set(b) {
                this.setAttribute(a, b);
              },
              get: function get() {
                return this.getAttribute(a) || "";
              },
              enumerable: !0,
              configurable: !0
            });
          });
        }(), f.start()), g || b.addEventListener("DOMContentLoaded", function () {
          g = !0;
        }));
      }
    });
  }

  if (!("defineProperty" in Object && function () {
    try {
      var e = {};
      return Object.defineProperty(e, "test", {
        value: 42
      }), !0;
    } catch (t) {
      return !1;
    }
  }())) {
    // Object.defineProperty
    (function (nativeDefineProperty) {
      var supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');
      var ERR_ACCESSORS_NOT_SUPPORTED = 'Getters & setters cannot be defined on this javascript engine';
      var ERR_VALUE_ACCESSORS = 'A property cannot both have accessors and be writable or have a value'; // Polyfill.io - This does not use CreateMethodProperty because our CreateMethodProperty function uses Object.defineProperty.

      Object['defineProperty'] = function defineProperty(object, property, descriptor) {
        // Where native support exists, assume it
        if (nativeDefineProperty && (object === window || object === document || object === Element.prototype || object instanceof Element)) {
          return nativeDefineProperty(object, property, descriptor);
        }

        if (object === null || !(object instanceof Object || _typeof(object) === 'object')) {
          throw new TypeError('Object.defineProperty called on non-object');
        }

        if (!(descriptor instanceof Object)) {
          throw new TypeError('Property description must be an object');
        }

        var propertyString = String(property);
        var hasValueOrWritable = 'value' in descriptor || 'writable' in descriptor;

        var getterType = 'get' in descriptor && _typeof(descriptor.get);

        var setterType = 'set' in descriptor && _typeof(descriptor.set); // handle descriptor.get


        if (getterType) {
          if (getterType !== 'function') {
            throw new TypeError('Getter must be a function');
          }

          if (!supportsAccessors) {
            throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
          }

          if (hasValueOrWritable) {
            throw new TypeError(ERR_VALUE_ACCESSORS);
          }

          Object.__defineGetter__.call(object, propertyString, descriptor.get);
        } else {
          object[propertyString] = descriptor.value;
        } // handle descriptor.set


        if (setterType) {
          if (setterType !== 'function') {
            throw new TypeError('Setter must be a function');
          }

          if (!supportsAccessors) {
            throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
          }

          if (hasValueOrWritable) {
            throw new TypeError(ERR_VALUE_ACCESSORS);
          }

          Object.__defineSetter__.call(object, propertyString, descriptor.set);
        } // OK to define value unconditionally - if a getter has been specified as well, an error would be thrown above


        if ('value' in descriptor) {
          object[propertyString] = descriptor.value;
        }

        return object;
      };
    })(Object.defineProperty);
  } // _ESAbstract.CreateDataProperty
  // 7.3.4. CreateDataProperty ( O, P, V )
  // NOTE
  // This abstract operation creates a property whose attributes are set to the same defaults used for properties created by the ECMAScript language assignment operator.
  // Normally, the property will not already exist. If it does exist and is not configurable or if O is not extensible, [[DefineOwnProperty]] will return false.


  function CreateDataProperty(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let newDesc be the PropertyDescriptor{ [[Value]]: V, [[Writable]]: true, [[Enumerable]]: true, [[Configurable]]: true }.
    var newDesc = {
      value: V,
      writable: true,
      enumerable: true,
      configurable: true
    }; // 4. Return ? O.[[DefineOwnProperty]](P, newDesc).

    try {
      Object.defineProperty(O, P, newDesc);
      return true;
    } catch (e) {
      return false;
    }
  } // _ESAbstract.CreateDataPropertyOrThrow

  /* global CreateDataProperty */
  // 7.3.6. CreateDataPropertyOrThrow ( O, P, V )


  function CreateDataPropertyOrThrow(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let success be ? CreateDataProperty(O, P, V).
    var success = CreateDataProperty(O, P, V); // 4. If success is false, throw a TypeError exception.

    if (!success) {
      throw new TypeError('Cannot assign value `' + Object.prototype.toString.call(V) + '` to property `' + Object.prototype.toString.call(P) + '` on object `' + Object.prototype.toString.call(O) + '`');
    } // 5. Return success.


    return success;
  } // _ESAbstract.CreateMethodProperty
  // 7.3.5. CreateMethodProperty ( O, P, V )


  function CreateMethodProperty(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let newDesc be the PropertyDescriptor{[[Value]]: V, [[Writable]]: true, [[Enumerable]]: false, [[Configurable]]: true}.
    var newDesc = {
      value: V,
      writable: true,
      enumerable: false,
      configurable: true
    }; // 4. Return ? O.[[DefineOwnProperty]](P, newDesc).

    Object.defineProperty(O, P, newDesc);
  }

  if (!("isArray" in Array)) {
    // Array.isArray

    /* global CreateMethodProperty, IsArray */
    // 22.1.2.2. Array.isArray ( arg )
    CreateMethodProperty(Array, 'isArray', function isArray(arg) {
      // 1. Return ? IsArray(arg).
      return IsArray(arg);
    });
  }

  if (!("forEach" in Array.prototype)) {
    // Array.prototype.forEach

    /* global Call, CreateMethodProperty, Get, HasProperty, IsCallable, ToLength, ToObject, ToString */
    // 22.1.3.10. Array.prototype.forEach ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'forEach', function forEach(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // Polyfill.io - If O is a String object, split it into an array in order to iterate correctly.
      // We will use arrayLike in place of O when we are iterating through the list.

      var arraylike = O instanceof String ? O.split('') : O; // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let k be 0.

      var k = 0; // 6. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(arraylike, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(arraylike, Pk); // ii. Perform ? Call(callbackfn, T, « kValue, k, O »).

          Call(callbackfn, T, [kValue, k, O]);
        } // d. Increase k by 1.


        k = k + 1;
      } // 7. Return undefined.


      return undefined;
    });
  }

  if (!("bind" in Function.prototype)) {
    // Function.prototype.bind

    /* global CreateMethodProperty, IsCallable */
    // 19.2.3.2. Function.prototype.bind ( thisArg, ...args )
    // https://github.com/es-shims/es5-shim/blob/d6d7ff1b131c7ba14c798cafc598bb6780d37d3b/es5-shim.js#L182
    CreateMethodProperty(Function.prototype, 'bind', function bind(that) {
      // .length is 1
      // add necessary es5-shim utilities
      var $Array = Array;
      var $Object = Object;
      var ArrayPrototype = $Array.prototype;

      var Empty = function Empty() {};

      var array_slice = ArrayPrototype.slice;
      var array_concat = ArrayPrototype.concat;
      var array_push = ArrayPrototype.push;
      var max = Math.max; // /add necessary es5-shim utilities
      // 1. Let Target be the this value.

      var target = this; // 2. If IsCallable(Target) is false, throw a TypeError exception.

      if (!IsCallable(target)) {
        throw new TypeError('Function.prototype.bind called on incompatible ' + target);
      } // 3. Let A be a new (possibly empty) internal list of all of the
      //   argument values provided after thisArg (arg1, arg2 etc), in order.
      // XXX slicedArgs will stand in for "A" if used


      var args = array_slice.call(arguments, 1); // for normal call
      // 4. Let F be a new native ECMAScript object.
      // 11. Set the [[Prototype]] internal property of F to the standard
      //   built-in Function prototype object as specified in 15.3.3.1.
      // 12. Set the [[Call]] internal property of F as described in
      //   15.3.4.5.1.
      // 13. Set the [[Construct]] internal property of F as described in
      //   15.3.4.5.2.
      // 14. Set the [[HasInstance]] internal property of F as described in
      //   15.3.4.5.3.

      var bound;

      var binder = function binder() {
        if (this instanceof bound) {
          // 15.3.4.5.2 [[Construct]]
          // When the [[Construct]] internal method of a function object,
          // F that was created using the bind function is called with a
          // list of arguments ExtraArgs, the following steps are taken:
          // 1. Let target be the value of F's [[TargetFunction]]
          //   internal property.
          // 2. If target has no [[Construct]] internal method, a
          //   TypeError exception is thrown.
          // 3. Let boundArgs be the value of F's [[BoundArgs]] internal
          //   property.
          // 4. Let args be a new list containing the same values as the
          //   list boundArgs in the same order followed by the same
          //   values as the list ExtraArgs in the same order.
          // 5. Return the result of calling the [[Construct]] internal
          //   method of target providing args as the arguments.
          var result = target.apply(this, array_concat.call(args, array_slice.call(arguments)));

          if ($Object(result) === result) {
            return result;
          }

          return this;
        } else {
          // 15.3.4.5.1 [[Call]]
          // When the [[Call]] internal method of a function object, F,
          // which was created using the bind function is called with a
          // this value and a list of arguments ExtraArgs, the following
          // steps are taken:
          // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
          //   property.
          // 2. Let boundThis be the value of F's [[BoundThis]] internal
          //   property.
          // 3. Let target be the value of F's [[TargetFunction]] internal
          //   property.
          // 4. Let args be a new list containing the same values as the
          //   list boundArgs in the same order followed by the same
          //   values as the list ExtraArgs in the same order.
          // 5. Return the result of calling the [[Call]] internal method
          //   of target providing boundThis as the this value and
          //   providing args as the arguments.
          // equiv: target.call(this, ...boundArgs, ...args)
          return target.apply(that, array_concat.call(args, array_slice.call(arguments)));
        }
      }; // 15. If the [[Class]] internal property of Target is "Function", then
      //     a. Let L be the length property of Target minus the length of A.
      //     b. Set the length own property of F to either 0 or L, whichever is
      //       larger.
      // 16. Else set the length own property of F to 0.


      var boundLength = max(0, target.length - args.length); // 17. Set the attributes of the length own property of F to the values
      //   specified in 15.3.5.1.

      var boundArgs = [];

      for (var i = 0; i < boundLength; i++) {
        array_push.call(boundArgs, '$' + i);
      } // XXX Build a dynamic function with desired amount of arguments is the only
      // way to set the length property of a function.
      // In environments where Content Security Policies enabled (Chrome extensions,
      // for ex.) all use of eval or Function costructor throws an exception.
      // However in all of these environments Function.prototype.bind exists
      // and so this code will never be executed.


      bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);

      if (target.prototype) {
        Empty.prototype = target.prototype;
        bound.prototype = new Empty(); // Clean up dangling references.

        Empty.prototype = null;
      } // TODO
      // 18. Set the [[Extensible]] internal property of F to true.
      // TODO
      // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).
      // 20. Call the [[DefineOwnProperty]] internal method of F with
      //   arguments "caller", PropertyDescriptor {[[Get]]: thrower, [[Set]]:
      //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and
      //   false.
      // 21. Call the [[DefineOwnProperty]] internal method of F with
      //   arguments "arguments", PropertyDescriptor {[[Get]]: thrower,
      //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},
      //   and false.
      // TODO
      // NOTE Function objects created using Function.prototype.bind do not
      // have a prototype property or the [[Code]], [[FormalParameters]], and
      // [[Scope]] internal properties.
      // XXX can't delete prototype in pure-js.
      // 22. Return F.


      return bound;
    });
  }

  if (!("freeze" in Object)) {
    // Object.freeze

    /* global CreateMethodProperty */
    // 19.1.2.6. Object.freeze ( O )
    CreateMethodProperty(Object, 'freeze', function freeze(O) {
      // This feature cannot be implemented fully as a polyfill.
      // We choose to silently fail which allows "securable" code
      // to "gracefully" degrade to working but insecure code.
      return O;
    });
  }

  if (!("getOwnPropertyDescriptor" in Object && "function" == typeof Object.getOwnPropertyDescriptor && function () {
    try {
      var t = {};
      return t.test = 0, 0 === Object.getOwnPropertyDescriptor(t, "test").value;
    } catch (e) {
      return !1;
    }
  }())) {
    // Object.getOwnPropertyDescriptor

    /* global CreateMethodProperty */
    (function () {
      var call = Function.prototype.call;
      var prototypeOfObject = Object.prototype;
      var owns = call.bind(prototypeOfObject.hasOwnProperty);
      var lookupGetter;
      var lookupSetter;
      var supportsAccessors;

      if (supportsAccessors = owns(prototypeOfObject, "__defineGetter__")) {
        lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);
        lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);
      }

      function doesGetOwnPropertyDescriptorWork(object) {
        try {
          object.sentinel = 0;
          return Object.getOwnPropertyDescriptor(object, "sentinel").value === 0;
        } catch (exception) {// returns falsy
        }
      } // check whether getOwnPropertyDescriptor works if it's given. Otherwise,
      // shim partially.


      if (Object.defineProperty) {
        var getOwnPropertyDescriptorWorksOnObject = doesGetOwnPropertyDescriptorWork({});
        var getOwnPropertyDescriptorWorksOnDom = typeof document == "undefined" || doesGetOwnPropertyDescriptorWork(document.createElement("div"));

        if (!getOwnPropertyDescriptorWorksOnDom || !getOwnPropertyDescriptorWorksOnObject) {
          var getOwnPropertyDescriptorFallback = Object.getOwnPropertyDescriptor;
        }
      }

      if (!Object.getOwnPropertyDescriptor || getOwnPropertyDescriptorFallback) {
        var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a non-object: ";
        CreateMethodProperty(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(object, property) {
          if (_typeof(object) != "object" && typeof object != "function" || object === null) {
            throw new TypeError(ERR_NON_OBJECT + object);
          } // make a valiant attempt to use the real getOwnPropertyDescriptor
          // for I8's DOM elements.


          if (getOwnPropertyDescriptorFallback) {
            try {
              return getOwnPropertyDescriptorFallback.call(Object, object, property);
            } catch (exception) {// try the shim if the real one doesn't work
            }
          } // If object does not owns property return undefined immediately.


          if (!owns(object, property)) {
            return;
          } // If object has a property then it's for sure both `enumerable` and
          // `configurable`.


          var descriptor = {
            enumerable: true,
            configurable: true
          }; // If JS engine supports accessor properties then property may be a
          // getter or setter.

          if (supportsAccessors) {
            // Unfortunately `__lookupGetter__` will return a getter even
            // if object has own non getter property along with a same named
            // inherited getter. To avoid misbehavior we temporary remove
            // `__proto__` so that `__lookupGetter__` will return getter only
            // if it's owned by an object.
            var prototype = object.__proto__;
            object.__proto__ = prototypeOfObject;
            var getter = lookupGetter(object, property);
            var setter = lookupSetter(object, property); // Once we have getter and setter we can put values back.

            object.__proto__ = prototype;

            if (getter || setter) {
              if (getter) {
                descriptor.get = getter;
              }

              if (setter) {
                descriptor.set = setter;
              } // If it was accessor property we're done and return here
              // in order to avoid adding `value` to the descriptor.


              return descriptor;
            }
          } // If we got this far we know that object has an own property that is
          // not an accessor so we set it as a value and return descriptor.


          descriptor.value = object[property];
          descriptor.writable = true;
          return descriptor;
        });
      }
    })();
  }

  if (!("getOwnPropertyNames" in Object)) {
    // Object.getOwnPropertyNames

    /* global CreateMethodProperty */
    var toString = {}.toString;
    var split = ''.split;
    CreateMethodProperty(Object, 'getOwnPropertyNames', function getOwnPropertyNames(object) {
      var buffer = [];
      var key; // Non-enumerable properties cannot be discovered but can be checked for by name.
      // Define those used internally by JS to allow an incomplete solution

      var commonProps = ['length', "name", "arguments", "caller", "prototype", "observe", "unobserve"];

      if (typeof object === 'undefined' || object === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      } // Polyfill.io fallback for non-array-like strings which exist in some ES3 user-agents (IE 8)


      object = toString.call(object) == '[object String]' ? split.call(object, '') : Object(object); // Enumerable properties only

      for (key in object) {
        if (Object.prototype.hasOwnProperty.call(object, key)) {
          buffer.push(key);
        }
      } // Check for and add the common non-enumerable properties


      for (var i = 0, s = commonProps.length; i < s; i++) {
        if (commonProps[i] in object) buffer.push(commonProps[i]);
      }

      return buffer;
    });
  }

  if (!("getPrototypeOf" in Object)) {
    // Object.getPrototypeOf

    /* global CreateMethodProperty */
    // Based on: https://github.com/es-shims/es5-shim/blob/master/es5-sham.js
    // https://github.com/es-shims/es5-shim/issues#issue/2
    // http://ejohn.org/blog/objectgetprototypeof/
    // recommended by fschaefer on github
    //
    // sure, and webreflection says ^_^
    // ... this will nerever possibly return null
    // ... Opera Mini breaks here with infinite loops
    CreateMethodProperty(Object, 'getPrototypeOf', function getPrototypeOf(object) {
      if (object !== Object(object)) {
        throw new TypeError('Object.getPrototypeOf called on non-object');
      }

      var proto = object.__proto__;

      if (proto || proto === null) {
        return proto;
      } else if (typeof object.constructor == 'function' && object instanceof object.constructor) {
        return object.constructor.prototype;
      } else if (object instanceof Object) {
        return Object.prototype;
      } else {
        // Correctly return null for Objects created with `Object.create(null)`
        // (shammed or native) or `{ __proto__: null}`.  Also returns null for
        // cross-realm objects on browsers that lack `__proto__` support (like
        // IE <11), but that's the best we can do.
        return null;
      }
    });
  }

  if (!("keys" in Object && function () {
    return 2 === Object.keys(arguments).length;
  }(1, 2) && function () {
    try {
      return Object.keys(""), !0;
    } catch (t) {
      return !1;
    }
  }())) {
    // Object.keys

    /* global CreateMethodProperty */
    CreateMethodProperty(Object, "keys", function () {
      'use strict'; // modified from https://github.com/es-shims/object-keys

      var has = Object.prototype.hasOwnProperty;
      var toStr = Object.prototype.toString;
      var isEnumerable = Object.prototype.propertyIsEnumerable;
      var hasDontEnumBug = !isEnumerable.call({
        toString: null
      }, 'toString');
      var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
      var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];

      var equalsConstructorPrototype = function equalsConstructorPrototype(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };

      var excludedKeys = {
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };

      var hasAutomationEqualityBug = function () {
        /* global window */
        if (typeof window === 'undefined') {
          return false;
        }

        for (var k in window) {
          try {
            if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && _typeof(window[k]) === 'object') {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }

        return false;
      }();

      var equalsConstructorPrototypeIfNotBuggy = function equalsConstructorPrototypeIfNotBuggy(o) {
        /* global window */
        if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }

        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };

      function isArgumentsObject(value) {
        var str = toStr.call(value);
        var isArgs = str === '[object Arguments]';

        if (!isArgs) {
          isArgs = str !== '[object Array]' && value !== null && _typeof(value) === 'object' && typeof value.length === 'number' && value.length >= 0 && toStr.call(value.callee) === '[object Function]';
        }

        return isArgs;
      }

      return function keys(object) {
        var isFunction = toStr.call(object) === '[object Function]';
        var isArguments = isArgumentsObject(object);
        var isString = toStr.call(object) === '[object String]';
        var theKeys = [];

        if (object === undefined || object === null) {
          throw new TypeError('Cannot convert undefined or null to object');
        }

        var skipProto = hasProtoEnumBug && isFunction;

        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }

        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === 'prototype') && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }

        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }

        return theKeys;
      };
    }());
  } // _ESAbstract.EnumerableOwnProperties

  /* globals Type, Get */
  // 7.3.21. EnumerableOwnProperties ( O, kind )


  function EnumerableOwnProperties(O, kind) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Let ownKeys be ? O.[[OwnPropertyKeys]]().
    var ownKeys = Object.keys(O); // 3. Let properties be a new empty List.

    var properties = []; // 4. For each element key of ownKeys in List order, do

    var length = ownKeys.length;

    for (var i = 0; i < length; i++) {
      var key = ownKeys[i]; // a. If Type(key) is String, then

      if (Type(key) === 'string') {
        // i. Let desc be ? O.[[GetOwnProperty]](key).
        var desc = Object.getOwnPropertyDescriptor(O, key); // ii. If desc is not undefined and desc.[[Enumerable]] is true, then

        if (desc && desc.enumerable) {
          // 1. If kind is "key", append key to properties.
          if (kind === 'key') {
            properties.push(key); // 2. Else,
          } else {
            // a. Let value be ? Get(O, key).
            var value = Get(O, key); // b. If kind is "value", append value to properties.

            if (kind === 'value') {
              properties.push(value); // c. Else,
            } else {
              // i. Assert: kind is "key+value".
              // ii. Let entry be CreateArrayFromList(« key, value »).
              var entry = [key, value]; // iii. Append entry to properties.

              properties.push(entry);
            }
          }
        }
      }
    } // 5. Order the elements of properties so they are in the same relative order as would be produced by the Iterator that would be returned if the EnumerateObjectProperties internal method were invoked with O.
    // 6. Return properties.


    return properties;
  }

  if (!("entries" in Object)) {
    // Object.entries

    /* global CreateMethodProperty, EnumerableOwnProperties, ToObject */
    (function () {
      var toString = {}.toString;
      var split = ''.split; // 19.1.2.5. Object.entries ( O )

      CreateMethodProperty(Object, 'entries', function entries(O) {
        // 1. Let obj be ? ToObject(O).
        var obj = ToObject(O); // Polyfill.io fallback for non-array-like strings which exist in some ES3 user-agents (IE 8)

        var obj = toString.call(O) == '[object String]' ? split.call(O, '') : Object(O); // 2. Let nameList be ? EnumerableOwnProperties(obj, "key+value").

        var nameList = EnumerableOwnProperties(obj, "key+value"); // 3. Return CreateArrayFromList(nameList).
        // Polyfill.io - nameList is already an array.

        return nameList;
      });
    })();
  }

  if (!("assign" in Object)) {
    // Object.assign

    /* global CreateMethodProperty, Get, ToObject */
    // 19.1.2.1 Object.assign ( target, ...sources )
    CreateMethodProperty(Object, 'assign', function assign(target, source) {
      // eslint-disable-line no-unused-vars
      // 1. Let to be ? ToObject(target).
      var to = ToObject(target); // 2. If only one argument was passed, return to.

      if (arguments.length === 1) {
        return to;
      } // 3. Let sources be the List of argument values starting with the second argument


      var sources = Array.prototype.slice.call(arguments, 1); // 4. For each element nextSource of sources, in ascending index order, do

      var index1;
      var index2;
      var keys;
      var from;

      for (index1 = 0; index1 < sources.length; index1++) {
        var nextSource = sources[index1]; // a. If nextSource is undefined or null, let keys be a new empty List.

        if (nextSource === undefined || nextSource === null) {
          keys = []; // b. Else,
        } else {
          // i. Let from be ! ToObject(nextSource).
          from = ToObject(nextSource); // ii. Let keys be ? from.[[OwnPropertyKeys]]().

          /*
          	This step in our polyfill is not complying with the specification.
          	[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
          	TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
          */

          keys = Object.keys(from);
        } // c. For each element nextKey of keys in List order, do


        for (index2 = 0; index2 < keys.length; index2++) {
          var nextKey = keys[index2];
          var enumerable;

          try {
            // i. Let desc be ? from.[[GetOwnProperty]](nextKey).
            var desc = Object.getOwnPropertyDescriptor(from, nextKey); // ii. If desc is not undefined and desc.[[Enumerable]] is true, then

            enumerable = desc !== undefined && desc.enumerable === true;
          } catch (e) {
            // Polyfill.io - We use Object.prototype.propertyIsEnumerable as a fallback
            // because `Object.getOwnPropertyDescriptor(window.location, 'hash')` causes Internet Explorer 11 to crash.
            enumerable = Object.prototype.propertyIsEnumerable.call(from, nextKey);
          }

          if (enumerable) {
            // 1. Let propValue be ? Get(from, nextKey).
            var propValue = Get(from, nextKey); // 2. Perform ? Set(to, nextKey, propValue, true).

            to[nextKey] = propValue;
          }
        }
      } // 5. Return to.


      return to;
    });
  }

  if (!("defineProperties" in Object)) {
    // Object.defineProperties

    /* global CreateMethodProperty, Get, ToObject, Type */
    // 19.1.2.3. Object.defineProperties ( O, Properties )
    CreateMethodProperty(Object, 'defineProperties', function defineProperties(O, Properties) {
      // 1. If Type(O) is not Object, throw a TypeError exception.
      if (Type(O) !== 'object') {
        throw new TypeError('Object.defineProperties called on non-object');
      } // 2. Let props be ? ToObject(Properties).


      var props = ToObject(Properties); // 3. Let keys be ? props.[[OwnPropertyKeys]]().

      /*
      	Polyfill.io - This step in our polyfill is not complying with the specification.
      	[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
      	TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
      */

      var keys = Object.keys(props); // 4. Let descriptors be a new empty List.

      var descriptors = []; // 5. For each element nextKey of keys in List order, do

      for (var i = 0; i < keys.length; i++) {
        var nextKey = keys[i]; // a. Let propDesc be ? props.[[GetOwnProperty]](nextKey).

        var propDesc = Object.getOwnPropertyDescriptor(props, nextKey); // b. If propDesc is not undefined and propDesc.[[Enumerable]] is true, then

        if (propDesc !== undefined && propDesc.enumerable) {
          // i. Let descObj be ? Get(props, nextKey).
          var descObj = Get(props, nextKey); // ii. Let desc be ? ToPropertyDescriptor(descObj).
          // Polyfill.io - We skip this step because Object.defineProperty deals with it.
          // TODO: Implement this step?

          var desc = descObj; // iii. Append the pair (a two element List) consisting of nextKey and desc to the end of descriptors.

          descriptors.push([nextKey, desc]);
        }
      } // 6. For each pair from descriptors in list order, do


      for (var i = 0; i < descriptors.length; i++) {
        // a. Let P be the first element of pair.
        var P = descriptors[i][0]; // b. Let desc be the second element of pair.

        var desc = descriptors[i][1]; // c. Perform ? DefinePropertyOrThrow(O, P, desc).

        Object.defineProperty(O, P, desc);
      } // 7. Return O.


      return O;
    });
  }

  if (!("create" in Object)) {
    // Object.create

    /* global CreateMethodProperty, Type */
    CreateMethodProperty(Object, 'create', function create(O, properties) {
      // 1. If Type(O) is neither Object nor Null, throw a TypeError exception.
      if (Type(O) !== 'object' && Type(O) !== 'null') {
        throw new TypeError('Object prototype may only be an Object or null');
      } // 2. Let obj be ObjectCreate(O).


      var obj = new Function('e', 'function Object() {}Object.prototype=e;return new Object')(O);
      obj.constructor.prototype = O; // 3. If Properties is not undefined, then

      if (1 in arguments) {
        // a. Return ? ObjectDefineProperties(obj, Properties).
        return Object.defineProperties(obj, properties);
      }

      return obj;
    });
  } // _ESAbstract.OrdinaryCreateFromConstructor

  /* global GetPrototypeFromConstructor */
  // 9.1.13. OrdinaryCreateFromConstructor ( constructor, intrinsicDefaultProto [ , internalSlotsList ] )


  function OrdinaryCreateFromConstructor(constructor, intrinsicDefaultProto) {
    // eslint-disable-line no-unused-vars
    var internalSlotsList = arguments[2] || {}; // 1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object.
    // The corresponding object must be an intrinsic that is intended to be used as the[[Prototype]] value of an object.
    // 2. Let proto be ? GetPrototypeFromConstructor(constructor, intrinsicDefaultProto).

    var proto = GetPrototypeFromConstructor(constructor, intrinsicDefaultProto); // 3. Return ObjectCreate(proto, internalSlotsList).
    // Polyfill.io - We do not pass internalSlotsList to Object.create because Object.create does not use the default ordinary object definitions specified in 9.1.

    var obj = Object.create(proto);

    for (var name in internalSlotsList) {
      if (Object.prototype.hasOwnProperty.call(internalSlotsList, name)) {
        Object.defineProperty(obj, name, {
          configurable: true,
          enumerable: false,
          writable: true,
          value: internalSlotsList[name]
        });
      }
    }

    return obj;
  } // _ESAbstract.Construct

  /* global IsConstructor, OrdinaryCreateFromConstructor, Call */
  // 7.3.13. Construct ( F [ , argumentsList [ , newTarget ]] )


  function Construct(F
  /* [ , argumentsList [ , newTarget ]] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. If newTarget is not present, set newTarget to F.
    var newTarget = arguments.length > 2 ? arguments[2] : F; // 2. If argumentsList is not present, set argumentsList to a new empty List.

    var argumentsList = arguments.length > 1 ? arguments[1] : []; // 3. Assert: IsConstructor(F) is true.

    if (!IsConstructor(F)) {
      throw new TypeError('F must be a constructor.');
    } // 4. Assert: IsConstructor(newTarget) is true.


    if (!IsConstructor(newTarget)) {
      throw new TypeError('newTarget must be a constructor.');
    } // 5. Return ? F.[[Construct]](argumentsList, newTarget).
    // Polyfill.io - If newTarget is the same as F, it is equivalent to new F(...argumentsList).


    if (newTarget === F) {
      return new (Function.prototype.bind.apply(F, [null].concat(argumentsList)))();
    } else {
      // Polyfill.io - This is mimicking section 9.2.2 step 5.a.
      var obj = OrdinaryCreateFromConstructor(newTarget, Object.prototype);
      return Call(F, obj, argumentsList);
    }
  } // _ESAbstract.ArraySpeciesCreate

  /* global IsArray, ArrayCreate, Get, Type, IsConstructor, Construct */
  // 9.4.2.3. ArraySpeciesCreate ( originalArray, length )


  function ArraySpeciesCreate(originalArray, length) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: length is an integer Number ≥ 0.
    // 2. If length is -0, set length to +0.
    if (1 / length === -Infinity) {
      length = 0;
    } // 3. Let isArray be ? IsArray(originalArray).


    var isArray = IsArray(originalArray); // 4. If isArray is false, return ? ArrayCreate(length).

    if (isArray === false) {
      return ArrayCreate(length);
    } // 5. Let C be ? Get(originalArray, "constructor").


    var C = Get(originalArray, 'constructor'); // Polyfill.io - We skip this section as not sure how to make a cross-realm normal Array, a same-realm Array.
    // 6. If IsConstructor(C) is true, then
    // if (IsConstructor(C)) {
    // a. Let thisRealm be the current Realm Record.
    // b. Let realmC be ? GetFunctionRealm(C).
    // c. If thisRealm and realmC are not the same Realm Record, then
    // i. If SameValue(C, realmC.[[Intrinsics]].[[%Array%]]) is true, set C to undefined.
    // }
    // 7. If Type(C) is Object, then

    if (Type(C) === 'object') {
      // a. Set C to ? Get(C, @@species).
      C = 'Symbol' in this && 'species' in this.Symbol ? Get(C, this.Symbol.species) : undefined; // b. If C is null, set C to undefined.

      if (C === null) {
        C = undefined;
      }
    } // 8. If C is undefined, return ? ArrayCreate(length).


    if (C === undefined) {
      return ArrayCreate(length);
    } // 9. If IsConstructor(C) is false, throw a TypeError exception.


    if (!IsConstructor(C)) {
      throw new TypeError('C must be a constructor');
    } // 10. Return ? Construct(C, « length »).


    return Construct(C, [length]);
  }

  if (!("filter" in Array.prototype)) {
    // Array.prototype.filter

    /* global CreateMethodProperty, ToObject, ToLength, Get, IsCallable, ArraySpeciesCreate, ToString, HasProperty, ToBoolean, Call, CreateDataPropertyOrThrow */
    // 22.1.3.7. Array.prototype.filter ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'filter', function filter(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let A be ? ArraySpeciesCreate(O, 0).

      var A = ArraySpeciesCreate(O, 0); // 6. Let k be 0.

      var k = 0; // 7. Let to be 0.

      var to = 0; // 8. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(O, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(O, Pk); // ii. Let selected be ToBoolean(? Call(callbackfn, T, « kValue, k, O »)).

          var selected = ToBoolean(Call(callbackfn, T, [kValue, k, O])); // iii. If selected is true, then

          if (selected) {
            // 1. Perform ? CreateDataPropertyOrThrow(A, ! ToString(to), kValue)
            CreateDataPropertyOrThrow(A, ToString(to), kValue); // 2. Increase to by 1.

            to = to + 1;
          }
        } // d. Increase k by 1.


        k = k + 1;
      } // 9. Return A.


      return A;
    });
  }

  if (!("map" in Array.prototype)) {
    // Array.prototype.map

    /* global ArraySpeciesCreate, Call, CreateDataPropertyOrThrow, CreateMethodProperty, Get, HasProperty, IsCallable, ToLength, ToObject, ToString */

    /* global CreateMethodProperty, ToObject, ToLength, Get, ArraySpeciesCreate, ToString, HasProperty, Call, CreateDataPropertyOrThrow */
    // 22.1.3.16. Array.prototype.map ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'map', function map(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let A be ? ArraySpeciesCreate(O, len).

      var A = ArraySpeciesCreate(O, len); // 6. Let k be 0.

      var k = 0; // 7. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(O, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(O, Pk); // ii. Let mappedValue be ? Call(callbackfn, T, « kValue, k, O »).

          var mappedValue = Call(callbackfn, T, [kValue, k, O]); // iii. Perform ? CreateDataPropertyOrThrow(A, Pk, mappedValue).

          CreateDataPropertyOrThrow(A, Pk, mappedValue);
        } // d. Increase k by 1.


        k = k + 1;
      } // 8. Return A.


      return A;
    });
  } // Object.setPrototypeOf

  /* global CreateMethodProperty */
  // ES6-shim 0.16.0 (c) 2013-2014 Paul Miller (http://paulmillr.com)
  // ES6-shim may be freely distributed under the MIT license.
  // For more details and documentation:
  // https://github.com/paulmillr/es6-shim/
  // NOTE:  This versions needs object ownership
  //        because every promoted object needs to be reassigned
  //        otherwise uncompatible browsers cannot work as expected
  //
  // NOTE:  This might need es5-shim or polyfills upfront
  //        because it's based on ES5 API.
  //        (probably just an IE <= 8 problem)
  //
  // NOTE:  nodejs is fine in version 0.8, 0.10, and future versions.


  (function () {
    if (Object.setPrototypeOf) {
      return;
    }
    /*jshint proto: true */
    // @author    Andrea Giammarchi - @WebReflection


    var getOwnPropertyNames = Object.getOwnPropertyNames;
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    var create = Object.create;
    var defineProperty = Object.defineProperty;
    var getPrototypeOf = Object.getPrototypeOf;
    var objProto = Object.prototype;

    var copyDescriptors = function copyDescriptors(target, source) {
      // define into target descriptors from source
      getOwnPropertyNames(source).forEach(function (key) {
        defineProperty(target, key, getOwnPropertyDescriptor(source, key));
      });
      return target;
    }; // used as fallback when no promotion is possible


    var createAndCopy = function setPrototypeOf(origin, proto) {
      return copyDescriptors(create(proto), origin);
    };

    var set, sPOf;

    try {
      // this might fail for various reasons
      // ignore if Chrome cought it at runtime
      set = getOwnPropertyDescriptor(objProto, '__proto__').set;
      set.call({}, null); // setter not poisoned, it can promote
      // Firefox, Chrome

      sPOf = function setPrototypeOf(origin, proto) {
        set.call(origin, proto);
        return origin;
      };
    } catch (e) {
      // do one or more feature detections
      set = {
        __proto__: null
      }; // if proto does not work, needs to fallback
      // some Opera, Rhino, ducktape

      if (set instanceof Object) {
        sPOf = createAndCopy;
      } else {
        // verify if null objects are buggy

        /* eslint-disable no-proto */
        set.__proto__ = objProto;
        /* eslint-enable no-proto */
        // if null objects are buggy
        // nodejs 0.8 to 0.10

        if (set instanceof Object) {
          sPOf = function setPrototypeOf(origin, proto) {
            // use such bug to promote

            /* eslint-disable no-proto */
            origin.__proto__ = proto;
            /* eslint-enable no-proto */

            return origin;
          };
        } else {
          // try to use proto or fallback
          // Safari, old Firefox, many others
          sPOf = function setPrototypeOf(origin, proto) {
            // if proto is not null
            if (getPrototypeOf(origin)) {
              // use __proto__ to promote

              /* eslint-disable no-proto */
              origin.__proto__ = proto;
              /* eslint-enable no-proto */

              return origin;
            } else {
              // otherwise unable to promote: fallback
              return createAndCopy(origin, proto);
            }
          };
        }
      }
    }

    CreateMethodProperty(Object, 'setPrototypeOf', sPOf);
  })();

  if (!("Promise" in this)) {
    // Promise
    !function (n) {
      function t(r) {
        if (e[r]) return e[r].exports;
        var o = e[r] = {
          i: r,
          l: !1,
          exports: {}
        };
        return n[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;
      }

      var e = {};
      t.m = n, t.c = e, t.i = function (n) {
        return n;
      }, t.d = function (n, e, r) {
        t.o(n, e) || Object.defineProperty(n, e, {
          configurable: !1,
          enumerable: !0,
          get: r
        });
      }, t.n = function (n) {
        var e = n && n.__esModule ? function () {
          return n["default"];
        } : function () {
          return n;
        };
        return t.d(e, "a", e), e;
      }, t.o = function (n, t) {
        return Object.prototype.hasOwnProperty.call(n, t);
      }, t.p = "", t(t.s = 100);
    }({
      100:
      /*!***********************!*\
      !*** ./src/global.js ***!
      \***********************/
      function _(n, t, e) {
        (function (n) {
          var t = e(
          /*! ./yaku */
          5);

          try {
            n.Promise = t, window.Promise = t;
          } catch (r) {}
        }).call(t, e(
        /*! ./../~/webpack/buildin/global.js */
        2));
      },
      2:
      /*!***********************************!*\
      !*** (webpack)/buildin/global.js ***!
      \***********************************/
      function _(n, t) {
        var e;

        e = function () {
          return this;
        }();

        try {
          e = e || Function("return this")() || (0, eval)("this");
        } catch (r) {
          "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && (e = window);
        }

        n.exports = e;
      },
      5:
      /*!*********************!*\
      !*** ./src/yaku.js ***!
      \*********************/
      function _(n, t, e) {
        (function (t) {
          !function () {
            "use strict";

            function e() {
              return rn[q][B] || D;
            }

            function r(n) {
              return n && "object" == _typeof(n);
            }

            function o(n) {
              return "function" == typeof n;
            }

            function i(n, t) {
              return n instanceof t;
            }

            function u(n) {
              return i(n, M);
            }

            function c(n, t, e) {
              if (!t(n)) throw h(e);
            }

            function f() {
              try {
                return R.apply(S, arguments);
              } catch (n) {
                return nn.e = n, nn;
              }
            }

            function s(n, t) {
              return R = n, S = t, f;
            }

            function a(n, t) {
              function e() {
                for (var e = 0; e < o;) {
                  t(r[e], r[e + 1]), r[e++] = P, r[e++] = P;
                }

                o = 0, r.length > n && (r.length = n);
              }

              var r = A(n),
                  o = 0;
              return function (n, t) {
                r[o++] = n, r[o++] = t, 2 === o && rn.nextTick(e);
              };
            }

            function l(n, t) {
              var e,
                  r,
                  u,
                  c,
                  f = 0;
              if (!n) throw h(Q);
              var a = n[rn[q][z]];
              if (o(a)) r = a.call(n);else {
                if (!o(n.next)) {
                  if (i(n, A)) {
                    for (e = n.length; f < e;) {
                      t(n[f], f++);
                    }

                    return f;
                  }

                  throw h(Q);
                }

                r = n;
              }

              for (; !(u = r.next()).done;) {
                if ((c = s(t)(u.value, f++)) === nn) throw o(r[G]) && r[G](), c.e;
              }

              return f;
            }

            function h(n) {
              return new TypeError(n);
            }

            function v(n) {
              return (n ? "" : V) + new M().stack;
            }

            function _(n, t) {
              var e = "on" + n.toLowerCase(),
                  r = O[e];
              H && H.listeners(n).length ? n === Z ? H.emit(n, t._v, t) : H.emit(n, t) : r ? r({
                reason: t._v,
                promise: t
              }) : rn[n](t._v, t);
            }

            function p(n) {
              return n && n._s;
            }

            function d(n) {
              if (p(n)) return new n(tn);
              var t, e, r;
              return t = new n(function (n, o) {
                if (t) throw h();
                e = n, r = o;
              }), c(e, o), c(r, o), t;
            }

            function w(n, t) {
              var e = !1;
              return function (r) {
                e || (e = !0, L && (n[N] = v(!0)), t === Y ? k(n, r) : x(n, t, r));
              };
            }

            function y(n, t, e, r) {
              return o(e) && (t._onFulfilled = e), o(r) && (n[J] && _(X, n), t._onRejected = r), L && (t._p = n), n[n._c++] = t, n._s !== $ && on(n, t), t;
            }

            function m(n) {
              if (n._umark) return !0;
              n._umark = !0;

              for (var t, e = 0, r = n._c; e < r;) {
                if (t = n[e++], t._onRejected || m(t)) return !0;
              }
            }

            function j(n, t) {
              function e(n) {
                return r.push(n.replace(/^\s+|\s+$/g, ""));
              }

              var r = [];
              return L && (t[N] && e(t[N]), function o(n) {
                n && K in n && (o(n._next), e(n[K] + ""), o(n._p));
              }(t)), (n && n.stack ? n.stack : n) + ("\n" + r.join("\n")).replace(en, "");
            }

            function g(n, t) {
              return n(t);
            }

            function x(n, t, e) {
              var r = 0,
                  o = n._c;
              if (n._s === $) for (n._s = t, n._v = e, t === U && (L && u(e) && (e.longStack = j(e, n)), un(n)); r < o;) {
                on(n, n[r++]);
              }
              return n;
            }

            function k(n, t) {
              if (t === n && t) return x(n, U, h(W)), n;

              if (t !== C && (o(t) || r(t))) {
                var e = s(b)(t);
                if (e === nn) return x(n, U, e.e), n;
                o(e) ? (L && p(t) && (n._next = t), p(t) ? T(n, t, e) : rn.nextTick(function () {
                  T(n, t, e);
                })) : x(n, Y, t);
              } else x(n, Y, t);

              return n;
            }

            function b(n) {
              return n.then;
            }

            function T(n, t, e) {
              var r = s(e, t)(function (e) {
                t && (t = C, k(n, e));
              }, function (e) {
                t && (t = C, x(n, U, e));
              });
              r === nn && t && (x(n, U, r.e), t = C);
            }

            var P,
                R,
                S,
                C = null,
                F = "object" == (typeof self === "undefined" ? "undefined" : _typeof(self)),
                O = F ? self : t,
                E = O.Promise,
                H = O.process,
                I = O.console,
                L = !1,
                A = Array,
                M = Error,
                U = 1,
                Y = 2,
                $ = 3,
                q = "Symbol",
                z = "iterator",
                B = "species",
                D = q + "(" + B + ")",
                G = "return",
                J = "_uh",
                K = "_pt",
                N = "_st",
                Q = "Invalid argument",
                V = "\nFrom previous ",
                W = "Chaining cycle detected for promise",
                X = "rejectionHandled",
                Z = "unhandledRejection",
                nn = {
              e: C
            },
                tn = function tn() {},
                en = /^.+\/node_modules\/yaku\/.+\n?/gm,
                rn = function rn(n) {
              var t,
                  e = this;
              if (!r(e) || e._s !== P) throw h("Invalid this");

              if (e._s = $, L && (e[K] = v()), n !== tn) {
                if (!o(n)) throw h(Q);
                t = s(n)(w(e, Y), w(e, U)), t === nn && x(e, U, t.e);
              }
            };

            rn["default"] = rn, function (n, t) {
              for (var e in t) {
                n[e] = t[e];
              }
            }(rn.prototype, {
              then: function then(n, t) {
                if (this._s === undefined) throw h();
                return y(this, d(rn.speciesConstructor(this, rn)), n, t);
              },
              "catch": function _catch(n) {
                return this.then(P, n);
              },
              "finally": function _finally(n) {
                return this.then(function (t) {
                  return rn.resolve(n()).then(function () {
                    return t;
                  });
                }, function (t) {
                  return rn.resolve(n()).then(function () {
                    throw t;
                  });
                });
              },
              _c: 0,
              _p: C
            }), rn.resolve = function (n) {
              return p(n) ? n : k(d(this), n);
            }, rn.reject = function (n) {
              return x(d(this), U, n);
            }, rn.race = function (n) {
              var t = this,
                  e = d(t),
                  r = function r(n) {
                x(e, Y, n);
              },
                  o = function o(n) {
                x(e, U, n);
              },
                  i = s(l)(n, function (n) {
                t.resolve(n).then(r, o);
              });

              return i === nn ? t.reject(i.e) : e;
            }, rn.all = function (n) {
              function t(n) {
                x(o, U, n);
              }

              var e,
                  r = this,
                  o = d(r),
                  i = [];
              return (e = s(l)(n, function (n, u) {
                r.resolve(n).then(function (n) {
                  i[u] = n, --e || x(o, Y, i);
                }, t);
              })) === nn ? r.reject(e.e) : (e || x(o, Y, []), o);
            }, rn.Symbol = O[q] || {}, s(function () {
              Object.defineProperty(rn, e(), {
                get: function get() {
                  return this;
                }
              });
            })(), rn.speciesConstructor = function (n, t) {
              var r = n.constructor;
              return r ? r[e()] || t : t;
            }, rn.unhandledRejection = function (n, t) {
              I && I.error("Uncaught (in promise)", L ? t.longStack : j(n, t));
            }, rn.rejectionHandled = tn, rn.enableLongStackTrace = function () {
              L = !0;
            }, rn.nextTick = F ? function (n) {
              E ? new E(function (n) {
                n();
              }).then(n) : setTimeout(n);
            } : H.nextTick, rn._s = 1;
            var on = a(999, function (n, t) {
              var e, r;
              return (r = n._s !== U ? t._onFulfilled : t._onRejected) === P ? void x(t, n._s, n._v) : (e = s(g)(r, n._v)) === nn ? void x(t, U, e.e) : void k(t, e);
            }),
                un = a(9, function (n) {
              m(n) || (n[J] = 1, _(Z, n));
            });

            try {
              n.exports = rn;
            } catch (cn) {
              O.Yaku = rn;
            }
          }();
        }).call(t, e(
        /*! ./../~/webpack/buildin/global.js */
        2));
      }
    });
  }

  if (!("includes" in String.prototype)) {
    // String.prototype.includes

    /* global CreateMethodProperty, IsRegExp, RequireObjectCoercible, ToInteger, ToString */
    // 21.1.3.7. String.prototype.includes ( searchString [ , position ] )
    CreateMethodProperty(String.prototype, 'includes', function includes(searchString
    /* [ , position ] */
    ) {
      'use strict';

      var position = arguments.length > 1 ? arguments[1] : undefined; // 1. Let O be ? RequireObjectCoercible(this value).

      var O = RequireObjectCoercible(this); // 2. Let S be ? ToString(O).

      var S = ToString(O); // 3. Let isRegExp be ? IsRegExp(searchString).

      var isRegExp = IsRegExp(searchString); // 4. If isRegExp is true, throw a TypeError exception.

      if (isRegExp) {
        throw new TypeError('First argument to String.prototype.includes must not be a regular expression');
      } // 5. Let searchStr be ? ToString(searchString).


      var searchStr = ToString(searchString); // 6. Let pos be ? ToInteger(position). (If position is undefined, this step produces the value 0.)

      var pos = ToInteger(position); // 7. Let len be the length of S.

      var len = S.length; // 8. Let start be min(max(pos, 0), len).

      var start = Math.min(Math.max(pos, 0), len); // 9. Let searchLen be the length of searchStr.
      // var searchLength = searchStr.length;
      // 10. If there exists any integer k not smaller than start such that k + searchLen is not greater than len, and for all nonnegative integers j less than searchLen, the code unit at index k+j within S is the same as the code unit at index j within searchStr, return true; but if there is no such integer k, return false.

      return String.prototype.indexOf.call(S, searchStr, start) !== -1;
    });
  }

  if (!("Symbol" in this && 0 === this.Symbol.length)) {
    // Symbol
    // A modification of https://github.com/WebReflection/get-own-property-symbols
    // (C) Andrea Giammarchi - MIT Licensed
    (function (Object, GOPS, global) {
      'use strict'; //so that ({}).toString.call(null) returns the correct [object Null] rather than [object Window]

      var setDescriptor;
      var id = 0;
      var random = '' + Math.random();
      var prefix = '__\x01symbol:';
      var prefixLength = prefix.length;
      var internalSymbol = '__\x01symbol@@' + random;
      var DP = 'defineProperty';
      var DPies = 'defineProperties';
      var GOPN = 'getOwnPropertyNames';
      var GOPD = 'getOwnPropertyDescriptor';
      var PIE = 'propertyIsEnumerable';
      var ObjectProto = Object.prototype;
      var hOP = ObjectProto.hasOwnProperty;
      var pIE = ObjectProto[PIE];
      var toString = ObjectProto.toString;
      var concat = Array.prototype.concat;
      var cachedWindowNames = Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
      var nGOPN = Object[GOPN];

      var gOPN = function getOwnPropertyNames(obj) {
        if (toString.call(obj) === '[object Window]') {
          try {
            return nGOPN(obj);
          } catch (e) {
            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects
            return concat.call([], cachedWindowNames);
          }
        }

        return nGOPN(obj);
      };

      var gOPD = Object[GOPD];
      var create = Object.create;
      var keys = Object.keys;
      var freeze = Object.freeze || Object;
      var defineProperty = Object[DP];
      var $defineProperties = Object[DPies];
      var descriptor = gOPD(Object, GOPN);

      var addInternalIfNeeded = function addInternalIfNeeded(o, uid, enumerable) {
        if (!hOP.call(o, internalSymbol)) {
          try {
            defineProperty(o, internalSymbol, {
              enumerable: false,
              configurable: false,
              writable: false,
              value: {}
            });
          } catch (e) {
            o[internalSymbol] = {};
          }
        }

        o[internalSymbol]['@@' + uid] = enumerable;
      };

      var createWithSymbols = function createWithSymbols(proto, descriptors) {
        var self = create(proto);
        gOPN(descriptors).forEach(function (key) {
          if (propertyIsEnumerable.call(descriptors, key)) {
            $defineProperty(self, key, descriptors[key]);
          }
        });
        return self;
      };

      var copyAsNonEnumerable = function copyAsNonEnumerable(descriptor) {
        var newDescriptor = create(descriptor);
        newDescriptor.enumerable = false;
        return newDescriptor;
      };

      var get = function get() {};

      var onlyNonSymbols = function onlyNonSymbols(name) {
        return name != internalSymbol && !hOP.call(source, name);
      };

      var onlySymbols = function onlySymbols(name) {
        return name != internalSymbol && hOP.call(source, name);
      };

      var propertyIsEnumerable = function propertyIsEnumerable(key) {
        var uid = '' + key;
        return onlySymbols(uid) ? hOP.call(this, uid) && this[internalSymbol]['@@' + uid] : pIE.call(this, key);
      };

      var setAndGetSymbol = function setAndGetSymbol(uid) {
        var descriptor = {
          enumerable: false,
          configurable: true,
          get: get,
          set: function set(value) {
            setDescriptor(this, uid, {
              enumerable: false,
              configurable: true,
              writable: true,
              value: value
            });
            addInternalIfNeeded(this, uid, true);
          }
        };

        try {
          defineProperty(ObjectProto, uid, descriptor);
        } catch (e) {
          ObjectProto[uid] = descriptor.value;
        }

        return freeze(source[uid] = defineProperty(Object(uid), 'constructor', sourceConstructor));
      };

      var _Symbol = function _Symbol2() {
        var description = arguments[0];

        if (this instanceof _Symbol2) {
          throw new TypeError('Symbol is not a constructor');
        }

        return setAndGetSymbol(prefix.concat(description || '', random, ++id));
      };

      var source = create(null);
      var sourceConstructor = {
        value: _Symbol
      };

      var sourceMap = function sourceMap(uid) {
        return source[uid];
      };

      var $defineProperty = function defineProp(o, key, descriptor) {
        var uid = '' + key;

        if (onlySymbols(uid)) {
          setDescriptor(o, uid, descriptor.enumerable ? copyAsNonEnumerable(descriptor) : descriptor);
          addInternalIfNeeded(o, uid, !!descriptor.enumerable);
        } else {
          defineProperty(o, key, descriptor);
        }

        return o;
      };

      var onlyInternalSymbols = function onlyInternalSymbols(obj) {
        return function (name) {
          return hOP.call(obj, internalSymbol) && hOP.call(obj[internalSymbol], '@@' + name);
        };
      };

      var $getOwnPropertySymbols = function getOwnPropertySymbols(o) {
        return gOPN(o).filter(o === ObjectProto ? onlyInternalSymbols(o) : onlySymbols).map(sourceMap);
      };

      descriptor.value = $defineProperty;
      defineProperty(Object, DP, descriptor);
      descriptor.value = $getOwnPropertySymbols;
      defineProperty(Object, GOPS, descriptor);

      descriptor.value = function getOwnPropertyNames(o) {
        return gOPN(o).filter(onlyNonSymbols);
      };

      defineProperty(Object, GOPN, descriptor);

      descriptor.value = function defineProperties(o, descriptors) {
        var symbols = $getOwnPropertySymbols(descriptors);

        if (symbols.length) {
          keys(descriptors).concat(symbols).forEach(function (uid) {
            if (propertyIsEnumerable.call(descriptors, uid)) {
              $defineProperty(o, uid, descriptors[uid]);
            }
          });
        } else {
          $defineProperties(o, descriptors);
        }

        return o;
      };

      defineProperty(Object, DPies, descriptor);
      descriptor.value = propertyIsEnumerable;
      defineProperty(ObjectProto, PIE, descriptor);
      descriptor.value = _Symbol;
      defineProperty(global, 'Symbol', descriptor); // defining `Symbol.for(key)`

      descriptor.value = function (key) {
        var uid = prefix.concat(prefix, key, random);
        return uid in ObjectProto ? source[uid] : setAndGetSymbol(uid);
      };

      defineProperty(_Symbol, 'for', descriptor); // defining `Symbol.keyFor(symbol)`

      descriptor.value = function (symbol) {
        if (onlyNonSymbols(symbol)) throw new TypeError(symbol + ' is not a symbol');
        return hOP.call(source, symbol) ? symbol.slice(prefixLength * 2, -random.length) : void 0;
      };

      defineProperty(_Symbol, 'keyFor', descriptor);

      descriptor.value = function getOwnPropertyDescriptor(o, key) {
        var descriptor = gOPD(o, key);

        if (descriptor && onlySymbols(key)) {
          descriptor.enumerable = propertyIsEnumerable.call(o, key);
        }

        return descriptor;
      };

      defineProperty(Object, GOPD, descriptor);

      descriptor.value = function (proto, descriptors) {
        return arguments.length === 1 || typeof descriptors === "undefined" ? create(proto) : createWithSymbols(proto, descriptors);
      };

      defineProperty(Object, 'create', descriptor);

      var strictModeSupported = function () {
        'use strict';

        return this;
      }.call(null) === null;

      if (strictModeSupported) {
        descriptor.value = function () {
          var str = toString.call(this);
          return str === '[object String]' && onlySymbols(this) ? '[object Symbol]' : str;
        };
      } else {
        descriptor.value = function () {
          // https://github.com/Financial-Times/polyfill-library/issues/164#issuecomment-486965300
          // Polyfill.io this code is here for the situation where a browser does not
          // support strict mode and is executing `Object.prototype.toString.call(null)`.
          // This code ensures that we return the correct result in that situation however,
          // this code also introduces a bug where it will return the incorrect result for
          // `Object.prototype.toString.call(window)`. We can't have the correct result for
          // both `window` and `null`, so we have opted for `null` as we believe this is the more
          // common situation.
          if (this === window) {
            return '[object Null]';
          }

          var str = toString.call(this);
          return str === '[object String]' && onlySymbols(this) ? '[object Symbol]' : str;
        };
      }

      defineProperty(ObjectProto, 'toString', descriptor);

      setDescriptor = function setDescriptor(o, key, descriptor) {
        var protoDescriptor = gOPD(ObjectProto, key);
        delete ObjectProto[key];
        defineProperty(o, key, descriptor);

        if (o !== ObjectProto) {
          defineProperty(ObjectProto, key, protoDescriptor);
        }
      };
    })(Object, 'getOwnPropertySymbols', this);
  }

  if (!("Symbol" in this && "iterator" in this.Symbol)) {
    // Symbol.iterator

    /* global Symbol */
    Object.defineProperty(Symbol, 'iterator', {
      value: Symbol('iterator')
    });
  }

  if (!("Symbol" in this && "toStringTag" in this.Symbol)) {
    // Symbol.toStringTag

    /* global Symbol */
    Object.defineProperty(Symbol, 'toStringTag', {
      value: Symbol('toStringTag')
    });
  } // _Iterator

  /* global Symbol */
  // A modification of https://github.com/medikoo/es6-iterator
  // Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)


  var Iterator = function () {
    // eslint-disable-line no-unused-vars
    var clear = function clear() {
      this.length = 0;
      return this;
    };

    var callable = function callable(fn) {
      if (typeof fn !== 'function') throw new TypeError(fn + " is not a function");
      return fn;
    };

    var Iterator = function Iterator(list, context) {
      if (!(this instanceof Iterator)) {
        return new Iterator(list, context);
      }

      Object.defineProperties(this, {
        __list__: {
          writable: true,
          value: list
        },
        __context__: {
          writable: true,
          value: context
        },
        __nextIndex__: {
          writable: true,
          value: 0
        }
      });
      if (!context) return;
      callable(context.on);
      context.on('_add', this._onAdd.bind(this));
      context.on('_delete', this._onDelete.bind(this));
      context.on('_clear', this._onClear.bind(this));
    };

    Object.defineProperties(Iterator.prototype, Object.assign({
      constructor: {
        value: Iterator,
        configurable: true,
        enumerable: false,
        writable: true
      },
      _next: {
        value: function value() {
          var i;
          if (!this.__list__) return;

          if (this.__redo__) {
            i = this.__redo__.shift();
            if (i !== undefined) return i;
          }

          if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;

          this._unBind();
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      next: {
        value: function value() {
          return this._createResult(this._next());
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _createResult: {
        value: function value(i) {
          if (i === undefined) return {
            done: true,
            value: undefined
          };
          return {
            done: false,
            value: this._resolve(i)
          };
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _resolve: {
        value: function value(i) {
          return this.__list__[i];
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _unBind: {
        value: function value() {
          this.__list__ = null;
          delete this.__redo__;
          if (!this.__context__) return;

          this.__context__.off('_add', this._onAdd.bind(this));

          this.__context__.off('_delete', this._onDelete.bind(this));

          this.__context__.off('_clear', this._onClear.bind(this));

          this.__context__ = null;
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      toString: {
        value: function value() {
          return '[object Iterator]';
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    }, {
      _onAdd: {
        value: function value(index) {
          if (index >= this.__nextIndex__) return;
          ++this.__nextIndex__;

          if (!this.__redo__) {
            Object.defineProperty(this, '__redo__', {
              value: [index],
              configurable: true,
              enumerable: false,
              writable: false
            });
            return;
          }

          this.__redo__.forEach(function (redo, i) {
            if (redo >= index) this.__redo__[i] = ++redo;
          }, this);

          this.__redo__.push(index);
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _onDelete: {
        value: function value(index) {
          var i;
          if (index >= this.__nextIndex__) return;
          --this.__nextIndex__;
          if (!this.__redo__) return;
          i = this.__redo__.indexOf(index);
          if (i !== -1) this.__redo__.splice(i, 1);

          this.__redo__.forEach(function (redo, i) {
            if (redo > index) this.__redo__[i] = --redo;
          }, this);
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _onClear: {
        value: function value() {
          if (this.__redo__) clear.call(this.__redo__);
          this.__nextIndex__ = 0;
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    }));
    Object.defineProperty(Iterator.prototype, Symbol.iterator, {
      value: function value() {
        return this;
      },
      configurable: true,
      enumerable: false,
      writable: true
    });
    Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
      value: 'Iterator',
      configurable: false,
      enumerable: false,
      writable: true
    });
    return Iterator;
  }(); // _ArrayIterator

  /* global Iterator */
  // A modification of https://github.com/medikoo/es6-iterator
  // Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)


  var ArrayIterator = function () {
    // eslint-disable-line no-unused-vars
    var ArrayIterator = function ArrayIterator(arr, kind) {
      if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
      Iterator.call(this, arr);
      if (!kind) kind = 'value';else if (String.prototype.includes.call(kind, 'key+value')) kind = 'key+value';else if (String.prototype.includes.call(kind, 'key')) kind = 'key';else kind = 'value';
      Object.defineProperty(this, '__kind__', {
        value: kind,
        configurable: false,
        enumerable: false,
        writable: false
      });
    };

    if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);
    ArrayIterator.prototype = Object.create(Iterator.prototype, {
      constructor: {
        value: ArrayIterator,
        configurable: true,
        enumerable: false,
        writable: true
      },
      _resolve: {
        value: function value(i) {
          if (this.__kind__ === 'value') return this.__list__[i];
          if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
          return i;
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      toString: {
        value: function value() {
          return '[object Array Iterator]';
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    });
    return ArrayIterator;
  }();

  if (!("Symbol" in this && "iterator" in this.Symbol && !!Array.prototype.entries)) {
    // Array.prototype.entries

    /* global CreateMethodProperty, ToObject */
    // 22.1.3.4. Array.prototype.entries ( )
    CreateMethodProperty(Array.prototype, 'entries', function entries() {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Return CreateArrayIterator(O, "key+value").
      // TODO: Add CreateArrayIterator

      return new ArrayIterator(O, 'key+value');
    });
  }

  if (!function (e) {
    "use strict";

    try {
      var a = new e.URL("http://example.com");

      if ("href" in a && "searchParams" in a) {
        var r = new URL("http://example.com");

        if (r.search = "a=1&b=2", "http://example.com/?a=1&b=2" === r.href && (r.search = "", "http://example.com/" === r.href)) {
          var t = new e.URLSearchParams("a=1"),
              h = new e.URLSearchParams(t);
          if ("a=1" === String(h)) return !0;
        }
      }

      return !1;
    } catch (c) {
      return !1;
    }
  }(this)) {
    // URL

    /* global Symbol */
    // URL Polyfill
    // Draft specification: https://url.spec.whatwg.org
    // Notes:
    // - Primarily useful for parsing URLs and modifying query parameters
    // - Should work in IE8+ and everything more modern, with es5.js polyfills
    (function (global) {
      'use strict';

      function isSequence(o) {
        if (!o) return false;
        if ('Symbol' in global && 'iterator' in global.Symbol && typeof o[Symbol.iterator] === 'function') return true;
        if (Array.isArray(o)) return true;
        return false;
      }

      function toArray(iter) {
        return 'from' in Array ? Array.from(iter) : Array.prototype.slice.call(iter);
      }

      (function () {
        // Browsers may have:
        // * No global URL object
        // * URL with static methods only - may have a dummy constructor
        // * URL with members except searchParams
        // * Full URL API support
        var origURL = global.URL;
        var nativeURL;

        try {
          if (origURL) {
            nativeURL = new global.URL('http://example.com');

            if ('searchParams' in nativeURL) {
              var url = new URL('http://example.com');
              url.search = 'a=1&b=2';

              if (url.href === 'http://example.com/?a=1&b=2') {
                url.search = '';

                if (url.href === 'http://example.com/') {
                  return;
                }
              }
            }

            if (!('href' in nativeURL)) {
              nativeURL = undefined;
            }

            nativeURL = undefined;
          }
        } catch (_) {} // NOTE: Doesn't do the encoding/decoding dance


        function urlencoded_serialize(pairs) {
          var output = '',
              first = true;
          pairs.forEach(function (pair) {
            var name = encodeURIComponent(pair.name);
            var value = encodeURIComponent(pair.value);
            if (!first) output += '&';
            output += name + '=' + value;
            first = false;
          });
          return output.replace(/%20/g, '+');
        } // NOTE: Doesn't do the encoding/decoding dance


        function urlencoded_parse(input, isindex) {
          var sequences = input.split('&');
          if (isindex && sequences[0].indexOf('=') === -1) sequences[0] = '=' + sequences[0];
          var pairs = [];
          sequences.forEach(function (bytes) {
            if (bytes.length === 0) return;
            var index = bytes.indexOf('=');

            if (index !== -1) {
              var name = bytes.substring(0, index);
              var value = bytes.substring(index + 1);
            } else {
              name = bytes;
              value = '';
            }

            name = name.replace(/\+/g, ' ');
            value = value.replace(/\+/g, ' ');
            pairs.push({
              name: name,
              value: value
            });
          });
          var output = [];
          pairs.forEach(function (pair) {
            output.push({
              name: decodeURIComponent(pair.name),
              value: decodeURIComponent(pair.value)
            });
          });
          return output;
        }

        function URLUtils(url) {
          if (nativeURL) return new origURL(url);
          var anchor = document.createElement('a');
          anchor.href = url;
          return anchor;
        }

        function URLSearchParams(init) {
          var $this = this;
          this._list = [];

          if (init === undefined || init === null) {// no-op
          } else if (init instanceof URLSearchParams) {
            // In ES6 init would be a sequence, but special case for ES5.
            this._list = urlencoded_parse(String(init));
          } else if (_typeof(init) === 'object' && isSequence(init)) {
            toArray(init).forEach(function (e) {
              if (!isSequence(e)) throw TypeError();
              var nv = toArray(e);
              if (nv.length !== 2) throw TypeError();

              $this._list.push({
                name: String(nv[0]),
                value: String(nv[1])
              });
            });
          } else if (_typeof(init) === 'object' && init) {
            Object.keys(init).forEach(function (key) {
              $this._list.push({
                name: String(key),
                value: String(init[key])
              });
            });
          } else {
            init = String(init);
            if (init.substring(0, 1) === '?') init = init.substring(1);
            this._list = urlencoded_parse(init);
          }

          this._url_object = null;

          this._setList = function (list) {
            if (!updating) $this._list = list;
          };

          var updating = false;

          this._update_steps = function () {
            if (updating) return;
            updating = true;
            if (!$this._url_object) return; // Partial workaround for IE issue with 'about:'

            if ($this._url_object.protocol === 'about:' && $this._url_object.pathname.indexOf('?') !== -1) {
              $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
            }

            $this._url_object.search = urlencoded_serialize($this._list);
            updating = false;
          };
        }

        Object.defineProperties(URLSearchParams.prototype, {
          append: {
            value: function value(name, _value) {
              this._list.push({
                name: name,
                value: _value
              });

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          'delete': {
            value: function value(name) {
              for (var i = 0; i < this._list.length;) {
                if (this._list[i].name === name) this._list.splice(i, 1);else ++i;
              }

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          get: {
            value: function value(name) {
              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) return this._list[i].value;
              }

              return null;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          getAll: {
            value: function value(name) {
              var result = [];

              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) result.push(this._list[i].value);
              }

              return result;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          has: {
            value: function value(name) {
              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) return true;
              }

              return false;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          set: {
            value: function value(name, _value2) {
              var found = false;

              for (var i = 0; i < this._list.length;) {
                if (this._list[i].name === name) {
                  if (!found) {
                    this._list[i].value = _value2;
                    found = true;
                    ++i;
                  } else {
                    this._list.splice(i, 1);
                  }
                } else {
                  ++i;
                }
              }

              if (!found) this._list.push({
                name: name,
                value: _value2
              });

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          entries: {
            value: function value() {
              return new Iterator(this._list, 'key+value');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          keys: {
            value: function value() {
              return new Iterator(this._list, 'key');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          values: {
            value: function value() {
              return new Iterator(this._list, 'value');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          forEach: {
            value: function value(callback) {
              var thisArg = arguments.length > 1 ? arguments[1] : undefined;

              this._list.forEach(function (pair) {
                callback.call(thisArg, pair.value, pair.name);
              });
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          toString: {
            value: function value() {
              return urlencoded_serialize(this._list);
            },
            writable: true,
            enumerable: false,
            configurable: true
          }
        });

        function Iterator(source, kind) {
          var index = 0;

          this['next'] = function () {
            if (index >= source.length) return {
              done: true,
              value: undefined
            };
            var pair = source[index++];
            return {
              done: false,
              value: kind === 'key' ? pair.name : kind === 'value' ? pair.value : [pair.name, pair.value]
            };
          };
        }

        if ('Symbol' in global && 'iterator' in global.Symbol) {
          Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
            value: URLSearchParams.prototype.entries,
            writable: true,
            enumerable: true,
            configurable: true
          });
          Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
            value: function value() {
              return this;
            },
            writable: true,
            enumerable: true,
            configurable: true
          });
        }

        function URL(url, base) {
          if (!(this instanceof global.URL)) throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");

          if (base) {
            url = function () {
              if (nativeURL) return new origURL(url, base).href;
              var iframe;

              try {
                var doc; // Use another document/base tag/anchor for relative URL resolution, if possible

                if (Object.prototype.toString.call(window.operamini) === "[object OperaMini]") {
                  iframe = document.createElement('iframe');
                  iframe.style.display = 'none';
                  document.documentElement.appendChild(iframe);
                  doc = iframe.contentWindow.document;
                } else if (document.implementation && document.implementation.createHTMLDocument) {
                  doc = document.implementation.createHTMLDocument('');
                } else if (document.implementation && document.implementation.createDocument) {
                  doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
                  doc.documentElement.appendChild(doc.createElement('head'));
                  doc.documentElement.appendChild(doc.createElement('body'));
                } else if (window.ActiveXObject) {
                  doc = new window.ActiveXObject('htmlfile');
                  doc.write('<head><\/head><body><\/body>');
                  doc.close();
                }

                if (!doc) throw Error('base not supported');
                var baseTag = doc.createElement('base');
                baseTag.href = base;
                doc.getElementsByTagName('head')[0].appendChild(baseTag);
                var anchor = doc.createElement('a');
                anchor.href = url;
                return anchor.href;
              } finally {
                if (iframe) iframe.parentNode.removeChild(iframe);
              }
            }();
          } // An inner object implementing URLUtils (either a native URL
          // object or an HTMLAnchorElement instance) is used to perform the
          // URL algorithms. With full ES5 getter/setter support, return a
          // regular object For IE8's limited getter/setter support, a
          // different HTMLAnchorElement is returned with properties
          // overridden


          var instance = URLUtils(url || ''); // Detect for ES5 getter/setter support
          // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)

          var ES5_GET_SET = function () {
            if (!('defineProperties' in Object)) return false;

            try {
              var obj = {};
              Object.defineProperties(obj, {
                prop: {
                  'get': function get() {
                    return true;
                  }
                }
              });
              return obj.prop;
            } catch (_) {
              return false;
            }
          }();

          var self = ES5_GET_SET ? this : document.createElement('a');
          var query_object = new URLSearchParams(instance.search ? instance.search.substring(1) : null);
          query_object._url_object = self;
          Object.defineProperties(self, {
            href: {
              get: function get() {
                return instance.href;
              },
              set: function set(v) {
                instance.href = v;
                tidy_instance();
                update_steps();
              },
              enumerable: true,
              configurable: true
            },
            origin: {
              get: function get() {
                if ('origin' in instance) return instance.origin;
                return this.protocol + '//' + this.host;
              },
              enumerable: true,
              configurable: true
            },
            protocol: {
              get: function get() {
                return instance.protocol;
              },
              set: function set(v) {
                instance.protocol = v;
              },
              enumerable: true,
              configurable: true
            },
            username: {
              get: function get() {
                return instance.username;
              },
              set: function set(v) {
                instance.username = v;
              },
              enumerable: true,
              configurable: true
            },
            password: {
              get: function get() {
                return instance.password;
              },
              set: function set(v) {
                instance.password = v;
              },
              enumerable: true,
              configurable: true
            },
            host: {
              get: function get() {
                // IE returns default port in |host|
                var re = {
                  'http:': /:80$/,
                  'https:': /:443$/,
                  'ftp:': /:21$/
                }[instance.protocol];
                return re ? instance.host.replace(re, '') : instance.host;
              },
              set: function set(v) {
                instance.host = v;
              },
              enumerable: true,
              configurable: true
            },
            hostname: {
              get: function get() {
                return instance.hostname;
              },
              set: function set(v) {
                instance.hostname = v;
              },
              enumerable: true,
              configurable: true
            },
            port: {
              get: function get() {
                return instance.port;
              },
              set: function set(v) {
                instance.port = v;
              },
              enumerable: true,
              configurable: true
            },
            pathname: {
              get: function get() {
                // IE does not include leading '/' in |pathname|
                if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
                return instance.pathname;
              },
              set: function set(v) {
                instance.pathname = v;
              },
              enumerable: true,
              configurable: true
            },
            search: {
              get: function get() {
                return instance.search;
              },
              set: function set(v) {
                if (instance.search === v) return;
                instance.search = v;
                tidy_instance();
                update_steps();
              },
              enumerable: true,
              configurable: true
            },
            searchParams: {
              get: function get() {
                return query_object;
              },
              enumerable: true,
              configurable: true
            },
            hash: {
              get: function get() {
                return instance.hash;
              },
              set: function set(v) {
                instance.hash = v;
                tidy_instance();
              },
              enumerable: true,
              configurable: true
            },
            toString: {
              value: function value() {
                return instance.toString();
              },
              enumerable: false,
              configurable: true
            },
            valueOf: {
              value: function value() {
                return instance.valueOf();
              },
              enumerable: false,
              configurable: true
            }
          });

          function tidy_instance() {
            var href = instance.href.replace(/#$|\?$|\?(?=#)/g, '');
            if (instance.href !== href) instance.href = href;
          }

          function update_steps() {
            query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);

            query_object._update_steps();
          }

          return self;
        }

        if (origURL) {
          for (var i in origURL) {
            if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function') URL[i] = origURL[i];
          }
        }

        global.URL = URL;
        global.URLSearchParams = URLSearchParams;
      })(); // Patch native URLSearchParams constructor to handle sequences/records
      // if necessary.


      (function () {
        if (new global.URLSearchParams([['a', 1]]).get('a') === '1' && new global.URLSearchParams({
          a: 1
        }).get('a') === '1') return;
        var orig = global.URLSearchParams;

        global.URLSearchParams = function (init) {
          if (init && _typeof(init) === 'object' && isSequence(init)) {
            var o = new orig();
            toArray(init).forEach(function (e) {
              if (!isSequence(e)) throw TypeError();
              var nv = toArray(e);
              if (nv.length !== 2) throw TypeError();
              o.append(nv[0], nv[1]);
            });
            return o;
          } else if (init && _typeof(init) === 'object') {
            o = new orig();
            Object.keys(init).forEach(function (key) {
              o.set(key, init[key]);
            });
            return o;
          } else {
            return new orig(init);
          }
        };
      })();
    })(self);
  }

  if (!("Window" in this)) {
    // Window
    if (typeof WorkerGlobalScope === "undefined" && typeof importScripts !== "function") {
      (function (global) {
        if (global.constructor) {
          global.Window = global.constructor;
        } else {
          (global.Window = global.constructor = new Function('return function Window() {}')()).prototype = this;
        }
      })(this);
    }
  }

  if (!function (n) {
    if (!("Event" in n)) return !1;

    try {
      return new Event("click"), !0;
    } catch (t) {
      return !1;
    }
  }(this)) {
    // Event
    (function () {
      var unlistenableWindowEvents = {
        click: 1,
        dblclick: 1,
        keyup: 1,
        keypress: 1,
        keydown: 1,
        mousedown: 1,
        mouseup: 1,
        mousemove: 1,
        mouseover: 1,
        mouseenter: 1,
        mouseleave: 1,
        mouseout: 1,
        storage: 1,
        storagecommit: 1,
        textinput: 1
      }; // This polyfill depends on availability of `document` so will not run in a worker
      // However, we asssume there are no browsers with worker support that lack proper
      // support for `Event` within the worker

      if (typeof document === 'undefined' || typeof window === 'undefined') return;

      function indexOf(array, element) {
        var index = -1,
            length = array.length;

        while (++index < length) {
          if (index in array && array[index] === element) {
            return index;
          }
        }

        return -1;
      }

      var existingProto = window.Event && window.Event.prototype || null;

      function Event(type, eventInitDict) {
        if (!type) {
          throw new Error('Not enough arguments');
        }

        var event; // Shortcut if browser supports createEvent

        if ('createEvent' in document) {
          event = document.createEvent('Event');
          var bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
          var cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;
          event.initEvent(type, bubbles, cancelable);
          return event;
        }

        event = document.createEventObject();
        event.type = type;
        event.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
        event.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;
        return event;
      }

      ;
      Event.NONE = 0;
      Event.CAPTURING_PHASE = 1;
      Event.AT_TARGET = 2;
      Event.BUBBLING_PHASE = 3;
      window.Event = Window.prototype.Event = Event;

      if (existingProto) {
        Object.defineProperty(window.Event, 'prototype', {
          configurable: false,
          enumerable: false,
          writable: true,
          value: existingProto
        });
      }

      if (!('createEvent' in document)) {
        window.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {
          var element = this,
              type = arguments[0],
              listener = arguments[1];

          if (element === window && type in unlistenableWindowEvents) {
            throw new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');
          }

          if (!element._events) {
            element._events = {};
          }

          if (!element._events[type]) {
            element._events[type] = function (event) {
              var list = element._events[event.type].list,
                  events = list.slice(),
                  index = -1,
                  length = events.length,
                  eventElement;

              event.preventDefault = function preventDefault() {
                if (event.cancelable !== false) {
                  event.returnValue = false;
                }
              };

              event.stopPropagation = function stopPropagation() {
                event.cancelBubble = true;
              };

              event.stopImmediatePropagation = function stopImmediatePropagation() {
                event.cancelBubble = true;
                event.cancelImmediate = true;
              };

              event.currentTarget = element;
              event.relatedTarget = event.fromElement || null;
              event.target = event.target || event.srcElement || element;
              event.timeStamp = new Date().getTime();

              if (event.clientX) {
                event.pageX = event.clientX + document.documentElement.scrollLeft;
                event.pageY = event.clientY + document.documentElement.scrollTop;
              }

              while (++index < length && !event.cancelImmediate) {
                if (index in events) {
                  eventElement = events[index];

                  if (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {
                    eventElement.call(element, event);
                  }
                }
              }
            };

            element._events[type].list = [];

            if (element.attachEvent) {
              element.attachEvent('on' + type, element._events[type]);
            }
          }

          element._events[type].list.push(listener);
        };

        window.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {
          var element = this,
              type = arguments[0],
              listener = arguments[1],
              index;

          if (element._events && element._events[type] && element._events[type].list) {
            index = indexOf(element._events[type].list, listener);

            if (index !== -1) {
              element._events[type].list.splice(index, 1);

              if (!element._events[type].list.length) {
                if (element.detachEvent) {
                  element.detachEvent('on' + type, element._events[type]);
                }

                delete element._events[type];
              }
            }
          }
        };

        window.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {
          if (!arguments.length) {
            throw new Error('Not enough arguments');
          }

          if (!event || typeof event.type !== 'string') {
            throw new Error('DOM Events Exception 0');
          }

          var element = this,
              type = event.type;

          try {
            if (!event.bubbles) {
              event.cancelBubble = true;

              var cancelBubbleEvent = function cancelBubbleEvent(event) {
                event.cancelBubble = true;
                (element || window).detachEvent('on' + type, cancelBubbleEvent);
              };

              this.attachEvent('on' + type, cancelBubbleEvent);
            }

            this.fireEvent('on' + type, event);
          } catch (error) {
            event.target = element;

            do {
              event.currentTarget = element;

              if ('_events' in element && typeof element._events[type] === 'function') {
                element._events[type].call(element, event);
              }

              if (typeof element['on' + type] === 'function') {
                element['on' + type].call(element, event);
              }

              element = element.nodeType === 9 ? element.parentWindow : element.parentNode;
            } while (element && !event.cancelBubble);
          }

          return true;
        }; // Add the DOMContentLoaded Event


        document.attachEvent('onreadystatechange', function () {
          if (document.readyState === 'complete') {
            document.dispatchEvent(new Event('DOMContentLoaded', {
              bubbles: true
            }));
          }
        });
      }
    })();
  }

  if (!("CustomEvent" in this && ("function" == typeof this.CustomEvent || this.CustomEvent.toString().indexOf("CustomEventConstructor") > -1))) {
    // CustomEvent
    this.CustomEvent = function CustomEvent(type, eventInitDict) {
      if (!type) {
        throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');
      }

      var event;
      eventInitDict = eventInitDict || {
        bubbles: false,
        cancelable: false,
        detail: null
      };

      if ('createEvent' in document) {
        try {
          event = document.createEvent('CustomEvent');
          event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);
        } catch (error) {
          // for browsers which don't support CustomEvent at all, we use a regular event instead
          event = document.createEvent('Event');
          event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);
          event.detail = eventInitDict.detail;
        }
      } else {
        // IE8
        event = new Event(type, eventInitDict);
        event.detail = eventInitDict && eventInitDict.detail || null;
      }

      return event;
    };

    CustomEvent.prototype = Event.prototype;
  }

  if (!("matchMedia" in this && "MediaQueryList" in this)) {
    // matchMedia
    (function (global) {
      function evalQuery(query) {
        /* jshint evil: true */
        query = (query || 'true').replace(/^only\s+/, '').replace(/(device)-([\w.]+)/g, '$1.$2').replace(/([\w.]+)\s*:/g, 'media.$1 ===').replace(/min-([\w.]+)\s*===/g, '$1 >=').replace(/max-([\w.]+)\s*===/g, '$1 <=').replace(/all|screen/g, '1').replace(/print/g, '0').replace(/,/g, '||').replace(/\band\b/g, '&&').replace(/dpi/g, '').replace(/(\d+)(cm|em|in|dppx|mm|pc|pt|px|rem)/g, function ($0, $1, $2) {
          return $1 * ($2 === 'cm' ? 0.3937 * 96 : $2 === 'em' || $2 === 'rem' ? 16 : $2 === 'in' || $2 === 'dppx' ? 96 : $2 === 'mm' ? 0.3937 * 96 / 10 : $2 === 'pc' ? 12 * 96 / 72 : $2 === 'pt' ? 96 / 72 : 1);
        });
        return new Function('media', 'try{ return !!(%s) }catch(e){ return false }'.replace('%s', query))({
          width: global.innerWidth,
          height: global.innerHeight,
          orientation: global.orientation || 'landscape',
          device: {
            width: global.screen.width,
            height: global.screen.height,
            orientation: global.screen.orientation || global.orientation || 'landscape'
          }
        });
      }

      function MediaQueryList() {
        this.matches = false;
        this.media = 'invalid';
      }

      MediaQueryList.prototype.addListener = function addListener(listener) {
        var listenerIndex = this.addListener.listeners.indexOf(listener);

        if (listenerIndex === -1) {
          this.addListener.listeners.push(listener);
        }
      };

      MediaQueryList.prototype.removeListener = function removeListener(listener) {
        var listenerIndex = this.addListener.listeners.indexOf(listener);

        if (listenerIndex >= 0) {
          this.addListener.listeners.splice(listenerIndex, 1);
        }
      };

      global.MediaQueryList = MediaQueryList; // <Global>.matchMedia

      global.matchMedia = function matchMedia(query) {
        var list = new MediaQueryList();

        if (0 === arguments.length) {
          throw new TypeError('Not enough arguments to matchMedia');
        }

        list.media = String(query);
        list.matches = evalQuery(list.media);
        list.addListener.listeners = [];
        global.addEventListener('resize', function () {
          var listeners = [].concat(list.addListener.listeners),
              matches = evalQuery(list.media);

          if (matches != list.matches) {
            list.matches = matches;

            for (var index = 0, length = listeners.length; index < length; ++index) {
              listeners[index].call(global, list);
            }
          }
        });
        return list;
      };
    })(this);
  }
}).call('object' === (typeof window === "undefined" ? "undefined" : _typeof(window)) && window || 'object' === (typeof self === "undefined" ? "undefined" : _typeof(self)) && self || 'object' === (typeof global === "undefined" ? "undefined" : _typeof(global)) && global || {});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[99])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanMiLCJub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2RlbGVnYXRlLmpzIiwibm9kZV9tb2R1bGVzL2RvbTcvZG9tNy5janMuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLmlzYm9vbGVhbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNlbXB0eS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNmdW5jdGlvbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gucHVsbGF0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zc3Itd2luZG93L3Nzci13aW5kb3cudW1kLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9hMTF5L2ExMXkuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2F1dG9wbGF5L2F1dG9wbGF5LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb250cm9sbGVyL2NvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvYnJlYWtwb2ludHMvZ2V0QnJlYWtwb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9icmVha3BvaW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9icmVha3BvaW50cy9zZXRCcmVha3BvaW50LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NoZWNrLW92ZXJmbG93L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NsYXNzZXMvYWRkQ2xhc3Nlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9jbGFzc2VzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NsYXNzZXMvcmVtb3ZlQ2xhc3Nlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9jb3JlLWNsYXNzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2RlZmF1bHRzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy1lbWl0dGVyLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25DbGljay5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25SZXNpemUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvZXZlbnRzL29uU2Nyb2xsLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9vblRvdWNoRW5kLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9vblRvdWNoTW92ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25Ub3VjaFN0YXJ0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2dyYWItY3Vyc29yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2dyYWItY3Vyc29yL3NldEdyYWJDdXJzb3IuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvZ3JhYi1jdXJzb3IvdW5zZXRHcmFiQ3Vyc29yLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2ltYWdlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9pbWFnZXMvbG9hZEltYWdlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2ltYWdlcy9wcmVsb2FkSW1hZ2VzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2xvb3AvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbG9vcC9sb29wQ3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2xvb3AvbG9vcERlc3Ryb3kuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbG9vcC9sb29wRml4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL21hbmlwdWxhdGlvbi9hZGRTbGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9tYW5pcHVsYXRpb24vYXBwZW5kU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbWFuaXB1bGF0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL21hbmlwdWxhdGlvbi9wcmVwZW5kU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbWFuaXB1bGF0aW9uL3JlbW92ZUFsbFNsaWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9tYW5pcHVsYXRpb24vcmVtb3ZlU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbW9kdWxhci5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9zbGlkZU5leHQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvc2xpZGUvc2xpZGVQcmV2LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlUmVzZXQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvc2xpZGUvc2xpZGVUby5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9zbGlkZVRvQ2xpY2tlZFNsaWRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlVG9DbG9zZXN0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlVG9Mb29wLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zaXRpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdHJhbnNpdGlvbi9zZXRUcmFuc2l0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zaXRpb24vdHJhbnNpdGlvbkVuZC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2l0aW9uL3RyYW5zaXRpb25TdGFydC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvZ2V0VHJhbnNsYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zbGF0ZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvbWF4VHJhbnNsYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zbGF0ZS9taW5UcmFuc2xhdGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdHJhbnNsYXRlL3NldFRyYW5zbGF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvdHJhbnNsYXRlVG8uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdXBkYXRlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVBY3RpdmVJbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlQXV0b0hlaWdodC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlQ2xpY2tlZFNsaWRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVQcm9ncmVzcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlU2l6ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlU2xpZGVzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVTbGlkZXNDbGFzc2VzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVTbGlkZXNPZmZzZXQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdXBkYXRlL3VwZGF0ZVNsaWRlc1Byb2dyZXNzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9lZmZlY3QtY292ZXJmbG93L2VmZmVjdC1jb3ZlcmZsb3cuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2VmZmVjdC1jdWJlL2VmZmVjdC1jdWJlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9lZmZlY3QtZmFkZS9lZmZlY3QtZmFkZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvZWZmZWN0LWZsaXAvZWZmZWN0LWZsaXAuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2hhc2gtbmF2aWdhdGlvbi9oYXNoLW5hdmlnYXRpb24uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2hpc3RvcnkvaGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMva2V5Ym9hcmQva2V5Ym9hcmQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2xhenkvbGF6eS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvbW91c2V3aGVlbC9tb3VzZXdoZWVsLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL25hdmlnYXRpb24uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvcGFyYWxsYXgvcGFyYWxsYXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3Njcm9sbGJhci9zY3JvbGxiYXIuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3RodW1icy90aHVtYnMuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3ZpcnR1YWwvdmlydHVhbC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvem9vbS96b29tLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvbW9kdWxlcy9vYnNlcnZlci9vYnNlcnZlci5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL21vZHVsZXMvcmVzaXplL3Jlc2l6ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2RvbS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2dldC1icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvdXRpbHMvZ2V0LWRldmljZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2dldC1zdXBwb3J0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvdXRpbHMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL3N3aXBlci5janMuanMiLCJzdHlsZWd1aWRlL3NyYy9pbmRleC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9fY29tcG9uZW50LWxvYWRlci5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLWJyZWFkY3J1bWJzL2EtYnJlYWRjcnVtYnMuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvYS1pbWFnZS9hLWltYWdlLWNvdmVyLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL2F0b21zL2EtaW1hZ2UvYS1pbWFnZS1sYXp5LmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL2F0b21zL2EtcHJvZ3Jlc3MvYS1wcm9ncmVzcy5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLXNlYXJjaC9hLXNlYXJjaC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLXNvY2lhbC1pY29uL2Etc29jaWFsLWljb24uanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvZm9ybS1lbGVtZW50cy9hLWlucHV0L2EtaW5wdXQuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvZm9ybS1lbGVtZW50cy9hLXNlbGVjdC9hLXNlbGVjdC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1mb3JtL20tZm9ybS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1tYXAvbS1tYXAuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLWJhc2UuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLWRlc2t0b3AuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLW1vYmlsZS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1tZW51L20tbWVudS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1wZXJzb24vbS1wZXJzb24uanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tc2hhcmUvbS1zaGFyZS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9vcmdhbmlzbXMvby1jYW1wYWlnbi9vLWNhbXBhaWduLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL29yZ2FuaXNtcy9vLWZvb3Rlci9vLWZvb3Rlci5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9vcmdhbmlzbXMvby1oZWFkZXIvby1oZWFkZXIuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvb3JnYW5pc21zL28tcGVvcGxlLWdyaWQvby1wZW9wbGUtZ3JpZC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZXMvcGFnZS9wYWdlLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy9iYXNlLXZpZXcuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3NlcnZpY2UvYWpheC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvanMvc2VydmljZS9hbmNob3IuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3NlcnZpY2UvZGlzdHJhY3Rpb25GcmVlLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy9zZXJ2aWNlL2ludmlldy5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvanMvdXRpbHMvY2xhc3NMaXN0LmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy91dGlscy9lbGVtZW50RXhpc3QuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3V0aWxzL3N0eWxlZ3VpZGUvc3JjL2pzL3V0aWxzL3BvbHlmaWxscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2x2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3RrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN2YkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcllBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0WEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJ2YXIgRE9DVU1FTlRfTk9ERV9UWVBFID0gOTtcblxuLyoqXG4gKiBBIHBvbHlmaWxsIGZvciBFbGVtZW50Lm1hdGNoZXMoKVxuICovXG5pZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgdmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5tYXRjaGVzID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwYXJlbnQgdGhhdCBtYXRjaGVzIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IERPQ1VNRU5UX05PREVfVFlQRSkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2hlcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG4iLCJ2YXIgY2xvc2VzdCA9IHJlcXVpcmUoJy4vY2xvc2VzdCcpO1xuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ3xBcnJheX0gW2VsZW1lbnRzXVxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50cywgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgLy8gSGFuZGxlIHRoZSByZWd1bGFyIEVsZW1lbnQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBFbGVtZW50LWxlc3MgdXNhZ2UsIGl0IGRlZmF1bHRzIHRvIGdsb2JhbCBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFVzZSBgZG9jdW1lbnRgIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gYXBwbHkgYXJndW1lbnRzXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydCB3YXkgdG8gLnVuc2hpZnQgYGFyZ3VtZW50c2Agd2l0aG91dCBydW5uaW5nIGludG8gZGVvcHRpbWl6YXRpb25zXG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYmluZChudWxsLCBkb2N1bWVudCkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgU2VsZWN0b3ItYmFzZWQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBBcnJheS1saWtlIGJhc2VkIHVzYWdlXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG4iLCIvKipcbiAqIERvbTcgMy4wLjBcbiAqIE1pbmltYWxpc3RpYyBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIERPTSBtYW5pcHVsYXRpb24sIHdpdGggYSBqUXVlcnktY29tcGF0aWJsZSBBUElcbiAqIGh0dHBzOi8vZnJhbWV3b3JrNy5pby9kb2NzL2RvbTcuaHRtbFxuICpcbiAqIENvcHlyaWdodCAyMDIwLCBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICpcbiAqIFJlbGVhc2VkIG9uOiBOb3ZlbWJlciA5LCAyMDIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHNzcldpbmRvdyA9IHJlcXVpcmUoJ3Nzci13aW5kb3cnKTtcblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICB9IGVsc2Uge1xuICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuXG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH07XG5cbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuZnVuY3Rpb24gbWFrZVJlYWN0aXZlKG9iaikge1xuICB2YXIgcHJvdG8gPSBvYmouX19wcm90b19fO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19wcm90b19fJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHByb3RvO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHByb3RvLl9fcHJvdG9fXyA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBEb203ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXJyYXkpIHtcbiAgX2luaGVyaXRzTG9vc2UoRG9tNywgX0FycmF5KTtcblxuICBmdW5jdGlvbiBEb203KGl0ZW1zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQXJyYXkuY2FsbC5hcHBseShfQXJyYXksIFt0aGlzXS5jb25jYXQoaXRlbXMpKSB8fCB0aGlzO1xuICAgIG1ha2VSZWFjdGl2ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIERvbTc7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihBcnJheSkpO1xuXG5mdW5jdGlvbiBhcnJheUZsYXQoYXJyKSB7XG4gIGlmIChhcnIgPT09IHZvaWQgMCkge1xuICAgIGFyciA9IFtdO1xuICB9XG5cbiAgdmFyIHJlcyA9IFtdO1xuICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgIHJlcy5wdXNoLmFwcGx5KHJlcywgYXJyYXlGbGF0KGVsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5wdXNoKGVsKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyLCBjYWxsYmFjaykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFyciwgY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gYXJyYXlVbmlxdWUoYXJyKSB7XG4gIHZhciB1bmlxdWVBcnJheSA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHVuaXF1ZUFycmF5LmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHVuaXF1ZUFycmF5LnB1c2goYXJyW2ldKTtcbiAgfVxuXG4gIHJldHVybiB1bmlxdWVBcnJheTtcbn1cbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLSguKS9nLCBmdW5jdGlvbiAobWF0Y2gsIGdyb3VwKSB7XG4gICAgcmV0dXJuIGdyb3VwLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBxc2Eoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW3NlbGVjdG9yXTtcbiAgfVxuXG4gIHZhciBhID0gW107XG4gIHZhciByZXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYS5wdXNoKHJlc1tpXSk7XG4gIH1cblxuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gJChzZWxlY3RvciwgY29udGV4dCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICB2YXIgZG9jdW1lbnQgPSBzc3JXaW5kb3cuZ2V0RG9jdW1lbnQoKTtcbiAgdmFyIGFyciA9IFtdO1xuXG4gIGlmICghY29udGV4dCAmJiBzZWxlY3RvciBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH1cblxuICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBEb203KGFycik7XG4gIH1cblxuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgIHZhciBodG1sID0gc2VsZWN0b3IudHJpbSgpO1xuXG4gICAgaWYgKGh0bWwuaW5kZXhPZignPCcpID49IDAgJiYgaHRtbC5pbmRleE9mKCc+JykgPj0gMCkge1xuICAgICAgdmFyIHRvQ3JlYXRlID0gJ2Rpdic7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8bGknKSA9PT0gMCkgdG9DcmVhdGUgPSAndWwnO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRyJykgPT09IDApIHRvQ3JlYXRlID0gJ3Rib2R5JztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0ZCcpID09PSAwIHx8IGh0bWwuaW5kZXhPZignPHRoJykgPT09IDApIHRvQ3JlYXRlID0gJ3RyJztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0Ym9keScpID09PSAwKSB0b0NyZWF0ZSA9ICd0YWJsZSc7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8b3B0aW9uJykgPT09IDApIHRvQ3JlYXRlID0gJ3NlbGVjdCc7XG4gICAgICB2YXIgdGVtcFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodG9DcmVhdGUpO1xuICAgICAgdGVtcFBhcmVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBQYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnIucHVzaCh0ZW1wUGFyZW50LmNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcnIgPSBxc2Eoc2VsZWN0b3IudHJpbSgpLCBjb250ZXh0IHx8IGRvY3VtZW50KTtcbiAgICB9IC8vIGFyciA9IHFzYShzZWxlY3RvciwgZG9jdW1lbnQpO1xuXG4gIH0gZWxzZSBpZiAoc2VsZWN0b3Iubm9kZVR5cGUgfHwgc2VsZWN0b3IgPT09IHdpbmRvdyB8fCBzZWxlY3RvciA9PT0gZG9jdW1lbnQpIHtcbiAgICBhcnIucHVzaChzZWxlY3Rvcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RvcikpIHtcbiAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSByZXR1cm4gc2VsZWN0b3I7XG4gICAgYXJyID0gc2VsZWN0b3I7XG4gIH1cblxuICByZXR1cm4gbmV3IERvbTcoYXJyYXlVbmlxdWUoYXJyKSk7XG59XG5cbiQuZm4gPSBEb203LnByb3RvdHlwZTtcblxuZnVuY3Rpb24gYWRkQ2xhc3MoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGNsYXNzZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLnNwbGl0KCcgJyk7XG4gIH0pKTtcbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBfZWwkY2xhc3NMaXN0O1xuXG4gICAgKF9lbCRjbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3QpLmFkZC5hcHBseShfZWwkY2xhc3NMaXN0LCBjbGFzc05hbWVzKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcygpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgY2xhc3Nlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgdmFyIGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICB9KSk7XG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICB2YXIgX2VsJGNsYXNzTGlzdDI7XG5cbiAgICAoX2VsJGNsYXNzTGlzdDIgPSBlbC5jbGFzc0xpc3QpLnJlbW92ZS5hcHBseShfZWwkY2xhc3NMaXN0MiwgY2xhc3NOYW1lcyk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoKSB7XG4gIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgIGNsYXNzZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgfVxuXG4gIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgfSkpO1xuICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgY2xhc3NOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKCkge1xuICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICBjbGFzc2VzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gIH1cblxuICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLnNwbGl0KCcgJyk7XG4gIH0pKTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKHRoaXMsIGZ1bmN0aW9uIChlbCkge1xuICAgIHJldHVybiBjbGFzc05hbWVzLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgfSkubGVuZ3RoID4gMDtcbiAgfSkubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gYXR0cihhdHRycywgdmFsdWUpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGF0dHJzID09PSAnc3RyaW5nJykge1xuICAgIC8vIEdldCBhdHRyXG4gICAgaWYgKHRoaXNbMF0pIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShhdHRycyk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSAvLyBTZXQgYXR0cnNcblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBTdHJpbmdcbiAgICAgIHRoaXNbaV0uc2V0QXR0cmlidXRlKGF0dHJzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9iamVjdFxuICAgICAgZm9yICh2YXIgYXR0ck5hbWUgaW4gYXR0cnMpIHtcbiAgICAgICAgdGhpc1tpXVthdHRyTmFtZV0gPSBhdHRyc1thdHRyTmFtZV07XG4gICAgICAgIHRoaXNbaV0uc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBdHRyKGF0dHIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcHJvcChwcm9wcywgdmFsdWUpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJykge1xuICAgIC8vIEdldCBwcm9wXG4gICAgaWYgKHRoaXNbMF0pIHJldHVybiB0aGlzWzBdW3Byb3BzXTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXQgcHJvcHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIFN0cmluZ1xuICAgICAgICB0aGlzW2ldW3Byb3BzXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT2JqZWN0XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BzKSB7XG4gICAgICAgICAgdGhpc1tpXVtwcm9wTmFtZV0gPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXRhKGtleSwgdmFsdWUpIHtcbiAgdmFyIGVsO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZWwgPSB0aGlzWzBdO1xuICAgIGlmICghZWwpIHJldHVybiB1bmRlZmluZWQ7IC8vIEdldCB2YWx1ZVxuXG4gICAgaWYgKGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgJiYga2V5IGluIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV07XG4gICAgfVxuXG4gICAgdmFyIGRhdGFLZXkgPSBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiICsga2V5KTtcblxuICAgIGlmIChkYXRhS2V5KSB7XG4gICAgICByZXR1cm4gZGF0YUtleTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IC8vIFNldCB2YWx1ZVxuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZWwgPSB0aGlzW2ldO1xuICAgIGlmICghZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSkgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSA9IHt9O1xuICAgIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZURhdGEoa2V5KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSAmJiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0pIHtcbiAgICAgIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XSA9IG51bGw7XG4gICAgICBkZWxldGUgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXRhc2V0KCkge1xuICB2YXIgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICB2YXIgZGF0YXNldCA9IHt9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgaWYgKGVsLmRhdGFzZXQpIHtcbiAgICBmb3IgKHZhciBkYXRhS2V5IGluIGVsLmRhdGFzZXQpIHtcbiAgICAgIGRhdGFzZXRbZGF0YUtleV0gPSBlbC5kYXRhc2V0W2RhdGFLZXldO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmF0dHJpYnV0ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBfYXR0ciA9IGVsLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgIGlmIChfYXR0ci5uYW1lLmluZGV4T2YoJ2RhdGEtJykgPj0gMCkge1xuICAgICAgICBkYXRhc2V0W3RvQ2FtZWxDYXNlKF9hdHRyLm5hbWUuc3BsaXQoJ2RhdGEtJylbMV0pXSA9IF9hdHRyLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBkYXRhc2V0KSB7XG4gICAgaWYgKGRhdGFzZXRba2V5XSA9PT0gJ2ZhbHNlJykgZGF0YXNldFtrZXldID0gZmFsc2U7ZWxzZSBpZiAoZGF0YXNldFtrZXldID09PSAndHJ1ZScpIGRhdGFzZXRba2V5XSA9IHRydWU7ZWxzZSBpZiAocGFyc2VGbG9hdChkYXRhc2V0W2tleV0pID09PSBkYXRhc2V0W2tleV0gKiAxKSBkYXRhc2V0W2tleV0gKj0gMTtcbiAgfVxuXG4gIHJldHVybiBkYXRhc2V0O1xufVxuXG5mdW5jdGlvbiB2YWwodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBnZXQgdmFsdWVcbiAgICB2YXIgZWwgPSB0aGlzWzBdO1xuICAgIGlmICghZWwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZWwubXVsdGlwbGUgJiYgZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFsdWVzLnB1c2goZWwuc2VsZWN0ZWRPcHRpb25zW2ldLnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICByZXR1cm4gZWwudmFsdWU7XG4gIH0gLy8gc2V0IHZhbHVlXG5cblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICB2YXIgX2VsID0gdGhpc1tfaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgX2VsLm11bHRpcGxlICYmIF9lbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfZWwub3B0aW9ucy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBfZWwub3B0aW9uc1tqXS5zZWxlY3RlZCA9IHZhbHVlLmluZGV4T2YoX2VsLm9wdGlvbnNbal0udmFsdWUpID49IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIF9lbC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB2YWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy52YWwodmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB0eXBlb2YgZHVyYXRpb24gIT09ICdzdHJpbmcnID8gZHVyYXRpb24gKyBcIm1zXCIgOiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBvbigpIHtcbiAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG5cbiAgdmFyIGV2ZW50VHlwZSA9IGFyZ3NbMF0sXG4gICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMl0sXG4gICAgICBjYXB0dXJlID0gYXJnc1szXTtcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFR5cGUgPSBhcmdzWzBdO1xuICAgIGxpc3RlbmVyID0gYXJnc1sxXTtcbiAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICB0YXJnZXRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUxpdmVFdmVudChlKSB7XG4gICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgdmFyIGV2ZW50RGF0YSA9IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW107XG5cbiAgICBpZiAoZXZlbnREYXRhLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICBldmVudERhdGEudW5zaGlmdChlKTtcbiAgICB9XG5cbiAgICBpZiAoJCh0YXJnZXQpLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkodGFyZ2V0LCBldmVudERhdGEpO2Vsc2Uge1xuICAgICAgdmFyIF9wYXJlbnRzID0gJCh0YXJnZXQpLnBhcmVudHMoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG5cbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3BhcmVudHMubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgICAgaWYgKCQoX3BhcmVudHNba10pLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkoX3BhcmVudHNba10sIGV2ZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZSkge1xuICAgIHZhciBldmVudERhdGEgPSBlICYmIGUudGFyZ2V0ID8gZS50YXJnZXQuZG9tN0V2ZW50RGF0YSB8fCBbXSA6IFtdO1xuXG4gICAgaWYgKGV2ZW50RGF0YS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgZXZlbnREYXRhLnVuc2hpZnQoZSk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZXZlbnREYXRhKTtcbiAgfVxuXG4gIHZhciBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcbiAgdmFyIGo7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGVsID0gdGhpc1tpXTtcblxuICAgIGlmICghdGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBldmVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2pdO1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnMpIGVsLmRvbTdMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgaWYgKCFlbC5kb203TGlzdGVuZXJzW2V2ZW50XSkgZWwuZG9tN0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgICAgZWwuZG9tN0xpc3RlbmVyc1tldmVudF0ucHVzaCh7XG4gICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgIHByb3h5TGlzdGVuZXI6IGhhbmRsZUV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVFdmVudCwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExpdmUgZXZlbnRzXG4gICAgICBmb3IgKGogPSAwOyBqIDwgZXZlbnRzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHZhciBfZXZlbnQgPSBldmVudHNbal07XG4gICAgICAgIGlmICghZWwuZG9tN0xpdmVMaXN0ZW5lcnMpIGVsLmRvbTdMaXZlTGlzdGVuZXJzID0ge307XG4gICAgICAgIGlmICghZWwuZG9tN0xpdmVMaXN0ZW5lcnNbX2V2ZW50XSkgZWwuZG9tN0xpdmVMaXN0ZW5lcnNbX2V2ZW50XSA9IFtdO1xuXG4gICAgICAgIGVsLmRvbTdMaXZlTGlzdGVuZXJzW19ldmVudF0ucHVzaCh7XG4gICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgIHByb3h5TGlzdGVuZXI6IGhhbmRsZUxpdmVFdmVudFxuICAgICAgICB9KTtcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKF9ldmVudCwgaGFuZGxlTGl2ZUV2ZW50LCBjYXB0dXJlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gb2ZmKCkge1xuICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICBhcmdzW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gIH1cblxuICB2YXIgZXZlbnRUeXBlID0gYXJnc1swXSxcbiAgICAgIHRhcmdldFNlbGVjdG9yID0gYXJnc1sxXSxcbiAgICAgIGxpc3RlbmVyID0gYXJnc1syXSxcbiAgICAgIGNhcHR1cmUgPSBhcmdzWzNdO1xuXG4gIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VHlwZSA9IGFyZ3NbMF07XG4gICAgbGlzdGVuZXIgPSBhcmdzWzFdO1xuICAgIGNhcHR1cmUgPSBhcmdzWzJdO1xuICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKCFjYXB0dXJlKSBjYXB0dXJlID0gZmFsc2U7XG4gIHZhciBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgdmFyIGVsID0gdGhpc1tqXTtcbiAgICAgIHZhciBoYW5kbGVycyA9IHZvaWQgMDtcblxuICAgICAgaWYgKCF0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGlzdGVuZXJzKSB7XG4gICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpc3RlbmVyc1tldmVudF07XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldFNlbGVjdG9yICYmIGVsLmRvbTdMaXZlTGlzdGVuZXJzKSB7XG4gICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpdmVMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFuZGxlcnMgJiYgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGsgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBrID49IDA7IGsgLT0gMSkge1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNba107XG5cbiAgICAgICAgICBpZiAobGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIuZG9tN3Byb3h5ICYmIGhhbmRsZXIubGlzdGVuZXIuZG9tN3Byb3h5ID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gb25jZSgpIHtcbiAgdmFyIGRvbSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgYXJnc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICB9XG5cbiAgdmFyIGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMl0sXG4gICAgICBjYXB0dXJlID0gYXJnc1szXTtcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgIGxpc3RlbmVyID0gYXJnc1sxXTtcbiAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICB0YXJnZXRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgIGZvciAodmFyIF9sZW44ID0gYXJndW1lbnRzLmxlbmd0aCwgZXZlbnRBcmdzID0gbmV3IEFycmF5KF9sZW44KSwgX2tleTggPSAwOyBfa2V5OCA8IF9sZW44OyBfa2V5OCsrKSB7XG4gICAgICBldmVudEFyZ3NbX2tleThdID0gYXJndW1lbnRzW19rZXk4XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBldmVudEFyZ3MpO1xuICAgIGRvbS5vZmYoZXZlbnROYW1lLCB0YXJnZXRTZWxlY3Rvciwgb25jZUhhbmRsZXIsIGNhcHR1cmUpO1xuXG4gICAgaWYgKG9uY2VIYW5kbGVyLmRvbTdwcm94eSkge1xuICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLmRvbTdwcm94eTtcbiAgICB9XG4gIH1cblxuICBvbmNlSGFuZGxlci5kb203cHJveHkgPSBsaXN0ZW5lcjtcbiAgcmV0dXJuIGRvbS5vbihldmVudE5hbWUsIHRhcmdldFNlbGVjdG9yLCBvbmNlSGFuZGxlciwgY2FwdHVyZSk7XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG5cbiAgZm9yICh2YXIgX2xlbjkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW45KSwgX2tleTkgPSAwOyBfa2V5OSA8IF9sZW45OyBfa2V5OSsrKSB7XG4gICAgYXJnc1tfa2V5OV0gPSBhcmd1bWVudHNbX2tleTldO1xuICB9XG5cbiAgdmFyIGV2ZW50cyA9IGFyZ3NbMF0uc3BsaXQoJyAnKTtcbiAgdmFyIGV2ZW50RGF0YSA9IGFyZ3NbMV07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbal07XG5cbiAgICAgIGlmICh3aW5kb3cuQ3VzdG9tRXZlbnQpIHtcbiAgICAgICAgdmFyIGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50RGF0YSxcbiAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGVsLmRvbTdFdmVudERhdGEgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoZGF0YSwgZGF0YUluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGFJbmRleCA+IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIGVsLmRvbTdFdmVudERhdGEgPSBbXTtcbiAgICAgICAgZGVsZXRlIGVsLmRvbTdFdmVudERhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoY2FsbGJhY2spIHtcbiAgdmFyIGRvbSA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuICAgIGRvbS5vZmYoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZG9tLm9uKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhbmltYXRpb25FbmQoY2FsbGJhY2spIHtcbiAgdmFyIGRvbSA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuICAgIGRvbS5vZmYoJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBkb20ub24oJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gd2lkdGgoKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG5cbiAgaWYgKHRoaXNbMF0gPT09IHdpbmRvdykge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgfVxuXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNzcygnd2lkdGgnKSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gb3V0ZXJXaWR0aChpbmNsdWRlTWFyZ2lucykge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgICB2YXIgX3N0eWxlcyA9IHRoaXMuc3R5bGVzKCk7XG5cbiAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRoICsgcGFyc2VGbG9hdChfc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpKSArIHBhcnNlRmxvYXQoX3N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBoZWlnaHQoKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG5cbiAgaWYgKHRoaXNbMF0gPT09IHdpbmRvdykge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jc3MoJ2hlaWdodCcpKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBvdXRlckhlaWdodChpbmNsdWRlTWFyZ2lucykge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgICB2YXIgX3N0eWxlczIgPSB0aGlzLnN0eWxlcygpO1xuXG4gICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHQgKyBwYXJzZUZsb2F0KF9zdHlsZXMyLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi10b3AnKSkgKyBwYXJzZUZsb2F0KF9zdHlsZXMyLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1ib3R0b20nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG4gICAgdmFyIGRvY3VtZW50ID0gc3NyV2luZG93LmdldERvY3VtZW50KCk7XG4gICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICB2YXIgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIHZhciBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgICB2YXIgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gICAgdmFyIHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgICB2YXIgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHNjcm9sbFRvcCAtIGNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzaG93KCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5JykgPT09ICdub25lJykge1xuICAgICAgLy8gU3RpbGwgbm90IHZpc2libGVcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzdHlsZXMoKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG4gIGlmICh0aGlzWzBdKSByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpc1swXSwgbnVsbCk7XG4gIHJldHVybiB7fTtcbn1cblxuZnVuY3Rpb24gY3NzKHByb3BzLCB2YWx1ZSkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICB2YXIgaTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmICh0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAuY3NzKCd3aWR0aCcpXG4gICAgICBpZiAodGhpc1swXSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAuY3NzKHsgd2lkdGg6ICcxMDBweCcgfSlcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGZvciAodmFyIF9wcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgdGhpc1tpXS5zdHlsZVtfcHJvcF0gPSBwcm9wc1tfcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJykge1xuICAgIC8vIC5jc3MoJ3dpZHRoJywgJzEwMHB4JylcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpc1tpXS5zdHlsZVtwcm9wc10gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBlYWNoKGNhbGxiYWNrKSB7XG4gIGlmICghY2FsbGJhY2spIHJldHVybiB0aGlzO1xuICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgIGNhbGxiYWNrLmFwcGx5KGVsLCBbZWwsIGluZGV4XSk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrKSB7XG4gIHZhciByZXN1bHQgPSBhcnJheUZpbHRlcih0aGlzLCBjYWxsYmFjayk7XG4gIHJldHVybiAkKHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIGh0bWwoaHRtbCkge1xuICBpZiAodHlwZW9mIGh0bWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmlubmVySFRNTCA6IG51bGw7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdGV4dCh0ZXh0KSB7XG4gIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0udGV4dENvbnRlbnQudHJpbSgpIDogbnVsbDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGlzKHNlbGVjdG9yKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG4gIHZhciBkb2N1bWVudCA9IHNzcldpbmRvdy5nZXREb2N1bWVudCgpO1xuICB2YXIgZWwgPSB0aGlzWzBdO1xuICB2YXIgY29tcGFyZVdpdGg7XG4gIHZhciBpO1xuICBpZiAoIWVsIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgIGlmIChlbC5tYXRjaGVzKSByZXR1cm4gZWwubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgaWYgKGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgaWYgKGVsLm1zTWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gZWwubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbXBhcmVXaXRoID0gJChzZWxlY3Rvcik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tcGFyZVdpdGgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChjb21wYXJlV2l0aFtpXSA9PT0gZWwpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciA9PT0gZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZWwgPT09IGRvY3VtZW50O1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4gZWwgPT09IHdpbmRvdztcbiAgfVxuXG4gIGlmIChzZWxlY3Rvci5ub2RlVHlwZSB8fCBzZWxlY3RvciBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICBjb21wYXJlV2l0aCA9IHNlbGVjdG9yLm5vZGVUeXBlID8gW3NlbGVjdG9yXSA6IHNlbGVjdG9yO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbXBhcmVXaXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoY29tcGFyZVdpdGhbaV0gPT09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGluZGV4KCkge1xuICB2YXIgY2hpbGQgPSB0aGlzWzBdO1xuICB2YXIgaTtcblxuICBpZiAoY2hpbGQpIHtcbiAgICBpID0gMDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICB3aGlsZSAoKGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSBpICs9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBlcShpbmRleCkge1xuICBpZiAodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHRoaXM7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICBpZiAoaW5kZXggPiBsZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHZhciByZXR1cm5JbmRleCA9IGxlbmd0aCArIGluZGV4O1xuICAgIGlmIChyZXR1cm5JbmRleCA8IDApIHJldHVybiAkKFtdKTtcbiAgICByZXR1cm4gJChbdGhpc1tyZXR1cm5JbmRleF1dKTtcbiAgfVxuXG4gIHJldHVybiAkKFt0aGlzW2luZGV4XV0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmQoKSB7XG4gIHZhciBuZXdDaGlsZDtcbiAgdmFyIGRvY3VtZW50ID0gc3NyV2luZG93LmdldERvY3VtZW50KCk7XG5cbiAgZm9yICh2YXIgayA9IDA7IGsgPCBhcmd1bWVudHMubGVuZ3RoOyBrICs9IDEpIHtcbiAgICBuZXdDaGlsZCA9IGsgPCAwIHx8IGFyZ3VtZW50cy5sZW5ndGggPD0gayA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1trXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgICB3aGlsZSAodGVtcERpdi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZCh0ZW1wRGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0NoaWxkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZChuZXdDaGlsZFtqXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRUbyhwYXJlbnQpIHtcbiAgJChwYXJlbnQpLmFwcGVuZCh0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHByZXBlbmQobmV3Q2hpbGQpIHtcbiAgdmFyIGRvY3VtZW50ID0gc3NyV2luZG93LmdldERvY3VtZW50KCk7XG4gIHZhciBpO1xuICB2YXIgajtcblxuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgZm9yIChqID0gdGVtcERpdi5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7XG4gICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKHRlbXBEaXYuY2hpbGROb2Rlc1tqXSwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgZm9yIChqID0gMDsgaiA8IG5ld0NoaWxkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKG5ld0NoaWxkW2pdLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW2ldLmluc2VydEJlZm9yZShuZXdDaGlsZCwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcHJlcGVuZFRvKHBhcmVudCkge1xuICAkKHBhcmVudCkucHJlcGVuZCh0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydEJlZm9yZShzZWxlY3Rvcikge1xuICB2YXIgYmVmb3JlID0gJChzZWxlY3Rvcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGJlZm9yZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGJlZm9yZVswXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzW2ldLCBiZWZvcmVbMF0pO1xuICAgIH0gZWxzZSBpZiAoYmVmb3JlLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmVmb3JlLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGJlZm9yZVtqXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzW2ldLmNsb25lTm9kZSh0cnVlKSwgYmVmb3JlW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIoc2VsZWN0b3IpIHtcbiAgdmFyIGFmdGVyID0gJChzZWxlY3Rvcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGFmdGVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgYWZ0ZXJbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXSwgYWZ0ZXJbMF0ubmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSBpZiAoYWZ0ZXIubGVuZ3RoID4gMSkge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhZnRlci5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBhZnRlcltqXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzW2ldLmNsb25lTm9kZSh0cnVlKSwgYWZ0ZXJbal0ubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBuZXh0KHNlbGVjdG9yKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZyAmJiAkKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuICQoW3RoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIHJldHVybiAkKFtdKTtcbn1cblxuZnVuY3Rpb24gbmV4dEFsbChzZWxlY3Rvcikge1xuICB2YXIgbmV4dEVscyA9IFtdO1xuICB2YXIgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgd2hpbGUgKGVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgIHZhciBfbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoJChfbmV4dCkuaXMoc2VsZWN0b3IpKSBuZXh0RWxzLnB1c2goX25leHQpO1xuICAgIH0gZWxzZSBuZXh0RWxzLnB1c2goX25leHQpO1xuXG4gICAgZWwgPSBfbmV4dDtcbiAgfVxuXG4gIHJldHVybiAkKG5leHRFbHMpO1xufVxuXG5mdW5jdGlvbiBwcmV2KHNlbGVjdG9yKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgZWwgPSB0aGlzWzBdO1xuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoZWwucHJldmlvdXNFbGVtZW50U2libGluZyAmJiAkKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gJChbZWwucHJldmlvdXNFbGVtZW50U2libGluZ10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgaWYgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFtlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSk7XG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgcmV0dXJuICQoW10pO1xufVxuXG5mdW5jdGlvbiBwcmV2QWxsKHNlbGVjdG9yKSB7XG4gIHZhciBwcmV2RWxzID0gW107XG4gIHZhciBlbCA9IHRoaXNbMF07XG4gIGlmICghZWwpIHJldHVybiAkKFtdKTtcblxuICB3aGlsZSAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIHZhciBfcHJldiA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCQoX3ByZXYpLmlzKHNlbGVjdG9yKSkgcHJldkVscy5wdXNoKF9wcmV2KTtcbiAgICB9IGVsc2UgcHJldkVscy5wdXNoKF9wcmV2KTtcblxuICAgIGVsID0gX3ByZXY7XG4gIH1cblxuICByZXR1cm4gJChwcmV2RWxzKTtcbn1cblxuZnVuY3Rpb24gc2libGluZ3Moc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHRoaXMubmV4dEFsbChzZWxlY3RvcikuYWRkKHRoaXMucHJldkFsbChzZWxlY3RvcikpO1xufVxuXG5mdW5jdGlvbiBwYXJlbnQoc2VsZWN0b3IpIHtcbiAgdmFyIHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0aGlzW2ldLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBpZiAoJCh0aGlzW2ldLnBhcmVudE5vZGUpLmlzKHNlbGVjdG9yKSkgcGFyZW50cy5wdXNoKHRoaXNbaV0ucGFyZW50Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRzLnB1c2godGhpc1tpXS5wYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gJChwYXJlbnRzKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50cyhzZWxlY3Rvcikge1xuICB2YXIgcGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIF9wYXJlbnQgPSB0aGlzW2ldLnBhcmVudE5vZGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHdoaWxlIChfcGFyZW50KSB7XG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCQoX3BhcmVudCkuaXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2goX3BhcmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRzLnB1c2goX3BhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIF9wYXJlbnQgPSBfcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICQocGFyZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcbiAgdmFyIGNsb3Nlc3QgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJChbXSk7XG4gIH1cblxuICBpZiAoIWNsb3Nlc3QuaXMoc2VsZWN0b3IpKSB7XG4gICAgY2xvc2VzdCA9IGNsb3Nlc3QucGFyZW50cyhzZWxlY3RvcikuZXEoMCk7XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdDtcbn1cblxuZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICB2YXIgZm91bmRFbGVtZW50cyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBmb3VuZCA9IHRoaXNbaV0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZvdW5kLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBmb3VuZEVsZW1lbnRzLnB1c2goZm91bmRbal0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKGZvdW5kRWxlbWVudHMpO1xufVxuXG5mdW5jdGlvbiBjaGlsZHJlbihzZWxlY3Rvcikge1xuICB2YXIgY2hpbGRyZW4gPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBjaGlsZE5vZGVzID0gdGhpc1tpXS5jaGlsZHJlbjtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgaWYgKCFzZWxlY3RvciB8fCAkKGNoaWxkTm9kZXNbal0pLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkTm9kZXNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKGNoaWxkcmVuKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodGhpc1tpXS5wYXJlbnROb2RlKSB0aGlzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tpXSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGV0YWNoKCkge1xuICByZXR1cm4gdGhpcy5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gYWRkKCkge1xuICB2YXIgZG9tID0gdGhpcztcbiAgdmFyIGk7XG4gIHZhciBqO1xuXG4gIGZvciAodmFyIF9sZW4xMCA9IGFyZ3VtZW50cy5sZW5ndGgsIGVscyA9IG5ldyBBcnJheShfbGVuMTApLCBfa2V5MTAgPSAwOyBfa2V5MTAgPCBfbGVuMTA7IF9rZXkxMCsrKSB7XG4gICAgZWxzW19rZXkxMF0gPSBhcmd1bWVudHNbX2tleTEwXTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgdG9BZGQgPSAkKGVsc1tpXSk7XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgdG9BZGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGRvbS5wdXNoKHRvQWRkW2pdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiBlbXB0eSgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGVsID0gdGhpc1tpXTtcblxuICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbC5jaGlsZE5vZGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGlmIChlbC5jaGlsZE5vZGVzW2pdLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBlbC5jaGlsZE5vZGVzW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwuY2hpbGROb2Rlc1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWwudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2Nyb2xsVG8oKSB7XG4gIHZhciB3aW5kb3cgPSBzc3JXaW5kb3cuZ2V0V2luZG93KCk7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBsZWZ0ID0gYXJnc1swXSxcbiAgICAgIHRvcCA9IGFyZ3NbMV0sXG4gICAgICBkdXJhdGlvbiA9IGFyZ3NbMl0sXG4gICAgICBlYXNpbmcgPSBhcmdzWzNdLFxuICAgICAgY2FsbGJhY2sgPSBhcmdzWzRdO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBlYXNpbmc7XG4gICAgbGVmdCA9IGFyZ3NbMF07XG4gICAgdG9wID0gYXJnc1sxXTtcbiAgICBkdXJhdGlvbiA9IGFyZ3NbMl07XG4gICAgY2FsbGJhY2sgPSBhcmdzWzNdO1xuICAgIGVhc2luZyA9IGFyZ3NbNF07XG4gIH1cblxuICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ3VuZGVmaW5lZCcpIGVhc2luZyA9ICdzd2luZyc7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB2YXIgZWwgPSB0aGlzO1xuICAgIHZhciBjdXJyZW50VG9wO1xuICAgIHZhciBjdXJyZW50TGVmdDtcbiAgICB2YXIgbWF4VG9wO1xuICAgIHZhciBtYXhMZWZ0O1xuICAgIHZhciBuZXdUb3A7XG4gICAgdmFyIG5ld0xlZnQ7XG4gICAgdmFyIHNjcm9sbFRvcDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgdmFyIHNjcm9sbExlZnQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHZhciBhbmltYXRlVG9wID0gdG9wID4gMCB8fCB0b3AgPT09IDA7XG4gICAgdmFyIGFuaW1hdGVMZWZ0ID0gbGVmdCA+IDAgfHwgbGVmdCA9PT0gMDtcblxuICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZWFzaW5nID0gJ3N3aW5nJztcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0ZVRvcCkge1xuICAgICAgY3VycmVudFRvcCA9IGVsLnNjcm9sbFRvcDtcblxuICAgICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVMZWZ0KSB7XG4gICAgICBjdXJyZW50TGVmdCA9IGVsLnNjcm9sbExlZnQ7XG5cbiAgICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFkdXJhdGlvbikgcmV0dXJuO1xuXG4gICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgIG1heFRvcCA9IGVsLnNjcm9sbEhlaWdodCAtIGVsLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld1RvcCA9IE1hdGgubWF4KE1hdGgubWluKHRvcCwgbWF4VG9wKSwgMCk7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVMZWZ0KSB7XG4gICAgICBtYXhMZWZ0ID0gZWwuc2Nyb2xsV2lkdGggLSBlbC5vZmZzZXRXaWR0aDtcbiAgICAgIG5ld0xlZnQgPSBNYXRoLm1heChNYXRoLm1pbihsZWZ0LCBtYXhMZWZ0KSwgMCk7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0VGltZSA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wID09PSBjdXJyZW50VG9wKSBhbmltYXRlVG9wID0gZmFsc2U7XG4gICAgaWYgKGFuaW1hdGVMZWZ0ICYmIG5ld0xlZnQgPT09IGN1cnJlbnRMZWZ0KSBhbmltYXRlTGVmdCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyKHRpbWUpIHtcbiAgICAgIGlmICh0aW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSwgMCk7XG4gICAgICB2YXIgZWFzZVByb2dyZXNzID0gZWFzaW5nID09PSAnbGluZWFyJyA/IHByb2dyZXNzIDogMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgICB2YXIgZG9uZTtcbiAgICAgIGlmIChhbmltYXRlVG9wKSBzY3JvbGxUb3AgPSBjdXJyZW50VG9wICsgZWFzZVByb2dyZXNzICogKG5ld1RvcCAtIGN1cnJlbnRUb3ApO1xuICAgICAgaWYgKGFuaW1hdGVMZWZ0KSBzY3JvbGxMZWZ0ID0gY3VycmVudExlZnQgKyBlYXNlUHJvZ3Jlc3MgKiAobmV3TGVmdCAtIGN1cnJlbnRMZWZ0KTtcblxuICAgICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wID4gY3VycmVudFRvcCAmJiBzY3JvbGxUb3AgPj0gbmV3VG9wKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA8IGN1cnJlbnRUb3AgJiYgc2Nyb2xsVG9wIDw9IG5ld1RvcCkge1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSBuZXdUb3A7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZUxlZnQgJiYgbmV3TGVmdCA+IGN1cnJlbnRMZWZ0ICYmIHNjcm9sbExlZnQgPj0gbmV3TGVmdCkge1xuICAgICAgICBlbC5zY3JvbGxMZWZ0ID0gbmV3TGVmdDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0IDwgY3VycmVudExlZnQgJiYgc2Nyb2xsTGVmdCA8PSBuZXdMZWZ0KSB7XG4gICAgICAgIGVsLnNjcm9sbExlZnQgPSBuZXdMZWZ0O1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlVG9wKSBlbC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICBpZiAoYW5pbWF0ZUxlZnQpIGVsLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgfSk7XG59IC8vIHNjcm9sbFRvcCh0b3AsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG5cblxuZnVuY3Rpb24gc2Nyb2xsVG9wKCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICB2YXIgdG9wID0gYXJnc1swXSxcbiAgICAgIGR1cmF0aW9uID0gYXJnc1sxXSxcbiAgICAgIGVhc2luZyA9IGFyZ3NbMl0sXG4gICAgICBjYWxsYmFjayA9IGFyZ3NbM107XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAzICYmIHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0b3AgPSBhcmdzWzBdO1xuICAgIGR1cmF0aW9uID0gYXJnc1sxXTtcbiAgICBjYWxsYmFjayA9IGFyZ3NbMl07XG4gICAgZWFzaW5nID0gYXJnc1szXTtcbiAgfVxuXG4gIHZhciBkb20gPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb20ubGVuZ3RoID4gMCkgcmV0dXJuIGRvbVswXS5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZG9tLnNjcm9sbFRvKHVuZGVmaW5lZCwgdG9wLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbExlZnQoKSB7XG4gIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgfVxuXG4gIHZhciBsZWZ0ID0gYXJnc1swXSxcbiAgICAgIGR1cmF0aW9uID0gYXJnc1sxXSxcbiAgICAgIGVhc2luZyA9IGFyZ3NbMl0sXG4gICAgICBjYWxsYmFjayA9IGFyZ3NbM107XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAzICYmIHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBsZWZ0ID0gYXJnc1swXTtcbiAgICBkdXJhdGlvbiA9IGFyZ3NbMV07XG4gICAgY2FsbGJhY2sgPSBhcmdzWzJdO1xuICAgIGVhc2luZyA9IGFyZ3NbM107XG4gIH1cblxuICB2YXIgZG9tID0gdGhpcztcblxuICBpZiAodHlwZW9mIGxlZnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKGRvbS5sZW5ndGggPiAwKSByZXR1cm4gZG9tWzBdLnNjcm9sbExlZnQ7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZG9tLnNjcm9sbFRvKGxlZnQsIHVuZGVmaW5lZCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBhbmltYXRlKGluaXRpYWxQcm9wcywgaW5pdGlhbFBhcmFtcykge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICB2YXIgZWxzID0gdGhpcztcbiAgdmFyIGEgPSB7XG4gICAgcHJvcHM6IE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxQcm9wcyksXG4gICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICBlYXNpbmc6ICdzd2luZycgLy8gb3IgJ2xpbmVhcidcblxuICAgICAgLyogQ2FsbGJhY2tzXG4gICAgICBiZWdpbihlbGVtZW50cylcbiAgICAgIGNvbXBsZXRlKGVsZW1lbnRzKVxuICAgICAgcHJvZ3Jlc3MoZWxlbWVudHMsIGNvbXBsZXRlLCByZW1haW5pbmcsIHN0YXJ0LCB0d2VlblZhbHVlKVxuICAgICAgKi9cblxuICAgIH0sIGluaXRpYWxQYXJhbXMpLFxuICAgIGVsZW1lbnRzOiBlbHMsXG4gICAgYW5pbWF0aW5nOiBmYWxzZSxcbiAgICBxdWU6IFtdLFxuICAgIGVhc2luZ1Byb2dyZXNzOiBmdW5jdGlvbiBlYXNpbmdQcm9ncmVzcyhlYXNpbmcsIHByb2dyZXNzKSB7XG4gICAgICBpZiAoZWFzaW5nID09PSAnc3dpbmcnKSB7XG4gICAgICAgIHJldHVybiAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGVhc2luZyhwcm9ncmVzcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9ncmVzcztcbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBpZiAoYS5mcmFtZUlkKSB7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhLmZyYW1lSWQpO1xuICAgICAgfVxuXG4gICAgICBhLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgYS5lbGVtZW50cy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsO1xuICAgICAgICBkZWxldGUgZWxlbWVudC5kb203QW5pbWF0ZUluc3RhbmNlO1xuICAgICAgfSk7XG4gICAgICBhLnF1ZSA9IFtdO1xuICAgIH0sXG4gICAgZG9uZTogZnVuY3Rpb24gZG9uZShjb21wbGV0ZSkge1xuICAgICAgYS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIGEuZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbDtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQuZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbXBsZXRlKSBjb21wbGV0ZShlbHMpO1xuXG4gICAgICBpZiAoYS5xdWUubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgcXVlID0gYS5xdWUuc2hpZnQoKTtcbiAgICAgICAgYS5hbmltYXRlKHF1ZVswXSwgcXVlWzFdKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFuaW1hdGU6IGZ1bmN0aW9uIGFuaW1hdGUocHJvcHMsIHBhcmFtcykge1xuICAgICAgaWYgKGEuYW5pbWF0aW5nKSB7XG4gICAgICAgIGEucXVlLnB1c2goW3Byb3BzLCBwYXJhbXNdKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50cyA9IFtdOyAvLyBEZWZpbmUgJiBDYWNoZSBJbml0aWFscyAmIFVuaXRzXG5cbiAgICAgIGEuZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7XG4gICAgICAgIHZhciBpbml0aWFsRnVsbFZhbHVlO1xuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlO1xuICAgICAgICB2YXIgdW5pdDtcbiAgICAgICAgdmFyIGZpbmFsVmFsdWU7XG4gICAgICAgIHZhciBmaW5hbEZ1bGxWYWx1ZTtcbiAgICAgICAgaWYgKCFlbC5kb203QW5pbWF0ZUluc3RhbmNlKSBhLmVsZW1lbnRzW2luZGV4XS5kb203QW5pbWF0ZUluc3RhbmNlID0gYTtcbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0ge1xuICAgICAgICAgIGNvbnRhaW5lcjogZWxcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICBpbml0aWFsRnVsbFZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCkucmVwbGFjZSgnLCcsICcuJyk7XG4gICAgICAgICAgaW5pdGlhbFZhbHVlID0gcGFyc2VGbG9hdChpbml0aWFsRnVsbFZhbHVlKTtcbiAgICAgICAgICB1bml0ID0gaW5pdGlhbEZ1bGxWYWx1ZS5yZXBsYWNlKGluaXRpYWxWYWx1ZSwgJycpO1xuICAgICAgICAgIGZpbmFsVmFsdWUgPSBwYXJzZUZsb2F0KHByb3BzW3Byb3BdKTtcbiAgICAgICAgICBmaW5hbEZ1bGxWYWx1ZSA9IHByb3BzW3Byb3BdICsgdW5pdDtcbiAgICAgICAgICBlbGVtZW50c1tpbmRleF1bcHJvcF0gPSB7XG4gICAgICAgICAgICBpbml0aWFsRnVsbFZhbHVlOiBpbml0aWFsRnVsbFZhbHVlLFxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBpbml0aWFsVmFsdWUsXG4gICAgICAgICAgICB1bml0OiB1bml0LFxuICAgICAgICAgICAgZmluYWxWYWx1ZTogZmluYWxWYWx1ZSxcbiAgICAgICAgICAgIGZpbmFsRnVsbFZhbHVlOiBmaW5hbEZ1bGxWYWx1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZTogaW5pdGlhbFZhbHVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBzdGFydFRpbWUgPSBudWxsO1xuICAgICAgdmFyIHRpbWU7XG4gICAgICB2YXIgZWxlbWVudHNEb25lID0gMDtcbiAgICAgIHZhciBwcm9wc0RvbmUgPSAwO1xuICAgICAgdmFyIGRvbmU7XG4gICAgICB2YXIgYmVnYW4gPSBmYWxzZTtcbiAgICAgIGEuYW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBwcm9ncmVzcztcbiAgICAgICAgdmFyIGVhc2VQcm9ncmVzczsgLy8gbGV0IGVsO1xuXG4gICAgICAgIGlmICghYmVnYW4pIHtcbiAgICAgICAgICBiZWdhbiA9IHRydWU7XG4gICAgICAgICAgaWYgKHBhcmFtcy5iZWdpbikgcGFyYW1zLmJlZ2luKGVscyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICBwYXJhbXMucHJvZ3Jlc3MoZWxzLCBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBwYXJhbXMuZHVyYXRpb24sIDEpLCAwKSwgc3RhcnRUaW1lICsgcGFyYW1zLmR1cmF0aW9uIC0gdGltZSA8IDAgPyAwIDogc3RhcnRUaW1lICsgcGFyYW1zLmR1cmF0aW9uIC0gdGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgZWwgPSBlbGVtZW50O1xuICAgICAgICAgIGlmIChkb25lIHx8IGVsLmRvbmUpIHJldHVybjtcbiAgICAgICAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKGRvbmUgfHwgZWwuZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBwYXJhbXMuZHVyYXRpb24sIDEpLCAwKTtcbiAgICAgICAgICAgIGVhc2VQcm9ncmVzcyA9IGEuZWFzaW5nUHJvZ3Jlc3MocGFyYW1zLmVhc2luZywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgdmFyIF9lbCRwcm9wID0gZWxbcHJvcF0sXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gX2VsJHByb3AuaW5pdGlhbFZhbHVlLFxuICAgICAgICAgICAgICAgIGZpbmFsVmFsdWUgPSBfZWwkcHJvcC5maW5hbFZhbHVlLFxuICAgICAgICAgICAgICAgIHVuaXQgPSBfZWwkcHJvcC51bml0O1xuICAgICAgICAgICAgZWxbcHJvcF0uY3VycmVudFZhbHVlID0gaW5pdGlhbFZhbHVlICsgZWFzZVByb2dyZXNzICogKGZpbmFsVmFsdWUgLSBpbml0aWFsVmFsdWUpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGVsW3Byb3BdLmN1cnJlbnRWYWx1ZTtcblxuICAgICAgICAgICAgaWYgKGZpbmFsVmFsdWUgPiBpbml0aWFsVmFsdWUgJiYgY3VycmVudFZhbHVlID49IGZpbmFsVmFsdWUgfHwgZmluYWxWYWx1ZSA8IGluaXRpYWxWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPD0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICBlbC5jb250YWluZXIuc3R5bGVbcHJvcF0gPSBmaW5hbFZhbHVlICsgdW5pdDtcbiAgICAgICAgICAgICAgcHJvcHNEb25lICs9IDE7XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BzRG9uZSA9PT0gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVsLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzRG9uZSArPSAxO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzRG9uZSA9PT0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgYS5kb25lKHBhcmFtcy5jb21wbGV0ZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuY29udGFpbmVyLnN0eWxlW3Byb3BdID0gY3VycmVudFZhbHVlICsgdW5pdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47IC8vIFRoZW4gY2FsbFxuXG4gICAgICAgIGEuZnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgIH1cblxuICAgICAgYS5mcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIGlmIChhLmVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBlbHM7XG4gIH1cblxuICB2YXIgYW5pbWF0ZUluc3RhbmNlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5lbGVtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhLmVsZW1lbnRzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2UpIHtcbiAgICAgIGFuaW1hdGVJbnN0YW5jZSA9IGEuZWxlbWVudHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICB9IGVsc2UgYS5lbGVtZW50c1tpXS5kb203QW5pbWF0ZUluc3RhbmNlID0gYTtcbiAgfVxuXG4gIGlmICghYW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgYW5pbWF0ZUluc3RhbmNlID0gYTtcbiAgfVxuXG4gIGlmIChpbml0aWFsUHJvcHMgPT09ICdzdG9wJykge1xuICAgIGFuaW1hdGVJbnN0YW5jZS5zdG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgYW5pbWF0ZUluc3RhbmNlLmFuaW1hdGUoYS5wcm9wcywgYS5wYXJhbXMpO1xuICB9XG5cbiAgcmV0dXJuIGVscztcbn1cblxuZnVuY3Rpb24gc3RvcCgpIHtcbiAgdmFyIGVscyA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoZWxzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2UpIHtcbiAgICAgIGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlLnN0b3AoKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIG5vVHJpZ2dlciA9ICdyZXNpemUgc2Nyb2xsJy5zcGxpdCgnICcpO1xuXG5mdW5jdGlvbiBzaG9ydGN1dChuYW1lKSB7XG4gIGZ1bmN0aW9uIGV2ZW50SGFuZGxlcigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChub1RyaWdnZXIuaW5kZXhPZihuYW1lKSA8IDApIHtcbiAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzW2ldKSB0aGlzW2ldW25hbWVdKCk7ZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXNbaV0pLnRyaWdnZXIobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9uLmFwcGx5KHRoaXMsIFtuYW1lXS5jb25jYXQoYXJncykpO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxudmFyIGNsaWNrID0gc2hvcnRjdXQoJ2NsaWNrJyk7XG52YXIgYmx1ciA9IHNob3J0Y3V0KCdibHVyJyk7XG52YXIgZm9jdXMgPSBzaG9ydGN1dCgnZm9jdXMnKTtcbnZhciBmb2N1c2luID0gc2hvcnRjdXQoJ2ZvY3VzaW4nKTtcbnZhciBmb2N1c291dCA9IHNob3J0Y3V0KCdmb2N1c291dCcpO1xudmFyIGtleXVwID0gc2hvcnRjdXQoJ2tleXVwJyk7XG52YXIga2V5ZG93biA9IHNob3J0Y3V0KCdrZXlkb3duJyk7XG52YXIga2V5cHJlc3MgPSBzaG9ydGN1dCgna2V5cHJlc3MnKTtcbnZhciBzdWJtaXQgPSBzaG9ydGN1dCgnc3VibWl0Jyk7XG52YXIgY2hhbmdlID0gc2hvcnRjdXQoJ2NoYW5nZScpO1xudmFyIG1vdXNlZG93biA9IHNob3J0Y3V0KCdtb3VzZWRvd24nKTtcbnZhciBtb3VzZW1vdmUgPSBzaG9ydGN1dCgnbW91c2Vtb3ZlJyk7XG52YXIgbW91c2V1cCA9IHNob3J0Y3V0KCdtb3VzZXVwJyk7XG52YXIgbW91c2VlbnRlciA9IHNob3J0Y3V0KCdtb3VzZWVudGVyJyk7XG52YXIgbW91c2VsZWF2ZSA9IHNob3J0Y3V0KCdtb3VzZWxlYXZlJyk7XG52YXIgbW91c2VvdXQgPSBzaG9ydGN1dCgnbW91c2VvdXQnKTtcbnZhciBtb3VzZW92ZXIgPSBzaG9ydGN1dCgnbW91c2VvdmVyJyk7XG52YXIgdG91Y2hzdGFydCA9IHNob3J0Y3V0KCd0b3VjaHN0YXJ0Jyk7XG52YXIgdG91Y2hlbmQgPSBzaG9ydGN1dCgndG91Y2hlbmQnKTtcbnZhciB0b3VjaG1vdmUgPSBzaG9ydGN1dCgndG91Y2htb3ZlJyk7XG52YXIgcmVzaXplID0gc2hvcnRjdXQoJ3Jlc2l6ZScpO1xudmFyIHNjcm9sbCA9IHNob3J0Y3V0KCdzY3JvbGwnKTtcblxuZXhwb3J0cy4kID0gJDtcbmV4cG9ydHMuYWRkID0gYWRkO1xuZXhwb3J0cy5hZGRDbGFzcyA9IGFkZENsYXNzO1xuZXhwb3J0cy5hbmltYXRlID0gYW5pbWF0ZTtcbmV4cG9ydHMuYW5pbWF0aW9uRW5kID0gYW5pbWF0aW9uRW5kO1xuZXhwb3J0cy5hcHBlbmQgPSBhcHBlbmQ7XG5leHBvcnRzLmFwcGVuZFRvID0gYXBwZW5kVG87XG5leHBvcnRzLmF0dHIgPSBhdHRyO1xuZXhwb3J0cy5ibHVyID0gYmx1cjtcbmV4cG9ydHMuY2hhbmdlID0gY2hhbmdlO1xuZXhwb3J0cy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuZXhwb3J0cy5jbGljayA9IGNsaWNrO1xuZXhwb3J0cy5jbG9zZXN0ID0gY2xvc2VzdDtcbmV4cG9ydHMuY3NzID0gY3NzO1xuZXhwb3J0cy5kYXRhID0gZGF0YTtcbmV4cG9ydHMuZGF0YXNldCA9IGRhdGFzZXQ7XG5leHBvcnRzLmRlZmF1bHQgPSAkO1xuZXhwb3J0cy5kZXRhY2ggPSBkZXRhY2g7XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuZXhwb3J0cy5lbXB0eSA9IGVtcHR5O1xuZXhwb3J0cy5lcSA9IGVxO1xuZXhwb3J0cy5maWx0ZXIgPSBmaWx0ZXI7XG5leHBvcnRzLmZpbmQgPSBmaW5kO1xuZXhwb3J0cy5mb2N1cyA9IGZvY3VzO1xuZXhwb3J0cy5mb2N1c2luID0gZm9jdXNpbjtcbmV4cG9ydHMuZm9jdXNvdXQgPSBmb2N1c291dDtcbmV4cG9ydHMuaGFzQ2xhc3MgPSBoYXNDbGFzcztcbmV4cG9ydHMuaGVpZ2h0ID0gaGVpZ2h0O1xuZXhwb3J0cy5oaWRlID0gaGlkZTtcbmV4cG9ydHMuaHRtbCA9IGh0bWw7XG5leHBvcnRzLmluZGV4ID0gaW5kZXg7XG5leHBvcnRzLmluc2VydEFmdGVyID0gaW5zZXJ0QWZ0ZXI7XG5leHBvcnRzLmluc2VydEJlZm9yZSA9IGluc2VydEJlZm9yZTtcbmV4cG9ydHMuaXMgPSBpcztcbmV4cG9ydHMua2V5ZG93biA9IGtleWRvd247XG5leHBvcnRzLmtleXByZXNzID0ga2V5cHJlc3M7XG5leHBvcnRzLmtleXVwID0ga2V5dXA7XG5leHBvcnRzLm1vdXNlZG93biA9IG1vdXNlZG93bjtcbmV4cG9ydHMubW91c2VlbnRlciA9IG1vdXNlZW50ZXI7XG5leHBvcnRzLm1vdXNlbGVhdmUgPSBtb3VzZWxlYXZlO1xuZXhwb3J0cy5tb3VzZW1vdmUgPSBtb3VzZW1vdmU7XG5leHBvcnRzLm1vdXNlb3V0ID0gbW91c2VvdXQ7XG5leHBvcnRzLm1vdXNlb3ZlciA9IG1vdXNlb3ZlcjtcbmV4cG9ydHMubW91c2V1cCA9IG1vdXNldXA7XG5leHBvcnRzLm5leHQgPSBuZXh0O1xuZXhwb3J0cy5uZXh0QWxsID0gbmV4dEFsbDtcbmV4cG9ydHMub2ZmID0gb2ZmO1xuZXhwb3J0cy5vZmZzZXQgPSBvZmZzZXQ7XG5leHBvcnRzLm9uID0gb247XG5leHBvcnRzLm9uY2UgPSBvbmNlO1xuZXhwb3J0cy5vdXRlckhlaWdodCA9IG91dGVySGVpZ2h0O1xuZXhwb3J0cy5vdXRlcldpZHRoID0gb3V0ZXJXaWR0aDtcbmV4cG9ydHMucGFyZW50ID0gcGFyZW50O1xuZXhwb3J0cy5wYXJlbnRzID0gcGFyZW50cztcbmV4cG9ydHMucHJlcGVuZCA9IHByZXBlbmQ7XG5leHBvcnRzLnByZXBlbmRUbyA9IHByZXBlbmRUbztcbmV4cG9ydHMucHJldiA9IHByZXY7XG5leHBvcnRzLnByZXZBbGwgPSBwcmV2QWxsO1xuZXhwb3J0cy5wcm9wID0gcHJvcDtcbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuZXhwb3J0cy5yZW1vdmVBdHRyID0gcmVtb3ZlQXR0cjtcbmV4cG9ydHMucmVtb3ZlQ2xhc3MgPSByZW1vdmVDbGFzcztcbmV4cG9ydHMucmVtb3ZlRGF0YSA9IHJlbW92ZURhdGE7XG5leHBvcnRzLnJlc2l6ZSA9IHJlc2l6ZTtcbmV4cG9ydHMuc2Nyb2xsID0gc2Nyb2xsO1xuZXhwb3J0cy5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbmV4cG9ydHMuc2Nyb2xsVG8gPSBzY3JvbGxUbztcbmV4cG9ydHMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuZXhwb3J0cy5zaG93ID0gc2hvdztcbmV4cG9ydHMuc2libGluZ3MgPSBzaWJsaW5ncztcbmV4cG9ydHMuc3RvcCA9IHN0b3A7XG5leHBvcnRzLnN0eWxlcyA9IHN0eWxlcztcbmV4cG9ydHMuc3VibWl0ID0gc3VibWl0O1xuZXhwb3J0cy50ZXh0ID0gdGV4dDtcbmV4cG9ydHMudG9nZ2xlQ2xhc3MgPSB0b2dnbGVDbGFzcztcbmV4cG9ydHMudG91Y2hlbmQgPSB0b3VjaGVuZDtcbmV4cG9ydHMudG91Y2htb3ZlID0gdG91Y2htb3ZlO1xuZXhwb3J0cy50b3VjaHN0YXJ0ID0gdG91Y2hzdGFydDtcbmV4cG9ydHMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuZXhwb3J0cy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbmV4cG9ydHMudHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25FbmQ7XG5leHBvcnRzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuZXhwb3J0cy52YWwgPSB2YWw7XG5leHBvcnRzLnZhbHVlID0gdmFsdWU7XG5leHBvcnRzLndpZHRoID0gd2lkdGg7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMyAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNiBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGNvcnJlY3RseSBjbGFzc2lmaWVkLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQm9vbGVhbihudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYm9vbFRhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Jvb2xlYW47XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpO1xuXG4vKiogRGV0ZWN0IGlmIHByb3BlcnRpZXMgc2hhZG93aW5nIHRob3NlIG9uIGBPYmplY3QucHJvdG90eXBlYCBhcmUgbm9uLWVudW1lcmFibGUuICovXG52YXIgbm9uRW51bVNoYWRvd3MgPSAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7ICd2YWx1ZU9mJzogMSB9LCAndmFsdWVPZicpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExLFxuLy8gZm9yIGRhdGEgdmlld3MgaW4gRWRnZSA8IDE0LCBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcy5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAqXG4gKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAqIHByb3BlcnRpZXMuXG4gKlxuICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRW1wdHkobnVsbCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0VtcHR5KHRydWUpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNFbXB0eSgxKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgIHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fCBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICB9XG4gIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICB9XG4gIGlmIChub25FbnVtU2hhZG93cyB8fCBpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gIW5hdGl2ZUtleXModmFsdWUpLmxlbmd0aDtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFbXB0eTtcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICByZUxlYWRpbmdEb3QgPSAvXlxcLi8sXG4gICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyBvZiBlbGVtZW50cyB0byBwaWNrLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgaXNOaWwgPSBvYmplY3QgPT0gbnVsbCxcbiAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXNOaWwgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgcGF0aCA9IGlzS2V5KHBhdGgsIG9iamVjdCkgPyBbcGF0aF0gOiBjYXN0UGF0aChwYXRoKTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICogaW5kZXhlcyBvciBjYXB0dXJpbmcgdGhlIHJlbW92ZWQgZWxlbWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgIGlmIChsZW5ndGggPT0gbGFzdEluZGV4IHx8IGluZGV4ICE9PSBwcmV2aW91cykge1xuICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc0tleShpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHZhciBwYXRoID0gY2FzdFBhdGgoaW5kZXgpLFxuICAgICAgICAgICAgb2JqZWN0ID0gcGFyZW50KGFycmF5LCBwYXRoKTtcblxuICAgICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBhcnJheVt0b0tleShpbmRleCldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IGFycmF5O1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gIH1cbiAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5ndGg7XG4gIH1cbiAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogKChlbmQgLSBzdGFydCkgPj4+IDApO1xuICBzdGFydCA+Pj49IDA7XG5cbiAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ1RvUGF0aCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICovXG5mdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gIHJldHVybiBwYXRoLmxlbmd0aCA9PSAxID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplKGZ1bmN0aW9uKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHJlTGVhZGluZ0RvdC50ZXN0KHN0cmluZykpIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICpcbiAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAqIC8vID0+IFsnYScsICdjJ11cbiAqXG4gKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICogLy8gPT4gWydiJywgJ2QnXVxuICovXG52YXIgcHVsbEF0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgaW5kZXhlcyA9IGJhc2VGbGF0dGVuKGluZGV4ZXMsIDEpO1xuXG4gIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEFzc2lnbiBjYWNoZSB0byBgXy5tZW1vaXplYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAqIC8vID0+ICdkZWZhdWx0J1xuICovXG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbEF0O1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICByZXN1bHQgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwiLyoqXG4gKiBTU1IgV2luZG93IDMuMC4wXG4gKiBCZXR0ZXIgaGFuZGxpbmcgZm9yIHdpbmRvdyBvYmplY3QgaW4gU1NSIGVudmlyb25tZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9saW1pdHM0d2ViL3Nzci13aW5kb3dcbiAqXG4gKiBDb3B5cmlnaHQgMjAyMCwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAqXG4gKiBSZWxlYXNlZCBvbjogTm92ZW1iZXIgOSwgMjAyMFxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwuc3NyV2luZG93ID0ge30pKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgJ2NvbnN0cnVjdG9yJyBpbiBvYmogJiZcbiAgICAgICAgICAgIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc3JjKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgeyB0YXJnZXQgPSB7fTsgfVxuICAgICAgICBpZiAoc3JjID09PSB2b2lkIDApIHsgc3JjID0ge307IH1cbiAgICAgICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgICAgICAgICBlbHNlIGlmIChpc09iamVjdChzcmNba2V5XSkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdCh0YXJnZXRba2V5XSkgJiZcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzcmNba2V5XSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgc3NyRG9jdW1lbnQgPSB7XG4gICAgICAgIGJvZHk6IHt9LFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgYWN0aXZlRWxlbWVudDoge1xuICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgbm9kZU5hbWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBxdWVyeVNlbGVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFbGVtZW50QnlJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUV2ZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluaXRFdmVudDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICAgICAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlRWxlbWVudE5TOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGltcG9ydE5vZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgaGFzaDogJycsXG4gICAgICAgICAgICBob3N0OiAnJyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgICAgICAgIGhyZWY6ICcnLFxuICAgICAgICAgICAgb3JpZ2luOiAnJyxcbiAgICAgICAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgICAgICAgIHByb3RvY29sOiAnJyxcbiAgICAgICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgICAgICAgdmFyIGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuICAgICAgICBleHRlbmQoZG9jLCBzc3JEb2N1bWVudCk7XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgfVxuXG4gICAgdmFyIHNzcldpbmRvdyA9IHtcbiAgICAgICAgZG9jdW1lbnQ6IHNzckRvY3VtZW50LFxuICAgICAgICBuYXZpZ2F0b3I6IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgICAgIH0sXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBoYXNoOiAnJyxcbiAgICAgICAgICAgIGhvc3Q6ICcnLFxuICAgICAgICAgICAgaG9zdG5hbWU6ICcnLFxuICAgICAgICAgICAgaHJlZjogJycsXG4gICAgICAgICAgICBvcmlnaW46ICcnLFxuICAgICAgICAgICAgcGF0aG5hbWU6ICcnLFxuICAgICAgICAgICAgcHJvdG9jb2w6ICcnLFxuICAgICAgICAgICAgc2VhcmNoOiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgaGlzdG9yeToge1xuICAgICAgICAgICAgcmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBwdXNoU3RhdGU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIGdvOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBiYWNrOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIH0sXG4gICAgICAgIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgSW1hZ2U6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgRGF0ZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBzY3JlZW46IHt9LFxuICAgICAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBtYXRjaE1lZGlhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3coKSB7XG4gICAgICAgIHZhciB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuICAgICAgICBleHRlbmQod2luLCBzc3JXaW5kb3cpO1xuICAgICAgICByZXR1cm4gd2luO1xuICAgIH1cblxuICAgIGV4cG9ydHMuZXh0ZW5kID0gZXh0ZW5kO1xuICAgIGV4cG9ydHMuZ2V0RG9jdW1lbnQgPSBnZXREb2N1bWVudDtcbiAgICBleHBvcnRzLmdldFdpbmRvdyA9IGdldFdpbmRvdztcbiAgICBleHBvcnRzLnNzckRvY3VtZW50ID0gc3NyRG9jdW1lbnQ7XG4gICAgZXhwb3J0cy5zc3JXaW5kb3cgPSBzc3JXaW5kb3c7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3NyLXdpbmRvdy51bWQuanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgQTExeSA9IHtcbiAgZ2V0UmFuZG9tTnVtYmVyOiBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXIoc2l6ZSkge1xuICAgIGlmIChzaXplID09PSB2b2lkIDApIHtcbiAgICAgIHNpemUgPSAxNjtcbiAgICB9XG5cbiAgICB2YXIgcmFuZG9tQ2hhciA9IGZ1bmN0aW9uIHJhbmRvbUNoYXIoKSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgxNiAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuICd4Jy5yZXBlYXQoc2l6ZSkucmVwbGFjZSgveC9nLCByYW5kb21DaGFyKTtcbiAgfSxcbiAgbWFrZUVsRm9jdXNhYmxlOiBmdW5jdGlvbiBtYWtlRWxGb2N1c2FibGUoJGVsKSB7XG4gICAgJGVsLmF0dHIoJ3RhYkluZGV4JywgJzAnKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBtYWtlRWxOb3RGb2N1c2FibGU6IGZ1bmN0aW9uIG1ha2VFbE5vdEZvY3VzYWJsZSgkZWwpIHtcbiAgICAkZWwuYXR0cigndGFiSW5kZXgnLCAnLTEnKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbFJvbGU6IGZ1bmN0aW9uIGFkZEVsUm9sZSgkZWwsIHJvbGUpIHtcbiAgICAkZWwuYXR0cigncm9sZScsIHJvbGUpO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGFkZEVsUm9sZURlc2NyaXB0aW9uOiBmdW5jdGlvbiBhZGRFbFJvbGVEZXNjcmlwdGlvbigkZWwsIGRlc2NyaXB0aW9uKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJywgZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGFkZEVsQ29udHJvbHM6IGZ1bmN0aW9uIGFkZEVsQ29udHJvbHMoJGVsLCBjb250cm9scykge1xuICAgICRlbC5hdHRyKCdhcmlhLWNvbnRyb2xzJywgY29udHJvbHMpO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGFkZEVsTGFiZWw6IGZ1bmN0aW9uIGFkZEVsTGFiZWwoJGVsLCBsYWJlbCkge1xuICAgICRlbC5hdHRyKCdhcmlhLWxhYmVsJywgbGFiZWwpO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGFkZEVsSWQ6IGZ1bmN0aW9uIGFkZEVsSWQoJGVsLCBpZCkge1xuICAgICRlbC5hdHRyKCdpZCcsIGlkKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbExpdmU6IGZ1bmN0aW9uIGFkZEVsTGl2ZSgkZWwsIGxpdmUpIHtcbiAgICAkZWwuYXR0cignYXJpYS1saXZlJywgbGl2ZSk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgZGlzYWJsZUVsOiBmdW5jdGlvbiBkaXNhYmxlRWwoJGVsKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBlbmFibGVFbDogZnVuY3Rpb24gZW5hYmxlRWwoJGVsKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgb25FbnRlck9yU3BhY2VLZXk6IGZ1bmN0aW9uIG9uRW50ZXJPclNwYWNlS2V5KGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlICE9PSAxMyAmJiBlLmtleUNvZGUgIT09IDMyKSByZXR1cm47XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcbiAgICB2YXIgJHRhcmdldEVsID0gKDAsIF9kb20uZGVmYXVsdCkoZS50YXJnZXQpO1xuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwgJiYgJHRhcmdldEVsLmlzKHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgIHN3aXBlci5hMTF5Lm5vdGlmeShwYXJhbXMubGFzdFNsaWRlTWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLm5leHRTbGlkZU1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsICYmICR0YXJnZXRFbC5pcyhzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSkge1xuICAgICAgaWYgKCEoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3ApKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLmZpcnN0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5hMTF5Lm5vdGlmeShwYXJhbXMucHJldlNsaWRlTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmICR0YXJnZXRFbC5pcygoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKSkge1xuICAgICAgJHRhcmdldEVsWzBdLmNsaWNrKCk7XG4gICAgfVxuICB9LFxuICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeShtZXNzYWdlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIG5vdGlmaWNhdGlvbiA9IHN3aXBlci5hMTF5LmxpdmVSZWdpb247XG4gICAgaWYgKG5vdGlmaWNhdGlvbi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBub3RpZmljYXRpb24uaHRtbCgnJyk7XG4gICAgbm90aWZpY2F0aW9uLmh0bWwobWVzc2FnZSk7XG4gIH0sXG4gIHVwZGF0ZU5hdmlnYXRpb246IGZ1bmN0aW9uIHVwZGF0ZU5hdmlnYXRpb24oKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCB8fCAhc3dpcGVyLm5hdmlnYXRpb24pIHJldHVybjtcbiAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uID0gc3dpcGVyLm5hdmlnYXRpb24sXG4gICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24uJG5leHRFbCxcbiAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbi4kcHJldkVsO1xuXG4gICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgIHN3aXBlci5hMTF5LmRpc2FibGVFbCgkcHJldkVsKTtcbiAgICAgICAgc3dpcGVyLmExMXkubWFrZUVsTm90Rm9jdXNhYmxlKCRwcmV2RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmExMXkuZW5hYmxlRWwoJHByZXZFbCk7XG4gICAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbEZvY3VzYWJsZSgkcHJldkVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgc3dpcGVyLmExMXkuZGlzYWJsZUVsKCRuZXh0RWwpO1xuICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxOb3RGb2N1c2FibGUoJG5leHRFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuYTExeS5lbmFibGVFbCgkbmV4dEVsKTtcbiAgICAgICAgc3dpcGVyLmExMXkubWFrZUVsRm9jdXNhYmxlKCRuZXh0RWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlUGFnaW5hdGlvbjogZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbigpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5hMTF5O1xuXG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCkge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5lYWNoKGZ1bmN0aW9uIChidWxsZXRFbCkge1xuICAgICAgICB2YXIgJGJ1bGxldEVsID0gKDAsIF9kb20uZGVmYXVsdCkoYnVsbGV0RWwpO1xuICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJGJ1bGxldEVsKTtcblxuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5yZW5kZXJCdWxsZXQpIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoJGJ1bGxldEVsLCAnYnV0dG9uJyk7XG4gICAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkYnVsbGV0RWwsIHBhcmFtcy5wYWdpbmF0aW9uQnVsbGV0TWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8sICRidWxsZXRFbC5pbmRleCgpICsgMSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcbiAgICBzd2lwZXIuJGVsLmFwcGVuZChzd2lwZXIuYTExeS5saXZlUmVnaW9uKTsgLy8gQ29udGFpbmVyXG5cbiAgICB2YXIgJGNvbnRhaW5lckVsID0gc3dpcGVyLiRlbDtcblxuICAgIGlmIChwYXJhbXMuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSkge1xuICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlRGVzY3JpcHRpb24oJGNvbnRhaW5lckVsLCBwYXJhbXMuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jb250YWluZXJNZXNzYWdlKSB7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbExhYmVsKCRjb250YWluZXJFbCwgcGFyYW1zLmNvbnRhaW5lck1lc3NhZ2UpO1xuICAgIH0gLy8gV3JhcHBlclxuXG5cbiAgICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICAgIHZhciB3cmFwcGVySWQgPSAkd3JhcHBlckVsLmF0dHIoJ2lkJykgfHwgXCJzd2lwZXItd3JhcHBlci1cIiArIHN3aXBlci5hMTF5LmdldFJhbmRvbU51bWJlcigxNik7XG4gICAgdmFyIGxpdmUgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5ICYmIHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZW5hYmxlZCA/ICdvZmYnIDogJ3BvbGl0ZSc7XG4gICAgc3dpcGVyLmExMXkuYWRkRWxJZCgkd3JhcHBlckVsLCB3cmFwcGVySWQpO1xuICAgIHN3aXBlci5hMTF5LmFkZEVsTGl2ZSgkd3JhcHBlckVsLCBsaXZlKTsgLy8gU2xpZGVcblxuICAgIGlmIChwYXJhbXMuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgIHN3aXBlci5hMTF5LmFkZEVsUm9sZURlc2NyaXB0aW9uKCgwLCBfZG9tLmRlZmF1bHQpKHN3aXBlci5zbGlkZXMpLCBwYXJhbXMuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHN3aXBlci5hMTF5LmFkZEVsUm9sZSgoMCwgX2RvbS5kZWZhdWx0KShzd2lwZXIuc2xpZGVzKSwgcGFyYW1zLnNsaWRlUm9sZSk7XG4gICAgdmFyIHNsaWRlc0xlbmd0aCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHN3aXBlci5zbGlkZXMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuICFlbC5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKTtcbiAgICB9KS5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBzd2lwZXIuc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwsIGluZGV4KSB7XG4gICAgICB2YXIgJHNsaWRlRWwgPSAoMCwgX2RvbS5kZWZhdWx0KShzbGlkZUVsKTtcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gc3dpcGVyLnBhcmFtcy5sb29wID8gcGFyc2VJbnQoJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApIDogaW5kZXg7XG4gICAgICB2YXIgYXJpYUxhYmVsTWVzc2FnZSA9IHBhcmFtcy5zbGlkZUxhYmVsTWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8sIHNsaWRlSW5kZXggKyAxKS5yZXBsYWNlKC9cXHtcXHtzbGlkZXNMZW5ndGhcXH1cXH0vLCBzbGlkZXNMZW5ndGgpO1xuICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkc2xpZGVFbCwgYXJpYUxhYmVsTWVzc2FnZSk7XG4gICAgfSk7IC8vIE5hdmlnYXRpb25cblxuICAgIHZhciAkbmV4dEVsO1xuICAgIHZhciAkcHJldkVsO1xuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpIHtcbiAgICAgICRuZXh0RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSB7XG4gICAgICAkcHJldkVsID0gc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbDtcbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCkge1xuICAgICAgc3dpcGVyLmExMXkubWFrZUVsRm9jdXNhYmxlKCRuZXh0RWwpO1xuXG4gICAgICBpZiAoJG5leHRFbFswXS50YWdOYW1lICE9PSAnQlVUVE9OJykge1xuICAgICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoJG5leHRFbCwgJ2J1dHRvbicpO1xuICAgICAgICAkbmV4dEVsLm9uKCdrZXlkb3duJywgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuYTExeS5hZGRFbExhYmVsKCRuZXh0RWwsIHBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKTtcbiAgICAgIHN3aXBlci5hMTF5LmFkZEVsQ29udHJvbHMoJG5leHRFbCwgd3JhcHBlcklkKTtcbiAgICB9XG5cbiAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCkge1xuICAgICAgc3dpcGVyLmExMXkubWFrZUVsRm9jdXNhYmxlKCRwcmV2RWwpO1xuXG4gICAgICBpZiAoJHByZXZFbFswXS50YWdOYW1lICE9PSAnQlVUVE9OJykge1xuICAgICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoJHByZXZFbCwgJ2J1dHRvbicpO1xuICAgICAgICAkcHJldkVsLm9uKCdrZXlkb3duJywgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuYTExeS5hZGRFbExhYmVsKCRwcmV2RWwsIHBhcmFtcy5wcmV2U2xpZGVNZXNzYWdlKTtcbiAgICAgIHN3aXBlci5hMTF5LmFkZEVsQ29udHJvbHMoJHByZXZFbCwgd3JhcHBlcklkKTtcbiAgICB9IC8vIFBhZ2luYXRpb25cblxuXG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCkge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uJGVsLm9uKCdrZXlkb3duJywgKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3Rvcikoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSwgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmExMXkubGl2ZVJlZ2lvbiAmJiBzd2lwZXIuYTExeS5saXZlUmVnaW9uLmxlbmd0aCA+IDApIHN3aXBlci5hMTF5LmxpdmVSZWdpb24ucmVtb3ZlKCk7XG4gICAgdmFyICRuZXh0RWw7XG4gICAgdmFyICRwcmV2RWw7XG5cbiAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbCkge1xuICAgICAgJG5leHRFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWw7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwpIHtcbiAgICAgICRwcmV2RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsO1xuICAgIH1cblxuICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAkbmV4dEVsLm9mZigna2V5ZG93bicsIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICB9XG5cbiAgICBpZiAoJHByZXZFbCkge1xuICAgICAgJHByZXZFbC5vZmYoJ2tleWRvd24nLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfSAvLyBQYWdpbmF0aW9uXG5cblxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLiRlbC5vZmYoJ2tleWRvd24nLCAoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnYTExeScsXG4gIHBhcmFtczoge1xuICAgIGExMXk6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBub3RpZmljYXRpb25DbGFzczogJ3N3aXBlci1ub3RpZmljYXRpb24nLFxuICAgICAgcHJldlNsaWRlTWVzc2FnZTogJ1ByZXZpb3VzIHNsaWRlJyxcbiAgICAgIG5leHRTbGlkZU1lc3NhZ2U6ICdOZXh0IHNsaWRlJyxcbiAgICAgIGZpcnN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUnLFxuICAgICAgbGFzdFNsaWRlTWVzc2FnZTogJ1RoaXMgaXMgdGhlIGxhc3Qgc2xpZGUnLFxuICAgICAgcGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2U6ICdHbyB0byBzbGlkZSB7e2luZGV4fX0nLFxuICAgICAgc2xpZGVMYWJlbE1lc3NhZ2U6ICd7e2luZGV4fX0gLyB7e3NsaWRlc0xlbmd0aH19JyxcbiAgICAgIGNvbnRhaW5lck1lc3NhZ2U6IG51bGwsXG4gICAgICBjb250YWluZXJSb2xlRGVzY3JpcHRpb25NZXNzYWdlOiBudWxsLFxuICAgICAgaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6IG51bGwsXG4gICAgICBzbGlkZVJvbGU6ICdncm91cCdcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgYTExeTogX2V4dGVuZHMoe30sIEExMXksIHtcbiAgICAgICAgbGl2ZVJlZ2lvbjogKDAsIF9kb20uZGVmYXVsdCkoXCI8c3BhbiBjbGFzcz1cXFwiXCIgKyBzd2lwZXIucGFyYW1zLmExMXkubm90aWZpY2F0aW9uQ2xhc3MgKyBcIlxcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIj48L3NwYW4+XCIpXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGFmdGVySW5pdDogZnVuY3Rpb24gYWZ0ZXJJbml0KHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmExMXkuaW5pdCgpO1xuICAgICAgc3dpcGVyLmExMXkudXBkYXRlTmF2aWdhdGlvbigpO1xuICAgIH0sXG4gICAgdG9FZGdlOiBmdW5jdGlvbiB0b0VkZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBwYWdpbmF0aW9uVXBkYXRlOiBmdW5jdGlvbiBwYWdpbmF0aW9uVXBkYXRlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmExMXkudXBkYXRlUGFnaW5hdGlvbigpO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5hMTF5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEF1dG9wbGF5ID0ge1xuICBydW46IGZ1bmN0aW9uIHJ1bigpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgJGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgdmFyIGRlbGF5ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcblxuICAgIGlmICgkYWN0aXZlU2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1hdXRvcGxheScpKSB7XG4gICAgICBkZWxheSA9ICRhY3RpdmVTbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLWF1dG9wbGF5JykgfHwgc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQpO1xuICAgIHN3aXBlci5hdXRvcGxheS50aW1lb3V0ID0gKDAsIF91dGlscy5uZXh0VGljaykoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGF1dG9wbGF5UmVzdWx0O1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5yZXZlcnNlRGlyZWN0aW9uKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlUHJldihzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVQcmV2KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCBzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZU5leHQoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheScpO1xuICAgICAgfSBlbHNlIGlmICghc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlTmV4dChzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVRvKDAsIHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHN3aXBlci5hdXRvcGxheS5ydW4oKTtlbHNlIGlmIChhdXRvcGxheVJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgfSxcbiAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSB0cnVlO1xuICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheVN0YXJ0Jyk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5hdXRvcGxheS50aW1lb3V0ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS50aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQpO1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXlTdG9wJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIHBhdXNlOiBmdW5jdGlvbiBwYXVzZShzcGVlZCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkudGltZW91dCkgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS50aW1lb3V0KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gdHJ1ZTtcblxuICAgIGlmIChzcGVlZCA9PT0gMCB8fCAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS53YWl0Rm9yVHJhbnNpdGlvbikge1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBbJ3RyYW5zaXRpb25lbmQnLCAnd2Via2l0VHJhbnNpdGlvbkVuZCddLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvblZpc2liaWxpdHlDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcblxuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2UoKTtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgb25UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci4kd3JhcHBlckVsKSByZXR1cm47XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBzd2lwZXIuJHdyYXBwZXJFbFswXSkgcmV0dXJuO1xuICAgIFsndHJhbnNpdGlvbmVuZCcsICd3ZWJraXRUcmFuc2l0aW9uRW5kJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpO1xuICAgIH0pO1xuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICB9XG4gIH0sXG4gIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZSgpO1xuICAgIH1cblxuICAgIFsndHJhbnNpdGlvbmVuZCcsICd3ZWJraXRUcmFuc2l0aW9uRW5kJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpO1xuICAgIH0pO1xuICB9LFxuICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgfSxcbiAgYXR0YWNoTW91c2VFdmVudHM6IGZ1bmN0aW9uIGF0dGFjaE1vdXNlRXZlbnRzKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucGF1c2VPbk1vdXNlRW50ZXIpIHtcbiAgICAgIHN3aXBlci4kZWwub24oJ21vdXNlZW50ZXInLCBzd2lwZXIuYXV0b3BsYXkub25Nb3VzZUVudGVyKTtcbiAgICAgIHN3aXBlci4kZWwub24oJ21vdXNlbGVhdmUnLCBzd2lwZXIuYXV0b3BsYXkub25Nb3VzZUxlYXZlKTtcbiAgICB9XG4gIH0sXG4gIGRldGFjaE1vdXNlRXZlbnRzOiBmdW5jdGlvbiBkZXRhY2hNb3VzZUV2ZW50cygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuJGVsLm9mZignbW91c2VlbnRlcicsIHN3aXBlci5hdXRvcGxheS5vbk1vdXNlRW50ZXIpO1xuICAgIHN3aXBlci4kZWwub2ZmKCdtb3VzZWxlYXZlJywgc3dpcGVyLmF1dG9wbGF5Lm9uTW91c2VMZWF2ZSk7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdhdXRvcGxheScsXG4gIHBhcmFtczoge1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogdHJ1ZSxcbiAgICAgIHN0b3BPbkxhc3RTbGlkZTogZmFsc2UsXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiBmYWxzZSxcbiAgICAgIHBhdXNlT25Nb3VzZUVudGVyOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBhdXRvcGxheTogX2V4dGVuZHMoe30sIEF1dG9wbGF5LCB7XG4gICAgICAgIHJ1bm5pbmc6IGZhbHNlLFxuICAgICAgICBwYXVzZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5zdGFydCgpO1xuICAgICAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHN3aXBlci5hdXRvcGxheS5vblZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkuYXR0YWNoTW91c2VFdmVudHMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGJlZm9yZVRyYW5zaXRpb25TdGFydDogZnVuY3Rpb24gYmVmb3JlVHJhbnNpdGlvblN0YXJ0KHN3aXBlciwgc3BlZWQsIGludGVybmFsKSB7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgICAgaWYgKGludGVybmFsIHx8ICFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlKHNwZWVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGlkZXJGaXJzdE1vdmU6IGZ1bmN0aW9uIHNsaWRlckZpcnN0TW92ZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHRvdWNoRW5kOiBmdW5jdGlvbiB0b3VjaEVuZChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCAmJiAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LmRldGFjaE1vdXNlRXZlbnRzKCk7XG5cbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBzd2lwZXIuYXV0b3BsYXkub25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIENvbnRyb2xsZXIgPSB7XG4gIExpbmVhclNwbGluZTogZnVuY3Rpb24gTGluZWFyU3BsaW5lKHgsIHkpIHtcbiAgICB2YXIgYmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gc2VhcmNoKCkge1xuICAgICAgdmFyIG1heEluZGV4O1xuICAgICAgdmFyIG1pbkluZGV4O1xuICAgICAgdmFyIGd1ZXNzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcnJheSwgdmFsKSB7XG4gICAgICAgIG1pbkluZGV4ID0gLTE7XG4gICAgICAgIG1heEluZGV4ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChtYXhJbmRleCAtIG1pbkluZGV4ID4gMSkge1xuICAgICAgICAgIGd1ZXNzID0gbWF4SW5kZXggKyBtaW5JbmRleCA+PiAxO1xuXG4gICAgICAgICAgaWYgKGFycmF5W2d1ZXNzXSA8PSB2YWwpIHtcbiAgICAgICAgICAgIG1pbkluZGV4ID0gZ3Vlc3M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heEluZGV4ID0gZ3Vlc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5sYXN0SW5kZXggPSB4Lmxlbmd0aCAtIDE7IC8vIEdpdmVuIGFuIHggdmFsdWUgKHgyKSwgcmV0dXJuIHRoZSBleHBlY3RlZCB5MiB2YWx1ZTpcbiAgICAvLyAoeDEseTEpIGlzIHRoZSBrbm93biBwb2ludCBiZWZvcmUgZ2l2ZW4gdmFsdWUsXG4gICAgLy8gKHgzLHkzKSBpcyB0aGUga25vd24gcG9pbnQgYWZ0ZXIgZ2l2ZW4gdmFsdWUuXG5cbiAgICB2YXIgaTE7XG4gICAgdmFyIGkzO1xuXG4gICAgdGhpcy5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHgyKSB7XG4gICAgICBpZiAoIXgyKSByZXR1cm4gMDsgLy8gR2V0IHRoZSBpbmRleGVzIG9mIHgxIGFuZCB4MyAodGhlIGFycmF5IGluZGV4ZXMgYmVmb3JlIGFuZCBhZnRlciBnaXZlbiB4Mik6XG5cbiAgICAgIGkzID0gYmluYXJ5U2VhcmNoKHRoaXMueCwgeDIpO1xuICAgICAgaTEgPSBpMyAtIDE7IC8vIFdlIGhhdmUgb3VyIGluZGV4ZXMgaTEgJiBpMywgc28gd2UgY2FuIGNhbGN1bGF0ZSBhbHJlYWR5OlxuICAgICAgLy8geTIgOj0gKCh4MuKIkngxKSDDlyAoeTPiiJJ5MSkpIMO3ICh4M+KIkngxKSArIHkxXG5cbiAgICAgIHJldHVybiAoeDIgLSB0aGlzLnhbaTFdKSAqICh0aGlzLnlbaTNdIC0gdGhpcy55W2kxXSkgLyAodGhpcy54W2kzXSAtIHRoaXMueFtpMV0pICsgdGhpcy55W2kxXTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8vIHh4eDogZm9yIG5vdyBpIHdpbGwganVzdCBzYXZlIG9uZSBzcGxpbmUgZnVuY3Rpb24gdG8gdG9cbiAgZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbjogZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbihjKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gc3dpcGVyLnBhcmFtcy5sb29wID8gbmV3IENvbnRyb2xsZXIuTGluZWFyU3BsaW5lKHN3aXBlci5zbGlkZXNHcmlkLCBjLnNsaWRlc0dyaWQpIDogbmV3IENvbnRyb2xsZXIuTGluZWFyU3BsaW5lKHN3aXBlci5zbmFwR3JpZCwgYy5zbmFwR3JpZCk7XG4gICAgfVxuICB9LFxuICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShfc2V0VHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgY29udHJvbGxlZCA9IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2w7XG4gICAgdmFyIG11bHRpcGxpZXI7XG4gICAgdmFyIGNvbnRyb2xsZWRUcmFuc2xhdGU7XG4gICAgdmFyIFN3aXBlciA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcblxuICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoYykge1xuICAgICAgLy8gdGhpcyB3aWxsIGNyZWF0ZSBhbiBJbnRlcnBvbGF0ZSBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgc25hcEdyaWRzXG4gICAgICAvLyB4IGlzIHRoZSBHcmlkIG9mIHRoZSBzY3JvbGxlZCBzY3JvbGxlciBhbmQgeSB3aWxsIGJlIHRoZSBjb250cm9sbGVkIHNjcm9sbGVyXG4gICAgICAvLyBpdCBtYWtlcyBzZW5zZSB0byBjcmVhdGUgdGhpcyBvbmx5IG9uY2UgYW5kIHJlY2FsbCBpdCBmb3IgdGhlIGludGVycG9sYXRpb25cbiAgICAgIC8vIHRoZSBmdW5jdGlvbiBkb2VzIGEgbG90IG9mIHZhbHVlIGNhY2hpbmcgZm9yIHBlcmZvcm1hbmNlXG4gICAgICB2YXIgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ3NsaWRlJykge1xuICAgICAgICBzd2lwZXIuY29udHJvbGxlci5nZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGMpOyAvLyBpIGFtIG5vdCBzdXJlIHdoeSB0aGUgdmFsdWVzIGhhdmUgdG8gYmUgbXVsdGlwbGljYXRlZCB0aGlzIHdheSwgdHJpZWQgdG8gaW52ZXJ0IHRoZSBzbmFwR3JpZFxuICAgICAgICAvLyBidXQgaXQgZGlkIG5vdCB3b3JrIG91dFxuXG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAtc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lLmludGVycG9sYXRlKC10cmFuc2xhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNvbnRyb2xsZWRUcmFuc2xhdGUgfHwgc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmJ5ID09PSAnY29udGFpbmVyJykge1xuICAgICAgICBtdWx0aXBsaWVyID0gKGMubWF4VHJhbnNsYXRlKCkgLSBjLm1pblRyYW5zbGF0ZSgpKSAvIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpO1xuICAgICAgICBjb250cm9sbGVkVHJhbnNsYXRlID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgKiBtdWx0aXBsaWVyICsgYy5taW5UcmFuc2xhdGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5pbnZlcnNlKSB7XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSBjLm1heFRyYW5zbGF0ZSgpIC0gY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICAgIH1cblxuICAgICAgYy51cGRhdGVQcm9ncmVzcyhjb250cm9sbGVkVHJhbnNsYXRlKTtcbiAgICAgIGMuc2V0VHJhbnNsYXRlKGNvbnRyb2xsZWRUcmFuc2xhdGUsIHN3aXBlcik7XG4gICAgICBjLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBjLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250cm9sbGVkKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250cm9sbGVkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChjb250cm9sbGVkW2ldICE9PSBieUNvbnRyb2xsZXIgJiYgY29udHJvbGxlZFtpXSBpbnN0YW5jZW9mIFN3aXBlcikge1xuICAgICAgICAgIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoY29udHJvbGxlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZWQgaW5zdGFuY2VvZiBTd2lwZXIgJiYgYnlDb250cm9sbGVyICE9PSBjb250cm9sbGVkKSB7XG4gICAgICBzZXRDb250cm9sbGVkVHJhbnNsYXRlKGNvbnRyb2xsZWQpO1xuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIFN3aXBlciA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgY29udHJvbGxlZCA9IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2w7XG4gICAgdmFyIGk7XG5cbiAgICBmdW5jdGlvbiBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjKSB7XG4gICAgICBjLnNldFRyYW5zaXRpb24oZHVyYXRpb24sIHN3aXBlcik7XG5cbiAgICAgIGlmIChkdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICBjLnRyYW5zaXRpb25TdGFydCgpO1xuXG4gICAgICAgIGlmIChjLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgKDAsIF91dGlscy5uZXh0VGljaykoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYy51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjLiR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFjb250cm9sbGVkKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoYy5wYXJhbXMubG9vcCAmJiBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuYnkgPT09ICdzbGlkZScpIHtcbiAgICAgICAgICAgIGMubG9vcEZpeCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGMudHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250cm9sbGVkKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oY29udHJvbGxlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZWQgaW5zdGFuY2VvZiBTd2lwZXIgJiYgYnlDb250cm9sbGVyICE9PSBjb250cm9sbGVkKSB7XG4gICAgICBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjb250cm9sbGVkKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdjb250cm9sbGVyJyxcbiAgcGFyYW1zOiB7XG4gICAgY29udHJvbGxlcjoge1xuICAgICAgY29udHJvbDogdW5kZWZpbmVkLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICBieTogJ3NsaWRlJyAvLyBvciAnY29udGFpbmVyJ1xuXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGNvbnRyb2xsZXI6IF9leHRlbmRzKHtcbiAgICAgICAgY29udHJvbDogc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2xcbiAgICAgIH0sIENvbnRyb2xsZXIpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcblxuICAgICAgaWYgKHN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgICBzd2lwZXIuY29udHJvbGxlci5zcGxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuXG4gICAgICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lKSB7XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVsZXRlIHN3aXBlci5jb250cm9sbGVyLnNwbGluZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9ic2VydmVyVXBkYXRlOiBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuXG4gICAgICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lKSB7XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVsZXRlIHN3aXBlci5jb250cm9sbGVyLnNwbGluZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlciwgdHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLnNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcik7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRCcmVha3BvaW50O1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG5mdW5jdGlvbiBnZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBiYXNlLCBjb250YWluZXJFbCkge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9ICd3aW5kb3cnO1xuICB9XG5cbiAgaWYgKCFicmVha3BvaW50cyB8fCBiYXNlID09PSAnY29udGFpbmVyJyAmJiAhY29udGFpbmVyRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gIHZhciBicmVha3BvaW50ID0gZmFsc2U7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBjdXJyZW50SGVpZ2h0ID0gYmFzZSA9PT0gJ3dpbmRvdycgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXJFbC5jbGllbnRIZWlnaHQ7XG4gIHZhciBwb2ludHMgPSBPYmplY3Qua2V5cyhicmVha3BvaW50cykubWFwKGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGlmICh0eXBlb2YgcG9pbnQgPT09ICdzdHJpbmcnICYmIHBvaW50LmluZGV4T2YoJ0AnKSA9PT0gMCkge1xuICAgICAgdmFyIG1pblJhdGlvID0gcGFyc2VGbG9hdChwb2ludC5zdWJzdHIoMSkpO1xuICAgICAgdmFyIHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBwb2ludDogcG9pbnRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwb2ludCxcbiAgICAgIHBvaW50OiBwb2ludFxuICAgIH07XG4gIH0pO1xuICBwb2ludHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBwYXJzZUludChhLnZhbHVlLCAxMCkgLSBwYXJzZUludChiLnZhbHVlLCAxMCk7XG4gIH0pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIF9wb2ludHMkaSA9IHBvaW50c1tpXSxcbiAgICAgICAgcG9pbnQgPSBfcG9pbnRzJGkucG9pbnQsXG4gICAgICAgIHZhbHVlID0gX3BvaW50cyRpLnZhbHVlO1xuXG4gICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiBcIiArIHZhbHVlICsgXCJweClcIikubWF0Y2hlcykge1xuICAgICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8PSBjb250YWluZXJFbC5jbGllbnRXaWR0aCkge1xuICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBicmVha3BvaW50IHx8ICdtYXgnO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NldEJyZWFrcG9pbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NldEJyZWFrcG9pbnRcIikpO1xuXG52YXIgX2dldEJyZWFrcG9pbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2dldEJyZWFrcG9pbnRcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIHNldEJyZWFrcG9pbnQ6IF9zZXRCcmVha3BvaW50LmRlZmF1bHQsXG4gIGdldEJyZWFrcG9pbnQ6IF9nZXRCcmVha3BvaW50LmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldEJyZWFrcG9pbnQ7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIHNldEJyZWFrcG9pbnQoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICBpbml0aWFsaXplZCA9IHN3aXBlci5pbml0aWFsaXplZCxcbiAgICAgIF9zd2lwZXIkbG9vcGVkU2xpZGVzID0gc3dpcGVyLmxvb3BlZFNsaWRlcyxcbiAgICAgIGxvb3BlZFNsaWRlcyA9IF9zd2lwZXIkbG9vcGVkU2xpZGVzID09PSB2b2lkIDAgPyAwIDogX3N3aXBlciRsb29wZWRTbGlkZXMsXG4gICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgJGVsID0gc3dpcGVyLiRlbDtcbiAgdmFyIGJyZWFrcG9pbnRzID0gcGFyYW1zLmJyZWFrcG9pbnRzO1xuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJyZWFrcG9pbnRzICYmIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5sZW5ndGggPT09IDApIHJldHVybjsgLy8gR2V0IGJyZWFrcG9pbnQgZm9yIHdpbmRvdyB3aWR0aCBhbmQgdXBkYXRlIHBhcmFtZXRlcnNcblxuICB2YXIgYnJlYWtwb2ludCA9IHN3aXBlci5nZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzQmFzZSwgc3dpcGVyLmVsKTtcbiAgaWYgKCFicmVha3BvaW50IHx8IHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkgcmV0dXJuO1xuICB2YXIgYnJlYWtwb2ludE9ubHlQYXJhbXMgPSBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzID8gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0gOiB1bmRlZmluZWQ7XG5cbiAgaWYgKGJyZWFrcG9pbnRPbmx5UGFyYW1zKSB7XG4gICAgWydzbGlkZXNQZXJWaWV3JywgJ3NwYWNlQmV0d2VlbicsICdzbGlkZXNQZXJHcm91cCcsICdzbGlkZXNQZXJHcm91cFNraXAnLCAnc2xpZGVzUGVyQ29sdW1uJ10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHZhciBwYXJhbVZhbHVlID0gYnJlYWtwb2ludE9ubHlQYXJhbXNbcGFyYW1dO1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbVZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgICBpZiAocGFyYW0gPT09ICdzbGlkZXNQZXJWaWV3JyAmJiAocGFyYW1WYWx1ZSA9PT0gJ0FVVE8nIHx8IHBhcmFtVmFsdWUgPT09ICdhdXRvJykpIHtcbiAgICAgICAgYnJlYWtwb2ludE9ubHlQYXJhbXNbcGFyYW1dID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbSA9PT0gJ3NsaWRlc1BlclZpZXcnKSB7XG4gICAgICAgIGJyZWFrcG9pbnRPbmx5UGFyYW1zW3BhcmFtXSA9IHBhcnNlRmxvYXQocGFyYW1WYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha3BvaW50T25seVBhcmFtc1twYXJhbV0gPSBwYXJzZUludChwYXJhbVZhbHVlLCAxMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYnJlYWtwb2ludFBhcmFtcyA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zIHx8IHN3aXBlci5vcmlnaW5hbFBhcmFtcztcbiAgdmFyIHdhc011bHRpUm93ID0gcGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDE7XG4gIHZhciBpc011bHRpUm93ID0gYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxO1xuICB2YXIgd2FzRW5hYmxlZCA9IHBhcmFtcy5lbmFibGVkO1xuXG4gIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwibXVsdGlyb3cgXCIgKyBwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwibXVsdGlyb3ctY29sdW1uXCIpO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9IGVsc2UgaWYgKCF3YXNNdWx0aVJvdyAmJiBpc011bHRpUm93KSB7XG4gICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJtdWx0aXJvd1wiKTtcblxuICAgIGlmIChicmVha3BvaW50UGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgJiYgYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAnY29sdW1uJyB8fCAhYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsICYmIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAnY29sdW1uJykge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJtdWx0aXJvdy1jb2x1bW5cIik7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH1cblxuICB2YXIgZGlyZWN0aW9uQ2hhbmdlZCA9IGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICYmIGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICE9PSBwYXJhbXMuZGlyZWN0aW9uO1xuICB2YXIgbmVlZHNSZUxvb3AgPSBwYXJhbXMubG9vcCAmJiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSBwYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBkaXJlY3Rpb25DaGFuZ2VkKTtcblxuICBpZiAoZGlyZWN0aW9uQ2hhbmdlZCAmJiBpbml0aWFsaXplZCkge1xuICAgIHN3aXBlci5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgfVxuXG4gICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIucGFyYW1zLCBicmVha3BvaW50UGFyYW1zKTtcbiAgdmFyIGlzRW5hYmxlZCA9IHN3aXBlci5wYXJhbXMuZW5hYmxlZDtcbiAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgIGFsbG93U2xpZGVQcmV2OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVQcmV2XG4gIH0pO1xuXG4gIGlmICh3YXNFbmFibGVkICYmICFpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZGlzYWJsZSgpO1xuICB9IGVsc2UgaWYgKCF3YXNFbmFibGVkICYmIGlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5lbmFibGUoKTtcbiAgfVxuXG4gIHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9IGJyZWFrcG9pbnQ7XG4gIHN3aXBlci5lbWl0KCdfYmVmb3JlQnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xuXG4gIGlmIChuZWVkc1JlTG9vcCAmJiBpbml0aWFsaXplZCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4IC0gbG9vcGVkU2xpZGVzICsgc3dpcGVyLmxvb3BlZFNsaWRlcywgMCwgZmFsc2UpO1xuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ2JyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICB2YXIgd2FzTG9ja2VkID0gc3dpcGVyLmlzTG9ja2VkO1xuICB2YXIgbGFzdFNsaWRlUG9zaXRpb24gPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCA+IDAgJiYgcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSArIHBhcmFtcy5zcGFjZUJldHdlZW4gKiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxKSArIHN3aXBlci5zbGlkZXNbMF0ub2Zmc2V0V2lkdGggKiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcblxuICBpZiAocGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSAmJiBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIgJiYgbGFzdFNsaWRlUG9zaXRpb24pIHtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBsYXN0U2xpZGVQb3NpdGlvbiA8PSBzd2lwZXIuc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoID09PSAxO1xuICB9XG5cbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gIXN3aXBlci5pc0xvY2tlZDtcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gIXN3aXBlci5pc0xvY2tlZDsgLy8gZXZlbnRzXG5cbiAgaWYgKHdhc0xvY2tlZCAhPT0gc3dpcGVyLmlzTG9ja2VkKSBzd2lwZXIuZW1pdChzd2lwZXIuaXNMb2NrZWQgPyAnbG9jaycgOiAndW5sb2NrJyk7XG5cbiAgaWYgKHdhc0xvY2tlZCAmJiB3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5pc0VuZCA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbikgc3dpcGVyLm5hdmlnYXRpb24udXBkYXRlKCk7XG4gIH1cbn1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBjaGVja092ZXJmbG93OiBjaGVja092ZXJmbG93XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRDbGFzc2VzO1xuXG5mdW5jdGlvbiBwcmVwYXJlQ2xhc3NlcyhlbnRyaWVzLCBwcmVmaXgpIHtcbiAgdmFyIHJlc3VsdENsYXNzZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lcykge1xuICAgICAgICBpZiAoaXRlbVtjbGFzc05hbWVzXSkge1xuICAgICAgICAgIHJlc3VsdENsYXNzZXMucHVzaChwcmVmaXggKyBjbGFzc05hbWVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJlc3VsdENsYXNzZXMucHVzaChwcmVmaXggKyBpdGVtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0Q2xhc3Nlcztcbn1cblxuZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBjbGFzc05hbWVzID0gc3dpcGVyLmNsYXNzTmFtZXMsXG4gICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bCxcbiAgICAgICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlLFxuICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0OyAvLyBwcmV0dGllci1pZ25vcmVcblxuICB2YXIgc3VmZml4ZXMgPSBwcmVwYXJlQ2xhc3NlcyhbJ2luaXRpYWxpemVkJywgcGFyYW1zLmRpcmVjdGlvbiwge1xuICAgICdwb2ludGVyLWV2ZW50cyc6IHN1cHBvcnQucG9pbnRlckV2ZW50cyAmJiAhc3VwcG9ydC50b3VjaFxuICB9LCB7XG4gICAgJ2ZyZWUtbW9kZSc6IHBhcmFtcy5mcmVlTW9kZVxuICB9LCB7XG4gICAgJ2F1dG9oZWlnaHQnOiBwYXJhbXMuYXV0b0hlaWdodFxuICB9LCB7XG4gICAgJ3J0bCc6IHJ0bFxuICB9LCB7XG4gICAgJ211bHRpcm93JzogcGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDFcbiAgfSwge1xuICAgICdtdWx0aXJvdy1jb2x1bW4nOiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMSAmJiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ2NvbHVtbidcbiAgfSwge1xuICAgICdhbmRyb2lkJzogZGV2aWNlLmFuZHJvaWRcbiAgfSwge1xuICAgICdpb3MnOiBkZXZpY2UuaW9zXG4gIH0sIHtcbiAgICAnY3NzLW1vZGUnOiBwYXJhbXMuY3NzTW9kZVxuICB9XSwgcGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpO1xuICBjbGFzc05hbWVzLnB1c2guYXBwbHkoY2xhc3NOYW1lcywgc3VmZml4ZXMpO1xuICAkZWwuYWRkQ2xhc3MoW10uY29uY2F0KGNsYXNzTmFtZXMpLmpvaW4oJyAnKSk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FkZENsYXNzZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2FkZENsYXNzZXNcIikpO1xuXG52YXIgX3JlbW92ZUNsYXNzZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JlbW92ZUNsYXNzZXNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIGFkZENsYXNzZXM6IF9hZGRDbGFzc2VzLmRlZmF1bHQsXG4gIHJlbW92ZUNsYXNzZXM6IF9yZW1vdmVDbGFzc2VzLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJlbW92ZUNsYXNzZXM7XG5cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgJGVsID0gc3dpcGVyLiRlbCxcbiAgICAgIGNsYXNzTmFtZXMgPSBzd2lwZXIuY2xhc3NOYW1lcztcbiAgJGVsLnJlbW92ZUNsYXNzKGNsYXNzTmFtZXMuam9pbignICcpKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxudmFyIF9nZXRTdXBwb3J0ID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2dldC1zdXBwb3J0XCIpO1xuXG52YXIgX2dldERldmljZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9nZXQtZGV2aWNlXCIpO1xuXG52YXIgX2dldEJyb3dzZXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZ2V0LWJyb3dzZXJcIik7XG5cbnZhciBfcmVzaXplID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vbW9kdWxlcy9yZXNpemUvcmVzaXplXCIpKTtcblxudmFyIF9vYnNlcnZlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL21vZHVsZXMvb2JzZXJ2ZXIvb2JzZXJ2ZXJcIikpO1xuXG52YXIgX21vZHVsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL21vZHVsYXJcIikpO1xuXG52YXIgX2V2ZW50c0VtaXR0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2V2ZW50cy1lbWl0dGVyXCIpKTtcblxudmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zbGF0ZS9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2l0aW9uL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NsaWRlL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2xvb3AvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZ3JhYi1jdXJzb3IvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4NyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbWFuaXB1bGF0aW9uL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2V2ZW50cy9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXg5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9icmVha3BvaW50cy9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXgxMCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2xhc3Nlcy9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXgxMSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaW1hZ2VzL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9jaGVjay1vdmVyZmxvdy9pbmRleFwiKSk7XG5cbnZhciBfZGVmYXVsdHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2RlZmF1bHRzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgcHJvdG90eXBlcyA9IHtcbiAgbW9kdWxhcjogX21vZHVsYXIuZGVmYXVsdCxcbiAgZXZlbnRzRW1pdHRlcjogX2V2ZW50c0VtaXR0ZXIuZGVmYXVsdCxcbiAgdXBkYXRlOiBfaW5kZXguZGVmYXVsdCxcbiAgdHJhbnNsYXRlOiBfaW5kZXgyLmRlZmF1bHQsXG4gIHRyYW5zaXRpb246IF9pbmRleDMuZGVmYXVsdCxcbiAgc2xpZGU6IF9pbmRleDQuZGVmYXVsdCxcbiAgbG9vcDogX2luZGV4NS5kZWZhdWx0LFxuICBncmFiQ3Vyc29yOiBfaW5kZXg2LmRlZmF1bHQsXG4gIG1hbmlwdWxhdGlvbjogX2luZGV4Ny5kZWZhdWx0LFxuICBldmVudHM6IF9pbmRleDguZGVmYXVsdCxcbiAgYnJlYWtwb2ludHM6IF9pbmRleDkuZGVmYXVsdCxcbiAgY2hlY2tPdmVyZmxvdzogX2luZGV4MTIuZGVmYXVsdCxcbiAgY2xhc3NlczogX2luZGV4MTAuZGVmYXVsdCxcbiAgaW1hZ2VzOiBfaW5kZXgxMS5kZWZhdWx0XG59O1xudmFyIGV4dGVuZGVkRGVmYXVsdHMgPSB7fTtcblxudmFyIFN3aXBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN3aXBlcigpIHtcbiAgICB2YXIgZWw7XG4gICAgdmFyIHBhcmFtcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXS5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnc1swXSkuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jykge1xuICAgICAgcGFyYW1zID0gYXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwgPSBhcmdzWzBdO1xuICAgICAgcGFyYW1zID0gYXJnc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgcGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBwYXJhbXMpO1xuICAgIGlmIChlbCAmJiAhcGFyYW1zLmVsKSBwYXJhbXMuZWwgPSBlbDtcblxuICAgIGlmIChwYXJhbXMuZWwgJiYgKDAsIF9kb20uZGVmYXVsdCkocGFyYW1zLmVsKS5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgc3dpcGVycyA9IFtdO1xuICAgICAgKDAsIF9kb20uZGVmYXVsdCkocGFyYW1zLmVsKS5lYWNoKGZ1bmN0aW9uIChjb250YWluZXJFbCkge1xuICAgICAgICB2YXIgbmV3UGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgICBlbDogY29udGFpbmVyRWxcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlcnMucHVzaChuZXcgU3dpcGVyKG5ld1BhcmFtcykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3dpcGVycztcbiAgICB9IC8vIFN3aXBlciBJbnN0YW5jZVxuXG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuX19zd2lwZXJfXyA9IHRydWU7XG4gICAgc3dpcGVyLnN1cHBvcnQgPSAoMCwgX2dldFN1cHBvcnQuZ2V0U3VwcG9ydCkoKTtcbiAgICBzd2lwZXIuZGV2aWNlID0gKDAsIF9nZXREZXZpY2UuZ2V0RGV2aWNlKSh7XG4gICAgICB1c2VyQWdlbnQ6IHBhcmFtcy51c2VyQWdlbnRcbiAgICB9KTtcbiAgICBzd2lwZXIuYnJvd3NlciA9ICgwLCBfZ2V0QnJvd3Nlci5nZXRCcm93c2VyKSgpO1xuICAgIHN3aXBlci5ldmVudHNMaXN0ZW5lcnMgPSB7fTtcbiAgICBzd2lwZXIuZXZlbnRzQW55TGlzdGVuZXJzID0gW107XG5cbiAgICBpZiAodHlwZW9mIHN3aXBlci5tb2R1bGVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3dpcGVyLm1vZHVsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhzd2lwZXIubW9kdWxlcykuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlTmFtZSkge1xuICAgICAgdmFyIG1vZHVsZSA9IHN3aXBlci5tb2R1bGVzW21vZHVsZU5hbWVdO1xuXG4gICAgICBpZiAobW9kdWxlLnBhcmFtcykge1xuICAgICAgICB2YXIgbW9kdWxlUGFyYW1OYW1lID0gT2JqZWN0LmtleXMobW9kdWxlLnBhcmFtcylbMF07XG4gICAgICAgIHZhciBtb2R1bGVQYXJhbXMgPSBtb2R1bGUucGFyYW1zW21vZHVsZVBhcmFtTmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgbW9kdWxlUGFyYW1zICE9PSAnb2JqZWN0JyB8fCBtb2R1bGVQYXJhbXMgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICBpZiAoWyduYXZpZ2F0aW9uJywgJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uaW5kZXhPZihtb2R1bGVQYXJhbU5hbWUpID49IDAgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEobW9kdWxlUGFyYW1OYW1lIGluIHBhcmFtcyAmJiAnZW5hYmxlZCcgaW4gbW9kdWxlUGFyYW1zKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSAnb2JqZWN0JyAmJiAhKCdlbmFibGVkJyBpbiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkpIHtcbiAgICAgICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7IC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIG1vZHVsZXMgcGFyYW1zXG5cbiAgICB2YXIgc3dpcGVyUGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBfZGVmYXVsdHMuZGVmYXVsdCk7XG4gICAgc3dpcGVyLnVzZVBhcmFtcyhzd2lwZXJQYXJhbXMpOyAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBwYXNzZWQgcGFyYW1zXG5cbiAgICBzd2lwZXIucGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBzd2lwZXJQYXJhbXMsIGV4dGVuZGVkRGVmYXVsdHMsIHBhcmFtcyk7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBzd2lwZXIucGFyYW1zKTtcbiAgICBzd2lwZXIucGFzc2VkUGFyYW1zID0gKDAsIF91dGlscy5leHRlbmQpKHt9LCBwYXJhbXMpOyAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhzd2lwZXIucGFyYW1zLm9uKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgc3dpcGVyLm9uKGV2ZW50TmFtZSwgc3dpcGVyLnBhcmFtcy5vbltldmVudE5hbWVdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub25BbnkpIHtcbiAgICAgIHN3aXBlci5vbkFueShzd2lwZXIucGFyYW1zLm9uQW55KTtcbiAgICB9IC8vIFNhdmUgRG9tIGxpYlxuXG5cbiAgICBzd2lwZXIuJCA9IF9kb20uZGVmYXVsdDsgLy8gRXh0ZW5kIFN3aXBlclxuXG4gICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgICAgZW5hYmxlZDogc3dpcGVyLnBhcmFtcy5lbmFibGVkLFxuICAgICAgZWw6IGVsLFxuICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lczogW10sXG4gICAgICAvLyBTbGlkZXNcbiAgICAgIHNsaWRlczogKDAsIF9kb20uZGVmYXVsdCkoKSxcbiAgICAgIHNsaWRlc0dyaWQ6IFtdLFxuICAgICAgc25hcEdyaWQ6IFtdLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkOiBbXSxcbiAgICAgIC8vIGlzRGlyZWN0aW9uXG4gICAgICBpc0hvcml6b250YWw6IGZ1bmN0aW9uIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gICAgICB9LFxuICAgICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgfSxcbiAgICAgIC8vIEluZGV4ZXNcbiAgICAgIGFjdGl2ZUluZGV4OiAwLFxuICAgICAgcmVhbEluZGV4OiAwLFxuICAgICAgLy9cbiAgICAgIGlzQmVnaW5uaW5nOiB0cnVlLFxuICAgICAgaXNFbmQ6IGZhbHNlLFxuICAgICAgLy8gUHJvcHNcbiAgICAgIHRyYW5zbGF0ZTogMCxcbiAgICAgIHByZXZpb3VzVHJhbnNsYXRlOiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB2ZWxvY2l0eTogMCxcbiAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICAvLyBMb2Nrc1xuICAgICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldixcbiAgICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgICAgdG91Y2hFdmVudHM6IGZ1bmN0aW9uIHRvdWNoRXZlbnRzKCkge1xuICAgICAgICB2YXIgdG91Y2ggPSBbJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJ107XG4gICAgICAgIHZhciBkZXNrdG9wID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnXTtcblxuICAgICAgICBpZiAoc3dpcGVyLnN1cHBvcnQucG9pbnRlckV2ZW50cykge1xuICAgICAgICAgIGRlc2t0b3AgPSBbJ3BvaW50ZXJkb3duJywgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCddO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzVG91Y2ggPSB7XG4gICAgICAgICAgc3RhcnQ6IHRvdWNoWzBdLFxuICAgICAgICAgIG1vdmU6IHRvdWNoWzFdLFxuICAgICAgICAgIGVuZDogdG91Y2hbMl0sXG4gICAgICAgICAgY2FuY2VsOiB0b3VjaFszXVxuICAgICAgICB9O1xuICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wID0ge1xuICAgICAgICAgIHN0YXJ0OiBkZXNrdG9wWzBdLFxuICAgICAgICAgIG1vdmU6IGRlc2t0b3BbMV0sXG4gICAgICAgICAgZW5kOiBkZXNrdG9wWzJdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzd2lwZXIuc3VwcG9ydC50b3VjaCB8fCAhc3dpcGVyLnBhcmFtcy5zaW11bGF0ZVRvdWNoID8gc3dpcGVyLnRvdWNoRXZlbnRzVG91Y2ggOiBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wO1xuICAgICAgfSgpLFxuICAgICAgdG91Y2hFdmVudHNEYXRhOiB7XG4gICAgICAgIGlzVG91Y2hlZDogdW5kZWZpbmVkLFxuICAgICAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHVuZGVmaW5lZCxcbiAgICAgICAgdG91Y2hTdGFydFRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgY3VycmVudFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RocmVzaG9sZE1vdmU6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gRm9ybSBlbGVtZW50cyB0byBtYXRjaFxuICAgICAgICBmb2N1c2FibGVFbGVtZW50czogc3dpcGVyLnBhcmFtcy5mb2N1c2FibGVFbGVtZW50cyxcbiAgICAgICAgLy8gTGFzdCBjbGljayB0aW1lXG4gICAgICAgIGxhc3RDbGlja1RpbWU6ICgwLCBfdXRpbHMubm93KSgpLFxuICAgICAgICBjbGlja1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gVmVsb2NpdGllc1xuICAgICAgICB2ZWxvY2l0aWVzOiBbXSxcbiAgICAgICAgYWxsb3dNb21lbnR1bUJvdW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBpc1RvdWNoRXZlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICAgICAgfSxcbiAgICAgIC8vIENsaWNrc1xuICAgICAgYWxsb3dDbGljazogdHJ1ZSxcbiAgICAgIC8vIFRvdWNoZXNcbiAgICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgICAgdG91Y2hlczoge1xuICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgIHN0YXJ0WTogMCxcbiAgICAgICAgY3VycmVudFg6IDAsXG4gICAgICAgIGN1cnJlbnRZOiAwLFxuICAgICAgICBkaWZmOiAwXG4gICAgICB9LFxuICAgICAgLy8gSW1hZ2VzXG4gICAgICBpbWFnZXNUb0xvYWQ6IFtdLFxuICAgICAgaW1hZ2VzTG9hZGVkOiAwXG4gICAgfSk7IC8vIEluc3RhbGwgTW9kdWxlc1xuXG4gICAgc3dpcGVyLnVzZU1vZHVsZXMoKTtcbiAgICBzd2lwZXIuZW1pdCgnX3N3aXBlcicpOyAvLyBJbml0XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5pbml0KSB7XG4gICAgICBzd2lwZXIuaW5pdCgpO1xuICAgIH0gLy8gUmV0dXJuIGFwcCBpbnN0YW5jZVxuXG5cbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN3aXBlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IHRydWU7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdlbmFibGUnKTtcbiAgfTtcblxuICBfcHJvdG8uZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gZmFsc2U7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIudW5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ2Rpc2FibGUnKTtcbiAgfTtcblxuICBfcHJvdG8uc2V0UHJvZ3Jlc3MgPSBmdW5jdGlvbiBzZXRQcm9ncmVzcyhwcm9ncmVzcywgc3BlZWQpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSk7XG4gICAgdmFyIG1pbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICB2YXIgbWF4ID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgIHZhciBjdXJyZW50ID0gKG1heCAtIG1pbikgKiBwcm9ncmVzcyArIG1pbjtcbiAgICBzd2lwZXIudHJhbnNsYXRlVG8oY3VycmVudCwgdHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJyA/IDAgOiBzcGVlZCk7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfTtcblxuICBfcHJvdG8uZW1pdENvbnRhaW5lckNsYXNzZXMgPSBmdW5jdGlvbiBlbWl0Q29udGFpbmVyQ2xhc3NlcygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICB2YXIgY2xhc3NlcyA9IHN3aXBlci5lbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXItY29udGFpbmVyJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSA9PT0gMDtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX2NvbnRhaW5lckNsYXNzZXMnLCBjbGFzc2VzLmpvaW4oJyAnKSk7XG4gIH07XG5cbiAgX3Byb3RvLmdldFNsaWRlQ2xhc3NlcyA9IGZ1bmN0aW9uIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgcmV0dXJuIHNsaWRlRWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLXNsaWRlJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKSA9PT0gMDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH07XG5cbiAgX3Byb3RvLmVtaXRTbGlkZXNDbGFzc2VzID0gZnVuY3Rpb24gZW1pdFNsaWRlc0NsYXNzZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgdmFyIHVwZGF0ZXMgPSBbXTtcbiAgICBzd2lwZXIuc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwpIHtcbiAgICAgIHZhciBjbGFzc05hbWVzID0gc3dpcGVyLmdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKTtcbiAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgIHNsaWRlRWw6IHNsaWRlRWwsXG4gICAgICAgIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXNcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzJywgc2xpZGVFbCwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzZXMnLCB1cGRhdGVzKTtcbiAgfTtcblxuICBfcHJvdG8uc2xpZGVzUGVyVmlld0R5bmFtaWMgPSBmdW5jdGlvbiBzbGlkZXNQZXJWaWV3RHluYW1pYygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgICBzd2lwZXJTaXplID0gc3dpcGVyLnNpemUsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgIHZhciBzcHYgPSAxO1xuXG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgdmFyIHNsaWRlU2l6ZSA9IHNsaWRlc1thY3RpdmVJbmRleF0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgdmFyIGJyZWFrTG9vcDtcblxuICAgICAgZm9yICh2YXIgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaSA9IGFjdGl2ZUluZGV4IC0gMTsgX2kgPj0gMDsgX2kgLT0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW19pXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tfaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIF9pMiA9IGFjdGl2ZUluZGV4ICsgMTsgX2kyIDwgc2xpZGVzLmxlbmd0aDsgX2kyICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc0dyaWRbX2kyXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwdjtcbiAgfTtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICB2YXIgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7IC8vIEJyZWFrcG9pbnRzXG5cbiAgICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgIH1cblxuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG5cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSAqIC0xIDogc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIHZhciBuZXdUcmFuc2xhdGUgPSBNYXRoLm1pbihNYXRoLm1heCh0cmFuc2xhdGVWYWx1ZSwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNsYXRlZDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgICBzZXRUcmFuc2xhdGUoKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdHJhbnNsYXRlZCkge1xuICAgICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgndXBkYXRlJyk7XG4gIH07XG5cbiAgX3Byb3RvLmNoYW5nZURpcmVjdGlvbiA9IGZ1bmN0aW9uIGNoYW5nZURpcmVjdGlvbihuZXdEaXJlY3Rpb24sIG5lZWRVcGRhdGUpIHtcbiAgICBpZiAobmVlZFVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgY3VycmVudERpcmVjdGlvbiA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uO1xuXG4gICAgaWYgKCFuZXdEaXJlY3Rpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICB9XG5cbiAgICBpZiAobmV3RGlyZWN0aW9uID09PSBjdXJyZW50RGlyZWN0aW9uIHx8IG5ld0RpcmVjdGlvbiAhPT0gJ2hvcml6b250YWwnICYmIG5ld0RpcmVjdGlvbiAhPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgcmV0dXJuIHN3aXBlcjtcbiAgICB9XG5cbiAgICBzd2lwZXIuJGVsLnJlbW92ZUNsYXNzKFwiXCIgKyBzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBjdXJyZW50RGlyZWN0aW9uKS5hZGRDbGFzcyhcIlwiICsgc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgbmV3RGlyZWN0aW9uKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9IG5ld0RpcmVjdGlvbjtcbiAgICBzd2lwZXIuc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwpIHtcbiAgICAgIGlmIChuZXdEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnY2hhbmdlRGlyZWN0aW9uJyk7XG4gICAgaWYgKG5lZWRVcGRhdGUpIHN3aXBlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9O1xuXG4gIF9wcm90by5tb3VudCA9IGZ1bmN0aW9uIG1vdW50KGVsKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5tb3VudGVkKSByZXR1cm4gdHJ1ZTsgLy8gRmluZCBlbFxuXG4gICAgdmFyICRlbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGVsIHx8IHN3aXBlci5wYXJhbXMuZWwpO1xuICAgIGVsID0gJGVsWzBdO1xuXG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGVsLnN3aXBlciA9IHN3aXBlcjtcblxuICAgIHZhciBnZXRXcmFwcGVyU2VsZWN0b3IgPSBmdW5jdGlvbiBnZXRXcmFwcGVyU2VsZWN0b3IoKSB7XG4gICAgICByZXR1cm4gXCIuXCIgKyAoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFdyYXBwZXIgPSBmdW5jdGlvbiBnZXRXcmFwcGVyKCkge1xuICAgICAgaWYgKGVsICYmIGVsLnNoYWRvd1Jvb3QgJiYgZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIHZhciByZXMgPSAoMCwgX2RvbS5kZWZhdWx0KShlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoZ2V0V3JhcHBlclNlbGVjdG9yKCkpKTsgLy8gQ2hpbGRyZW4gbmVlZHMgdG8gcmV0dXJuIHNsb3QgaXRlbXNcblxuICAgICAgICByZXMuY2hpbGRyZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiAkZWwuY2hpbGRyZW4ob3B0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRlbC5jaGlsZHJlbihnZXRXcmFwcGVyU2VsZWN0b3IoKSk7XG4gICAgfTsgLy8gRmluZCBXcmFwcGVyXG5cblxuICAgIHZhciAkd3JhcHBlckVsID0gZ2V0V3JhcHBlcigpO1xuXG4gICAgaWYgKCR3cmFwcGVyRWwubGVuZ3RoID09PSAwICYmIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICR3cmFwcGVyRWwgPSAoMCwgX2RvbS5kZWZhdWx0KSh3cmFwcGVyKTtcbiAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3M7XG4gICAgICAkZWwuYXBwZW5kKHdyYXBwZXIpO1xuICAgICAgJGVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKS5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICAgICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgICAgJGVsOiAkZWwsXG4gICAgICBlbDogZWwsXG4gICAgICAkd3JhcHBlckVsOiAkd3JhcHBlckVsLFxuICAgICAgd3JhcHBlckVsOiAkd3JhcHBlckVsWzBdLFxuICAgICAgbW91bnRlZDogdHJ1ZSxcbiAgICAgIC8vIFJUTFxuICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgJGVsLmNzcygnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgcnRsVHJhbnNsYXRlOiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIChlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgJGVsLmNzcygnZGlyZWN0aW9uJykgPT09ICdydGwnKSxcbiAgICAgIHdyb25nUlRMOiAkd3JhcHBlckVsLmNzcygnZGlzcGxheScpID09PSAnLXdlYmtpdC1ib3gnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgX3Byb3RvLmluaXQgPSBmdW5jdGlvbiBpbml0KGVsKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuIHN3aXBlcjtcbiAgICB2YXIgbW91bnRlZCA9IHN3aXBlci5tb3VudChlbCk7XG4gICAgaWYgKG1vdW50ZWQgPT09IGZhbHNlKSByZXR1cm4gc3dpcGVyO1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVJbml0Jyk7IC8vIFNldCBicmVha3BvaW50XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9IC8vIEFkZCBDbGFzc2VzXG5cblxuICAgIHN3aXBlci5hZGRDbGFzc2VzKCk7IC8vIENyZWF0ZSBsb29wXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICAgIH0gLy8gVXBkYXRlIHNpemVcblxuXG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTsgLy8gVXBkYXRlIHNsaWRlc1xuXG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9IC8vIFNldCBHcmFiIEN1cnNvclxuXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZWxvYWRJbWFnZXMpIHtcbiAgICAgIHN3aXBlci5wcmVsb2FkSW1hZ2VzKCk7XG4gICAgfSAvLyBTbGlkZSBUbyBJbml0aWFsIFNsaWRlXG5cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlICsgc3dpcGVyLmxvb3BlZFNsaWRlcywgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSAvLyBBdHRhY2ggZXZlbnRzXG5cblxuICAgIHN3aXBlci5hdHRhY2hFdmVudHMoKTsgLy8gSW5pdCBGbGFnXG5cbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSB0cnVlOyAvLyBFbWl0XG5cbiAgICBzd2lwZXIuZW1pdCgnaW5pdCcpO1xuICAgIHN3aXBlci5lbWl0KCdhZnRlckluaXQnKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9O1xuXG4gIF9wcm90by5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShkZWxldGVJbnN0YW5jZSwgY2xlYW5TdHlsZXMpIHtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlSW5zdGFuY2UgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChjbGVhblN0eWxlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjbGVhblN0eWxlcyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcblxuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc3dpcGVyLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZURlc3Ryb3knKTsgLy8gSW5pdCBGbGFnXG5cbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTsgLy8gRGV0YWNoIGV2ZW50c1xuXG4gICAgc3dpcGVyLmRldGFjaEV2ZW50cygpOyAvLyBEZXN0cm95IGxvb3BcblxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfSAvLyBDbGVhbnVwIHN0eWxlc1xuXG5cbiAgICBpZiAoY2xlYW5TdHlsZXMpIHtcbiAgICAgIHN3aXBlci5yZW1vdmVDbGFzc2VzKCk7XG4gICAgICAkZWwucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICR3cmFwcGVyRWwucmVtb3ZlQXR0cignc3R5bGUnKTtcblxuICAgICAgaWYgKHNsaWRlcyAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNsaWRlcy5yZW1vdmVDbGFzcyhbcGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3NdLmpvaW4oJyAnKSkucmVtb3ZlQXR0cignc3R5bGUnKS5yZW1vdmVBdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdkZXN0cm95Jyk7IC8vIERldGFjaCBlbWl0dGVyIGV2ZW50c1xuXG4gICAgT2JqZWN0LmtleXMoc3dpcGVyLmV2ZW50c0xpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBzd2lwZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgfSk7XG5cbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgIT09IGZhbHNlKSB7XG4gICAgICBzd2lwZXIuJGVsWzBdLnN3aXBlciA9IG51bGw7XG4gICAgICAoMCwgX3V0aWxzLmRlbGV0ZVByb3BzKShzd2lwZXIpO1xuICAgIH1cblxuICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIFN3aXBlci5leHRlbmREZWZhdWx0cyA9IGZ1bmN0aW9uIGV4dGVuZERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgKDAsIF91dGlscy5leHRlbmQpKGV4dGVuZGVkRGVmYXVsdHMsIG5ld0RlZmF1bHRzKTtcbiAgfTtcblxuICBTd2lwZXIuaW5zdGFsbE1vZHVsZSA9IGZ1bmN0aW9uIGluc3RhbGxNb2R1bGUobW9kdWxlKSB7XG4gICAgaWYgKCFTd2lwZXIucHJvdG90eXBlLm1vZHVsZXMpIFN3aXBlci5wcm90b3R5cGUubW9kdWxlcyA9IHt9O1xuICAgIHZhciBuYW1lID0gbW9kdWxlLm5hbWUgfHwgT2JqZWN0LmtleXMoU3dpcGVyLnByb3RvdHlwZS5tb2R1bGVzKS5sZW5ndGggKyBcIl9cIiArICgwLCBfdXRpbHMubm93KSgpO1xuICAgIFN3aXBlci5wcm90b3R5cGUubW9kdWxlc1tuYW1lXSA9IG1vZHVsZTtcbiAgfTtcblxuICBTd2lwZXIudXNlID0gZnVuY3Rpb24gdXNlKG1vZHVsZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgIG1vZHVsZS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHJldHVybiBTd2lwZXIuaW5zdGFsbE1vZHVsZShtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFN3aXBlcjtcbiAgICB9XG5cbiAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZShtb2R1bGUpO1xuICAgIHJldHVybiBTd2lwZXI7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFN3aXBlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiZXh0ZW5kZWREZWZhdWx0c1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGV4dGVuZGVkRGVmYXVsdHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzLmRlZmF1bHQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN3aXBlcjtcbn0oKTtcblxuT2JqZWN0LmtleXMocHJvdG90eXBlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvdG90eXBlR3JvdXApIHtcbiAgT2JqZWN0LmtleXMocHJvdG90eXBlc1twcm90b3R5cGVHcm91cF0pLmZvckVhY2goZnVuY3Rpb24gKHByb3RvTWV0aG9kKSB7XG4gICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gIH0pO1xufSk7XG5Td2lwZXIudXNlKFtfcmVzaXplLmRlZmF1bHQsIF9vYnNlcnZlci5kZWZhdWx0XSk7XG52YXIgX2RlZmF1bHQgPSBTd2lwZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBfZGVmYXVsdCA9IHtcbiAgaW5pdDogdHJ1ZSxcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gIHRvdWNoRXZlbnRzVGFyZ2V0OiAnY29udGFpbmVyJyxcbiAgaW5pdGlhbFNsaWRlOiAwLFxuICBzcGVlZDogMzAwLFxuICBjc3NNb2RlOiBmYWxzZSxcbiAgdXBkYXRlT25XaW5kb3dSZXNpemU6IHRydWUsXG4gIHJlc2l6ZU9ic2VydmVyOiBmYWxzZSxcbiAgbmVzdGVkOiBmYWxzZSxcbiAgY3JlYXRlRWxlbWVudHM6IGZhbHNlLFxuICBlbmFibGVkOiB0cnVlLFxuICBmb2N1c2FibGVFbGVtZW50czogJ2lucHV0LCBzZWxlY3QsIG9wdGlvbiwgdGV4dGFyZWEsIGJ1dHRvbiwgdmlkZW8sIGxhYmVsJyxcbiAgLy8gT3ZlcnJpZGVzXG4gIHdpZHRoOiBudWxsLFxuICBoZWlnaHQ6IG51bGwsXG4gIC8vXG4gIHByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbjogZmFsc2UsXG4gIC8vIHNzclxuICB1c2VyQWdlbnQ6IG51bGwsXG4gIHVybDogbnVsbCxcbiAgLy8gVG8gc3VwcG9ydCBpT1MncyBzd2lwZS10by1nby1iYWNrIGdlc3R1cmUgKHdoZW4gYmVpbmcgdXNlZCBpbi1hcHApLlxuICBlZGdlU3dpcGVEZXRlY3Rpb246IGZhbHNlLFxuICBlZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLFxuICAvLyBGcmVlIG1vZGVcbiAgZnJlZU1vZGU6IGZhbHNlLFxuICBmcmVlTW9kZU1vbWVudHVtOiB0cnVlLFxuICBmcmVlTW9kZU1vbWVudHVtUmF0aW86IDEsXG4gIGZyZWVNb2RlTW9tZW50dW1Cb3VuY2U6IHRydWUsXG4gIGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzogMSxcbiAgZnJlZU1vZGVNb21lbnR1bVZlbG9jaXR5UmF0aW86IDEsXG4gIGZyZWVNb2RlU3RpY2t5OiBmYWxzZSxcbiAgZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6IDAuMDIsXG4gIC8vIEF1dG9oZWlnaHRcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gIHNldFdyYXBwZXJTaXplOiBmYWxzZSxcbiAgLy8gVmlydHVhbCBUcmFuc2xhdGVcbiAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gIC8vIEVmZmVjdHNcbiAgZWZmZWN0OiAnc2xpZGUnLFxuICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGJyZWFrcG9pbnRzOiB1bmRlZmluZWQsXG4gIGJyZWFrcG9pbnRzQmFzZTogJ3dpbmRvdycsXG4gIC8vIFNsaWRlcyBncmlkXG4gIHNwYWNlQmV0d2VlbjogMCxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc2xpZGVzUGVyQ29sdW1uOiAxLFxuICBzbGlkZXNQZXJDb2x1bW5GaWxsOiAnY29sdW1uJyxcbiAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gIHNsaWRlc1Blckdyb3VwU2tpcDogMCxcbiAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlc0JvdW5kczogZmFsc2UsXG4gIHNsaWRlc09mZnNldEJlZm9yZTogMCxcbiAgLy8gaW4gcHhcbiAgc2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG4gIC8vIGluIHB4XG4gIG5vcm1hbGl6ZVNsaWRlSW5kZXg6IHRydWUsXG4gIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogZmFsc2UsXG4gIC8vIERpc2FibGUgc3dpcGVyIGFuZCBoaWRlIG5hdmlnYXRpb24gd2hlbiBjb250YWluZXIgbm90IG92ZXJmbG93XG4gIHdhdGNoT3ZlcmZsb3c6IGZhbHNlLFxuICAvLyBSb3VuZCBsZW5ndGhcbiAgcm91bmRMZW5ndGhzOiBmYWxzZSxcbiAgLy8gVG91Y2hlc1xuICB0b3VjaFJhdGlvOiAxLFxuICB0b3VjaEFuZ2xlOiA0NSxcbiAgc2ltdWxhdGVUb3VjaDogdHJ1ZSxcbiAgc2hvcnRTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXNSYXRpbzogMC41LFxuICBsb25nU3dpcGVzTXM6IDMwMCxcbiAgZm9sbG93RmluZ2VyOiB0cnVlLFxuICBhbGxvd1RvdWNoTW92ZTogdHJ1ZSxcbiAgdGhyZXNob2xkOiAwLFxuICB0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICB0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ6IHRydWUsXG4gIHRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgdG91Y2hSZWxlYXNlT25FZGdlczogZmFsc2UsXG4gIC8vIFVuaXF1ZSBOYXZpZ2F0aW9uIEVsZW1lbnRzXG4gIHVuaXF1ZU5hdkVsZW1lbnRzOiB0cnVlLFxuICAvLyBSZXNpc3RhbmNlXG4gIHJlc2lzdGFuY2U6IHRydWUsXG4gIHJlc2lzdGFuY2VSYXRpbzogMC44NSxcbiAgLy8gUHJvZ3Jlc3NcbiAgd2F0Y2hTbGlkZXNQcm9ncmVzczogZmFsc2UsXG4gIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogZmFsc2UsXG4gIC8vIEN1cnNvclxuICBncmFiQ3Vyc29yOiBmYWxzZSxcbiAgLy8gQ2xpY2tzXG4gIHByZXZlbnRDbGlja3M6IHRydWUsXG4gIHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2UsXG4gIC8vIEltYWdlc1xuICBwcmVsb2FkSW1hZ2VzOiB0cnVlLFxuICB1cGRhdGVPbkltYWdlc1JlYWR5OiB0cnVlLFxuICAvLyBsb29wXG4gIGxvb3A6IGZhbHNlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgbG9vcGVkU2xpZGVzOiBudWxsLFxuICBsb29wRmlsbEdyb3VwV2l0aEJsYW5rOiBmYWxzZSxcbiAgbG9vcFByZXZlbnRzU2xpZGU6IHRydWUsXG4gIC8vIFN3aXBpbmcvbm8gc3dpcGluZ1xuICBhbGxvd1NsaWRlUHJldjogdHJ1ZSxcbiAgYWxsb3dTbGlkZU5leHQ6IHRydWUsXG4gIHN3aXBlSGFuZGxlcjogbnVsbCxcbiAgLy8gJy5zd2lwZS1oYW5kbGVyJyxcbiAgbm9Td2lwaW5nOiB0cnVlLFxuICBub1N3aXBpbmdDbGFzczogJ3N3aXBlci1uby1zd2lwaW5nJyxcbiAgbm9Td2lwaW5nU2VsZWN0b3I6IG51bGwsXG4gIC8vIFBhc3NpdmUgTGlzdGVuZXJzXG4gIHBhc3NpdmVMaXN0ZW5lcnM6IHRydWUsXG4gIC8vIE5TXG4gIGNvbnRhaW5lck1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItY29udGFpbmVyLScsXG4gIC8vIE5FV1xuICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcbiAgc2xpZGVCbGFua0NsYXNzOiAnc3dpcGVyLXNsaWRlLWludmlzaWJsZS1ibGFuaycsXG4gIHNsaWRlQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtYWN0aXZlJyxcbiAgc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUtYWN0aXZlJyxcbiAgc2xpZGVWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtdmlzaWJsZScsXG4gIHNsaWRlRHVwbGljYXRlQ2xhc3M6ICdzd2lwZXItc2xpZGUtZHVwbGljYXRlJyxcbiAgc2xpZGVOZXh0Q2xhc3M6ICdzd2lwZXItc2xpZGUtbmV4dCcsXG4gIHNsaWRlRHVwbGljYXRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1uZXh0JyxcbiAgc2xpZGVQcmV2Q2xhc3M6ICdzd2lwZXItc2xpZGUtcHJldicsXG4gIHNsaWRlRHVwbGljYXRlUHJldkNsYXNzOiAnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1wcmV2JyxcbiAgd3JhcHBlckNsYXNzOiAnc3dpcGVyLXdyYXBwZXInLFxuICAvLyBDYWxsYmFja3NcbiAgcnVuQ2FsbGJhY2tzT25Jbml0OiB0cnVlLFxuICAvLyBJbnRlcm5hbHNcbiAgX2VtaXRDbGFzc2VzOiBmYWxzZVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xudmFyIF9kZWZhdWx0ID0ge1xuICBvbjogZnVuY3Rpb24gb24oZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIHZhciBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdW21ldGhvZF0oaGFuZGxlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9uY2U6IGZ1bmN0aW9uIG9uY2UoZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuXG4gICAgZnVuY3Rpb24gb25jZUhhbmRsZXIoKSB7XG4gICAgICBzZWxmLm9mZihldmVudHMsIG9uY2VIYW5kbGVyKTtcblxuICAgICAgaWYgKG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5KSB7XG4gICAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGhhbmRsZXIuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgb25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkgPSBoYW5kbGVyO1xuICAgIHJldHVybiBzZWxmLm9uKGV2ZW50cywgb25jZUhhbmRsZXIsIHByaW9yaXR5KTtcbiAgfSxcbiAgb25Bbnk6IGZ1bmN0aW9uIG9uQW55KGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgdmFyIG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuXG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmZBbnk6IGZ1bmN0aW9uIG9mZkFueShoYW5kbGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIHZhciBpbmRleCA9IHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmOiBmdW5jdGlvbiBvZmYoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50SGFuZGxlciwgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIGVtaXQ6IGZ1bmN0aW9uIGVtaXQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIHZhciBldmVudHM7XG4gICAgdmFyIGRhdGE7XG4gICAgdmFyIGNvbnRleHQ7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF07XG4gICAgICBkYXRhID0gYXJncy5zbGljZSgxLCBhcmdzLmxlbmd0aCk7XG4gICAgICBjb250ZXh0ID0gc2VsZjtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRzID0gYXJnc1swXS5ldmVudHM7XG4gICAgICBkYXRhID0gYXJnc1swXS5kYXRhO1xuICAgICAgY29udGV4dCA9IGFyZ3NbMF0uY29udGV4dCB8fCBzZWxmO1xuICAgIH1cblxuICAgIGRhdGEudW5zaGlmdChjb250ZXh0KTtcbiAgICB2YXIgZXZlbnRzQXJyYXkgPSBBcnJheS5pc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBldmVudHMuc3BsaXQoJyAnKTtcbiAgICBldmVudHNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudEhhbmRsZXIpIHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgW2V2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRIYW5kbGVyKSB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX29uVG91Y2hTdGFydCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb25Ub3VjaFN0YXJ0XCIpKTtcblxudmFyIF9vblRvdWNoTW92ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb25Ub3VjaE1vdmVcIikpO1xuXG52YXIgX29uVG91Y2hFbmQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29uVG91Y2hFbmRcIikpO1xuXG52YXIgX29uUmVzaXplID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vblJlc2l6ZVwiKSk7XG5cbnZhciBfb25DbGljayA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb25DbGlja1wiKSk7XG5cbnZhciBfb25TY3JvbGwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29uU2Nyb2xsXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGR1bW15RXZlbnRBdHRhY2hlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBkdW1teUV2ZW50TGlzdGVuZXIoKSB7fVxuXG5mdW5jdGlvbiBhdHRhY2hFdmVudHMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICB0b3VjaEV2ZW50cyA9IHN3aXBlci50b3VjaEV2ZW50cyxcbiAgICAgIGVsID0gc3dpcGVyLmVsLFxuICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgIGRldmljZSA9IHN3aXBlci5kZXZpY2UsXG4gICAgICBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gIHN3aXBlci5vblRvdWNoU3RhcnQgPSBfb25Ub3VjaFN0YXJ0LmRlZmF1bHQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaE1vdmUgPSBfb25Ub3VjaE1vdmUuZGVmYXVsdC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoRW5kID0gX29uVG91Y2hFbmQuZGVmYXVsdC5iaW5kKHN3aXBlcik7XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLm9uU2Nyb2xsID0gX29uU2Nyb2xsLmRlZmF1bHQuYmluZChzd2lwZXIpO1xuICB9XG5cbiAgc3dpcGVyLm9uQ2xpY2sgPSBfb25DbGljay5kZWZhdWx0LmJpbmQoc3dpcGVyKTtcbiAgdmFyIGNhcHR1cmUgPSAhIXBhcmFtcy5uZXN0ZWQ7IC8vIFRvdWNoIEV2ZW50c1xuXG4gIGlmICghc3VwcG9ydC50b3VjaCAmJiBzdXBwb3J0LnBvaW50ZXJFdmVudHMpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCBzd2lwZXIub25Ub3VjaEVuZCwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzdXBwb3J0LnRvdWNoKSB7XG4gICAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gdG91Y2hFdmVudHMuc3RhcnQgPT09ICd0b3VjaHN0YXJ0JyAmJiBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBwYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICAgIH0gOiBmYWxzZTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci5vblRvdWNoU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHN3aXBlci5vblRvdWNoTW92ZSwgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgPyB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlOiBjYXB0dXJlXG4gICAgICB9IDogY2FwdHVyZSk7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgIGlmICh0b3VjaEV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5jYW5jZWwsIHN3aXBlci5vblRvdWNoRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWR1bW15RXZlbnRBdHRhY2hlZCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZHVtbXlFdmVudExpc3RlbmVyKTtcbiAgICAgICAgZHVtbXlFdmVudEF0dGFjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgIWRldmljZS5pb3MgJiYgIWRldmljZS5hbmRyb2lkIHx8IHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFzdXBwb3J0LnRvdWNoICYmIGRldmljZS5pb3MpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICB9XG4gIH0gLy8gUHJldmVudCBMaW5rcyBDbGlja3NcblxuXG4gIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3dpcGVyLm9uU2Nyb2xsKTtcbiAgfSAvLyBSZXNpemUgaGFuZGxlclxuXG5cbiAgaWYgKHBhcmFtcy51cGRhdGVPbldpbmRvd1Jlc2l6ZSkge1xuICAgIHN3aXBlci5vbihkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgX29uUmVzaXplLmRlZmF1bHQsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5vbignb2JzZXJ2ZXJVcGRhdGUnLCBfb25SZXNpemUuZGVmYXVsdCwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgdG91Y2hFdmVudHMgPSBzd2lwZXIudG91Y2hFdmVudHMsXG4gICAgICBlbCA9IHN3aXBlci5lbCxcbiAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWwsXG4gICAgICBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlLFxuICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICB2YXIgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDsgLy8gVG91Y2ggRXZlbnRzXG5cbiAgaWYgKCFzdXBwb3J0LnRvdWNoICYmIHN1cHBvcnQucG9pbnRlckV2ZW50cykge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci5vblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHN3aXBlci5vblRvdWNoRW5kLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN1cHBvcnQudG91Y2gpIHtcbiAgICAgIHZhciBwYXNzaXZlTGlzdGVuZXIgPSB0b3VjaEV2ZW50cy5zdGFydCA9PT0gJ29uVG91Y2hTdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgICB9IDogZmFsc2U7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHN3aXBlci5vblRvdWNoRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuXG4gICAgICBpZiAodG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuY2FuY2VsLCBzd2lwZXIub25Ub3VjaEVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgIWRldmljZS5pb3MgJiYgIWRldmljZS5hbmRyb2lkIHx8IHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFzdXBwb3J0LnRvdWNoICYmIGRldmljZS5pb3MpIHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICB9XG4gIH0gLy8gUHJldmVudCBMaW5rcyBDbGlja3NcblxuXG4gIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3dpcGVyLm9uU2Nyb2xsKTtcbiAgfSAvLyBSZXNpemUgaGFuZGxlclxuXG5cbiAgc3dpcGVyLm9mZihkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgX29uUmVzaXplLmRlZmF1bHQpO1xufVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIGF0dGFjaEV2ZW50czogYXR0YWNoRXZlbnRzLFxuICBkZXRhY2hFdmVudHM6IGRldGFjaEV2ZW50c1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gb25DbGljaztcblxuZnVuY3Rpb24gb25DbGljayhlKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG5cbiAgaWYgKCFzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3MpIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbiAmJiBzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9uUmVzaXplO1xuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgZWwgPSBzd2lwZXIuZWw7XG4gIGlmIChlbCAmJiBlbC5vZmZzZXRXaWR0aCA9PT0gMCkgcmV0dXJuOyAvLyBCcmVha3BvaW50c1xuXG4gIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICB9IC8vIFNhdmUgbG9ja3NcblxuXG4gIHZhciBhbGxvd1NsaWRlTmV4dCA9IHN3aXBlci5hbGxvd1NsaWRlTmV4dCxcbiAgICAgIGFsbG93U2xpZGVQcmV2ID0gc3dpcGVyLmFsbG93U2xpZGVQcmV2LFxuICAgICAgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQ7IC8vIERpc2FibGUgbG9ja3Mgb24gcmVzaXplXG5cbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gIH1cblxuICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gIH0gLy8gUmV0dXJuIGxvY2tzIGFmdGVyIHJlc2l6ZVxuXG5cbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuXG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9uU2Nyb2xsO1xuXG5mdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciB3cmFwcGVyRWwgPSBzd2lwZXIud3JhcHBlckVsLFxuICAgICAgcnRsVHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIGVuYWJsZWQgPSBzd2lwZXIuZW5hYmxlZDtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIGlmIChydGxUcmFuc2xhdGUpIHtcbiAgICAgIHN3aXBlci50cmFuc2xhdGUgPSB3cmFwcGVyRWwuc2Nyb2xsV2lkdGggLSB3cmFwcGVyRWwub2Zmc2V0V2lkdGggLSB3cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsVG9wO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgaWYgKHN3aXBlci50cmFuc2xhdGUgPT09IC0wKSBzd2lwZXIudHJhbnNsYXRlID0gMDtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIHZhciBuZXdQcm9ncmVzcztcbiAgdmFyIHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuXG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9IChzd2lwZXIudHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG5cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBzd2lwZXIucHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKTtcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2xhdGUnLCBzd2lwZXIudHJhbnNsYXRlLCBmYWxzZSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBvblRvdWNoRW5kO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgdG91Y2hlcyA9IHN3aXBlci50b3VjaGVzLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZCxcbiAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgdmFyIGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoRW5kJywgZSk7XG4gIH1cblxuICBkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MgPSBmYWxzZTtcblxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBwYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICAgIH1cblxuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH0gLy8gUmV0dXJuIEdyYWIgQ3Vyc29yXG5cblxuICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgZGF0YS5pc01vdmVkICYmIGRhdGEuaXNUb3VjaGVkICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgfSAvLyBUaW1lIGRpZmZcblxuXG4gIHZhciB0b3VjaEVuZFRpbWUgPSAoMCwgX3V0aWxzLm5vdykoKTtcbiAgdmFyIHRpbWVEaWZmID0gdG91Y2hFbmRUaW1lIC0gZGF0YS50b3VjaFN0YXJ0VGltZTsgLy8gVGFwLCBkb3VibGVUYXAsIENsaWNrXG5cbiAgaWYgKHN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgc3dpcGVyLnVwZGF0ZUNsaWNrZWRTbGlkZShlKTtcbiAgICBzd2lwZXIuZW1pdCgndGFwIGNsaWNrJywgZSk7XG5cbiAgICBpZiAodGltZURpZmYgPCAzMDAgJiYgdG91Y2hFbmRUaW1lIC0gZGF0YS5sYXN0Q2xpY2tUaW1lIDwgMzAwKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnZG91YmxlVGFwIGRvdWJsZUNsaWNrJywgZSk7XG4gICAgfVxuICB9XG5cbiAgZGF0YS5sYXN0Q2xpY2tUaW1lID0gKDAsIF91dGlscy5ub3cpKCk7XG4gICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXN3aXBlci5kZXN0cm95ZWQpIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCB8fCAhZGF0YS5pc01vdmVkIHx8ICFzd2lwZXIuc3dpcGVEaXJlY3Rpb24gfHwgdG91Y2hlcy5kaWZmID09PSAwIHx8IGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9PT0gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gIHZhciBjdXJyZW50UG9zO1xuXG4gIGlmIChwYXJhbXMuZm9sbG93RmluZ2VyKSB7XG4gICAgY3VycmVudFBvcyA9IHJ0bCA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50UG9zID0gLWRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwYXJhbXMuZnJlZU1vZGUpIHtcbiAgICBpZiAoY3VycmVudFBvcyA8IC1zd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRQb3MgPiAtc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggPCBzbmFwR3JpZC5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtKSB7XG4gICAgICBpZiAoZGF0YS52ZWxvY2l0aWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGxhc3RNb3ZlRXZlbnQgPSBkYXRhLnZlbG9jaXRpZXMucG9wKCk7XG4gICAgICAgIHZhciB2ZWxvY2l0eUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBsYXN0TW92ZUV2ZW50LnBvc2l0aW9uIC0gdmVsb2NpdHlFdmVudC5wb3NpdGlvbjtcbiAgICAgICAgdmFyIHRpbWUgPSBsYXN0TW92ZUV2ZW50LnRpbWUgLSB2ZWxvY2l0eUV2ZW50LnRpbWU7XG4gICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IGRpc3RhbmNlIC8gdGltZTtcbiAgICAgICAgc3dpcGVyLnZlbG9jaXR5IC89IDI7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgPCBwYXJhbXMuZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHkpIHtcbiAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgICB9IC8vIHRoaXMgaW1wbGllcyB0aGF0IHRoZSB1c2VyIHN0b3BwZWQgbW92aW5nIGEgZmluZ2VyIHRoZW4gcmVsZWFzZWQuXG4gICAgICAgIC8vIFRoZXJlIHdvdWxkIGJlIG5vIGV2ZW50cyB3aXRoIGRpc3RhbmNlIHplcm8sIHNvIHRoZSBsYXN0IGV2ZW50IGlzIHN0YWxlLlxuXG5cbiAgICAgICAgaWYgKHRpbWUgPiAxNTAgfHwgKDAsIF91dGlscy5ub3cpKCkgLSBsYXN0TW92ZUV2ZW50LnRpbWUgPiAzMDApIHtcbiAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIudmVsb2NpdHkgKj0gcGFyYW1zLmZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvO1xuICAgICAgZGF0YS52ZWxvY2l0aWVzLmxlbmd0aCA9IDA7XG4gICAgICB2YXIgbW9tZW50dW1EdXJhdGlvbiA9IDEwMDAgKiBwYXJhbXMuZnJlZU1vZGVNb21lbnR1bVJhdGlvO1xuICAgICAgdmFyIG1vbWVudHVtRGlzdGFuY2UgPSBzd2lwZXIudmVsb2NpdHkgKiBtb21lbnR1bUR1cmF0aW9uO1xuICAgICAgdmFyIG5ld1Bvc2l0aW9uID0gc3dpcGVyLnRyYW5zbGF0ZSArIG1vbWVudHVtRGlzdGFuY2U7XG4gICAgICBpZiAocnRsKSBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgIHZhciBkb0JvdW5jZSA9IGZhbHNlO1xuICAgICAgdmFyIGFmdGVyQm91bmNlUG9zaXRpb247XG4gICAgICB2YXIgYm91bmNlQW1vdW50ID0gTWF0aC5hYnMoc3dpcGVyLnZlbG9jaXR5KSAqIDIwICogcGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbztcbiAgICAgIHZhciBuZWVkc0xvb3BGaXg7XG5cbiAgICAgIGlmIChuZXdQb3NpdGlvbiA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2UpIHtcbiAgICAgICAgICBpZiAobmV3UG9zaXRpb24gKyBzd2lwZXIubWF4VHJhbnNsYXRlKCkgPCAtYm91bmNlQW1vdW50KSB7XG4gICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIGJvdW5jZUFtb3VudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZnRlckJvdW5jZVBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICAgIGRvQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobmV3UG9zaXRpb24gPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpID4gYm91bmNlQW1vdW50KSB7XG4gICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSArIGJvdW5jZUFtb3VudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZnRlckJvdW5jZVBvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgICAgIGRvQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG4gICAgICAgIHZhciBuZXh0U2xpZGU7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzbmFwR3JpZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIGlmIChzbmFwR3JpZFtqXSA+IC1uZXdQb3NpdGlvbikge1xuICAgICAgICAgICAgbmV4dFNsaWRlID0gajtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhzbmFwR3JpZFtuZXh0U2xpZGVdIC0gbmV3UG9zaXRpb24pIDwgTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlIC0gMV0gLSBuZXdQb3NpdGlvbikgfHwgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHNuYXBHcmlkW25leHRTbGlkZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGUgLSAxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld1Bvc2l0aW9uID0gLW5ld1Bvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZHNMb29wRml4KSB7XG4gICAgICAgIHN3aXBlci5vbmNlKCd0cmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBGaXggZHVyYXRpb25cblxuXG4gICAgICBpZiAoc3dpcGVyLnZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICAgIGlmIChydGwpIHtcbiAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gTWF0aC5hYnMoKC1uZXdQb3NpdGlvbiAtIHN3aXBlci50cmFuc2xhdGUpIC8gc3dpcGVyLnZlbG9jaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gTWF0aC5hYnMoKG5ld1Bvc2l0aW9uIC0gc3dpcGVyLnRyYW5zbGF0ZSkgLyBzd2lwZXIudmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICAgIC8vIElmIGZyZWVNb2RlU3RpY2t5IGlzIGFjdGl2ZSBhbmQgdGhlIHVzZXIgZW5kcyBhIHN3aXBlIHdpdGggYSBzbG93LXZlbG9jaXR5XG4gICAgICAgICAgLy8gZXZlbnQsIHRoZW4gZHVyYXRpb25zIGNhbiBiZSAyMCsgc2Vjb25kcyB0byBzbGlkZSBvbmUgKG9yIHplcm8hKSBzbGlkZXMuXG4gICAgICAgICAgLy8gSXQncyBlYXN5IHRvIHNlZSB0aGlzIHdoZW4gc2ltdWxhdGluZyB0b3VjaCB3aXRoIG1vdXNlIGV2ZW50cy4gVG8gZml4IHRoaXMsXG4gICAgICAgICAgLy8gbGltaXQgc2luZ2xlLXNsaWRlIHN3aXBlcyB0byB0aGUgZGVmYXVsdCBzbGlkZSBkdXJhdGlvbi4gVGhpcyBhbHNvIGhhcyB0aGVcbiAgICAgICAgICAvLyBuaWNlIHNpZGUgZWZmZWN0IG9mIG1hdGNoaW5nIHNsaWRlIHNwZWVkIGlmIHRoZSB1c2VyIHN0b3BwZWQgbW92aW5nIGJlZm9yZVxuICAgICAgICAgIC8vIGxpZnRpbmcgZmluZ2VyIG9yIG1vdXNlIHZzLiBtb3Zpbmcgc2xvd2x5IGJlZm9yZSBsaWZ0aW5nIHRoZSBmaW5nZXIvbW91c2UuXG4gICAgICAgICAgLy8gRm9yIGZhc3RlciBzd2lwZXMsIGFsc28gYXBwbHkgbGltaXRzIChhbGJlaXQgaGlnaGVyIG9uZXMpLlxuICAgICAgICAgIHZhciBtb3ZlRGlzdGFuY2UgPSBNYXRoLmFicygocnRsID8gLW5ld1Bvc2l0aW9uIDogbmV3UG9zaXRpb24pIC0gc3dpcGVyLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZVNpemUgPSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleF07XG5cbiAgICAgICAgICBpZiAobW92ZURpc3RhbmNlIDwgY3VycmVudFNsaWRlU2l6ZSkge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IHBhcmFtcy5zcGVlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVEaXN0YW5jZSA8IDIgKiBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMS41O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMi41O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlICYmIGRvQm91bmNlKSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhhZnRlckJvdW5jZVBvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3UG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHRydWUsIHN3aXBlci5zd2lwZURpcmVjdGlvbik7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAkd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIWRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSkgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdtb21lbnR1bUJvdW5jZScpO1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHBhcmFtcy5zcGVlZCk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGFmdGVyQm91bmNlUG9zaXRpb24pO1xuICAgICAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIudmVsb2NpdHkpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3UG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHRydWUsIHN3aXBlci5zd2lwZURpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5lbWl0KCdfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZScpO1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3UG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcy5mcmVlTW9kZU1vbWVudHVtIHx8IHRpbWVEaWZmID49IHBhcmFtcy5sb25nU3dpcGVzTXMpIHtcbiAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSAvLyBGaW5kIGN1cnJlbnQgc2xpZGVcblxuXG4gIHZhciBzdG9wSW5kZXggPSAwO1xuICB2YXIgZ3JvdXBTaXplID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFswXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cCkge1xuICAgIHZhciBfaW5jcmVtZW50ID0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcblxuICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgX2luY3JlbWVudF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldICYmIGN1cnJlbnRQb3MgPCBzbGlkZXNHcmlkW2kgKyBfaW5jcmVtZW50XSkge1xuICAgICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBfaW5jcmVtZW50XSAtIHNsaWRlc0dyaWRbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMV0gLSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMl07XG4gICAgfVxuICB9IC8vIEZpbmQgY3VycmVudCBzbGlkZSBzaXplXG5cblxuICB2YXIgcmF0aW8gPSAoY3VycmVudFBvcyAtIHNsaWRlc0dyaWRbc3RvcEluZGV4XSkgLyBncm91cFNpemU7XG4gIHZhciBpbmNyZW1lbnQgPSBzdG9wSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgaWYgKHRpbWVEaWZmID4gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgIC8vIExvbmcgdG91Y2hlc1xuICAgIGlmICghcGFyYW1zLmxvbmdTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAocmF0aW8gPj0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtlbHNlIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICBpZiAocmF0aW8gPiAxIC0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtlbHNlIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNob3J0IHN3aXBlc1xuICAgIGlmICghcGFyYW1zLnNob3J0U3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc05hdkJ1dHRvblRhcmdldCA9IHN3aXBlci5uYXZpZ2F0aW9uICYmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpO1xuXG4gICAgaWYgKCFpc05hdkJ1dHRvblRhcmdldCkge1xuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9uVG91Y2hNb3ZlO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHRvdWNoZXMgPSBzd2lwZXIudG91Y2hlcyxcbiAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICB2YXIgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuXG4gIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICBpZiAoZGF0YS5zdGFydE1vdmluZyAmJiBkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgZS50eXBlICE9PSAndG91Y2htb3ZlJykgcmV0dXJuO1xuICB2YXIgdGFyZ2V0VG91Y2ggPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnICYmIGUudGFyZ2V0VG91Y2hlcyAmJiAoZS50YXJnZXRUb3VjaGVzWzBdIHx8IGUuY2hhbmdlZFRvdWNoZXNbMF0pO1xuICB2YXIgcGFnZVggPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gdGFyZ2V0VG91Y2gucGFnZVggOiBlLnBhZ2VYO1xuICB2YXIgcGFnZVkgPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gdGFyZ2V0VG91Y2gucGFnZVkgOiBlLnBhZ2VZO1xuXG4gIGlmIChlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyKSB7XG4gICAgdG91Y2hlcy5zdGFydFggPSBwYWdlWDtcbiAgICB0b3VjaGVzLnN0YXJ0WSA9IHBhZ2VZO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghc3dpcGVyLmFsbG93VG91Y2hNb3ZlKSB7XG4gICAgLy8gaXNNb3ZlZCA9IHRydWU7XG4gICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcblxuICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHRvdWNoZXMsIHtcbiAgICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgICAgY3VycmVudFg6IHBhZ2VYLFxuICAgICAgICBjdXJyZW50WTogcGFnZVlcbiAgICAgIH0pO1xuICAgICAgZGF0YS50b3VjaFN0YXJ0VGltZSA9ICgwLCBfdXRpbHMubm93KSgpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChkYXRhLmlzVG91Y2hFdmVudCAmJiBwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcyAmJiAhcGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgICAgLy8gVmVydGljYWxcbiAgICAgIGlmIChwYWdlWSA8IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VZID4gdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhZ2VYIDwgdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVggPiB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmlzVG91Y2hFdmVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICgwLCBfZG9tLmRlZmF1bHQpKGUudGFyZ2V0KS5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmUnLCBlKTtcbiAgfVxuXG4gIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgdG91Y2hlcy5jdXJyZW50WCA9IHBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gIHZhciBkaWZmWCA9IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WDtcbiAgdmFyIGRpZmZZID0gdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICBpZiAoc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQgJiYgTWF0aC5zcXJ0KE1hdGgucG93KGRpZmZYLCAyKSArIE1hdGgucG93KGRpZmZZLCAyKSkgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuXG4gIGlmICh0eXBlb2YgZGF0YS5pc1Njcm9sbGluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgdG91Y2hBbmdsZTtcblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmIChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSA+PSAyNSkge1xuICAgICAgICB0b3VjaEFuZ2xlID0gTWF0aC5hdGFuMihNYXRoLmFicyhkaWZmWSksIE1hdGguYWJzKGRpZmZYKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGF0YS5zdGFydE1vdmluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodG91Y2hlcy5jdXJyZW50WCAhPT0gdG91Y2hlcy5zdGFydFggfHwgdG91Y2hlcy5jdXJyZW50WSAhPT0gdG91Y2hlcy5zdGFydFkpIHtcbiAgICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWRhdGEuc3RhcnRNb3ZpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuXG4gIGlmICghcGFyYW1zLmNzc01vZGUgJiYgZS5jYW5jZWxhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24gJiYgIXBhcmFtcy5uZXN0ZWQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgaWYgKCFkYXRhLmlzTW92ZWQpIHtcbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgfVxuXG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcblxuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC50cmlnZ2VyKCd3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQnKTtcbiAgICB9XG5cbiAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSBmYWxzZTsgLy8gR3JhYiBDdXJzb3JcblxuICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKHRydWUpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdzbGlkZXJGaXJzdE1vdmUnLCBlKTtcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCdzbGlkZXJNb3ZlJywgZSk7XG4gIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gIHZhciBkaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZGlmZlggOiBkaWZmWTtcbiAgdG91Y2hlcy5kaWZmID0gZGlmZjtcbiAgZGlmZiAqPSBwYXJhbXMudG91Y2hSYXRpbztcbiAgaWYgKHJ0bCkgZGlmZiA9IC1kaWZmO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSBkaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGlmZiArIGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIHZhciBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgdmFyIHJlc2lzdGFuY2VSYXRpbyA9IHBhcmFtcy5yZXNpc3RhbmNlUmF0aW87XG5cbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgcmVzaXN0YW5jZVJhdGlvID0gMDtcbiAgfVxuXG4gIGlmIChkaWZmID4gMCAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSAxICsgTWF0aC5wb3coLXN3aXBlci5taW5UcmFuc2xhdGUoKSArIGRhdGEuc3RhcnRUcmFuc2xhdGUgKyBkaWZmLCByZXNpc3RhbmNlUmF0aW8pO1xuICB9IGVsc2UgaWYgKGRpZmYgPCAwICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICBpZiAocGFyYW1zLnJlc2lzdGFuY2UpIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIDEgLSBNYXRoLnBvdyhzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBkYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZiwgcmVzaXN0YW5jZVJhdGlvKTtcbiAgfVxuXG4gIGlmIChkaXNhYmxlUGFyZW50U3dpcGVyKSB7XG4gICAgZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlciA9IHRydWU7XG4gIH0gLy8gRGlyZWN0aW9ucyBsb2Nrc1xuXG5cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuXG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmICFzd2lwZXIuYWxsb3dTbGlkZU5leHQpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9IC8vIFRocmVzaG9sZFxuXG5cbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSB7XG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID4gcGFyYW1zLnRocmVzaG9sZCB8fCBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgaWYgKCFkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgICBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IHRydWU7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgICAgICAgdG91Y2hlcy5zdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgICB0b3VjaGVzLmRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFggOiB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoIXBhcmFtcy5mb2xsb3dGaW5nZXIgfHwgcGFyYW1zLmNzc01vZGUpIHJldHVybjsgLy8gVXBkYXRlIGFjdGl2ZSBpbmRleCBpbiBmcmVlIG1vZGVcblxuICBpZiAocGFyYW1zLmZyZWVNb2RlIHx8IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IHBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSkge1xuICAgIC8vIFZlbG9jaXR5XG4gICAgaWYgKGRhdGEudmVsb2NpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgICAgcG9zaXRpb246IHRvdWNoZXNbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3N0YXJ0WCcgOiAnc3RhcnRZJ10sXG4gICAgICAgIHRpbWU6IGRhdGEudG91Y2hTdGFydFRpbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgIHBvc2l0aW9uOiB0b3VjaGVzW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdjdXJyZW50WCcgOiAnY3VycmVudFknXSxcbiAgICAgIHRpbWU6ICgwLCBfdXRpbHMubm93KSgpXG4gICAgfSk7XG4gIH0gLy8gVXBkYXRlIHByb2dyZXNzXG5cblxuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTsgLy8gVXBkYXRlIHRyYW5zbGF0ZVxuXG4gIHN3aXBlci5zZXRUcmFuc2xhdGUoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9uVG91Y2hTdGFydDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBNb2RpZmllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0NTIwNTU0L2N1c3RvbS1lbGVtZW50LWdldHJvb3Rub2RlLWNsb3Nlc3QtZnVuY3Rpb24tY3Jvc3NpbmctbXVsdGlwbGUtcGFyZW50LXNoYWRvd2RcbmZ1bmN0aW9uIGNsb3Nlc3RFbGVtZW50KHNlbGVjdG9yLCBiYXNlKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fY2xvc2VzdEZyb20oZWwpIHtcbiAgICBpZiAoIWVsIHx8IGVsID09PSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKSB8fCBlbCA9PT0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoZWwuYXNzaWduZWRTbG90KSBlbCA9IGVsLmFzc2lnbmVkU2xvdDtcbiAgICB2YXIgZm91bmQgPSBlbC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICByZXR1cm4gZm91bmQgfHwgX19jbG9zZXN0RnJvbShlbC5nZXRSb290Tm9kZSgpLmhvc3QpO1xuICB9XG5cbiAgcmV0dXJuIF9fY2xvc2VzdEZyb20oYmFzZSk7XG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICB0b3VjaGVzID0gc3dpcGVyLnRvdWNoZXMsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuXG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICB2YXIgJHRhcmdldEVsID0gKDAsIF9kb20uZGVmYXVsdCkoZS50YXJnZXQpO1xuXG4gIGlmIChwYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICd3cmFwcGVyJykge1xuICAgIGlmICghJHRhcmdldEVsLmNsb3Nlc3Qoc3dpcGVyLndyYXBwZXJFbCkubGVuZ3RoKSByZXR1cm47XG4gIH1cblxuICBkYXRhLmlzVG91Y2hFdmVudCA9IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICBpZiAoIWRhdGEuaXNUb3VjaEV2ZW50ICYmICd3aGljaCcgaW4gZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm47XG4gIGlmICghZGF0YS5pc1RvdWNoRXZlbnQgJiYgJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiA+IDApIHJldHVybjtcbiAgaWYgKGRhdGEuaXNUb3VjaGVkICYmIGRhdGEuaXNNb3ZlZCkgcmV0dXJuOyAvLyBjaGFuZ2UgdGFyZ2V0IGVsIGZvciBzaGFkb3cgcm9vdCBjb21wb25lbnRcblxuICB2YXIgc3dpcGluZ0NsYXNzSGFzVmFsdWUgPSAhIXBhcmFtcy5ub1N3aXBpbmdDbGFzcyAmJiBwYXJhbXMubm9Td2lwaW5nQ2xhc3MgIT09ICcnO1xuXG4gIGlmIChzd2lwaW5nQ2xhc3NIYXNWYWx1ZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290ICYmIGV2ZW50LnBhdGggJiYgZXZlbnQucGF0aFswXSkge1xuICAgICR0YXJnZXRFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGV2ZW50LnBhdGhbMF0pO1xuICB9XG5cbiAgdmFyIG5vU3dpcGluZ1NlbGVjdG9yID0gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yID8gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yIDogXCIuXCIgKyBwYXJhbXMubm9Td2lwaW5nQ2xhc3M7XG4gIHZhciBpc1RhcmdldFNoYWRvdyA9ICEhKGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QpOyAvLyB1c2UgY2xvc2VzdEVsZW1lbnQgZm9yIHNoYWRvdyByb290IGVsZW1lbnQgdG8gZ2V0IHRoZSBhY3R1YWwgY2xvc2VzdCBmb3IgbmVzdGVkIHNoYWRvdyByb290IGVsZW1lbnRcblxuICBpZiAocGFyYW1zLm5vU3dpcGluZyAmJiAoaXNUYXJnZXRTaGFkb3cgPyBjbG9zZXN0RWxlbWVudChub1N3aXBpbmdTZWxlY3RvciwgZS50YXJnZXQpIDogJHRhcmdldEVsLmNsb3Nlc3Qobm9Td2lwaW5nU2VsZWN0b3IpWzBdKSkge1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocGFyYW1zLnN3aXBlSGFuZGxlcikge1xuICAgIGlmICghJHRhcmdldEVsLmNsb3Nlc3QocGFyYW1zLnN3aXBlSGFuZGxlcilbMF0pIHJldHVybjtcbiAgfVxuXG4gIHRvdWNoZXMuY3VycmVudFggPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XG4gIHRvdWNoZXMuY3VycmVudFkgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gIHZhciBzdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICB2YXIgc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTsgLy8gRG8gTk9UIHN0YXJ0IGlmIGlPUyBlZGdlIHN3aXBlIGlzIGRldGVjdGVkLiBPdGhlcndpc2UgaU9TIGFwcCBjYW5ub3Qgc3dpcGUtdG8tZ28tYmFjayBhbnltb3JlXG5cbiAgdmFyIGVkZ2VTd2lwZURldGVjdGlvbiA9IHBhcmFtcy5lZGdlU3dpcGVEZXRlY3Rpb24gfHwgcGFyYW1zLmlPU0VkZ2VTd2lwZURldGVjdGlvbjtcbiAgdmFyIGVkZ2VTd2lwZVRocmVzaG9sZCA9IHBhcmFtcy5lZGdlU3dpcGVUaHJlc2hvbGQgfHwgcGFyYW1zLmlPU0VkZ2VTd2lwZVRocmVzaG9sZDtcblxuICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uICYmIChzdGFydFggPD0gZWRnZVN3aXBlVGhyZXNob2xkIHx8IHN0YXJ0WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVkZ2VTd2lwZVRocmVzaG9sZCkpIHtcbiAgICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uID09PSAncHJldmVudCcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAoMCwgX3V0aWxzLmV4dGVuZCkoZGF0YSwge1xuICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICBpc01vdmVkOiBmYWxzZSxcbiAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB0cnVlLFxuICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICB9KTtcbiAgdG91Y2hlcy5zdGFydFggPSBzdGFydFg7XG4gIHRvdWNoZXMuc3RhcnRZID0gc3RhcnRZO1xuICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gKDAsIF91dGlscy5ub3cpKCk7XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gdW5kZWZpbmVkO1xuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gZmFsc2U7XG5cbiAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgdmFyIHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICBpZiAoJHRhcmdldEVsLmlzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuXG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKDAsIF9kb20uZGVmYXVsdCkoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuaXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gJHRhcmdldEVsWzBdKSB7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkUHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdCAmJiBzd2lwZXIuYWxsb3dUb3VjaE1vdmUgJiYgcGFyYW1zLnRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDtcblxuICAgIGlmICgocGFyYW1zLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0IHx8IHNob3VsZFByZXZlbnREZWZhdWx0KSAmJiAhJHRhcmdldEVsWzBdLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ3RvdWNoU3RhcnQnLCBlKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zZXRHcmFiQ3Vyc29yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zZXRHcmFiQ3Vyc29yXCIpKTtcblxudmFyIF91bnNldEdyYWJDdXJzb3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3Vuc2V0R3JhYkN1cnNvclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgc2V0R3JhYkN1cnNvcjogX3NldEdyYWJDdXJzb3IuZGVmYXVsdCxcbiAgdW5zZXRHcmFiQ3Vyc29yOiBfdW5zZXRHcmFiQ3Vyc29yLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldEdyYWJDdXJzb3I7XG5cbmZ1bmN0aW9uIHNldEdyYWJDdXJzb3IobW92aW5nKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLnN1cHBvcnQudG91Y2ggfHwgIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICB2YXIgZWwgPSBzd2lwZXIuZWw7XG4gIGVsLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJy13ZWJraXQtZ3JhYmJpbmcnIDogJy13ZWJraXQtZ3JhYic7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICctbW96LWdyYWJiaW4nIDogJy1tb3otZ3JhYic7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICdncmFiYmluZycgOiAnZ3JhYic7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1bnNldEdyYWJDdXJzb3I7XG5cbmZ1bmN0aW9uIHVuc2V0R3JhYkN1cnNvcigpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgaWYgKHN3aXBlci5zdXBwb3J0LnRvdWNoIHx8IHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpcGVyLmVsLnN0eWxlLmN1cnNvciA9ICcnO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2xvYWRJbWFnZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbG9hZEltYWdlXCIpKTtcblxudmFyIF9wcmVsb2FkSW1hZ2VzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9wcmVsb2FkSW1hZ2VzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBsb2FkSW1hZ2U6IF9sb2FkSW1hZ2UuZGVmYXVsdCxcbiAgcHJlbG9hZEltYWdlczogX3ByZWxvYWRJbWFnZXMuZGVmYXVsdFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbG9hZEltYWdlO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGxvYWRJbWFnZShpbWFnZUVsLCBzcmMsIHNyY3NldCwgc2l6ZXMsIGNoZWNrRm9yQ29tcGxldGUsIGNhbGxiYWNrKSB7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBpbWFnZTtcblxuICBmdW5jdGlvbiBvblJlYWR5KCkge1xuICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgfVxuXG4gIHZhciBpc1BpY3R1cmUgPSAoMCwgX2RvbS5kZWZhdWx0KShpbWFnZUVsKS5wYXJlbnQoJ3BpY3R1cmUnKVswXTtcblxuICBpZiAoIWlzUGljdHVyZSAmJiAoIWltYWdlRWwuY29tcGxldGUgfHwgIWNoZWNrRm9yQ29tcGxldGUpKSB7XG4gICAgaWYgKHNyYykge1xuICAgICAgaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgICBpbWFnZS5vbmxvYWQgPSBvblJlYWR5O1xuICAgICAgaW1hZ2Uub25lcnJvciA9IG9uUmVhZHk7XG5cbiAgICAgIGlmIChzaXplcykge1xuICAgICAgICBpbWFnZS5zaXplcyA9IHNpemVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgIGltYWdlLnNyY3NldCA9IHNyY3NldDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNyYykge1xuICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uUmVhZHkoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gaW1hZ2UgYWxyZWFkeSBsb2FkZWQuLi5cbiAgICBvblJlYWR5KCk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHByZWxvYWRJbWFnZXM7XG5cbmZ1bmN0aW9uIHByZWxvYWRJbWFnZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICBzd2lwZXIuaW1hZ2VzVG9Mb2FkID0gc3dpcGVyLiRlbC5maW5kKCdpbWcnKTtcblxuICBmdW5jdGlvbiBvblJlYWR5KCkge1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIgPT09IG51bGwgfHwgIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5pbWFnZXNMb2FkZWQgIT09IHVuZGVmaW5lZCkgc3dpcGVyLmltYWdlc0xvYWRlZCArPSAxO1xuXG4gICAgaWYgKHN3aXBlci5pbWFnZXNMb2FkZWQgPT09IHN3aXBlci5pbWFnZXNUb0xvYWQubGVuZ3RoKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51cGRhdGVPbkltYWdlc1JlYWR5KSBzd2lwZXIudXBkYXRlKCk7XG4gICAgICBzd2lwZXIuZW1pdCgnaW1hZ2VzUmVhZHknKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN3aXBlci5pbWFnZXNUb0xvYWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgaW1hZ2VFbCA9IHN3aXBlci5pbWFnZXNUb0xvYWRbaV07XG4gICAgc3dpcGVyLmxvYWRJbWFnZShpbWFnZUVsLCBpbWFnZUVsLmN1cnJlbnRTcmMgfHwgaW1hZ2VFbC5nZXRBdHRyaWJ1dGUoJ3NyYycpLCBpbWFnZUVsLnNyY3NldCB8fCBpbWFnZUVsLmdldEF0dHJpYnV0ZSgnc3Jjc2V0JyksIGltYWdlRWwuc2l6ZXMgfHwgaW1hZ2VFbC5nZXRBdHRyaWJ1dGUoJ3NpemVzJyksIHRydWUsIG9uUmVhZHkpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfbG9vcENyZWF0ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbG9vcENyZWF0ZVwiKSk7XG5cbnZhciBfbG9vcEZpeCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbG9vcEZpeFwiKSk7XG5cbnZhciBfbG9vcERlc3Ryb3kgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2xvb3BEZXN0cm95XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBsb29wQ3JlYXRlOiBfbG9vcENyZWF0ZS5kZWZhdWx0LFxuICBsb29wRml4OiBfbG9vcEZpeC5kZWZhdWx0LFxuICBsb29wRGVzdHJveTogX2xvb3BEZXN0cm95LmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGxvb3BDcmVhdGU7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbG9vcENyZWF0ZSgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDsgLy8gUmVtb3ZlIGR1cGxpY2F0ZWQgc2xpZGVzXG5cbiAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykucmVtb3ZlKCk7XG4gIHZhciBzbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpO1xuXG4gIGlmIChwYXJhbXMubG9vcEZpbGxHcm91cFdpdGhCbGFuaykge1xuICAgIHZhciBibGFua1NsaWRlc051bSA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cCAtIHNsaWRlcy5sZW5ndGggJSBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgICBpZiAoYmxhbmtTbGlkZXNOdW0gIT09IHBhcmFtcy5zbGlkZXNQZXJHcm91cCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibGFua1NsaWRlc051bTsgaSArPSAxKSB7XG4gICAgICAgIHZhciBibGFua05vZGUgPSAoMCwgX2RvbS5kZWZhdWx0KShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlQ2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZUJsYW5rQ2xhc3MpO1xuICAgICAgICAkd3JhcHBlckVsLmFwcGVuZChibGFua05vZGUpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmICFwYXJhbXMubG9vcGVkU2xpZGVzKSBwYXJhbXMubG9vcGVkU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcbiAgc3dpcGVyLmxvb3BlZFNsaWRlcyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHBhcmFtcy5sb29wZWRTbGlkZXMgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gIHN3aXBlci5sb29wZWRTbGlkZXMgKz0gcGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzO1xuXG4gIGlmIChzd2lwZXIubG9vcGVkU2xpZGVzID4gc2xpZGVzLmxlbmd0aCkge1xuICAgIHN3aXBlci5sb29wZWRTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICB9XG5cbiAgdmFyIHByZXBlbmRTbGlkZXMgPSBbXTtcbiAgdmFyIGFwcGVuZFNsaWRlcyA9IFtdO1xuICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7XG4gICAgdmFyIHNsaWRlID0gKDAsIF9kb20uZGVmYXVsdCkoZWwpO1xuXG4gICAgaWYgKGluZGV4IDwgc3dpcGVyLmxvb3BlZFNsaWRlcykge1xuICAgICAgYXBwZW5kU2xpZGVzLnB1c2goZWwpO1xuICAgIH1cblxuICAgIGlmIChpbmRleCA8IHNsaWRlcy5sZW5ndGggJiYgaW5kZXggPj0gc2xpZGVzLmxlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMpIHtcbiAgICAgIHByZXBlbmRTbGlkZXMucHVzaChlbCk7XG4gICAgfVxuXG4gICAgc2xpZGUuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gIH0pO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcHBlbmRTbGlkZXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgJHdyYXBwZXJFbC5hcHBlbmQoKDAsIF9kb20uZGVmYXVsdCkoYXBwZW5kU2xpZGVzW19pXS5jbG9uZU5vZGUodHJ1ZSkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSk7XG4gIH1cblxuICBmb3IgKHZhciBfaTIgPSBwcmVwZW5kU2xpZGVzLmxlbmd0aCAtIDE7IF9pMiA+PSAwOyBfaTIgLT0gMSkge1xuICAgICR3cmFwcGVyRWwucHJlcGVuZCgoMCwgX2RvbS5kZWZhdWx0KShwcmVwZW5kU2xpZGVzW19pMl0uY2xvbmVOb2RlKHRydWUpKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBsb29wRGVzdHJveTtcblxuZnVuY3Rpb24gbG9vcERlc3Ryb3koKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG4gICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIiwuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlQmxhbmtDbGFzcykucmVtb3ZlKCk7XG4gIHNsaWRlcy5yZW1vdmVBdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbG9vcEZpeDtcblxuZnVuY3Rpb24gbG9vcEZpeCgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVMb29wRml4Jyk7XG4gIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICBsb29wZWRTbGlkZXMgPSBzd2lwZXIubG9vcGVkU2xpZGVzLFxuICAgICAgYWxsb3dTbGlkZVByZXYgPSBzd2lwZXIuYWxsb3dTbGlkZVByZXYsXG4gICAgICBhbGxvd1NsaWRlTmV4dCA9IHN3aXBlci5hbGxvd1NsaWRlTmV4dCxcbiAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgdmFyIG5ld0luZGV4O1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICB2YXIgc25hcFRyYW5zbGF0ZSA9IC1zbmFwR3JpZFthY3RpdmVJbmRleF07XG4gIHZhciBkaWZmID0gc25hcFRyYW5zbGF0ZSAtIHN3aXBlci5nZXRUcmFuc2xhdGUoKTsgLy8gRml4IEZvciBOZWdhdGl2ZSBPdmVyc2xpZGluZ1xuXG4gIGlmIChhY3RpdmVJbmRleCA8IGxvb3BlZFNsaWRlcykge1xuICAgIG5ld0luZGV4ID0gc2xpZGVzLmxlbmd0aCAtIGxvb3BlZFNsaWRlcyAqIDMgKyBhY3RpdmVJbmRleDtcbiAgICBuZXdJbmRleCArPSBsb29wZWRTbGlkZXM7XG4gICAgdmFyIHNsaWRlQ2hhbmdlZCA9IHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICBpZiAoc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoKHJ0bCA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSkgLSBkaWZmKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aXZlSW5kZXggPj0gc2xpZGVzLmxlbmd0aCAtIGxvb3BlZFNsaWRlcykge1xuICAgIC8vIEZpeCBGb3IgUG9zaXRpdmUgT3ZlcnNsaWRpbmdcbiAgICBuZXdJbmRleCA9IC1zbGlkZXMubGVuZ3RoICsgYWN0aXZlSW5kZXggKyBsb29wZWRTbGlkZXM7XG4gICAgbmV3SW5kZXggKz0gbG9vcGVkU2xpZGVzO1xuXG4gICAgdmFyIF9zbGlkZUNoYW5nZWQgPSBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuXG4gICAgaWYgKF9zbGlkZUNoYW5nZWQgJiYgZGlmZiAhPT0gMCkge1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSgocnRsID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKSAtIGRpZmYpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFkZFNsaWRlO1xuXG5mdW5jdGlvbiBhZGRTbGlkZShpbmRleCwgc2xpZGVzKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICB2YXIgYWN0aXZlSW5kZXhCdWZmZXIgPSBhY3RpdmVJbmRleDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5zbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpO1xuICB9XG5cbiAgdmFyIGJhc2VMZW5ndGggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcblxuICBpZiAoaW5kZXggPD0gMCkge1xuICAgIHN3aXBlci5wcmVwZW5kU2xpZGUoc2xpZGVzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5kZXggPj0gYmFzZUxlbmd0aCkge1xuICAgIHN3aXBlci5hcHBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4QnVmZmVyID4gaW5kZXggPyBhY3RpdmVJbmRleEJ1ZmZlciArIDEgOiBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgdmFyIHNsaWRlc0J1ZmZlciA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSBiYXNlTGVuZ3RoIC0gMTsgaSA+PSBpbmRleDsgaSAtPSAxKSB7XG4gICAgdmFyIGN1cnJlbnRTbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgY3VycmVudFNsaWRlLnJlbW92ZSgpO1xuICAgIHNsaWRlc0J1ZmZlci51bnNoaWZ0KGN1cnJlbnRTbGlkZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHNsaWRlcy5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbX2ldKSAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXNbX2ldKTtcbiAgICB9XG5cbiAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4QnVmZmVyID4gaW5kZXggPyBhY3RpdmVJbmRleEJ1ZmZlciArIHNsaWRlcy5sZW5ndGggOiBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgfSBlbHNlIHtcbiAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXMpO1xuICB9XG5cbiAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgc2xpZGVzQnVmZmVyLmxlbmd0aDsgX2kyICs9IDEpIHtcbiAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXNCdWZmZXJbX2kyXSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG5cbiAgaWYgKCEocGFyYW1zLm9ic2VydmVyICYmIHN3aXBlci5zdXBwb3J0Lm9ic2VydmVyKSkge1xuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0FjdGl2ZUluZGV4ICsgc3dpcGVyLmxvb3BlZFNsaWRlcywgMCwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0FjdGl2ZUluZGV4LCAwLCBmYWxzZSk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFwcGVuZFNsaWRlO1xuXG5mdW5jdGlvbiBhcHBlbmRTbGlkZShzbGlkZXMpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldKSAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXNbaV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXMpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hcHBlbmRTbGlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vYXBwZW5kU2xpZGVcIikpO1xuXG52YXIgX3ByZXBlbmRTbGlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcHJlcGVuZFNsaWRlXCIpKTtcblxudmFyIF9hZGRTbGlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vYWRkU2xpZGVcIikpO1xuXG52YXIgX3JlbW92ZVNsaWRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9yZW1vdmVTbGlkZVwiKSk7XG5cbnZhciBfcmVtb3ZlQWxsU2xpZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9yZW1vdmVBbGxTbGlkZXNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIGFwcGVuZFNsaWRlOiBfYXBwZW5kU2xpZGUuZGVmYXVsdCxcbiAgcHJlcGVuZFNsaWRlOiBfcHJlcGVuZFNsaWRlLmRlZmF1bHQsXG4gIGFkZFNsaWRlOiBfYWRkU2xpZGUuZGVmYXVsdCxcbiAgcmVtb3ZlU2xpZGU6IF9yZW1vdmVTbGlkZS5kZWZhdWx0LFxuICByZW1vdmVBbGxTbGlkZXM6IF9yZW1vdmVBbGxTbGlkZXMuZGVmYXVsdFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gcHJlcGVuZFNsaWRlO1xuXG5mdW5jdGlvbiBwcmVwZW5kU2xpZGUoc2xpZGVzKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICB9XG5cbiAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuXG4gIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHNsaWRlc1tpXSkgJHdyYXBwZXJFbC5wcmVwZW5kKHNsaWRlc1tpXSk7XG4gICAgfVxuXG4gICAgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCArIHNsaWRlcy5sZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgJHdyYXBwZXJFbC5wcmVwZW5kKHNsaWRlcyk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG5cbiAgaWYgKCEocGFyYW1zLm9ic2VydmVyICYmIHN3aXBlci5zdXBwb3J0Lm9ic2VydmVyKSkge1xuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuXG4gIHN3aXBlci5zbGlkZVRvKG5ld0FjdGl2ZUluZGV4LCAwLCBmYWxzZSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSByZW1vdmVBbGxTbGlkZXM7XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbFNsaWRlcygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBzbGlkZXNJbmRleGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICB9XG5cbiAgc3dpcGVyLnJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVtb3ZlU2xpZGU7XG5cbmZ1bmN0aW9uIHJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIHZhciBhY3RpdmVJbmRleEJ1ZmZlciA9IGFjdGl2ZUluZGV4O1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGFjdGl2ZUluZGV4QnVmZmVyIC09IHN3aXBlci5sb29wZWRTbGlkZXM7XG4gICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgc3dpcGVyLnNsaWRlcyA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyk7XG4gIH1cblxuICB2YXIgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgdmFyIGluZGV4VG9SZW1vdmU7XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXNJbmRleGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXNJbmRleGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXNJbmRleGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpbmRleFRvUmVtb3ZlID0gc2xpZGVzSW5kZXhlc1tpXTtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdKSBzd2lwZXIuc2xpZGVzLmVxKGluZGV4VG9SZW1vdmUpLnJlbW92ZSgpO1xuICAgICAgaWYgKGluZGV4VG9SZW1vdmUgPCBuZXdBY3RpdmVJbmRleCkgbmV3QWN0aXZlSW5kZXggLT0gMTtcbiAgICB9XG5cbiAgICBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgfSBlbHNlIHtcbiAgICBpbmRleFRvUmVtb3ZlID0gc2xpZGVzSW5kZXhlcztcbiAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlcy5lcShpbmRleFRvUmVtb3ZlKS5yZW1vdmUoKTtcbiAgICBpZiAoaW5kZXhUb1JlbW92ZSA8IG5ld0FjdGl2ZUluZGV4KSBuZXdBY3RpdmVJbmRleCAtPSAxO1xuICAgIG5ld0FjdGl2ZUluZGV4ID0gTWF0aC5tYXgobmV3QWN0aXZlSW5kZXgsIDApO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgdXNlUGFyYW1zOiBmdW5jdGlvbiB1c2VQYXJhbXMoaW5zdGFuY2VQYXJhbXMpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuICAgIGlmICghaW5zdGFuY2UubW9kdWxlcykgcmV0dXJuO1xuICAgIE9iamVjdC5rZXlzKGluc3RhbmNlLm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgIHZhciBtb2R1bGUgPSBpbnN0YW5jZS5tb2R1bGVzW21vZHVsZU5hbWVdOyAvLyBFeHRlbmQgcGFyYW1zXG5cbiAgICAgIGlmIChtb2R1bGUucGFyYW1zKSB7XG4gICAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShpbnN0YW5jZVBhcmFtcywgbW9kdWxlLnBhcmFtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHVzZU1vZHVsZXM6IGZ1bmN0aW9uIHVzZU1vZHVsZXMobW9kdWxlc1BhcmFtcykge1xuICAgIGlmIChtb2R1bGVzUGFyYW1zID09PSB2b2lkIDApIHtcbiAgICAgIG1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuICAgIGlmICghaW5zdGFuY2UubW9kdWxlcykgcmV0dXJuO1xuICAgIE9iamVjdC5rZXlzKGluc3RhbmNlLm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgIHZhciBtb2R1bGUgPSBpbnN0YW5jZS5tb2R1bGVzW21vZHVsZU5hbWVdO1xuICAgICAgdmFyIG1vZHVsZVBhcmFtcyA9IG1vZHVsZXNQYXJhbXNbbW9kdWxlTmFtZV0gfHwge307IC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgaWYgKG1vZHVsZS5vbiAmJiBpbnN0YW5jZS5vbikge1xuICAgICAgICBPYmplY3Qua2V5cyhtb2R1bGUub24pLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZUV2ZW50TmFtZSkge1xuICAgICAgICAgIGluc3RhbmNlLm9uKG1vZHVsZUV2ZW50TmFtZSwgbW9kdWxlLm9uW21vZHVsZUV2ZW50TmFtZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gTW9kdWxlIGNyZWF0ZSBjYWxsYmFja1xuXG5cbiAgICAgIGlmIChtb2R1bGUuY3JlYXRlKSB7XG4gICAgICAgIG1vZHVsZS5jcmVhdGUuYmluZChpbnN0YW5jZSkobW9kdWxlUGFyYW1zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NsaWRlVG8gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NsaWRlVG9cIikpO1xuXG52YXIgX3NsaWRlVG9Mb29wID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZVRvTG9vcFwiKSk7XG5cbnZhciBfc2xpZGVOZXh0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZU5leHRcIikpO1xuXG52YXIgX3NsaWRlUHJldiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2xpZGVQcmV2XCIpKTtcblxudmFyIF9zbGlkZVJlc2V0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZVJlc2V0XCIpKTtcblxudmFyIF9zbGlkZVRvQ2xvc2VzdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2xpZGVUb0Nsb3Nlc3RcIikpO1xuXG52YXIgX3NsaWRlVG9DbGlja2VkU2xpZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NsaWRlVG9DbGlja2VkU2xpZGVcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIHNsaWRlVG86IF9zbGlkZVRvLmRlZmF1bHQsXG4gIHNsaWRlVG9Mb29wOiBfc2xpZGVUb0xvb3AuZGVmYXVsdCxcbiAgc2xpZGVOZXh0OiBfc2xpZGVOZXh0LmRlZmF1bHQsXG4gIHNsaWRlUHJldjogX3NsaWRlUHJldi5kZWZhdWx0LFxuICBzbGlkZVJlc2V0OiBfc2xpZGVSZXNldC5kZWZhdWx0LFxuICBzbGlkZVRvQ2xvc2VzdDogX3NsaWRlVG9DbG9zZXN0LmRlZmF1bHQsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGU6IF9zbGlkZVRvQ2xpY2tlZFNsaWRlLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlTmV4dDtcblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZU5leHQoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIGFuaW1hdGluZyA9IHN3aXBlci5hbmltYXRpbmcsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcbiAgdmFyIGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRlKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICB9XG5cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIGluY3JlbWVudCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2xpZGVQcmV2O1xuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlUHJldihzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cblxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgYW5pbWF0aW5nID0gc3dpcGVyLmFuaW1hdGluZyxcbiAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgcnRsVHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIGVuYWJsZWQgPSBzd2lwZXIuZW5hYmxlZDtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRlKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICB9XG5cbiAgdmFyIHRyYW5zbGF0ZSA9IHJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcblxuICBmdW5jdGlvbiBub3JtYWxpemUodmFsKSB7XG4gICAgaWYgKHZhbCA8IDApIHJldHVybiAtTWF0aC5mbG9vcihNYXRoLmFicyh2YWwpKTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih2YWwpO1xuICB9XG5cbiAgdmFyIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSBub3JtYWxpemUodHJhbnNsYXRlKTtcbiAgdmFyIG5vcm1hbGl6ZWRTbmFwR3JpZCA9IHNuYXBHcmlkLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZSh2YWwpO1xuICB9KTtcbiAgdmFyIHByZXZTbmFwID0gc25hcEdyaWRbbm9ybWFsaXplZFNuYXBHcmlkLmluZGV4T2Yobm9ybWFsaXplZFRyYW5zbGF0ZSkgLSAxXTtcblxuICBpZiAodHlwZW9mIHByZXZTbmFwID09PSAndW5kZWZpbmVkJyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHNuYXBHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNuYXApIHtcbiAgICAgIGlmICghcHJldlNuYXAgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBzbmFwKSBwcmV2U25hcCA9IHNuYXA7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgcHJldkluZGV4O1xuXG4gIGlmICh0eXBlb2YgcHJldlNuYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcHJldkluZGV4ID0gc2xpZGVzR3JpZC5pbmRleE9mKHByZXZTbmFwKTtcbiAgICBpZiAocHJldkluZGV4IDwgMCkgcHJldkluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMTtcbiAgfVxuXG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlUmVzZXQ7XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVSZXNldChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cblxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlVG87XG5cbmZ1bmN0aW9uIHNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsLCBpbml0aWFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG5cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInICYmIHR5cGVvZiBpbmRleCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ2luZGV4JyBhcmd1bWVudCBjYW5ub3QgaGF2ZSB0eXBlIG90aGVyIHRoYW4gJ251bWJlcicgb3IgJ3N0cmluZycuIFtcIiArIHR5cGVvZiBpbmRleCArIFwiXSBnaXZlbi5cIik7XG4gIH1cblxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIC8qKlxuICAgICAqIFRoZSBgaW5kZXhgIGFyZ3VtZW50IGNvbnZlcnRlZCBmcm9tIGBzdHJpbmdgIHRvIGBudW1iZXJgLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIGluZGV4QXNOdW1iZXIgPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgYGluZGV4YCBhcmd1bWVudCBpcyBhIHZhbGlkIGBudW1iZXJgXG4gICAgICogYWZ0ZXIgYmVpbmcgY29udmVydGVkIGZyb20gdGhlIGBzdHJpbmdgIHR5cGUuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgICB2YXIgaXNWYWxpZE51bWJlciA9IGlzRmluaXRlKGluZGV4QXNOdW1iZXIpO1xuXG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcGFzc2VkLWluICdpbmRleCcgKHN0cmluZykgY291bGRuJ3QgYmUgY29udmVydGVkIHRvICdudW1iZXInLiBbXCIgKyBpbmRleCArIFwiXSBnaXZlbi5cIik7XG4gICAgfSAvLyBLbm93aW5nIHRoYXQgdGhlIGNvbnZlcnRlZCBgaW5kZXhgIGlzIGEgdmFsaWQgbnVtYmVyLFxuICAgIC8vIHdlIGNhbiB1cGRhdGUgdGhlIG9yaWdpbmFsIGFyZ3VtZW50J3MgdmFsdWUuXG5cblxuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgc2xpZGVJbmRleCA9IGluZGV4O1xuICBpZiAoc2xpZGVJbmRleCA8IDApIHNsaWRlSW5kZXggPSAwO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c0luZGV4LFxuICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgIGVuYWJsZWQgPSBzd2lwZXIuZW5hYmxlZDtcblxuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uIHx8ICFlbmFibGVkICYmICFpbnRlcm5hbCAmJiAhaW5pdGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIHNsaWRlSW5kZXgpO1xuICB2YXIgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKHNsaWRlSW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcblxuICBpZiAoKGFjdGl2ZUluZGV4IHx8IHBhcmFtcy5pbml0aWFsU2xpZGUgfHwgMCkgPT09IChwcmV2aW91c0luZGV4IHx8IDApICYmIHJ1bkNhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Jyk7XG4gIH1cblxuICB2YXIgdHJhbnNsYXRlID0gLXNuYXBHcmlkW3NuYXBJbmRleF07IC8vIFVwZGF0ZSBwcm9ncmVzc1xuXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpOyAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuXG4gIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSAtTWF0aC5mbG9vcih0cmFuc2xhdGUgKiAxMDApO1xuICAgICAgdmFyIG5vcm1hbGl6ZWRHaXJkID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2ldICogMTAwKTtcbiAgICAgIHZhciBub3JtYWxpemVkR3JpZE5leHQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaSArIDFdICogMTAwKTtcblxuICAgICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdpcmQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCAtIChub3JtYWxpemVkR3JpZE5leHQgLSBub3JtYWxpemVkR2lyZCkgLyAyKSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR2lyZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0KSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdpcmQpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIERpcmVjdGlvbnMgbG9ja3NcblxuXG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgJiYgc2xpZGVJbmRleCAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiB0cmFuc2xhdGUgPCBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA8IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoKGFjdGl2ZUluZGV4IHx8IDApICE9PSBzbGlkZUluZGV4KSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdmFyIGRpcmVjdGlvbjtcbiAgaWYgKHNsaWRlSW5kZXggPiBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ25leHQnO2Vsc2UgaWYgKHNsaWRlSW5kZXggPCBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ3ByZXYnO2Vsc2UgZGlyZWN0aW9uID0gJ3Jlc2V0JzsgLy8gVXBkYXRlIEluZGV4XG5cbiAgaWYgKHJ0bCAmJiAtdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlIHx8ICFydGwgJiYgdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlKSB7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpOyAvLyBVcGRhdGUgSGVpZ2h0XG5cbiAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgIGlmIChwYXJhbXMuZWZmZWN0ICE9PSAnc2xpZGUnKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgdmFyIGlzSCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICB2YXIgdCA9IC10cmFuc2xhdGU7XG5cbiAgICBpZiAocnRsKSB7XG4gICAgICB0ID0gd3JhcHBlckVsLnNjcm9sbFdpZHRoIC0gd3JhcHBlckVsLm9mZnNldFdpZHRoIC0gdDtcbiAgICB9XG5cbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmICh3cmFwcGVyRWwuc2Nyb2xsVG8pIHtcbiAgICAgICAgdmFyIF93cmFwcGVyRWwkc2Nyb2xsVG87XG5cbiAgICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKChfd3JhcHBlckVsJHNjcm9sbFRvID0ge30sIF93cmFwcGVyRWwkc2Nyb2xsVG9baXNIID8gJ2xlZnQnIDogJ3RvcCddID0gdCwgX3dyYXBwZXJFbCRzY3JvbGxUby5iZWhhdmlvciA9ICdzbW9vdGgnLCBfd3JhcHBlckVsJHNjcm9sbFRvKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcblxuICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2xpZGVUb0NsaWNrZWRTbGlkZTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBzbGlkZVRvQ2xpY2tlZFNsaWRlKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gIHZhciBzbGlkZXNQZXJWaWV3ID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gIHZhciBzbGlkZVRvSW5kZXggPSBzd2lwZXIuY2xpY2tlZEluZGV4O1xuICB2YXIgcmVhbEluZGV4O1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSByZXR1cm47XG4gICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLmNsaWNrZWRTbGlkZSkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuXG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgaWYgKHNsaWRlVG9JbmRleCA8IHN3aXBlci5sb29wZWRTbGlkZXMgLSBzbGlkZXNQZXJWaWV3IC8gMiB8fCBzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKyBzbGlkZXNQZXJWaWV3IC8gMikge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICBzbGlkZVRvSW5kZXggPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyByZWFsSW5kZXggKyBcIlxcXCJdOm5vdCguXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVwiKS5lcSgwKS5pbmRleCgpO1xuICAgICAgICAoMCwgX3V0aWxzLm5leHRUaWNrKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzbGlkZXNQZXJWaWV3KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgc2xpZGVUb0luZGV4ID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcmVhbEluZGV4ICsgXCJcXFwiXTpub3QoLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilcIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzbGlkZVRvQ2xvc2VzdDtcblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVRvQ2xvc2VzdChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgdGhyZXNob2xkKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuXG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICB0aHJlc2hvbGQgPSAwLjU7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICB2YXIgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCk7XG4gIHZhciBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICB2YXIgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcblxuICBpZiAodHJhbnNsYXRlID49IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIG9uIG9yIGFmdGVyIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGFmdGVyIGl0LlxuICAgIHZhciBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIHZhciBuZXh0U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggKyAxXTtcblxuICAgIGlmICh0cmFuc2xhdGUgLSBjdXJyZW50U25hcCA+IChuZXh0U25hcCAtIGN1cnJlbnRTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggKz0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIGJlZm9yZSB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgdmFyIHByZXZTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleCAtIDFdO1xuICAgIHZhciBfY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcblxuICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoX2N1cnJlbnRTbmFwIC0gcHJldlNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCAtPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfVxuXG4gIGluZGV4ID0gTWF0aC5tYXgoaW5kZXgsIDApO1xuICBpbmRleCA9IE1hdGgubWluKGluZGV4LCBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzbGlkZVRvTG9vcDtcblxuZnVuY3Rpb24gc2xpZGVUb0xvb3AoaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG5cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgbmV3SW5kZXggPSBpbmRleDtcblxuICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgbmV3SW5kZXggKz0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgfVxuXG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NldFRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NldFRyYW5zaXRpb25cIikpO1xuXG52YXIgX3RyYW5zaXRpb25TdGFydCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNpdGlvblN0YXJ0XCIpKTtcblxudmFyIF90cmFuc2l0aW9uRW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2l0aW9uRW5kXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBzZXRUcmFuc2l0aW9uOiBfc2V0VHJhbnNpdGlvbi5kZWZhdWx0LFxuICB0cmFuc2l0aW9uU3RhcnQ6IF90cmFuc2l0aW9uU3RhcnQuZGVmYXVsdCxcbiAgdHJhbnNpdGlvbkVuZDogX3RyYW5zaXRpb25FbmQuZGVmYXVsdFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2V0VHJhbnNpdGlvbjtcblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gIGlmICghc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWwudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNpdGlvbicsIGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNpdGlvbkVuZDtcblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICB2YXIgZGlyID0gZGlyZWN0aW9uO1xuXG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgIGlmIChkaXIgPT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZVJlc2V0VHJhbnNpdGlvbkVuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZVRyYW5zaXRpb25FbmQnKTtcblxuICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25FbmQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlUHJldlRyYW5zaXRpb25FbmQnKTtcbiAgICB9XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyYW5zaXRpb25TdGFydDtcblxuZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleDtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG5cbiAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgfVxuXG4gIHZhciBkaXIgPSBkaXJlY3Rpb247XG5cbiAgaWYgKCFkaXIpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPiBwcmV2aW91c0luZGV4KSBkaXIgPSAnbmV4dCc7ZWxzZSBpZiAoYWN0aXZlSW5kZXggPCBwcmV2aW91c0luZGV4KSBkaXIgPSAncHJldic7ZWxzZSBkaXIgPSAncmVzZXQnO1xuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuXG4gIGlmIChydW5DYWxsYmFja3MgJiYgYWN0aXZlSW5kZXggIT09IHByZXZpb3VzSW5kZXgpIHtcbiAgICBpZiAoZGlyID09PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVSZXNldFRyYW5zaXRpb25TdGFydCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZVRyYW5zaXRpb25TdGFydCcpO1xuXG4gICAgaWYgKGRpciA9PT0gJ25leHQnKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVOZXh0VHJhbnNpdGlvblN0YXJ0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZVByZXZUcmFuc2l0aW9uU3RhcnQnKTtcbiAgICB9XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldFN3aXBlclRyYW5zbGF0ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gZ2V0U3dpcGVyVHJhbnNsYXRlKGF4aXMpIHtcbiAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgIGF4aXMgPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gJ3gnIDogJ3knO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIHRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGUsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG5cbiAgaWYgKHBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRlO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRUcmFuc2xhdGUgPSAoMCwgX3V0aWxzLmdldFRyYW5zbGF0ZSkoJHdyYXBwZXJFbFswXSwgYXhpcyk7XG4gIGlmIChydGwpIGN1cnJlbnRUcmFuc2xhdGUgPSAtY3VycmVudFRyYW5zbGF0ZTtcbiAgcmV0dXJuIGN1cnJlbnRUcmFuc2xhdGUgfHwgMDtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9nZXRUcmFuc2xhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2dldFRyYW5zbGF0ZVwiKSk7XG5cbnZhciBfc2V0VHJhbnNsYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zZXRUcmFuc2xhdGVcIikpO1xuXG52YXIgX21pblRyYW5zbGF0ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbWluVHJhbnNsYXRlXCIpKTtcblxudmFyIF9tYXhUcmFuc2xhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL21heFRyYW5zbGF0ZVwiKSk7XG5cbnZhciBfdHJhbnNsYXRlVG8gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zbGF0ZVRvXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBnZXRUcmFuc2xhdGU6IF9nZXRUcmFuc2xhdGUuZGVmYXVsdCxcbiAgc2V0VHJhbnNsYXRlOiBfc2V0VHJhbnNsYXRlLmRlZmF1bHQsXG4gIG1pblRyYW5zbGF0ZTogX21pblRyYW5zbGF0ZS5kZWZhdWx0LFxuICBtYXhUcmFuc2xhdGU6IF9tYXhUcmFuc2xhdGUuZGVmYXVsdCxcbiAgdHJhbnNsYXRlVG86IF90cmFuc2xhdGVUby5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXhUcmFuc2xhdGU7XG5cbmZ1bmN0aW9uIG1heFRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkW3RoaXMuc25hcEdyaWQubGVuZ3RoIC0gMV07XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtaW5UcmFuc2xhdGU7XG5cbmZ1bmN0aW9uIG1pblRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkWzBdO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2V0VHJhbnNsYXRlO1xuXG5mdW5jdGlvbiBzZXRUcmFuc2xhdGUodHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWwsXG4gICAgICBwcm9ncmVzcyA9IHN3aXBlci5wcm9ncmVzcztcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7XG4gIHZhciB6ID0gMDtcblxuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgeCA9IHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgeSA9IHRyYW5zbGF0ZTtcbiAgfVxuXG4gIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgeCA9IE1hdGguZmxvb3IoeCk7XG4gICAgeSA9IE1hdGguZmxvb3IoeSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWxbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gLXggOiAteTtcbiAgfSBlbHNlIGlmICghcGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHtcbiAgICAkd3JhcHBlckVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgsIFwiICsgeiArIFwicHgpXCIpO1xuICB9XG5cbiAgc3dpcGVyLnByZXZpb3VzVHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgc3dpcGVyLnRyYW5zbGF0ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHggOiB5OyAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSBwcm9ncmVzc1xuXG4gIHZhciBuZXdQcm9ncmVzcztcbiAgdmFyIHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuXG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gIH1cblxuICBpZiAobmV3UHJvZ3Jlc3MgIT09IHByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyYW5zbGF0ZVRvO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVUbyh0cmFuc2xhdGUsIHNwZWVkLCBydW5DYWxsYmFja3MsIHRyYW5zbGF0ZUJvdW5kcywgaW50ZXJuYWwpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gMDtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuXG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICBpZiAodHJhbnNsYXRlQm91bmRzID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGVCb3VuZHMgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbDtcblxuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIG1pblRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgdmFyIG1heFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgdmFyIG5ld1RyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPiBtaW5UcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1pblRyYW5zbGF0ZTtlbHNlIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlIDwgbWF4VHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtYXhUcmFuc2xhdGU7ZWxzZSBuZXdUcmFuc2xhdGUgPSB0cmFuc2xhdGU7IC8vIFVwZGF0ZSBwcm9ncmVzc1xuXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdUcmFuc2xhdGUpO1xuXG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHZhciBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG5cbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSAtbmV3VHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmICh3cmFwcGVyRWwuc2Nyb2xsVG8pIHtcbiAgICAgICAgdmFyIF93cmFwcGVyRWwkc2Nyb2xsVG87XG5cbiAgICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKChfd3JhcHBlckVsJHNjcm9sbFRvID0ge30sIF93cmFwcGVyRWwkc2Nyb2xsVG9baXNIID8gJ2xlZnQnIDogJ3RvcCddID0gLW5ld1RyYW5zbGF0ZSwgX3dyYXBwZXJFbCRzY3JvbGxUby5iZWhhdmlvciA9ICdzbW9vdGgnLCBfd3JhcHBlckVsJHNjcm9sbFRvKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcblxuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcblxuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG5cbiAgICAgICAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3VwZGF0ZVNpemUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVNpemVcIikpO1xuXG52YXIgX3VwZGF0ZVNsaWRlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlU2xpZGVzXCIpKTtcblxudmFyIF91cGRhdGVBdXRvSGVpZ2h0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVBdXRvSGVpZ2h0XCIpKTtcblxudmFyIF91cGRhdGVTbGlkZXNPZmZzZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVNsaWRlc09mZnNldFwiKSk7XG5cbnZhciBfdXBkYXRlU2xpZGVzUHJvZ3Jlc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVNsaWRlc1Byb2dyZXNzXCIpKTtcblxudmFyIF91cGRhdGVQcm9ncmVzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlUHJvZ3Jlc3NcIikpO1xuXG52YXIgX3VwZGF0ZVNsaWRlc0NsYXNzZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVNsaWRlc0NsYXNzZXNcIikpO1xuXG52YXIgX3VwZGF0ZUFjdGl2ZUluZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVBY3RpdmVJbmRleFwiKSk7XG5cbnZhciBfdXBkYXRlQ2xpY2tlZFNsaWRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVDbGlja2VkU2xpZGVcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIHVwZGF0ZVNpemU6IF91cGRhdGVTaXplLmRlZmF1bHQsXG4gIHVwZGF0ZVNsaWRlczogX3VwZGF0ZVNsaWRlcy5kZWZhdWx0LFxuICB1cGRhdGVBdXRvSGVpZ2h0OiBfdXBkYXRlQXV0b0hlaWdodC5kZWZhdWx0LFxuICB1cGRhdGVTbGlkZXNPZmZzZXQ6IF91cGRhdGVTbGlkZXNPZmZzZXQuZGVmYXVsdCxcbiAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3M6IF91cGRhdGVTbGlkZXNQcm9ncmVzcy5kZWZhdWx0LFxuICB1cGRhdGVQcm9ncmVzczogX3VwZGF0ZVByb2dyZXNzLmRlZmF1bHQsXG4gIHVwZGF0ZVNsaWRlc0NsYXNzZXM6IF91cGRhdGVTbGlkZXNDbGFzc2VzLmRlZmF1bHQsXG4gIHVwZGF0ZUFjdGl2ZUluZGV4OiBfdXBkYXRlQWN0aXZlSW5kZXguZGVmYXVsdCxcbiAgdXBkYXRlQ2xpY2tlZFNsaWRlOiBfdXBkYXRlQ2xpY2tlZFNsaWRlLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZUFjdGl2ZUluZGV4O1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIHZhciBzbGlkZXNHcmlkID0gc3dpcGVyLnNsaWRlc0dyaWQsXG4gICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgcHJldmlvdXNSZWFsSW5kZXggPSBzd2lwZXIucmVhbEluZGV4LFxuICAgICAgcHJldmlvdXNTbmFwSW5kZXggPSBzd2lwZXIuc25hcEluZGV4O1xuICB2YXIgYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleDtcbiAgdmFyIHNuYXBJbmRleDtcblxuICBpZiAodHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdIC0gKHNsaWRlc0dyaWRbaSArIDFdIC0gc2xpZGVzR3JpZFtpXSkgLyAyKSB7XG4gICAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdKSB7XG4gICAgICAgICAgYWN0aXZlSW5kZXggPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgICB9XG4gICAgfSAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuXG5cbiAgICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICAgIGlmIChhY3RpdmVJbmRleCA8IDAgfHwgdHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykgYWN0aXZlSW5kZXggPSAwO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSkgPj0gMCkge1xuICAgIHNuYXBJbmRleCA9IHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2tpcCA9IE1hdGgubWluKHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGFjdGl2ZUluZGV4KTtcbiAgICBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoYWN0aXZlSW5kZXggLSBza2lwKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIH1cblxuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcblxuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXgpIHtcbiAgICBpZiAoc25hcEluZGV4ICE9PSBwcmV2aW91c1NuYXBJbmRleCkge1xuICAgICAgc3dpcGVyLnNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0gLy8gR2V0IHJlYWwgaW5kZXhcblxuXG4gIHZhciByZWFsSW5kZXggPSBwYXJzZUludChzd2lwZXIuc2xpZGVzLmVxKGFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpIHx8IGFjdGl2ZUluZGV4LCAxMCk7XG4gICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICBzbmFwSW5kZXg6IHNuYXBJbmRleCxcbiAgICByZWFsSW5kZXg6IHJlYWxJbmRleCxcbiAgICBwcmV2aW91c0luZGV4OiBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleFxuICB9KTtcbiAgc3dpcGVyLmVtaXQoJ2FjdGl2ZUluZGV4Q2hhbmdlJyk7XG4gIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcblxuICBpZiAocHJldmlvdXNSZWFsSW5kZXggIT09IHJlYWxJbmRleCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFsSW5kZXhDaGFuZ2UnKTtcbiAgfVxuXG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgfHwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2UnKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlQXV0b0hlaWdodDtcblxuZnVuY3Rpb24gdXBkYXRlQXV0b0hlaWdodChzcGVlZCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGFjdGl2ZVNsaWRlcyA9IFtdO1xuICB2YXIgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIHZhciBuZXdIZWlnaHQgPSAwO1xuICB2YXIgaTtcblxuICBpZiAodHlwZW9mIHNwZWVkID09PSAnbnVtYmVyJykge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgfSBlbHNlIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICB9XG5cbiAgdmFyIGdldFNsaWRlQnlJbmRleCA9IGZ1bmN0aW9uIGdldFNsaWRlQnlJbmRleChpbmRleCkge1xuICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgIHJldHVybiBzd2lwZXIuc2xpZGVzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApID09PSBpbmRleDtcbiAgICAgIH0pWzBdO1xuICAgIH1cblxuICAgIHJldHVybiBzd2lwZXIuc2xpZGVzLmVxKGluZGV4KVswXTtcbiAgfTsgLy8gRmluZCBzbGlkZXMgY3VycmVudGx5IGluIHZpZXdcblxuXG4gIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlKSB7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggKyBpO1xuICAgICAgICBpZiAoaW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAmJiAhaXNWaXJ0dWFsKSBicmVhaztcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KGluZGV4KSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChzd2lwZXIuYWN0aXZlSW5kZXgpKTtcbiAgfSAvLyBGaW5kIG5ldyBoZWlnaHQgZnJvbSBoaWdoZXN0IHNsaWRlIGluIHZpZXdcblxuXG4gIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVTbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBoZWlnaHQgPSBhY3RpdmVTbGlkZXNbaV0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgbmV3SGVpZ2h0ID0gaGVpZ2h0ID4gbmV3SGVpZ2h0ID8gaGVpZ2h0IDogbmV3SGVpZ2h0O1xuICAgIH1cbiAgfSAvLyBVcGRhdGUgSGVpZ2h0XG5cblxuICBpZiAobmV3SGVpZ2h0KSBzd2lwZXIuJHdyYXBwZXJFbC5jc3MoJ2hlaWdodCcsIG5ld0hlaWdodCArIFwicHhcIik7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1cGRhdGVDbGlja2VkU2xpZGU7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdXBkYXRlQ2xpY2tlZFNsaWRlKGUpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICB2YXIgc2xpZGUgPSAoMCwgX2RvbS5kZWZhdWx0KShlLnRhcmdldCkuY2xvc2VzdChcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKVswXTtcbiAgdmFyIHNsaWRlRm91bmQgPSBmYWxzZTtcbiAgdmFyIHNsaWRlSW5kZXg7XG5cbiAgaWYgKHNsaWRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpXSA9PT0gc2xpZGUpIHtcbiAgICAgICAgc2xpZGVGb3VuZCA9IHRydWU7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc2xpZGUgJiYgc2xpZGVGb3VuZCkge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSBzbGlkZTtcblxuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHBhcnNlSW50KCgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBzbGlkZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gdW5kZWZpbmVkO1xuICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5zbGlkZVRvQ2xpY2tlZFNsaWRlICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICBzd2lwZXIuc2xpZGVUb0NsaWNrZWRTbGlkZSgpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1cGRhdGVQcm9ncmVzcztcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgdHJhbnNsYXRlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBtdWx0aXBsaWVyID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICB9XG5cbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgdmFyIHByb2dyZXNzID0gc3dpcGVyLnByb2dyZXNzLFxuICAgICAgaXNCZWdpbm5pbmcgPSBzd2lwZXIuaXNCZWdpbm5pbmcsXG4gICAgICBpc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgdmFyIHdhc0JlZ2lubmluZyA9IGlzQmVnaW5uaW5nO1xuICB2YXIgd2FzRW5kID0gaXNFbmQ7XG5cbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgcHJvZ3Jlc3MgPSAwO1xuICAgIGlzQmVnaW5uaW5nID0gdHJ1ZTtcbiAgICBpc0VuZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICAgIGlzQmVnaW5uaW5nID0gcHJvZ3Jlc3MgPD0gMDtcbiAgICBpc0VuZCA9IHByb2dyZXNzID49IDE7XG4gIH1cblxuICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLCB7XG4gICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgIGlzQmVnaW5uaW5nOiBpc0JlZ2lubmluZyxcbiAgICBpc0VuZDogaXNFbmRcbiAgfSk7XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5IHx8IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuYXV0b0hlaWdodCkgc3dpcGVyLnVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSk7XG5cbiAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hCZWdpbm5pbmcgdG9FZGdlJyk7XG4gIH1cblxuICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEVuZCB0b0VkZ2UnKTtcbiAgfVxuXG4gIGlmICh3YXNCZWdpbm5pbmcgJiYgIWlzQmVnaW5uaW5nIHx8IHdhc0VuZCAmJiAhaXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgnZnJvbUVkZ2UnKTtcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZVNpemU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgd2lkdGg7XG4gIHZhciBoZWlnaHQ7XG4gIHZhciAkZWwgPSBzd2lwZXIuJGVsO1xuXG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gbnVsbCkge1xuICAgIHdpZHRoID0gc3dpcGVyLnBhcmFtcy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9ICRlbFswXS5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgaGVpZ2h0ID0gc3dpcGVyLnBhcmFtcy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gJGVsWzBdLmNsaWVudEhlaWdodDtcbiAgfVxuXG4gIGlmICh3aWR0aCA9PT0gMCAmJiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgfHwgaGVpZ2h0ID09PSAwICYmIHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gU3VidHJhY3QgcGFkZGluZ3NcblxuXG4gIHdpZHRoID0gd2lkdGggLSBwYXJzZUludCgkZWwuY3NzKCdwYWRkaW5nLWxlZnQnKSB8fCAwLCAxMCkgLSBwYXJzZUludCgkZWwuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCwgMTApO1xuICBoZWlnaHQgPSBoZWlnaHQgLSBwYXJzZUludCgkZWwuY3NzKCdwYWRkaW5nLXRvcCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KCRlbC5jc3MoJ3BhZGRpbmctYm90dG9tJykgfHwgMCwgMTApO1xuICBpZiAoTnVtYmVyLmlzTmFOKHdpZHRoKSkgd2lkdGggPSAwO1xuICBpZiAoTnVtYmVyLmlzTmFOKGhlaWdodCkpIGhlaWdodCA9IDA7XG4gICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgc2l6ZTogc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gd2lkdGggOiBoZWlnaHRcbiAgfSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1cGRhdGVTbGlkZXM7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlcygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uTGFiZWwocHJvcGVydHkpIHtcbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHk7XG4gICAgfSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6ICdoZWlnaHQnLFxuICAgICAgJ21hcmdpbi10b3AnOiAnbWFyZ2luLWxlZnQnLFxuICAgICAgJ21hcmdpbi1ib3R0b20gJzogJ21hcmdpbi1yaWdodCcsXG4gICAgICAnbWFyZ2luLWxlZnQnOiAnbWFyZ2luLXRvcCcsXG4gICAgICAnbWFyZ2luLXJpZ2h0JzogJ21hcmdpbi1ib3R0b20nLFxuICAgICAgJ3BhZGRpbmctbGVmdCc6ICdwYWRkaW5nLXRvcCcsXG4gICAgICAncGFkZGluZy1yaWdodCc6ICdwYWRkaW5nLWJvdHRvbScsXG4gICAgICAnbWFyZ2luUmlnaHQnOiAnbWFyZ2luQm90dG9tJ1xuICAgIH1bcHJvcGVydHldO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShub2RlLCBsYWJlbCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG5vZGUuZ2V0UHJvcGVydHlWYWx1ZShnZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICB9XG5cbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICBzd2lwZXJTaXplID0gc3dpcGVyLnNpemUsXG4gICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgd3JvbmdSVEwgPSBzd2lwZXIud3JvbmdSVEw7XG4gIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICB2YXIgcHJldmlvdXNTbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIHZhciBzbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgdmFyIHNsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICB2YXIgc25hcEdyaWQgPSBbXTtcbiAgdmFyIHNsaWRlc0dyaWQgPSBbXTtcbiAgdmFyIHNsaWRlc1NpemVzR3JpZCA9IFtdO1xuICB2YXIgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZTtcblxuICBpZiAodHlwZW9mIG9mZnNldEJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChzd2lwZXIpO1xuICB9XG5cbiAgdmFyIG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuXG4gIGlmICh0eXBlb2Ygb2Zmc2V0QWZ0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlci5jYWxsKHN3aXBlcik7XG4gIH1cblxuICB2YXIgcHJldmlvdXNTbmFwR3JpZExlbmd0aCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gIHZhciBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGggPSBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGg7XG4gIHZhciBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICB2YXIgc2xpZGVQb3NpdGlvbiA9IC1vZmZzZXRCZWZvcmU7XG4gIHZhciBwcmV2U2xpZGVTaXplID0gMDtcbiAgdmFyIGluZGV4ID0gMDtcblxuICBpZiAodHlwZW9mIHN3aXBlclNpemUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyU2l6ZTtcbiAgfVxuXG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IC1zcGFjZUJldHdlZW47IC8vIHJlc2V0IG1hcmdpbnNcblxuICBpZiAocnRsKSBzbGlkZXMuY3NzKHtcbiAgICBtYXJnaW5MZWZ0OiAnJyxcbiAgICBtYXJnaW5Cb3R0b206ICcnLFxuICAgIG1hcmdpblRvcDogJydcbiAgfSk7ZWxzZSBzbGlkZXMuY3NzKHtcbiAgICBtYXJnaW5SaWdodDogJycsXG4gICAgbWFyZ2luQm90dG9tOiAnJyxcbiAgICBtYXJnaW5Ub3A6ICcnXG4gIH0pO1xuICB2YXIgc2xpZGVzTnVtYmVyRXZlblRvUm93cztcblxuICBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEpIHtcbiAgICBpZiAoTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSA9PT0gc2xpZGVzTGVuZ3RoIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pIHtcbiAgICAgIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgPSBzbGlkZXNMZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgPSBNYXRoLmNlaWwoc2xpZGVzTGVuZ3RoIC8gcGFyYW1zLnNsaWRlc1BlckNvbHVtbikgKiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAncm93Jykge1xuICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IE1hdGgubWF4KHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MsIHBhcmFtcy5zbGlkZXNQZXJWaWV3ICogcGFyYW1zLnNsaWRlc1BlckNvbHVtbik7XG4gICAgfVxuICB9IC8vIENhbGMgc2xpZGVzXG5cblxuICB2YXIgc2xpZGVTaXplO1xuICB2YXIgc2xpZGVzUGVyQ29sdW1uID0gcGFyYW1zLnNsaWRlc1BlckNvbHVtbjtcbiAgdmFyIHNsaWRlc1BlclJvdyA9IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyBzbGlkZXNQZXJDb2x1bW47XG4gIHZhciBudW1GdWxsQ29sdW1ucyA9IE1hdGguZmxvb3Ioc2xpZGVzTGVuZ3RoIC8gcGFyYW1zLnNsaWRlc1BlckNvbHVtbik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXNMZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlU2l6ZSA9IDA7XG4gICAgdmFyIHNsaWRlID0gc2xpZGVzLmVxKGkpO1xuXG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxKSB7XG4gICAgICAvLyBTZXQgc2xpZGVzIG9yZGVyXG4gICAgICB2YXIgbmV3U2xpZGVPcmRlckluZGV4ID0gdm9pZCAwO1xuICAgICAgdmFyIGNvbHVtbiA9IHZvaWQgMDtcbiAgICAgIHZhciByb3cgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ3JvdycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID4gMSkge1xuICAgICAgICB2YXIgZ3JvdXBJbmRleCA9IE1hdGguZmxvb3IoaSAvIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgKiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSk7XG4gICAgICAgIHZhciBzbGlkZUluZGV4SW5Hcm91cCA9IGkgLSBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uICogcGFyYW1zLnNsaWRlc1Blckdyb3VwICogZ3JvdXBJbmRleDtcbiAgICAgICAgdmFyIGNvbHVtbnNJbkdyb3VwID0gZ3JvdXBJbmRleCA9PT0gMCA/IHBhcmFtcy5zbGlkZXNQZXJHcm91cCA6IE1hdGgubWluKE1hdGguY2VpbCgoc2xpZGVzTGVuZ3RoIC0gZ3JvdXBJbmRleCAqIHNsaWRlc1BlckNvbHVtbiAqIHBhcmFtcy5zbGlkZXNQZXJHcm91cCkgLyBzbGlkZXNQZXJDb2x1bW4pLCBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICAgICAgICByb3cgPSBNYXRoLmZsb29yKHNsaWRlSW5kZXhJbkdyb3VwIC8gY29sdW1uc0luR3JvdXApO1xuICAgICAgICBjb2x1bW4gPSBzbGlkZUluZGV4SW5Hcm91cCAtIHJvdyAqIGNvbHVtbnNJbkdyb3VwICsgZ3JvdXBJbmRleCAqIHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICAgICAgbmV3U2xpZGVPcmRlckluZGV4ID0gY29sdW1uICsgcm93ICogc2xpZGVzTnVtYmVyRXZlblRvUm93cyAvIHNsaWRlc1BlckNvbHVtbjtcbiAgICAgICAgc2xpZGUuY3NzKHtcbiAgICAgICAgICAnLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCc6IG5ld1NsaWRlT3JkZXJJbmRleCxcbiAgICAgICAgICAnLW1vei1ib3gtb3JkaW5hbC1ncm91cCc6IG5ld1NsaWRlT3JkZXJJbmRleCxcbiAgICAgICAgICAnLW1zLWZsZXgtb3JkZXInOiBuZXdTbGlkZU9yZGVySW5kZXgsXG4gICAgICAgICAgJy13ZWJraXQtb3JkZXInOiBuZXdTbGlkZU9yZGVySW5kZXgsXG4gICAgICAgICAgb3JkZXI6IG5ld1NsaWRlT3JkZXJJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgPT09ICdjb2x1bW4nKSB7XG4gICAgICAgIGNvbHVtbiA9IE1hdGguZmxvb3IoaSAvIHNsaWRlc1BlckNvbHVtbik7XG4gICAgICAgIHJvdyA9IGkgLSBjb2x1bW4gKiBzbGlkZXNQZXJDb2x1bW47XG5cbiAgICAgICAgaWYgKGNvbHVtbiA+IG51bUZ1bGxDb2x1bW5zIHx8IGNvbHVtbiA9PT0gbnVtRnVsbENvbHVtbnMgJiYgcm93ID09PSBzbGlkZXNQZXJDb2x1bW4gLSAxKSB7XG4gICAgICAgICAgcm93ICs9IDE7XG5cbiAgICAgICAgICBpZiAocm93ID49IHNsaWRlc1BlckNvbHVtbikge1xuICAgICAgICAgICAgcm93ID0gMDtcbiAgICAgICAgICAgIGNvbHVtbiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm93ID0gTWF0aC5mbG9vcihpIC8gc2xpZGVzUGVyUm93KTtcbiAgICAgICAgY29sdW1uID0gaSAtIHJvdyAqIHNsaWRlc1BlclJvdztcbiAgICAgIH1cblxuICAgICAgc2xpZGUuY3NzKGdldERpcmVjdGlvbkxhYmVsKCdtYXJnaW4tdG9wJyksIHJvdyAhPT0gMCA/IHBhcmFtcy5zcGFjZUJldHdlZW4gJiYgcGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIiA6ICcnKTtcbiAgICB9XG5cbiAgICBpZiAoc2xpZGUuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICB2YXIgc2xpZGVTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHNsaWRlWzBdKTtcbiAgICAgIHZhciBjdXJyZW50VHJhbnNmb3JtID0gc2xpZGVbMF0uc3R5bGUudHJhbnNmb3JtO1xuICAgICAgdmFyIGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0gPSBzbGlkZVswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm07XG5cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgICBzbGlkZVNpemUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZS5vdXRlcldpZHRoKHRydWUpIDogc2xpZGUub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdmFyIHdpZHRoID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3dpZHRoJyk7XG4gICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLWxlZnQnKTtcbiAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1sZWZ0Jyk7XG4gICAgICAgIHZhciBtYXJnaW5SaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgdmFyIGJveFNpemluZyA9IHNsaWRlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2JveC1zaXppbmcnKTtcblxuICAgICAgICBpZiAoYm94U2l6aW5nICYmIGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9zbGlkZSQgPSBzbGlkZVswXSxcbiAgICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfc2xpZGUkLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9zbGlkZSQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodCArIChvZmZzZXRXaWR0aCAtIGNsaWVudFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZVswXS5zdHlsZS50cmFuc2Zvcm0gPSBjdXJyZW50VHJhbnNmb3JtO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZVswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjdXJyZW50V2ViS2l0VHJhbnNmb3JtO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZVNpemUgPSAoc3dpcGVyU2l6ZSAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyAtIDEpICogc3BhY2VCZXR3ZWVuKSAvIHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcblxuICAgICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGVbZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gc2xpZGVTaXplICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgfVxuXG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplIC8gMiArIHByZXZTbGlkZVNpemUgLyAyICsgc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKHByZXZTbGlkZVNpemUgPT09IDAgJiYgaSAhPT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChpID09PSAwKSBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiAtIHN3aXBlclNpemUgLyAyIC0gc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKE1hdGguYWJzKHNsaWRlUG9zaXRpb24pIDwgMSAvIDEwMDApIHNsaWRlUG9zaXRpb24gPSAwO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKGluZGV4ICUgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVQb3NpdGlvbiA9IE1hdGguZmxvb3Ioc2xpZGVQb3NpdGlvbik7XG4gICAgICBpZiAoKGluZGV4IC0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGluZGV4KSkgJSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gKyBzbGlkZVNpemUgKyBzcGFjZUJldHdlZW47XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICBwcmV2U2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIGluZGV4ICs9IDE7XG4gIH1cblxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG4gIHZhciBuZXdTbGlkZXNHcmlkO1xuXG4gIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgJHdyYXBwZXJFbC5jc3Moe1xuICAgICAgd2lkdGg6IHN3aXBlci52aXJ0dWFsU2l6ZSArIHBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCJcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuc2V0V3JhcHBlclNpemUpIHtcbiAgICB2YXIgXyR3cmFwcGVyRWwkY3NzO1xuXG4gICAgJHdyYXBwZXJFbC5jc3MoKF8kd3JhcHBlckVsJGNzcyA9IHt9LCBfJHdyYXBwZXJFbCRjc3NbZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gc3dpcGVyLnZpcnR1YWxTaXplICsgcGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIiwgXyR3cmFwcGVyRWwkY3NzKSk7XG4gIH1cblxuICBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEpIHtcbiAgICB2YXIgXyR3cmFwcGVyRWwkY3NzMjtcblxuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IChzbGlkZVNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuKSAqIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3M7XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplID0gTWF0aC5jZWlsKHN3aXBlci52aXJ0dWFsU2l6ZSAvIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pIC0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICAkd3JhcHBlckVsLmNzcygoXyR3cmFwcGVyRWwkY3NzMiA9IHt9LCBfJHdyYXBwZXJFbCRjc3MyW2dldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IHN3aXBlci52aXJ0dWFsU2l6ZSArIHBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCIsIF8kd3JhcHBlckVsJGNzczIpKTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIG5ld1NsaWRlc0dyaWQgPSBbXTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHNuYXBHcmlkLmxlbmd0aDsgX2kgKz0gMSkge1xuICAgICAgICB2YXIgc2xpZGVzR3JpZEl0ZW0gPSBzbmFwR3JpZFtfaV07XG4gICAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgICBpZiAoc25hcEdyaWRbX2ldIDwgc3dpcGVyLnZpcnR1YWxTaXplICsgc25hcEdyaWRbMF0pIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICB9XG4gIH0gLy8gUmVtb3ZlIGxhc3QgZ3JpZCBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2lkdGhcblxuXG4gIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgbmV3U2xpZGVzR3JpZCA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgc25hcEdyaWQubGVuZ3RoOyBfaTIgKz0gMSkge1xuICAgICAgdmFyIF9zbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW19pMl07XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3RocykgX3NsaWRlc0dyaWRJdGVtID0gTWF0aC5mbG9vcihfc2xpZGVzR3JpZEl0ZW0pO1xuXG4gICAgICBpZiAoc25hcEdyaWRbX2kyXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChfc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcblxuICAgIGlmIChNYXRoLmZsb29yKHN3aXBlci52aXJ0dWFsU2l6ZSAtIHN3aXBlclNpemUpIC0gTWF0aC5mbG9vcihzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSkgPiAxKSB7XG4gICAgICBzbmFwR3JpZC5wdXNoKHN3aXBlci52aXJ0dWFsU2l6ZSAtIHN3aXBlclNpemUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzbmFwR3JpZC5sZW5ndGggPT09IDApIHNuYXBHcmlkID0gWzBdO1xuXG4gIGlmIChwYXJhbXMuc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgdmFyIF9zbGlkZXMkZmlsdGVyJGNzcztcblxuICAgIHZhciBrZXkgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgcnRsID8gJ21hcmdpbkxlZnQnIDogZ2V0RGlyZWN0aW9uTGFiZWwoJ21hcmdpblJpZ2h0Jyk7XG4gICAgc2xpZGVzLmZpbHRlcihmdW5jdGlvbiAoXywgc2xpZGVJbmRleCkge1xuICAgICAgaWYgKCFwYXJhbXMuY3NzTW9kZSkgcmV0dXJuIHRydWU7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pLmNzcygoX3NsaWRlcyRmaWx0ZXIkY3NzID0ge30sIF9zbGlkZXMkZmlsdGVyJGNzc1trZXldID0gc3BhY2VCZXR3ZWVuICsgXCJweFwiLCBfc2xpZGVzJGZpbHRlciRjc3MpKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzQm91bmRzKSB7XG4gICAgdmFyIGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZVNpemVWYWx1ZSkge1xuICAgICAgYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChwYXJhbXMuc3BhY2VCZXR3ZWVuID8gcGFyYW1zLnNwYWNlQmV0d2VlbiA6IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICB2YXIgbWF4U25hcCA9IGFsbFNsaWRlc1NpemUgLSBzd2lwZXJTaXplO1xuICAgIHNuYXBHcmlkID0gc25hcEdyaWQubWFwKGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICBpZiAoc25hcCA8IDApIHJldHVybiAtb2Zmc2V0QmVmb3JlO1xuICAgICAgaWYgKHNuYXAgPiBtYXhTbmFwKSByZXR1cm4gbWF4U25hcCArIG9mZnNldEFmdGVyO1xuICAgICAgcmV0dXJuIHNuYXA7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNlbnRlckluc3VmZmljaWVudFNsaWRlcykge1xuICAgIHZhciBfYWxsU2xpZGVzU2l6ZSA9IDA7XG4gICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNsaWRlU2l6ZVZhbHVlKSB7XG4gICAgICBfYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChwYXJhbXMuc3BhY2VCZXR3ZWVuID8gcGFyYW1zLnNwYWNlQmV0d2VlbiA6IDApO1xuICAgIH0pO1xuICAgIF9hbGxTbGlkZXNTaXplIC09IHBhcmFtcy5zcGFjZUJldHdlZW47XG5cbiAgICBpZiAoX2FsbFNsaWRlc1NpemUgPCBzd2lwZXJTaXplKSB7XG4gICAgICB2YXIgYWxsU2xpZGVzT2Zmc2V0ID0gKHN3aXBlclNpemUgLSBfYWxsU2xpZGVzU2l6ZSkgLyAyO1xuICAgICAgc25hcEdyaWQuZm9yRWFjaChmdW5jdGlvbiAoc25hcCwgc25hcEluZGV4KSB7XG4gICAgICAgIHNuYXBHcmlkW3NuYXBJbmRleF0gPSBzbmFwIC0gYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBzbGlkZXNHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNuYXAsIHNuYXBJbmRleCkge1xuICAgICAgICBzbGlkZXNHcmlkW3NuYXBJbmRleF0gPSBzbmFwICsgYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgIHNsaWRlczogc2xpZGVzLFxuICAgIHNuYXBHcmlkOiBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkOiBzbGlkZXNHcmlkLFxuICAgIHNsaWRlc1NpemVzR3JpZDogc2xpZGVzU2l6ZXNHcmlkXG4gIH0pO1xuXG4gIGlmIChzbGlkZXNMZW5ndGggIT09IHByZXZpb3VzU2xpZGVzTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0xlbmd0aENoYW5nZScpO1xuICB9XG5cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbmFwR3JpZExlbmd0aCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgc3dpcGVyLmVtaXQoJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cblxuICBpZiAoc2xpZGVzR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cblxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSkge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlU2xpZGVzQ2xhc3NlcztcblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgcmVhbEluZGV4ID0gc3dpcGVyLnJlYWxJbmRleDtcbiAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIHNsaWRlcy5yZW1vdmVDbGFzcyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyArIFwiIFwiICsgcGFyYW1zLnNsaWRlTmV4dENsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk7XG4gIHZhciBhY3RpdmVTbGlkZTtcblxuICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgYWN0aXZlU2xpZGUgPSBzd2lwZXIuJHdyYXBwZXJFbC5maW5kKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBhY3RpdmVJbmRleCArIFwiXFxcIl1cIik7XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXMuZXEoYWN0aXZlSW5kZXgpO1xuICB9IC8vIEFjdGl2ZSBjbGFzc2VzXG5cblxuICBhY3RpdmVTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgLy8gRHVwbGljYXRlIHRvIGFsbCBsb29wZWQgc2xpZGVzXG4gICAgaWYgKGFjdGl2ZVNsaWRlLmhhc0NsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCI6bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcmVhbEluZGV4ICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyk7XG4gICAgfVxuICB9IC8vIE5leHQgU2xpZGVcblxuXG4gIHZhciBuZXh0U2xpZGUgPSBhY3RpdmVTbGlkZS5uZXh0QWxsKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpLmVxKDApLmFkZENsYXNzKHBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG5cbiAgaWYgKHBhcmFtcy5sb29wICYmIG5leHRTbGlkZS5sZW5ndGggPT09IDApIHtcbiAgICBuZXh0U2xpZGUgPSBzbGlkZXMuZXEoMCk7XG4gICAgbmV4dFNsaWRlLmFkZENsYXNzKHBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gIH0gLy8gUHJldiBTbGlkZVxuXG5cbiAgdmFyIHByZXZTbGlkZSA9IGFjdGl2ZVNsaWRlLnByZXZBbGwoXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcykuZXEoMCkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcblxuICBpZiAocGFyYW1zLmxvb3AgJiYgcHJldlNsaWRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHByZXZTbGlkZSA9IHNsaWRlcy5lcSgtMSk7XG4gICAgcHJldlNsaWRlLmFkZENsYXNzKHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAvLyBEdXBsaWNhdGUgdG8gYWxsIGxvb3BlZCBzbGlkZXNcbiAgICBpZiAobmV4dFNsaWRlLmhhc0NsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCI6bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIG5leHRTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgbmV4dFNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKHByZXZTbGlkZS5oYXNDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiOm5vdCguXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBwcmV2U2xpZGUuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlUHJldkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHByZXZTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXBlci5lbWl0U2xpZGVzQ2xhc3NlcygpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlU2xpZGVzT2Zmc2V0O1xuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNPZmZzZXQoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZU9mZnNldCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlc1tpXS5vZmZzZXRMZWZ0IDogc2xpZGVzW2ldLm9mZnNldFRvcDtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlU2xpZGVzUHJvZ3Jlc3M7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IHRoaXMgJiYgdGhpcy50cmFuc2xhdGUgfHwgMDtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgdmFyIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgdmFyIG9mZnNldENlbnRlciA9IC10cmFuc2xhdGU7XG4gIGlmIChydGwpIG9mZnNldENlbnRlciA9IHRyYW5zbGF0ZTsgLy8gVmlzaWJsZSBTbGlkZXNcblxuICBzbGlkZXMucmVtb3ZlQ2xhc3MocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzID0gW107XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgdmFyIHNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGUuc3dpcGVyU2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHBhcmFtcy5zcGFjZUJldHdlZW4pO1xuXG4gICAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkgfHwgcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICB2YXIgc2xpZGVCZWZvcmUgPSAtKG9mZnNldENlbnRlciAtIHNsaWRlLnN3aXBlclNsaWRlT2Zmc2V0KTtcbiAgICAgIHZhciBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgICAgdmFyIGlzVmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPCBzd2lwZXIuc2l6ZSAtIDEgfHwgc2xpZGVBZnRlciA+IDEgJiYgc2xpZGVBZnRlciA8PSBzd2lwZXIuc2l6ZSB8fCBzbGlkZUJlZm9yZSA8PSAwICYmIHNsaWRlQWZ0ZXIgPj0gc3dpcGVyLnNpemU7XG5cbiAgICAgIGlmIChpc1Zpc2libGUpIHtcbiAgICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICBzbGlkZXMuZXEoaSkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzbGlkZS5wcm9ncmVzcyA9IHJ0bCA/IC1zbGlkZVByb2dyZXNzIDogc2xpZGVQcm9ncmVzcztcbiAgfVxuXG4gIHN3aXBlci52aXNpYmxlU2xpZGVzID0gKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnZpc2libGVTbGlkZXMpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBDb3ZlcmZsb3cgPSB7XG4gIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzd2lwZXJXaWR0aCA9IHN3aXBlci53aWR0aCxcbiAgICAgICAgc3dpcGVySGVpZ2h0ID0gc3dpcGVyLmhlaWdodCxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgc2xpZGVzU2l6ZXNHcmlkID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZDtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jb3ZlcmZsb3dFZmZlY3Q7XG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICB2YXIgdHJhbnNmb3JtID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICB2YXIgY2VudGVyID0gaXNIb3Jpem9udGFsID8gLXRyYW5zZm9ybSArIHN3aXBlcldpZHRoIC8gMiA6IC10cmFuc2Zvcm0gKyBzd2lwZXJIZWlnaHQgLyAyO1xuICAgIHZhciByb3RhdGUgPSBpc0hvcml6b250YWwgPyBwYXJhbXMucm90YXRlIDogLXBhcmFtcy5yb3RhdGU7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHBhcmFtcy5kZXB0aDsgLy8gRWFjaCBzbGlkZSBvZmZzZXQgZnJvbSBjZW50ZXJcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzbGlkZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIHZhciBzbGlkZVNpemUgPSBzbGlkZXNTaXplc0dyaWRbaV07XG4gICAgICB2YXIgc2xpZGVPZmZzZXQgPSAkc2xpZGVFbFswXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIHZhciBvZmZzZXRNdWx0aXBsaWVyID0gKGNlbnRlciAtIHNsaWRlT2Zmc2V0IC0gc2xpZGVTaXplIC8gMikgLyBzbGlkZVNpemUgKiBwYXJhbXMubW9kaWZpZXI7XG4gICAgICB2YXIgcm90YXRlWSA9IGlzSG9yaXpvbnRhbCA/IHJvdGF0ZSAqIG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgdmFyIHJvdGF0ZVggPSBpc0hvcml6b250YWwgPyAwIDogcm90YXRlICogb2Zmc2V0TXVsdGlwbGllcjsgLy8gdmFyIHJvdGF0ZVogPSAwXG5cbiAgICAgIHZhciB0cmFuc2xhdGVaID0gLXRyYW5zbGF0ZSAqIE1hdGguYWJzKG9mZnNldE11bHRpcGxpZXIpO1xuICAgICAgdmFyIHN0cmV0Y2ggPSBwYXJhbXMuc3RyZXRjaDsgLy8gQWxsb3cgcGVyY2VudGFnZSB0byBtYWtlIGEgcmVsYXRpdmUgc3RyZXRjaCBmb3IgcmVzcG9uc2l2ZSBzbGlkZXJzXG5cbiAgICAgIGlmICh0eXBlb2Ygc3RyZXRjaCA9PT0gJ3N0cmluZycgJiYgc3RyZXRjaC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgIHN0cmV0Y2ggPSBwYXJzZUZsb2F0KHBhcmFtcy5zdHJldGNoKSAvIDEwMCAqIHNsaWRlU2l6ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zbGF0ZVkgPSBpc0hvcml6b250YWwgPyAwIDogc3RyZXRjaCAqIG9mZnNldE11bHRpcGxpZXI7XG4gICAgICB2YXIgdHJhbnNsYXRlWCA9IGlzSG9yaXpvbnRhbCA/IHN0cmV0Y2ggKiBvZmZzZXRNdWx0aXBsaWVyIDogMDtcbiAgICAgIHZhciBzY2FsZSA9IDEgLSAoMSAtIHBhcmFtcy5zY2FsZSkgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTsgLy8gRml4IGZvciB1bHRyYSBzbWFsbCB2YWx1ZXNcblxuICAgICAgaWYgKE1hdGguYWJzKHRyYW5zbGF0ZVgpIDwgMC4wMDEpIHRyYW5zbGF0ZVggPSAwO1xuICAgICAgaWYgKE1hdGguYWJzKHRyYW5zbGF0ZVkpIDwgMC4wMDEpIHRyYW5zbGF0ZVkgPSAwO1xuICAgICAgaWYgKE1hdGguYWJzKHRyYW5zbGF0ZVopIDwgMC4wMDEpIHRyYW5zbGF0ZVogPSAwO1xuICAgICAgaWYgKE1hdGguYWJzKHJvdGF0ZVkpIDwgMC4wMDEpIHJvdGF0ZVkgPSAwO1xuICAgICAgaWYgKE1hdGguYWJzKHJvdGF0ZVgpIDwgMC4wMDEpIHJvdGF0ZVggPSAwO1xuICAgICAgaWYgKE1hdGguYWJzKHNjYWxlKSA8IDAuMDAxKSBzY2FsZSA9IDA7XG4gICAgICB2YXIgc2xpZGVUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKFwiICsgdHJhbnNsYXRlWCArIFwicHgsXCIgKyB0cmFuc2xhdGVZICsgXCJweCxcIiArIHRyYW5zbGF0ZVogKyBcInB4KSAgcm90YXRlWChcIiArIHJvdGF0ZVggKyBcImRlZykgcm90YXRlWShcIiArIHJvdGF0ZVkgKyBcImRlZykgc2NhbGUoXCIgKyBzY2FsZSArIFwiKVwiO1xuICAgICAgJHNsaWRlRWwudHJhbnNmb3JtKHNsaWRlVHJhbnNmb3JtKTtcbiAgICAgICRzbGlkZUVsWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKG9mZnNldE11bHRpcGxpZXIpKSArIDE7XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIC8vIFNldCBzaGFkb3dzXG4gICAgICAgIHZhciAkc2hhZG93QmVmb3JlRWwgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICAgICAgdmFyICRzaGFkb3dBZnRlckVsID0gaXNIb3Jpem9udGFsID8gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuXG4gICAgICAgIGlmICgkc2hhZG93QmVmb3JlRWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJHNoYWRvd0JlZm9yZUVsID0gKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJzd2lwZXItc2xpZGUtc2hhZG93LVwiICsgKGlzSG9yaXpvbnRhbCA/ICdsZWZ0JyA6ICd0b3AnKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgJHNsaWRlRWwuYXBwZW5kKCRzaGFkb3dCZWZvcmVFbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNoYWRvd0FmdGVyRWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJHNoYWRvd0FmdGVyRWwgPSAoMCwgX2RvbS5kZWZhdWx0KShcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ3JpZ2h0JyA6ICdib3R0b20nKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgJHNsaWRlRWwuYXBwZW5kKCRzaGFkb3dBZnRlckVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2hhZG93QmVmb3JlRWwubGVuZ3RoKSAkc2hhZG93QmVmb3JlRWxbMF0uc3R5bGUub3BhY2l0eSA9IG9mZnNldE11bHRpcGxpZXIgPiAwID8gb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICAgIGlmICgkc2hhZG93QWZ0ZXJFbC5sZW5ndGgpICRzaGFkb3dBZnRlckVsWzBdLnN0eWxlLm9wYWNpdHkgPSAtb2Zmc2V0TXVsdGlwbGllciA+IDAgPyAtb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLnNsaWRlcy50cmFuc2l0aW9uKGR1cmF0aW9uKS5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2VmZmVjdC1jb3ZlcmZsb3cnLFxuICBwYXJhbXM6IHtcbiAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcbiAgICAgIHJvdGF0ZTogNTAsXG4gICAgICBzdHJldGNoOiAwLFxuICAgICAgZGVwdGg6IDEwMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgbW9kaWZpZXI6IDEsXG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWVcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgY292ZXJmbG93RWZmZWN0OiBfZXh0ZW5kcyh7fSwgQ292ZXJmbG93KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdjb3ZlcmZsb3cnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiY292ZXJmbG93XCIpO1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcIjNkXCIpO1xuICAgICAgc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY292ZXJmbG93JykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNvdmVyZmxvd0VmZmVjdC5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY292ZXJmbG93JykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNvdmVyZmxvd0VmZmVjdC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgQ3ViZSA9IHtcbiAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgc3dpcGVyV2lkdGggPSBzd2lwZXIud2lkdGgsXG4gICAgICAgIHN3aXBlckhlaWdodCA9IHN3aXBlci5oZWlnaHQsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAgIHN3aXBlclNpemUgPSBzd2lwZXIuc2l6ZSxcbiAgICAgICAgYnJvd3NlciA9IHN3aXBlci5icm93c2VyO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmN1YmVFZmZlY3Q7XG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICB2YXIgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgdmFyIHdyYXBwZXJSb3RhdGUgPSAwO1xuICAgIHZhciAkY3ViZVNoYWRvd0VsO1xuXG4gICAgaWYgKHBhcmFtcy5zaGFkb3cpIHtcbiAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICR3cmFwcGVyRWwuZmluZCgnLnN3aXBlci1jdWJlLXNoYWRvdycpO1xuXG4gICAgICAgIGlmICgkY3ViZVNoYWRvd0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRjdWJlU2hhZG93RWwgPSAoMCwgX2RvbS5kZWZhdWx0KSgnPGRpdiBjbGFzcz1cInN3aXBlci1jdWJlLXNoYWRvd1wiPjwvZGl2PicpO1xuICAgICAgICAgICR3cmFwcGVyRWwuYXBwZW5kKCRjdWJlU2hhZG93RWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGN1YmVTaGFkb3dFbC5jc3Moe1xuICAgICAgICAgIGhlaWdodDogc3dpcGVyV2lkdGggKyBcInB4XCJcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkY3ViZVNoYWRvd0VsID0gJGVsLmZpbmQoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcblxuICAgICAgICBpZiAoJGN1YmVTaGFkb3dFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAkY3ViZVNoYWRvd0VsID0gKDAsIF9kb20uZGVmYXVsdCkoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAkZWwuYXBwZW5kKCRjdWJlU2hhZG93RWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gaTtcblxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gcGFyc2VJbnQoJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xpZGVBbmdsZSA9IHNsaWRlSW5kZXggKiA5MDtcbiAgICAgIHZhciByb3VuZCA9IE1hdGguZmxvb3Ioc2xpZGVBbmdsZSAvIDM2MCk7XG5cbiAgICAgIGlmIChydGwpIHtcbiAgICAgICAgc2xpZGVBbmdsZSA9IC1zbGlkZUFuZ2xlO1xuICAgICAgICByb3VuZCA9IE1hdGguZmxvb3IoLXNsaWRlQW5nbGUgLyAzNjApO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigkc2xpZGVFbFswXS5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIHZhciB0eCA9IDA7XG4gICAgICB2YXIgdHkgPSAwO1xuICAgICAgdmFyIHR6ID0gMDtcblxuICAgICAgaWYgKHNsaWRlSW5kZXggJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gLXJvdW5kICogNCAqIHN3aXBlclNpemU7XG4gICAgICAgIHR6ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAxKSAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSAwO1xuICAgICAgICB0eiA9IC1yb3VuZCAqIDQgKiBzd2lwZXJTaXplO1xuICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDIpICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IHN3aXBlclNpemUgKyByb3VuZCAqIDQgKiBzd2lwZXJTaXplO1xuICAgICAgICB0eiA9IHN3aXBlclNpemU7XG4gICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMykgJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gLXN3aXBlclNpemU7XG4gICAgICAgIHR6ID0gMyAqIHN3aXBlclNpemUgKyBzd2lwZXJTaXplICogNCAqIHJvdW5kO1xuICAgICAgfVxuXG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHR4ID0gLXR4O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzSG9yaXpvbnRhbCkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBcInJvdGF0ZVgoXCIgKyAoaXNIb3Jpem9udGFsID8gMCA6IC1zbGlkZUFuZ2xlKSArIFwiZGVnKSByb3RhdGVZKFwiICsgKGlzSG9yaXpvbnRhbCA/IHNsaWRlQW5nbGUgOiAwKSArIFwiZGVnKSB0cmFuc2xhdGUzZChcIiArIHR4ICsgXCJweCwgXCIgKyB0eSArIFwicHgsIFwiICsgdHogKyBcInB4KVwiO1xuXG4gICAgICBpZiAocHJvZ3Jlc3MgPD0gMSAmJiBwcm9ncmVzcyA+IC0xKSB7XG4gICAgICAgIHdyYXBwZXJSb3RhdGUgPSBzbGlkZUluZGV4ICogOTAgKyBwcm9ncmVzcyAqIDkwO1xuICAgICAgICBpZiAocnRsKSB3cmFwcGVyUm90YXRlID0gLXNsaWRlSW5kZXggKiA5MCAtIHByb2dyZXNzICogOTA7XG4gICAgICB9XG5cbiAgICAgICRzbGlkZUVsLnRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuXG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICB2YXIgc2hhZG93QmVmb3JlID0gaXNIb3Jpem9udGFsID8gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wJyk7XG4gICAgICAgIHZhciBzaGFkb3dBZnRlciA9IGlzSG9yaXpvbnRhbCA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcblxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNoYWRvd0JlZm9yZSA9ICgwLCBfZG9tLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dCZWZvcmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNoYWRvd0FmdGVyID0gKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJzd2lwZXItc2xpZGUtc2hhZG93LVwiICsgKGlzSG9yaXpvbnRhbCA/ICdyaWdodCcgOiAnYm90dG9tJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dBZnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCkgc2hhZG93QmVmb3JlWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgICAgICBpZiAoc2hhZG93QWZ0ZXIubGVuZ3RoKSBzaGFkb3dBZnRlclswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgocHJvZ3Jlc3MsIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgICR3cmFwcGVyRWwuY3NzKHtcbiAgICAgICctd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4nOiBcIjUwJSA1MCUgLVwiICsgc3dpcGVyU2l6ZSAvIDIgKyBcInB4XCIsXG4gICAgICAnLW1vei10cmFuc2Zvcm0tb3JpZ2luJzogXCI1MCUgNTAlIC1cIiArIHN3aXBlclNpemUgLyAyICsgXCJweFwiLFxuICAgICAgJy1tcy10cmFuc2Zvcm0tb3JpZ2luJzogXCI1MCUgNTAlIC1cIiArIHN3aXBlclNpemUgLyAyICsgXCJweFwiLFxuICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBcIjUwJSA1MCUgLVwiICsgc3dpcGVyU2l6ZSAvIDIgKyBcInB4XCJcbiAgICB9KTtcblxuICAgIGlmIChwYXJhbXMuc2hhZG93KSB7XG4gICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICRjdWJlU2hhZG93RWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LCBcIiArIChzd2lwZXJXaWR0aCAvIDIgKyBwYXJhbXMuc2hhZG93T2Zmc2V0KSArIFwicHgsIFwiICsgLXN3aXBlcldpZHRoIC8gMiArIFwicHgpIHJvdGF0ZVgoOTBkZWcpIHJvdGF0ZVooMGRlZykgc2NhbGUoXCIgKyBwYXJhbXMuc2hhZG93U2NhbGUgKyBcIilcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2hhZG93QW5nbGUgPSBNYXRoLmFicyh3cmFwcGVyUm90YXRlKSAtIE1hdGguZmxvb3IoTWF0aC5hYnMod3JhcHBlclJvdGF0ZSkgLyA5MCkgKiA5MDtcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAxLjUgLSAoTWF0aC5zaW4oc2hhZG93QW5nbGUgKiAyICogTWF0aC5QSSAvIDM2MCkgLyAyICsgTWF0aC5jb3Moc2hhZG93QW5nbGUgKiAyICogTWF0aC5QSSAvIDM2MCkgLyAyKTtcbiAgICAgICAgdmFyIHNjYWxlMSA9IHBhcmFtcy5zaGFkb3dTY2FsZTtcbiAgICAgICAgdmFyIHNjYWxlMiA9IHBhcmFtcy5zaGFkb3dTY2FsZSAvIG11bHRpcGxpZXI7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwYXJhbXMuc2hhZG93T2Zmc2V0O1xuICAgICAgICAkY3ViZVNoYWRvd0VsLnRyYW5zZm9ybShcInNjYWxlM2QoXCIgKyBzY2FsZTEgKyBcIiwgMSwgXCIgKyBzY2FsZTIgKyBcIikgdHJhbnNsYXRlM2QoMHB4LCBcIiArIChzd2lwZXJIZWlnaHQgLyAyICsgb2Zmc2V0KSArIFwicHgsIFwiICsgLXN3aXBlckhlaWdodCAvIDIgLyBzY2FsZTIgKyBcInB4KSByb3RhdGVYKC05MGRlZylcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHpGYWN0b3IgPSBicm93c2VyLmlzU2FmYXJpIHx8IGJyb3dzZXIuaXNXZWJWaWV3ID8gLXN3aXBlclNpemUgLyAyIDogMDtcbiAgICAkd3JhcHBlckVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwwLFwiICsgekZhY3RvciArIFwicHgpIHJvdGF0ZVgoXCIgKyAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gMCA6IHdyYXBwZXJSb3RhdGUpICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gLXdyYXBwZXJSb3RhdGUgOiAwKSArIFwiZGVnKVwiKTtcbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuICAgIHNsaWRlcy50cmFuc2l0aW9uKGR1cmF0aW9uKS5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS50cmFuc2l0aW9uKGR1cmF0aW9uKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmN1YmVFZmZlY3Quc2hhZG93ICYmICFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICRlbC5maW5kKCcuc3dpcGVyLWN1YmUtc2hhZG93JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnZWZmZWN0LWN1YmUnLFxuICBwYXJhbXM6IHtcbiAgICBjdWJlRWZmZWN0OiB7XG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWUsXG4gICAgICBzaGFkb3c6IHRydWUsXG4gICAgICBzaGFkb3dPZmZzZXQ6IDIwLFxuICAgICAgc2hhZG93U2NhbGU6IDAuOTRcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgY3ViZUVmZmVjdDogX2V4dGVuZHMoe30sIEN1YmUpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2N1YmUnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiY3ViZVwiKTtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCIzZFwiKTtcbiAgICAgIHZhciBvdmVyd3JpdGVQYXJhbXMgPSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHJlc2lzdGFuY2VSYXRpbzogMCxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICAgIH07XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2N1YmUnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY3ViZUVmZmVjdC5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY3ViZScpIHJldHVybjtcbiAgICAgIHN3aXBlci5jdWJlRWZmZWN0LnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgRmFkZSA9IHtcbiAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyICRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgIHZhciBvZmZzZXQgPSAkc2xpZGVFbFswXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIHZhciB0eCA9IC1vZmZzZXQ7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkgdHggLT0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIHZhciB0eSA9IDA7XG5cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgIH1cblxuICAgICAgdmFyIHNsaWRlT3BhY2l0eSA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdC5jcm9zc0ZhZGUgPyBNYXRoLm1heCgxIC0gTWF0aC5hYnMoJHNsaWRlRWxbMF0ucHJvZ3Jlc3MpLCAwKSA6IDEgKyBNYXRoLm1pbihNYXRoLm1heCgkc2xpZGVFbFswXS5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgICRzbGlkZUVsLmNzcyh7XG4gICAgICAgIG9wYWNpdHk6IHNsaWRlT3BhY2l0eVxuICAgICAgfSkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB0eCArIFwicHgsIFwiICsgdHkgKyBcInB4LCAwcHgpXCIpO1xuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgc2xpZGVzLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgICAgdmFyIGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICBzbGlkZXMudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJpZ2dlckV2ZW50cyA9IFsnd2Via2l0VHJhbnNpdGlvbkVuZCcsICd0cmFuc2l0aW9uZW5kJ107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2VyRXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgJHdyYXBwZXJFbC50cmlnZ2VyKHRyaWdnZXJFdmVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdlZmZlY3QtZmFkZScsXG4gIHBhcmFtczoge1xuICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgZmFkZUVmZmVjdDogX2V4dGVuZHMoe30sIEZhZGUpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZhZGUnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiZmFkZVwiKTtcbiAgICAgIHZhciBvdmVyd3JpdGVQYXJhbXMgPSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgdmlydHVhbFRyYW5zbGF0ZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmFkZScpIHJldHVybjtcbiAgICAgIHN3aXBlci5mYWRlRWZmZWN0LnNldFRyYW5zbGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmYWRlJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmZhZGVFZmZlY3Quc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZsaXAgPSB7XG4gIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICRzbGlkZUVsWzBdLnByb2dyZXNzO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LmxpbWl0Um90YXRpb24pIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigkc2xpZGVFbFswXS5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9mZnNldCA9ICRzbGlkZUVsWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgdmFyIHJvdGF0ZSA9IC0xODAgKiBwcm9ncmVzcztcbiAgICAgIHZhciByb3RhdGVZID0gcm90YXRlO1xuICAgICAgdmFyIHJvdGF0ZVggPSAwO1xuICAgICAgdmFyIHR4ID0gLW9mZnNldDtcbiAgICAgIHZhciB0eSA9IDA7XG5cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgICAgcm90YXRlWCA9IC1yb3RhdGVZO1xuICAgICAgICByb3RhdGVZID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocnRsKSB7XG4gICAgICAgIHJvdGF0ZVkgPSAtcm90YXRlWTtcbiAgICAgIH1cblxuICAgICAgJHNsaWRlRWxbMF0uc3R5bGUuekluZGV4ID0gLU1hdGguYWJzKE1hdGgucm91bmQocHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZsaXBFZmZlY3Quc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIC8vIFNldCBzaGFkb3dzXG4gICAgICAgIHZhciBzaGFkb3dCZWZvcmUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICAgICAgdmFyIHNoYWRvd0FmdGVyID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuXG4gICAgICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hhZG93QmVmb3JlID0gKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJzd2lwZXItc2xpZGUtc2hhZG93LVwiICsgKHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgJHNsaWRlRWwuYXBwZW5kKHNoYWRvd0JlZm9yZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhZG93QWZ0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hhZG93QWZ0ZXIgPSAoMCwgX2RvbS5kZWZhdWx0KShcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3JpZ2h0JyA6ICdib3R0b20nKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgJHNsaWRlRWwuYXBwZW5kKHNoYWRvd0FmdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoKSBzaGFkb3dCZWZvcmVbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1wcm9ncmVzcywgMCk7XG4gICAgICAgIGlmIChzaGFkb3dBZnRlci5sZW5ndGgpIHNoYWRvd0FmdGVyWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heChwcm9ncmVzcywgMCk7XG4gICAgICB9XG5cbiAgICAgICRzbGlkZUVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgdHggKyBcInB4LCBcIiArIHR5ICsgXCJweCwgMHB4KSByb3RhdGVYKFwiICsgcm90YXRlWCArIFwiZGVnKSByb3RhdGVZKFwiICsgcm90YXRlWSArIFwiZGVnKVwiKTtcbiAgICB9XG4gIH0sXG4gIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICBzbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlICYmIGR1cmF0aW9uICE9PSAwKSB7XG4gICAgICB2YXIgZXZlbnRUcmlnZ2VyZWQgPSBmYWxzZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgIHNsaWRlcy5lcShhY3RpdmVJbmRleCkudHJhbnNpdGlvbkVuZChmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47IC8vIGlmICghJCh0aGlzKS5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpKSByZXR1cm47XG5cbiAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHZhciB0cmlnZ2VyRXZlbnRzID0gWyd3ZWJraXRUcmFuc2l0aW9uRW5kJywgJ3RyYW5zaXRpb25lbmQnXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWdnZXJFdmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAkd3JhcHBlckVsLnRyaWdnZXIodHJpZ2dlckV2ZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2VmZmVjdC1mbGlwJyxcbiAgcGFyYW1zOiB7XG4gICAgZmxpcEVmZmVjdDoge1xuICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlLFxuICAgICAgbGltaXRSb3RhdGlvbjogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBmbGlwRWZmZWN0OiBfZXh0ZW5kcyh7fSwgRmxpcClcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmxpcCcpIHJldHVybjtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJmbGlwXCIpO1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcIjNkXCIpO1xuICAgICAgdmFyIG92ZXJ3cml0ZVBhcmFtcyA9IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgc2xpZGVzUGVyQ29sdW1uOiAxLFxuICAgICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgICB2aXJ0dWFsVHJhbnNsYXRlOiB0cnVlXG4gICAgICB9O1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmbGlwJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmZsaXBFZmZlY3Quc2V0VHJhbnNsYXRlKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZsaXAnKSByZXR1cm47XG4gICAgICBzd2lwZXIuZmxpcEVmZmVjdC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgSGFzaE5hdmlnYXRpb24gPSB7XG4gIG9uSGFzaENoYW5nZTogZnVuY3Rpb24gb25IYXNoQ2hhbmdlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgIHN3aXBlci5lbWl0KCdoYXNoQ2hhbmdlJyk7XG4gICAgdmFyIG5ld0hhc2ggPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG4gICAgdmFyIGFjdGl2ZVNsaWRlSGFzaCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLWhhc2gnKTtcblxuICAgIGlmIChuZXdIYXNoICE9PSBhY3RpdmVTbGlkZUhhc2gpIHtcbiAgICAgIHZhciBuZXdJbmRleCA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1oYXNoPVxcXCJcIiArIG5ld0hhc2ggKyBcIlxcXCJdXCIpLmluZGV4KCk7XG4gICAgICBpZiAodHlwZW9mIG5ld0luZGV4ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgpO1xuICAgIH1cbiAgfSxcbiAgc2V0SGFzaDogZnVuY3Rpb24gc2V0SGFzaCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgIGlmICghc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkIHx8ICFzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQpIHJldHVybjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLnJlcGxhY2VTdGF0ZSAmJiB3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIiArIHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLWhhc2gnKSB8fCAnJyk7XG4gICAgICBzd2lwZXIuZW1pdCgnaGFzaFNldCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICB2YXIgaGFzaCA9IHNsaWRlLmF0dHIoJ2RhdGEtaGFzaCcpIHx8IHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpO1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IGhhc2ggfHwgJyc7XG4gICAgICBzd2lwZXIuZW1pdCgnaGFzaFNldCcpO1xuICAgIH1cbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkIHx8IHN3aXBlci5wYXJhbXMuaGlzdG9yeSAmJiBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdmFyIGhhc2ggPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICBpZiAoaGFzaCkge1xuICAgICAgdmFyIHNwZWVkID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgICAgdmFyIHNsaWRlSGFzaCA9IHNsaWRlLmF0dHIoJ2RhdGEtaGFzaCcpIHx8IHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpO1xuXG4gICAgICAgIGlmIChzbGlkZUhhc2ggPT09IGhhc2ggJiYgIXNsaWRlLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzbGlkZS5pbmRleCgpO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSkge1xuICAgICAgKDAsIF9kb20uZGVmYXVsdCkod2luZG93KS5vbignaGFzaGNoYW5nZScsIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5vbkhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSkge1xuICAgICAgKDAsIF9kb20uZGVmYXVsdCkod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UnLCBzd2lwZXIuaGFzaE5hdmlnYXRpb24ub25IYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdoYXNoLW5hdmlnYXRpb24nLFxuICBwYXJhbXM6IHtcbiAgICBoYXNoTmF2aWdhdGlvbjoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByZXBsYWNlU3RhdGU6IGZhbHNlLFxuICAgICAgd2F0Y2hTdGF0ZTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgaGFzaE5hdmlnYXRpb246IF9leHRlbmRzKHtcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG4gICAgICB9LCBIYXNoTmF2aWdhdGlvbilcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJzogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCkge1xuICAgICAgICBzd2lwZXIuaGFzaE5hdmlnYXRpb24uc2V0SGFzaCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLnNldEhhc2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEhpc3RvcnkgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuaGlzdG9yeSkgcmV0dXJuO1xuXG4gICAgaWYgKCF3aW5kb3cuaGlzdG9yeSB8fCAhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG4gICAgICBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGlzdG9yeSA9IHN3aXBlci5oaXN0b3J5O1xuICAgIGhpc3RvcnkuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGhpc3RvcnkucGF0aHMgPSBIaXN0b3J5LmdldFBhdGhWYWx1ZXMoc3dpcGVyLnBhcmFtcy51cmwpO1xuICAgIGlmICghaGlzdG9yeS5wYXRocy5rZXkgJiYgIWhpc3RvcnkucGF0aHMudmFsdWUpIHJldHVybjtcbiAgICBoaXN0b3J5LnNjcm9sbFRvU2xpZGUoMCwgaGlzdG9yeS5wYXRocy52YWx1ZSwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzd2lwZXIuaGlzdG9yeS5zZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzd2lwZXIuaGlzdG9yeS5zZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfSxcbiAgc2V0SGlzdG9yeVBvcFN0YXRlOiBmdW5jdGlvbiBzZXRIaXN0b3J5UG9wU3RhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLmhpc3RvcnkucGF0aHMgPSBIaXN0b3J5LmdldFBhdGhWYWx1ZXMoc3dpcGVyLnBhcmFtcy51cmwpO1xuICAgIHN3aXBlci5oaXN0b3J5LnNjcm9sbFRvU2xpZGUoc3dpcGVyLnBhcmFtcy5zcGVlZCwgc3dpcGVyLmhpc3RvcnkucGF0aHMudmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0UGF0aFZhbHVlczogZnVuY3Rpb24gZ2V0UGF0aFZhbHVlcyh1cmxPdmVycmlkZSkge1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgdmFyIGxvY2F0aW9uO1xuXG4gICAgaWYgKHVybE92ZXJyaWRlKSB7XG4gICAgICBsb2NhdGlvbiA9IG5ldyBVUkwodXJsT3ZlcnJpZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgcGF0aEFycmF5ID0gbG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoMSkuc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgIHJldHVybiBwYXJ0ICE9PSAnJztcbiAgICB9KTtcbiAgICB2YXIgdG90YWwgPSBwYXRoQXJyYXkubGVuZ3RoO1xuICAgIHZhciBrZXkgPSBwYXRoQXJyYXlbdG90YWwgLSAyXTtcbiAgICB2YXIgdmFsdWUgPSBwYXRoQXJyYXlbdG90YWwgLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBrZXksXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9LFxuICBzZXRIaXN0b3J5OiBmdW5jdGlvbiBzZXRIaXN0b3J5KGtleSwgaW5kZXgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICAgIGlmICghc3dpcGVyLmhpc3RvcnkuaW5pdGlhbGl6ZWQgfHwgIXN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSByZXR1cm47XG4gICAgdmFyIGxvY2F0aW9uO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudXJsKSB7XG4gICAgICBsb2NhdGlvbiA9IG5ldyBVUkwoc3dpcGVyLnBhcmFtcy51cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKGluZGV4KTtcbiAgICB2YXIgdmFsdWUgPSBIaXN0b3J5LnNsdWdpZnkoc2xpZGUuYXR0cignZGF0YS1oaXN0b3J5JykpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290Lmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciByb290ID0gc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJvb3Q7XG4gICAgICBpZiAocm9vdFtyb290Lmxlbmd0aCAtIDFdID09PSAnLycpIHJvb3QgPSByb290LnNsaWNlKDAsIHJvb3QubGVuZ3RoIC0gMSk7XG4gICAgICB2YWx1ZSA9IHJvb3QgKyBcIi9cIiArIGtleSArIFwiL1wiICsgdmFsdWU7XG4gICAgfSBlbHNlIGlmICghbG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgdmFsdWUgPSBrZXkgKyBcIi9cIiArIHZhbHVlO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50U3RhdGUgPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZTtcblxuICAgIGlmIChjdXJyZW50U3RhdGUgJiYgY3VycmVudFN0YXRlLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0sIG51bGwsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBzbHVnaWZ5OiBmdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZywgJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCAnJykucmVwbGFjZSgvLS0rL2csICctJykucmVwbGFjZSgvXi0rLywgJycpLnJlcGxhY2UoLy0rJC8sICcnKTtcbiAgfSxcbiAgc2Nyb2xsVG9TbGlkZTogZnVuY3Rpb24gc2Nyb2xsVG9TbGlkZShzcGVlZCwgdmFsdWUsIHJ1bkNhbGxiYWNrcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKGkpO1xuICAgICAgICB2YXIgc2xpZGVIaXN0b3J5ID0gSGlzdG9yeS5zbHVnaWZ5KHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpKTtcblxuICAgICAgICBpZiAoc2xpZGVIaXN0b3J5ID09PSB2YWx1ZSAmJiAhc2xpZGUuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICAgIHZhciBpbmRleCA9IHNsaWRlLmluZGV4KCk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2hpc3RvcnknLFxuICBwYXJhbXM6IHtcbiAgICBoaXN0b3J5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIHJvb3Q6ICcnLFxuICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgIGtleTogJ3NsaWRlcydcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgaGlzdG9yeTogX2V4dGVuZHMoe30sIEhpc3RvcnkpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIuaGlzdG9yeS5pbml0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5oaXN0b3J5LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJzogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5oaXN0b3J5LmluaXRpYWxpemVkKSB7XG4gICAgICAgIHN3aXBlci5oaXN0b3J5LnNldEhpc3Rvcnkoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtleSwgc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuaGlzdG9yeS5pbml0aWFsaXplZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgc3dpcGVyLmhpc3Rvcnkuc2V0SGlzdG9yeShzd2lwZXIucGFyYW1zLmhpc3Rvcnkua2V5LCBzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBLZXlib2FyZCA9IHtcbiAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICB2YXIgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgICB2YXIgZSA9IGV2ZW50O1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7IC8vIGpxdWVyeSBmaXhcblxuICAgIHZhciBrYyA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuICAgIHZhciBwYWdlVXBEb3duID0gc3dpcGVyLnBhcmFtcy5rZXlib2FyZC5wYWdlVXBEb3duO1xuICAgIHZhciBpc1BhZ2VVcCA9IHBhZ2VVcERvd24gJiYga2MgPT09IDMzO1xuICAgIHZhciBpc1BhZ2VEb3duID0gcGFnZVVwRG93biAmJiBrYyA9PT0gMzQ7XG4gICAgdmFyIGlzQXJyb3dMZWZ0ID0ga2MgPT09IDM3O1xuICAgIHZhciBpc0Fycm93UmlnaHQgPSBrYyA9PT0gMzk7XG4gICAgdmFyIGlzQXJyb3dVcCA9IGtjID09PSAzODtcbiAgICB2YXIgaXNBcnJvd0Rvd24gPSBrYyA9PT0gNDA7IC8vIERpcmVjdGlvbnMgbG9ja3NcblxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgaXNBcnJvd1JpZ2h0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd0Rvd24gfHwgaXNQYWdlRG93bikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dMZWZ0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd1VwIHx8IGlzUGFnZVVwKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSAmJiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHRhcmVhJykpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQgJiYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0IHx8IGlzQXJyb3dVcCB8fCBpc0Fycm93RG93bikpIHtcbiAgICAgIHZhciBpblZpZXcgPSBmYWxzZTsgLy8gQ2hlY2sgdGhhdCBzd2lwZXIgc2hvdWxkIGJlIGluc2lkZSBvZiB2aXNpYmxlIGFyZWEgb2Ygd2luZG93XG5cbiAgICAgIGlmIChzd2lwZXIuJGVsLnBhcmVudHMoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpLmxlbmd0aCA+IDAgJiYgc3dpcGVyLiRlbC5wYXJlbnRzKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgdmFyICRlbCA9IHN3aXBlci4kZWw7XG4gICAgICB2YXIgc3dpcGVyV2lkdGggPSAkZWxbMF0uY2xpZW50V2lkdGg7XG4gICAgICB2YXIgc3dpcGVySGVpZ2h0ID0gJGVsWzBdLmNsaWVudEhlaWdodDtcbiAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciBzd2lwZXJPZmZzZXQgPSBzd2lwZXIuJGVsLm9mZnNldCgpO1xuICAgICAgaWYgKHJ0bCkgc3dpcGVyT2Zmc2V0LmxlZnQgLT0gc3dpcGVyLiRlbFswXS5zY3JvbGxMZWZ0O1xuICAgICAgdmFyIHN3aXBlckNvb3JkID0gW1tzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyV2lkdGgsIHN3aXBlck9mZnNldC50b3AgKyBzd2lwZXJIZWlnaHRdXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXJDb29yZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcblxuICAgICAgICBpZiAocG9pbnRbMF0gPj0gMCAmJiBwb2ludFswXSA8PSB3aW5kb3dXaWR0aCAmJiBwb2ludFsxXSA+PSAwICYmIHBvaW50WzFdIDw9IHdpbmRvd0hlaWdodCkge1xuICAgICAgICAgIGlmIChwb2ludFswXSA9PT0gMCAmJiBwb2ludFsxXSA9PT0gMCkgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgICAgIGluVmlldyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpblZpZXcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0KSB7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNQYWdlRG93biB8fCBpc0Fycm93UmlnaHQpICYmICFydGwgfHwgKGlzUGFnZVVwIHx8IGlzQXJyb3dMZWZ0KSAmJiBydGwpIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgIGlmICgoaXNQYWdlVXAgfHwgaXNBcnJvd0xlZnQpICYmICFydGwgfHwgKGlzUGFnZURvd24gfHwgaXNBcnJvd1JpZ2h0KSAmJiBydGwpIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd1VwIHx8IGlzQXJyb3dEb3duKSB7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BhZ2VEb3duIHx8IGlzQXJyb3dEb3duKSBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNBcnJvd1VwKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ2tleVByZXNzJywga2MpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sXG4gIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkgcmV0dXJuO1xuICAgICgwLCBfZG9tLmRlZmF1bHQpKGRvY3VtZW50KS5vbigna2V5ZG93bicsIHN3aXBlci5rZXlib2FyZC5oYW5kbGUpO1xuICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgfSxcbiAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICBpZiAoIXN3aXBlci5rZXlib2FyZC5lbmFibGVkKSByZXR1cm47XG4gICAgKDAsIF9kb20uZGVmYXVsdCkoZG9jdW1lbnQpLm9mZigna2V5ZG93bicsIHN3aXBlci5rZXlib2FyZC5oYW5kbGUpO1xuICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGVkID0gZmFsc2U7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdrZXlib2FyZCcsXG4gIHBhcmFtczoge1xuICAgIGtleWJvYXJkOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlLFxuICAgICAgcGFnZVVwRG93bjogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBrZXlib2FyZDogX2V4dGVuZHMoe1xuICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgfSwgS2V5Ym9hcmQpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmtleWJvYXJkLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmtleWJvYXJkLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIua2V5Ym9hcmQuZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBMYXp5ID0ge1xuICBsb2FkSW5TbGlkZTogZnVuY3Rpb24gbG9hZEluU2xpZGUoaW5kZXgsIGxvYWRJbkR1cGxpY2F0ZSkge1xuICAgIGlmIChsb2FkSW5EdXBsaWNhdGUgPT09IHZvaWQgMCkge1xuICAgICAgbG9hZEluRHVwbGljYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5sYXp5O1xuICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5zbGlkZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICAgIHZhciAkc2xpZGVFbCA9IGlzVmlydHVhbCA/IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCJdXCIpIDogc3dpcGVyLnNsaWRlcy5lcShpbmRleCk7XG4gICAgdmFyICRpbWFnZXMgPSAkc2xpZGVFbC5maW5kKFwiLlwiICsgcGFyYW1zLmVsZW1lbnRDbGFzcyArIFwiOm5vdCguXCIgKyBwYXJhbXMubG9hZGVkQ2xhc3MgKyBcIik6bm90KC5cIiArIHBhcmFtcy5sb2FkaW5nQ2xhc3MgKyBcIilcIik7XG5cbiAgICBpZiAoJHNsaWRlRWwuaGFzQ2xhc3MocGFyYW1zLmVsZW1lbnRDbGFzcykgJiYgISRzbGlkZUVsLmhhc0NsYXNzKHBhcmFtcy5sb2FkZWRDbGFzcykgJiYgISRzbGlkZUVsLmhhc0NsYXNzKHBhcmFtcy5sb2FkaW5nQ2xhc3MpKSB7XG4gICAgICAkaW1hZ2VzLnB1c2goJHNsaWRlRWxbMF0pO1xuICAgIH1cblxuICAgIGlmICgkaW1hZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICRpbWFnZXMuZWFjaChmdW5jdGlvbiAoaW1hZ2VFbCkge1xuICAgICAgdmFyICRpbWFnZUVsID0gKDAsIF9kb20uZGVmYXVsdCkoaW1hZ2VFbCk7XG4gICAgICAkaW1hZ2VFbC5hZGRDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKTtcbiAgICAgIHZhciBiYWNrZ3JvdW5kID0gJGltYWdlRWwuYXR0cignZGF0YS1iYWNrZ3JvdW5kJyk7XG4gICAgICB2YXIgc3JjID0gJGltYWdlRWwuYXR0cignZGF0YS1zcmMnKTtcbiAgICAgIHZhciBzcmNzZXQgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgdmFyIHNpemVzID0gJGltYWdlRWwuYXR0cignZGF0YS1zaXplcycpO1xuICAgICAgdmFyICRwaWN0dXJlRWwgPSAkaW1hZ2VFbC5wYXJlbnQoJ3BpY3R1cmUnKTtcbiAgICAgIHN3aXBlci5sb2FkSW1hZ2UoJGltYWdlRWxbMF0sIHNyYyB8fCBiYWNrZ3JvdW5kLCBzcmNzZXQsIHNpemVzLCBmYWxzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHN3aXBlciA9PT0gJ3VuZGVmaW5lZCcgfHwgc3dpcGVyID09PSBudWxsIHx8ICFzd2lwZXIgfHwgc3dpcGVyICYmICFzd2lwZXIucGFyYW1zIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICRpbWFnZUVsLmNzcygnYmFja2dyb3VuZC1pbWFnZScsIFwidXJsKFxcXCJcIiArIGJhY2tncm91bmQgKyBcIlxcXCIpXCIpO1xuICAgICAgICAgICRpbWFnZUVsLnJlbW92ZUF0dHIoJ2RhdGEtYmFja2dyb3VuZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgICAgICRpbWFnZUVsLmF0dHIoJ3NyY3NldCcsIHNyY3NldCk7XG4gICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzaXplcykge1xuICAgICAgICAgICAgJGltYWdlRWwuYXR0cignc2l6ZXMnLCBzaXplcyk7XG4gICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNpemVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCRwaWN0dXJlRWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAkcGljdHVyZUVsLmNoaWxkcmVuKCdzb3VyY2UnKS5lYWNoKGZ1bmN0aW9uIChzb3VyY2VFbCkge1xuICAgICAgICAgICAgICB2YXIgJHNvdXJjZSA9ICgwLCBfZG9tLmRlZmF1bHQpKHNvdXJjZUVsKTtcblxuICAgICAgICAgICAgICBpZiAoJHNvdXJjZS5hdHRyKCdkYXRhLXNyY3NldCcpKSB7XG4gICAgICAgICAgICAgICAgJHNvdXJjZS5hdHRyKCdzcmNzZXQnLCAkc291cmNlLmF0dHIoJ2RhdGEtc3Jjc2V0JykpO1xuICAgICAgICAgICAgICAgICRzb3VyY2UucmVtb3ZlQXR0cignZGF0YS1zcmNzZXQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgJGltYWdlRWwuYXR0cignc3JjJywgc3JjKTtcbiAgICAgICAgICAgICRpbWFnZUVsLnJlbW92ZUF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJGltYWdlRWwuYWRkQ2xhc3MocGFyYW1zLmxvYWRlZENsYXNzKS5yZW1vdmVDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKTtcbiAgICAgICAgJHNsaWRlRWwuZmluZChcIi5cIiArIHBhcmFtcy5wcmVsb2FkZXJDbGFzcykucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiBsb2FkSW5EdXBsaWNhdGUpIHtcbiAgICAgICAgICB2YXIgc2xpZGVPcmlnaW5hbEluZGV4ID0gJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcblxuICAgICAgICAgIGlmICgkc2xpZGVFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxTbGlkZSA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHNsaWRlT3JpZ2luYWxJbmRleCArIFwiXFxcIl06bm90KC5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVwiKTtcbiAgICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKG9yaWdpbmFsU2xpZGUuaW5kZXgoKSwgZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZHVwbGljYXRlZFNsaWRlID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBzbGlkZU9yaWdpbmFsSW5kZXggKyBcIlxcXCJdXCIpO1xuICAgICAgICAgICAgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoZHVwbGljYXRlZFNsaWRlLmluZGV4KCksIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIuZW1pdCgnbGF6eUltYWdlUmVhZHknLCAkc2xpZGVFbFswXSwgJGltYWdlRWxbMF0pO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5lbWl0KCdsYXp5SW1hZ2VMb2FkJywgJHNsaWRlRWxbMF0sICRpbWFnZUVsWzBdKTtcbiAgICB9KTtcbiAgfSxcbiAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgICBzd2lwZXJQYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICB2YXIgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyUGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyUGFyYW1zLmxhenk7XG4gICAgdmFyIHNsaWRlc1BlclZpZXcgPSBzd2lwZXJQYXJhbXMuc2xpZGVzUGVyVmlldztcblxuICAgIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgIHNsaWRlc1BlclZpZXcgPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNsaWRlRXhpc3QoaW5kZXgpIHtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgaWYgKCR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXJQYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGluZGV4ICsgXCJcXFwiXVwiKS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzbGlkZXNbaW5kZXhdKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNsaWRlSW5kZXgoc2xpZGVFbCkge1xuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXR1cm4gKDAsIF9kb20uZGVmYXVsdCkoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlRWwpLmluZGV4KCk7XG4gICAgfVxuXG4gICAgaWYgKCFzd2lwZXIubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQpIHN3aXBlci5sYXp5LmluaXRpYWxJbWFnZUxvYWRlZCA9IHRydWU7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXJQYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaXNWaXJ0dWFsID8gKDAsIF9kb20uZGVmYXVsdCkoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSA6ICgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlRWwpLmluZGV4KCk7XG4gICAgICAgIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2xpZGVzUGVyVmlldyA+IDEpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhY3RpdmVJbmRleDsgaSA8IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldzsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZUV4aXN0KGkpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoYWN0aXZlSW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubG9hZFByZXZOZXh0KSB7XG4gICAgICBpZiAoc2xpZGVzUGVyVmlldyA+IDEgfHwgcGFyYW1zLmxvYWRQcmV2TmV4dEFtb3VudCAmJiBwYXJhbXMubG9hZFByZXZOZXh0QW1vdW50ID4gMSkge1xuICAgICAgICB2YXIgYW1vdW50ID0gcGFyYW1zLmxvYWRQcmV2TmV4dEFtb3VudDtcbiAgICAgICAgdmFyIHNwdiA9IHNsaWRlc1BlclZpZXc7XG4gICAgICAgIHZhciBtYXhJbmRleCA9IE1hdGgubWluKGFjdGl2ZUluZGV4ICsgc3B2ICsgTWF0aC5tYXgoYW1vdW50LCBzcHYpLCBzbGlkZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1pbkluZGV4ID0gTWF0aC5tYXgoYWN0aXZlSW5kZXggLSBNYXRoLm1heChzcHYsIGFtb3VudCksIDApOyAvLyBOZXh0IFNsaWRlc1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gYWN0aXZlSW5kZXggKyBzbGlkZXNQZXJWaWV3OyBfaSA8IG1heEluZGV4OyBfaSArPSAxKSB7XG4gICAgICAgICAgaWYgKHNsaWRlRXhpc3QoX2kpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShfaSk7XG4gICAgICAgIH0gLy8gUHJldiBTbGlkZXNcblxuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IG1pbkluZGV4OyBfaTIgPCBhY3RpdmVJbmRleDsgX2kyICs9IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVFeGlzdChfaTIpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShfaTIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV4dFNsaWRlID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlclBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gICAgICAgIGlmIChuZXh0U2xpZGUubGVuZ3RoID4gMCkgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoc2xpZGVJbmRleChuZXh0U2xpZGUpKTtcbiAgICAgICAgdmFyIHByZXZTbGlkZSA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXJQYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgICBpZiAocHJldlNsaWRlLmxlbmd0aCA+IDApIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKHNsaWRlSW5kZXgocHJldlNsaWRlKSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjaGVja0luVmlld09uTG9hZDogZnVuY3Rpb24gY2hlY2tJblZpZXdPbkxvYWQoKSB7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgdmFyICRzY3JvbGxFbGVtZW50ID0gc3dpcGVyLnBhcmFtcy5sYXp5LnNjcm9sbGluZ0VsZW1lbnQgPyAoMCwgX2RvbS5kZWZhdWx0KShzd2lwZXIucGFyYW1zLmxhenkuc2Nyb2xsaW5nRWxlbWVudCkgOiAoMCwgX2RvbS5kZWZhdWx0KSh3aW5kb3cpO1xuICAgIHZhciBpc1dpbmRvdyA9ICRzY3JvbGxFbGVtZW50WzBdID09PSB3aW5kb3c7XG4gICAgdmFyIHNjcm9sbEVsZW1lbnRXaWR0aCA9IGlzV2luZG93ID8gd2luZG93LmlubmVyV2lkdGggOiAkc2Nyb2xsRWxlbWVudFswXS5vZmZzZXRXaWR0aDtcbiAgICB2YXIgc2Nyb2xsRWxlbWVudEhlaWdodCA9IGlzV2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogJHNjcm9sbEVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBzd2lwZXJPZmZzZXQgPSBzd2lwZXIuJGVsLm9mZnNldCgpO1xuICAgIHZhciBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlO1xuICAgIHZhciBpblZpZXcgPSBmYWxzZTtcbiAgICBpZiAocnRsKSBzd2lwZXJPZmZzZXQubGVmdCAtPSBzd2lwZXIuJGVsWzBdLnNjcm9sbExlZnQ7XG4gICAgdmFyIHN3aXBlckNvb3JkID0gW1tzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlci53aWR0aCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlci5oZWlnaHRdLCBbc3dpcGVyT2Zmc2V0LmxlZnQgKyBzd2lwZXIud2lkdGgsIHN3aXBlck9mZnNldC50b3AgKyBzd2lwZXIuaGVpZ2h0XV07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN3aXBlckNvb3JkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcblxuICAgICAgaWYgKHBvaW50WzBdID49IDAgJiYgcG9pbnRbMF0gPD0gc2Nyb2xsRWxlbWVudFdpZHRoICYmIHBvaW50WzFdID49IDAgJiYgcG9pbnRbMV0gPD0gc2Nyb2xsRWxlbWVudEhlaWdodCkge1xuICAgICAgICBpZiAocG9pbnRbMF0gPT09IDAgJiYgcG9pbnRbMV0gPT09IDApIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgICAgaW5WaWV3ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3dpcGVyLnN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcblxuICAgIGlmIChpblZpZXcpIHtcbiAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgICRzY3JvbGxFbGVtZW50Lm9mZignc2Nyb2xsJywgc3dpcGVyLmxhenkuY2hlY2tJblZpZXdPbkxvYWQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfSBlbHNlIGlmICghc3dpcGVyLmxhenkuc2Nyb2xsSGFuZGxlckF0dGFjaGVkKSB7XG4gICAgICBzd2lwZXIubGF6eS5zY3JvbGxIYW5kbGVyQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbCcsIHN3aXBlci5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2xhenknLFxuICBwYXJhbXM6IHtcbiAgICBsYXp5OiB7XG4gICAgICBjaGVja0luVmlldzogZmFsc2UsXG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGxvYWRQcmV2TmV4dDogZmFsc2UsXG4gICAgICBsb2FkUHJldk5leHRBbW91bnQ6IDEsXG4gICAgICBsb2FkT25UcmFuc2l0aW9uU3RhcnQ6IGZhbHNlLFxuICAgICAgc2Nyb2xsaW5nRWxlbWVudDogJycsXG4gICAgICBlbGVtZW50Q2xhc3M6ICdzd2lwZXItbGF6eScsXG4gICAgICBsb2FkaW5nQ2xhc3M6ICdzd2lwZXItbGF6eS1sb2FkaW5nJyxcbiAgICAgIGxvYWRlZENsYXNzOiAnc3dpcGVyLWxhenktbG9hZGVkJyxcbiAgICAgIHByZWxvYWRlckNsYXNzOiAnc3dpcGVyLWxhenktcHJlbG9hZGVyJ1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBsYXp5OiBfZXh0ZW5kcyh7XG4gICAgICAgIGluaXRpYWxJbWFnZUxvYWRlZDogZmFsc2VcbiAgICAgIH0sIExhenkpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnByZWxvYWRJbWFnZXMpIHtcbiAgICAgICAgc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUgPT09IDApIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5jaGVja0luVmlldykge1xuICAgICAgICAgIHN3aXBlci5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzY3JvbGw6IGZ1bmN0aW9uIHNjcm9sbChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmICFzd2lwZXIucGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG4gICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdzY3JvbGxiYXJEcmFnTW92ZSByZXNpemUgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnOiBmdW5jdGlvbiBsYXp5TG9hZChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uU3RhcnQ6IGZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCkge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCB8fCAhc3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCAmJiAhc3dpcGVyLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkKSB7XG4gICAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkICYmICFzd2lwZXIucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0KSB7XG4gICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgIHZhciBfc3dpcGVyJHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICAgbGF6eSA9IF9zd2lwZXIkcGFyYW1zLmxhenksXG4gICAgICAgICAgY3NzTW9kZSA9IF9zd2lwZXIkcGFyYW1zLmNzc01vZGUsXG4gICAgICAgICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5ID0gX3N3aXBlciRwYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5LFxuICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3MgPSBfc3dpcGVyJHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzLFxuICAgICAgICAgIHRvdWNoUmVsZWFzZU9uRWRnZXMgPSBfc3dpcGVyJHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzLFxuICAgICAgICAgIHJlc2lzdGFuY2VSYXRpbyA9IF9zd2lwZXIkcGFyYW1zLnJlc2lzdGFuY2VSYXRpbztcblxuICAgICAgaWYgKGxhenkuZW5hYmxlZCAmJiAoY3NzTW9kZSB8fCAod2F0Y2hTbGlkZXNWaXNpYmlsaXR5IHx8IHdhdGNoU2xpZGVzUHJvZ3Jlc3MpICYmICh0b3VjaFJlbGVhc2VPbkVkZ2VzIHx8IHJlc2lzdGFuY2VSYXRpbyA9PT0gMCkpKSB7XG4gICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZCgpIHtcbiAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gIHZhciBldmVudE5hbWUgPSAnb253aGVlbCc7XG4gIHZhciBpc1N1cHBvcnRlZCA9IChldmVudE5hbWUgaW4gZG9jdW1lbnQpO1xuXG4gIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZSwgJ3JldHVybjsnKTtcbiAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICBpZiAoIWlzU3VwcG9ydGVkICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUgJiYgLy8gYWx3YXlzIHJldHVybnMgdHJ1ZSBpbiBuZXdlciBicm93c2VycyBhcyBwZXIgdGhlIHN0YW5kYXJkLlxuICAvLyBAc2VlIGh0dHA6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNkb20tZG9taW1wbGVtZW50YXRpb24taGFzZmVhdHVyZVxuICBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCcnLCAnJykgIT09IHRydWUpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byB0ZXN0IHN1cHBvcnQgZm9yIHRoZSBgd2hlZWxgIGV2ZW50IGluIElFOSsuXG4gICAgaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCdFdmVudHMud2hlZWwnLCAnMy4wJyk7XG4gIH1cblxuICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbnZhciBNb3VzZXdoZWVsID0ge1xuICBsYXN0U2Nyb2xsVGltZTogKDAsIF91dGlscy5ub3cpKCksXG4gIGxhc3RFdmVudEJlZm9yZVNuYXA6IHVuZGVmaW5lZCxcbiAgcmVjZW50V2hlZWxFdmVudHM6IFtdLFxuICBldmVudDogZnVuY3Rpb24gZXZlbnQoKSB7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignZmlyZWZveCcpID4gLTEpIHJldHVybiAnRE9NTW91c2VTY3JvbGwnO1xuICAgIHJldHVybiBpc0V2ZW50U3VwcG9ydGVkKCkgPyAnd2hlZWwnIDogJ21vdXNld2hlZWwnO1xuICB9LFxuICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZShlKSB7XG4gICAgLy8gUmVhc29uYWJsZSBkZWZhdWx0c1xuICAgIHZhciBQSVhFTF9TVEVQID0gMTA7XG4gICAgdmFyIExJTkVfSEVJR0hUID0gNDA7XG4gICAgdmFyIFBBR0VfSEVJR0hUID0gODAwO1xuICAgIHZhciBzWCA9IDA7XG4gICAgdmFyIHNZID0gMDsgLy8gc3BpblgsIHNwaW5ZXG5cbiAgICB2YXIgcFggPSAwO1xuICAgIHZhciBwWSA9IDA7IC8vIHBpeGVsWCwgcGl4ZWxZXG4gICAgLy8gTGVnYWN5XG5cbiAgICBpZiAoJ2RldGFpbCcgaW4gZSkge1xuICAgICAgc1kgPSBlLmRldGFpbDtcbiAgICB9XG5cbiAgICBpZiAoJ3doZWVsRGVsdGEnIGluIGUpIHtcbiAgICAgIHNZID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICB9XG5cbiAgICBpZiAoJ3doZWVsRGVsdGFZJyBpbiBlKSB7XG4gICAgICBzWSA9IC1lLndoZWVsRGVsdGFZIC8gMTIwO1xuICAgIH1cblxuICAgIGlmICgnd2hlZWxEZWx0YVgnIGluIGUpIHtcbiAgICAgIHNYID0gLWUud2hlZWxEZWx0YVggLyAxMjA7XG4gICAgfSAvLyBzaWRlIHNjcm9sbGluZyBvbiBGRiB3aXRoIERPTU1vdXNlU2Nyb2xsXG5cblxuICAgIGlmICgnYXhpcycgaW4gZSAmJiBlLmF4aXMgPT09IGUuSE9SSVpPTlRBTF9BWElTKSB7XG4gICAgICBzWCA9IHNZO1xuICAgICAgc1kgPSAwO1xuICAgIH1cblxuICAgIHBYID0gc1ggKiBQSVhFTF9TVEVQO1xuICAgIHBZID0gc1kgKiBQSVhFTF9TVEVQO1xuXG4gICAgaWYgKCdkZWx0YVknIGluIGUpIHtcbiAgICAgIHBZID0gZS5kZWx0YVk7XG4gICAgfVxuXG4gICAgaWYgKCdkZWx0YVgnIGluIGUpIHtcbiAgICAgIHBYID0gZS5kZWx0YVg7XG4gICAgfVxuXG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIXBYKSB7XG4gICAgICAvLyBpZiB1c2VyIHNjcm9sbHMgd2l0aCBzaGlmdCBoZSB3YW50cyBob3Jpem9udGFsIHNjcm9sbFxuICAgICAgcFggPSBwWTtcbiAgICAgIHBZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoKHBYIHx8IHBZKSAmJiBlLmRlbHRhTW9kZSkge1xuICAgICAgaWYgKGUuZGVsdGFNb2RlID09PSAxKSB7XG4gICAgICAgIC8vIGRlbHRhIGluIExJTkUgdW5pdHNcbiAgICAgICAgcFggKj0gTElORV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IExJTkVfSEVJR0hUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVsdGEgaW4gUEFHRSB1bml0c1xuICAgICAgICBwWCAqPSBQQUdFX0hFSUdIVDtcbiAgICAgICAgcFkgKj0gUEFHRV9IRUlHSFQ7XG4gICAgICB9XG4gICAgfSAvLyBGYWxsLWJhY2sgaWYgc3BpbiBjYW5ub3QgYmUgZGV0ZXJtaW5lZFxuXG5cbiAgICBpZiAocFggJiYgIXNYKSB7XG4gICAgICBzWCA9IHBYIDwgMSA/IC0xIDogMTtcbiAgICB9XG5cbiAgICBpZiAocFkgJiYgIXNZKSB7XG4gICAgICBzWSA9IHBZIDwgMSA/IC0xIDogMTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3Bpblg6IHNYLFxuICAgICAgc3Bpblk6IHNZLFxuICAgICAgcGl4ZWxYOiBwWCxcbiAgICAgIHBpeGVsWTogcFlcbiAgICB9O1xuICB9LFxuICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIubW91c2VFbnRlcmVkID0gdHJ1ZTtcbiAgfSxcbiAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLm1vdXNlRW50ZXJlZCA9IGZhbHNlO1xuICB9LFxuICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShldmVudCkge1xuICAgIHZhciBlID0gZXZlbnQ7XG4gICAgdmFyIGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBzd2lwZXIuJGVsO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXQgPSAoMCwgX2RvbS5kZWZhdWx0KShzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5tb3VzZUVudGVyZWQgJiYgIXRhcmdldFswXS5jb250YWlucyhlLnRhcmdldCkgJiYgIXBhcmFtcy5yZWxlYXNlT25FZGdlcykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDsgLy8ganF1ZXJ5IGZpeFxuXG4gICAgdmFyIGRlbHRhID0gMDtcbiAgICB2YXIgcnRsRmFjdG9yID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTtcbiAgICB2YXIgZGF0YSA9IE1vdXNld2hlZWwubm9ybWFsaXplKGUpO1xuXG4gICAgaWYgKHBhcmFtcy5mb3JjZVRvQXhpcykge1xuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvcjtlbHNlIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWSkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWCkpIGRlbHRhID0gLWRhdGEucGl4ZWxZO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpID8gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yIDogLWRhdGEucGl4ZWxZO1xuICAgIH1cblxuICAgIGlmIChkZWx0YSA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHBhcmFtcy5pbnZlcnQpIGRlbHRhID0gLWRlbHRhOyAvLyBHZXQgdGhlIHNjcm9sbCBwb3NpdGlvbnNcblxuICAgIHZhciBwb3NpdGlvbnMgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICBpZiAocG9zaXRpb25zID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb25zID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGlmIChwb3NpdGlvbnMgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7IC8vIFdoZW4gbG9vcCBpcyB0cnVlOlxuICAgIC8vICAgICB0aGUgZGlzYWJsZVBhcmVudFN3aXBlciB3aWxsIGJlIHRydWUuXG4gICAgLy8gV2hlbiBsb29wIGlzIGZhbHNlOlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIHBvc2l0aW9ucyBpcyBub3Qgb24gZWRnZSxcbiAgICAvLyAgICAgdGhlbiB0aGUgZGlzYWJsZVBhcmVudFN3aXBlciB3aWxsIGJlIHRydWUuXG4gICAgLy8gICAgIGlmIHRoZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnMsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSBmYWxzZS5cblxuICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyB0cnVlIDogIShwb3NpdGlvbnMgPT09IHN3aXBlci5taW5UcmFuc2xhdGUoKSB8fCBwb3NpdGlvbnMgPT09IHN3aXBlci5tYXhUcmFuc2xhdGUoKSk7XG4gICAgaWYgKGRpc2FibGVQYXJlbnRTd2lwZXIgJiYgc3dpcGVyLnBhcmFtcy5uZXN0ZWQpIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUpIHtcbiAgICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgZXZlbnQgaW4gYSB2YXJpYWJsZSB3aGljaCBzdG9yZXMgdGhlIHJlbGV2YW50IGRhdGFcbiAgICAgIHZhciBuZXdFdmVudCA9IHtcbiAgICAgICAgdGltZTogKDAsIF91dGlscy5ub3cpKCksXG4gICAgICAgIGRlbHRhOiBNYXRoLmFicyhkZWx0YSksXG4gICAgICAgIGRpcmVjdGlvbjogTWF0aC5zaWduKGRlbHRhKSxcbiAgICAgICAgcmF3OiBldmVudFxuICAgICAgfTsgLy8gS2VlcCB0aGUgbW9zdCByZWNlbnQgZXZlbnRzXG5cbiAgICAgIHZhciByZWNlbnRXaGVlbEV2ZW50cyA9IHN3aXBlci5tb3VzZXdoZWVsLnJlY2VudFdoZWVsRXZlbnRzO1xuXG4gICAgICBpZiAocmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc2hpZnQoKTsgLy8gb25seSBzdG9yZSB0aGUgbGFzdCBOIGV2ZW50c1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTsgLy8gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByZXZpb3VzIHJlY29yZGVkIGV2ZW50OlxuICAgICAgLy8gICBJZiBkaXJlY3Rpb24gaGFzIGNoYW5nZWQgb3JcbiAgICAgIC8vICAgaWYgdGhlIHNjcm9sbCBpcyBxdWlja2VyIHRoYW4gdGhlIHByZXZpb3VzIG9uZTpcbiAgICAgIC8vICAgICBBbmltYXRlIHRoZSBzbGlkZXIuXG4gICAgICAvLyBFbHNlICh0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB3aGVlbCBpcyBtb3ZlZCk6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuXG4gICAgICBpZiAocHJldkV2ZW50KSB7XG4gICAgICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24gfHwgbmV3RXZlbnQuZGVsdGEgPiBwcmV2RXZlbnQuZGVsdGEgfHwgbmV3RXZlbnQudGltZSA+IHByZXZFdmVudC50aW1lICsgMTUwKSB7XG4gICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwuYW5pbWF0ZVNsaWRlcihuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgfSAvLyBJZiBpdCdzIHRpbWUgdG8gcmVsZWFzZSB0aGUgc2Nyb2xsOlxuICAgICAgLy8gICBSZXR1cm4gbm93IHNvIHlvdSBkb24ndCBoaXQgdGhlIHByZXZlbnREZWZhdWx0LlxuXG5cbiAgICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5yZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRnJlZW1vZGUgb3Igc2Nyb2xsQ29udGFpbmVyOlxuICAgICAgLy8gSWYgd2UgcmVjZW50bHkgc25hcHBlZCBhZnRlciBhIG1vbWVudHVtIHNjcm9sbCwgdGhlbiBpZ25vcmUgd2hlZWwgZXZlbnRzXG4gICAgICAvLyB0byBnaXZlIHRpbWUgZm9yIHRoZSBkZWNlbGVyYXRpb24gdG8gZmluaXNoLiBTdG9wIGlnbm9yaW5nIGFmdGVyIDUwMCBtc2Vjc1xuICAgICAgLy8gb3IgaWYgaXQncyBhIG5ldyBzY3JvbGwgKGxhcmdlciBkZWx0YSBvciBpbnZlcnNlIHNpZ24gYXMgbGFzdCBldmVudCBiZWZvcmVcbiAgICAgIC8vIGFuIGVuZC1vZi1tb21lbnR1bSBzbmFwKS5cbiAgICAgIHZhciBfbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6ICgwLCBfdXRpbHMubm93KSgpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSlcbiAgICAgIH07XG4gICAgICB2YXIgbGFzdEV2ZW50QmVmb3JlU25hcCA9IHN3aXBlci5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXA7XG4gICAgICB2YXIgaWdub3JlV2hlZWxFdmVudHMgPSBsYXN0RXZlbnRCZWZvcmVTbmFwICYmIF9uZXdFdmVudC50aW1lIDwgbGFzdEV2ZW50QmVmb3JlU25hcC50aW1lICsgNTAwICYmIF9uZXdFdmVudC5kZWx0YSA8PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRlbHRhICYmIF9uZXdFdmVudC5kaXJlY3Rpb24gPT09IGxhc3RFdmVudEJlZm9yZVNuYXAuZGlyZWN0aW9uO1xuXG4gICAgICBpZiAoIWlnbm9yZVdoZWVsRXZlbnRzKSB7XG4gICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXAgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9zaXRpb24gPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICAgICAgdmFyIHdhc0JlZ2lubmluZyA9IHN3aXBlci5pc0JlZ2lubmluZztcbiAgICAgICAgdmFyIHdhc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgICAgICBpZiAoIXdhc0JlZ2lubmluZyAmJiBzd2lwZXIuaXNCZWdpbm5pbmcgfHwgIXdhc0VuZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgICAvLyBXaGVuIHdoZWVsIHNjcm9sbGluZyBzdGFydHMgd2l0aCBzdGlja3kgKGFrYSBzbmFwKSBlbmFibGVkLCB0aGVuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgYnkgc3RvcmluZyByZWNlbnQgKE49MTU/KSB3aGVlbCBldmVudHMuXG4gICAgICAgICAgLy8gMS4gZG8gYWxsIE4gZXZlbnRzIGhhdmUgZGVjcmVhc2luZyBvciBzYW1lIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGE/XG4gICAgICAgICAgLy8gMi4gZGlkIGFsbCBOIGV2ZW50cyBhcnJpdmUgaW4gdGhlIGxhc3QgTSAoTT01MDA/KSBtc2Vjcz9cbiAgICAgICAgICAvLyAzLiBkb2VzIHRoZSBlYXJsaWVzdCBldmVudCBoYXZlIGFuIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGEgdGhhdCdzXG4gICAgICAgICAgLy8gICAgYXQgbGVhc3QgUCAoUD0xPykgbGFyZ2VyIHRoYW4gdGhlIG1vc3QgcmVjZW50IGV2ZW50J3MgZGVsdGE/XG4gICAgICAgICAgLy8gNC4gZG9lcyB0aGUgbGF0ZXN0IGV2ZW50IGhhdmUgYSBkZWx0YSB0aGF0J3Mgc21hbGxlciB0aGFuIFEgKFE9Nj8pIHBpeGVscz9cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlIFwieWVzXCIgdGhlbiB3ZSdyZSBuZWFyIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgZGVjZWxlcmF0aW9uLlxuICAgICAgICAgIC8vIFNuYXAgaW1tZWRpYXRlbHkgYW5kIGlnbm9yZSByZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsLlxuICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlIGZvciBcInJlbWFpbmluZyB3aGVlbCBldmVudHMgaW4gdGhpcyBzY3JvbGxcIiBkZXRlcm1pbmF0aW9uLlxuICAgICAgICAgIC8vIElmIDEtNCBhcmVuJ3Qgc2F0aXNmaWVkLCB0aGVuIHdhaXQgdG8gc25hcCB1bnRpbCA1MDBtcyBhZnRlciB0aGUgbGFzdCBldmVudC5cbiAgICAgICAgICBjbGVhclRpbWVvdXQoc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCk7XG4gICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB2YXIgX3JlY2VudFdoZWVsRXZlbnRzID0gc3dpcGVyLm1vdXNld2hlZWwucmVjZW50V2hlZWxFdmVudHM7XG5cbiAgICAgICAgICBpZiAoX3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSkge1xuICAgICAgICAgICAgX3JlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfcHJldkV2ZW50ID0gX3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IF9yZWNlbnRXaGVlbEV2ZW50c1tfcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB2YXIgZmlyc3RFdmVudCA9IF9yZWNlbnRXaGVlbEV2ZW50c1swXTtcblxuICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5wdXNoKF9uZXdFdmVudCk7XG5cbiAgICAgICAgICBpZiAoX3ByZXZFdmVudCAmJiAoX25ld0V2ZW50LmRlbHRhID4gX3ByZXZFdmVudC5kZWx0YSB8fCBfbmV3RXZlbnQuZGlyZWN0aW9uICE9PSBfcHJldkV2ZW50LmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIC8vIEluY3JlYXNpbmcgb3IgcmV2ZXJzZS1zaWduIGRlbHRhIG1lYW5zIHRoZSB1c2VyIHN0YXJ0ZWQgc2Nyb2xsaW5nIGFnYWluLiBDbGVhciB0aGUgd2hlZWwgZXZlbnQgbG9nLlxuICAgICAgICAgICAgX3JlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKF9yZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPj0gMTUgJiYgX25ld0V2ZW50LnRpbWUgLSBmaXJzdEV2ZW50LnRpbWUgPCA1MDAgJiYgZmlyc3RFdmVudC5kZWx0YSAtIF9uZXdFdmVudC5kZWx0YSA+PSAxICYmIF9uZXdFdmVudC5kZWx0YSA8PSA2KSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBhdCB0aGUgZW5kIG9mIHRoZSBkZWNlbGVyYXRpb24gb2YgYSBtb21lbnR1bSBzY3JvbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAgICAgICAgICAgLy8gdG8gd2FpdCBmb3IgbW9yZSBldmVudHMuIFNuYXAgQVNBUCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgICAgICAgLy8gQWxzbywgYmVjYXVzZSB0aGVyZSdzIHNvbWUgcmVtYWluaW5nIG1vbWVudHVtIHdlJ2xsIGJpYXMgdGhlIHNuYXAgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXJlY3Rpb24gb2YgdGhlIG9uZ29pbmcgc2Nyb2xsIGJlY2F1c2UgaXQncyBiZXR0ZXIgVVggZm9yIHRoZSBzY3JvbGwgdG8gc25hcFxuICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgZGlyZWN0aW9uIGFzIHRoZSBzY3JvbGwgaW5zdGVhZCBvZiByZXZlcnNpbmcgdG8gc25hcC4gIFRoZXJlZm9yZSxcbiAgICAgICAgICAgIC8vIGlmIGl0J3MgYWxyZWFkeSBzY3JvbGxlZCBtb3JlIHRoYW4gMjAlIGluIHRoZSBjdXJyZW50IGRpcmVjdGlvbiwga2VlcCBnb2luZy5cbiAgICAgICAgICAgIHZhciBzbmFwVG9UaHJlc2hvbGQgPSBkZWx0YSA+IDAgPyAwLjggOiAwLjI7XG4gICAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwID0gX25ld0V2ZW50O1xuXG4gICAgICAgICAgICBfcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuXG4gICAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC50aW1lb3V0ID0gKDAsIF91dGlscy5uZXh0VGljaykoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgMCk7IC8vIG5vIGRlbGF5OyBtb3ZlIG9uIG5leHQgdGlja1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgaGF2ZW4ndCBkZXRlY3RlZCB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsLCBzb1xuICAgICAgICAgICAgLy8gd2UnbGwgY29uc2lkZXIgYSBzY3JvbGwgXCJjb21wbGV0ZVwiIHdoZW4gdGhlcmUgaGF2ZW4ndCBiZWVuIGFueSB3aGVlbCBldmVudHNcbiAgICAgICAgICAgIC8vIGZvciA1MDBtcy5cbiAgICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLnRpbWVvdXQgPSAoMCwgX3V0aWxzLm5leHRUaWNrKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBzbmFwVG9UaHJlc2hvbGQgPSAwLjU7XG4gICAgICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXAgPSBfbmV3RXZlbnQ7XG5cbiAgICAgICAgICAgICAgX3JlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcblxuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gRW1pdCBldmVudFxuXG5cbiAgICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykgc3dpcGVyLmVtaXQoJ3Njcm9sbCcsIGUpOyAvLyBTdG9wIGF1dG9wbGF5XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkgJiYgc3dpcGVyLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uKSBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpOyAvLyBSZXR1cm4gcGFnZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnNcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHN3aXBlci5taW5UcmFuc2xhdGUoKSB8fCBwb3NpdGlvbiA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgYW5pbWF0ZVNsaWRlcjogZnVuY3Rpb24gYW5pbWF0ZVNsaWRlcihuZXdFdmVudCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG5cbiAgICBpZiAodGhpcy5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSAmJiBuZXdFdmVudC5kZWx0YSA8IHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEpIHtcbiAgICAgIC8vIFByZXZlbnQgaWYgZGVsdGEgb2Ygd2hlZWwgc2Nyb2xsIGRlbHRhIGlzIGJlbG93IGNvbmZpZ3VyZWQgdGhyZXNob2xkXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSAmJiAoMCwgX3V0aWxzLm5vdykoKSAtIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lIDwgdGhpcy5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lKSB7XG4gICAgICAvLyBQcmV2ZW50IGlmIHRpbWUgYmV0d2VlbiBzY3JvbGxzIGlzIGJlbG93IGNvbmZpZ3VyZWQgdGhyZXNob2xkXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBJZiB0aGUgbW92ZW1lbnQgaXMgTk9UIGJpZyBlbm91Z2ggYW5kXG4gICAgLy8gaWYgdGhlIGxhc3QgdGltZSB0aGUgdXNlciBzY3JvbGxlZCB3YXMgdG9vIGNsb3NlIHRvIHRoZSBjdXJyZW50IG9uZSAoYXZvaWQgY29udGludW91c2x5IHRyaWdnZXJpbmcgdGhlIHNsaWRlcik6XG4gICAgLy8gICBEb24ndCBnbyBhbnkgZnVydGhlciAoYXZvaWQgaW5zaWduaWZpY2FudCBzY3JvbGwgbW92ZW1lbnQpLlxuXG5cbiAgICBpZiAobmV3RXZlbnQuZGVsdGEgPj0gNiAmJiAoMCwgX3V0aWxzLm5vdykoKSAtIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lIDwgNjApIHtcbiAgICAgIC8vIFJldHVybiBmYWxzZSBhcyBhIGRlZmF1bHRcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gSWYgdXNlciBpcyBzY3JvbGxpbmcgdG93YXJkcyB0aGUgZW5kOlxuICAgIC8vICAgSWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBsYXRlc3Qgc2xpZGUgb3JcbiAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpc24ndCBtb3ZpbmcgcmlnaHQgbm93OlxuICAgIC8vICAgICBHbyB0byBuZXh0IHNsaWRlIGFuZFxuICAgIC8vICAgICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgIC8vIEVsc2UgKHRoZSB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBiZWdpbm5pbmcpIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgZmlyc3Qgc2xpZGUgb3JcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICBHbyB0byBwcmV2IHNsaWRlIGFuZFxuICAgIC8vICAgZW1pdCBhIHNjcm9sbCBldmVudC5cblxuXG4gICAgaWYgKG5ld0V2ZW50LmRpcmVjdGlvbiA8IDApIHtcbiAgICAgIGlmICgoIXN3aXBlci5pc0VuZCB8fCBzd2lwZXIucGFyYW1zLmxvb3ApICYmICFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3Njcm9sbCcsIG5ld0V2ZW50LnJhdyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3ApICYmICFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgICBzd2lwZXIuZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICB9IC8vIElmIHlvdSBnb3QgaGVyZSBpcyBiZWNhdXNlIGFuIGFuaW1hdGlvbiBoYXMgYmVlbiB0cmlnZ2VyZWQgc28gc3RvcmUgdGhlIGN1cnJlbnQgdGltZVxuXG5cbiAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZSA9IG5ldyB3aW5kb3cuRGF0ZSgpLmdldFRpbWUoKTsgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICByZWxlYXNlU2Nyb2xsOiBmdW5jdGlvbiByZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZXZlbnQgPSBNb3VzZXdoZWVsLmV2ZW50KCk7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdGFyZ2V0ID0gc3dpcGVyLiRlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0ID0gKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuXG4gICAgdGFyZ2V0Lm9uKCdtb3VzZWVudGVyJywgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlTW91c2VFbnRlcik7XG4gICAgdGFyZ2V0Lm9uKCdtb3VzZWxlYXZlJywgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGFyZ2V0Lm9uKGV2ZW50LCBzd2lwZXIubW91c2V3aGVlbC5oYW5kbGUpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBldmVudCA9IE1vdXNld2hlZWwuZXZlbnQoKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICghZXZlbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdGFyZ2V0ID0gc3dpcGVyLiRlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0ID0gKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuXG4gICAgdGFyZ2V0Lm9mZihldmVudCwgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlKTtcbiAgICBzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdtb3VzZXdoZWVsJyxcbiAgcGFyYW1zOiB7XG4gICAgbW91c2V3aGVlbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByZWxlYXNlT25FZGdlczogZmFsc2UsXG4gICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgZm9yY2VUb0F4aXM6IGZhbHNlLFxuICAgICAgc2Vuc2l0aXZpdHk6IDEsXG4gICAgICBldmVudHNUYXJnZXQ6ICdjb250YWluZXInLFxuICAgICAgdGhyZXNob2xkRGVsdGE6IG51bGwsXG4gICAgICB0aHJlc2hvbGRUaW1lOiBudWxsXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIG1vdXNld2hlZWw6IHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGxhc3RTY3JvbGxUaW1lOiAoMCwgX3V0aWxzLm5vdykoKSxcbiAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcDogdW5kZWZpbmVkLFxuICAgICAgICByZWNlbnRXaGVlbEV2ZW50czogW10sXG4gICAgICAgIGVuYWJsZTogTW91c2V3aGVlbC5lbmFibGUsXG4gICAgICAgIGRpc2FibGU6IE1vdXNld2hlZWwuZGlzYWJsZSxcbiAgICAgICAgaGFuZGxlOiBNb3VzZXdoZWVsLmhhbmRsZSxcbiAgICAgICAgaGFuZGxlTW91c2VFbnRlcjogTW91c2V3aGVlbC5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICBoYW5kbGVNb3VzZUxlYXZlOiBNb3VzZXdoZWVsLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgIGFuaW1hdGVTbGlkZXI6IE1vdXNld2hlZWwuYW5pbWF0ZVNsaWRlcixcbiAgICAgICAgcmVsZWFzZVNjcm9sbDogTW91c2V3aGVlbC5yZWxlYXNlU2Nyb2xsXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkKSBzd2lwZXIubW91c2V3aGVlbC5lbmFibGUoKTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgc3dpcGVyLm1vdXNld2hlZWwuZGlzYWJsZSgpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBOYXZpZ2F0aW9uID0ge1xuICB0b2dnbGVFbDogZnVuY3Rpb24gdG9nZ2xlRWwoJGVsLCBkaXNhYmxlZCkge1xuICAgICRlbFtkaXNhYmxlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSh0aGlzLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3MpO1xuICAgIGlmICgkZWxbMF0gJiYgJGVsWzBdLnRhZ05hbWUgPT09ICdCVVRUT04nKSAkZWxbMF0uZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgdmFyIHRvZ2dsZUVsID0gc3dpcGVyLm5hdmlnYXRpb24udG9nZ2xlRWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICAgIHZhciBfc3dpcGVyJG5hdmlnYXRpb24gPSBzd2lwZXIubmF2aWdhdGlvbixcbiAgICAgICAgJG5leHRFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbi4kbmV4dEVsLFxuICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uLiRwcmV2RWw7XG5cbiAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgdG9nZ2xlRWwoJHByZXZFbCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2dnbGVFbCgkcHJldkVsLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgJHByZXZFbFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgIHRvZ2dsZUVsKCRuZXh0RWwsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9nZ2xlRWwoJG5leHRFbCwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgICRuZXh0RWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb25QcmV2Q2xpY2s6IGZ1bmN0aW9uIG9uUHJldkNsaWNrKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICB9LFxuICBvbk5leHRDbGljazogZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24gPSAoMCwgX3V0aWxzLmNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQpKHN3aXBlci4kZWwsIHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbiwgc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cywge1xuICAgICAgbmV4dEVsOiAnc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJ3N3aXBlci1idXR0b24tcHJldidcbiAgICB9KTtcbiAgICBpZiAoIShwYXJhbXMubmV4dEVsIHx8IHBhcmFtcy5wcmV2RWwpKSByZXR1cm47XG4gICAgdmFyICRuZXh0RWw7XG4gICAgdmFyICRwcmV2RWw7XG5cbiAgICBpZiAocGFyYW1zLm5leHRFbCkge1xuICAgICAgJG5leHRFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5uZXh0RWwpO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLm5leHRFbCA9PT0gJ3N0cmluZycgJiYgJG5leHRFbC5sZW5ndGggPiAxICYmIHN3aXBlci4kZWwuZmluZChwYXJhbXMubmV4dEVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgJG5leHRFbCA9IHN3aXBlci4kZWwuZmluZChwYXJhbXMubmV4dEVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnByZXZFbCkge1xuICAgICAgJHByZXZFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5wcmV2RWwpO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLnByZXZFbCA9PT0gJ3N0cmluZycgJiYgJHByZXZFbC5sZW5ndGggPiAxICYmIHN3aXBlci4kZWwuZmluZChwYXJhbXMucHJldkVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgJHByZXZFbCA9IHN3aXBlci4kZWwuZmluZChwYXJhbXMucHJldkVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCA+IDApIHtcbiAgICAgICRuZXh0RWwub24oJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25OZXh0Q2xpY2spO1xuICAgIH1cblxuICAgIGlmICgkcHJldkVsICYmICRwcmV2RWwubGVuZ3RoID4gMCkge1xuICAgICAgJHByZXZFbC5vbignY2xpY2snLCBzd2lwZXIubmF2aWdhdGlvbi5vblByZXZDbGljayk7XG4gICAgfVxuXG4gICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgICAkbmV4dEVsOiAkbmV4dEVsLFxuICAgICAgbmV4dEVsOiAkbmV4dEVsICYmICRuZXh0RWxbMF0sXG4gICAgICAkcHJldkVsOiAkcHJldkVsLFxuICAgICAgcHJldkVsOiAkcHJldkVsICYmICRwcmV2RWxbMF1cbiAgICB9KTtcblxuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIGlmICgkbmV4dEVsKSAkbmV4dEVsLmFkZENsYXNzKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgaWYgKCRwcmV2RWwpICRwcmV2RWwuYWRkQ2xhc3MocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBfc3dpcGVyJG5hdmlnYXRpb24yID0gc3dpcGVyLm5hdmlnYXRpb24sXG4gICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24yLiRuZXh0RWwsXG4gICAgICAgICRwcmV2RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24yLiRwcmV2RWw7XG5cbiAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCkge1xuICAgICAgJG5leHRFbC5vZmYoJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25OZXh0Q2xpY2spO1xuICAgICAgJG5leHRFbC5yZW1vdmVDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGgpIHtcbiAgICAgICRwcmV2RWwub2ZmKCdjbGljaycsIHN3aXBlci5uYXZpZ2F0aW9uLm9uUHJldkNsaWNrKTtcbiAgICAgICRwcmV2RWwucmVtb3ZlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3MpO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ25hdmlnYXRpb24nLFxuICBwYXJhbXM6IHtcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IG51bGwsXG4gICAgICBwcmV2RWw6IG51bGwsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICBkaXNhYmxlZENsYXNzOiAnc3dpcGVyLWJ1dHRvbi1kaXNhYmxlZCcsXG4gICAgICBoaWRkZW5DbGFzczogJ3N3aXBlci1idXR0b24taGlkZGVuJyxcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1idXR0b24tbG9jaydcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgbmF2aWdhdGlvbjogX2V4dGVuZHMoe30sIE5hdmlnYXRpb24pXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5uYXZpZ2F0aW9uLmluaXQoKTtcbiAgICAgIHN3aXBlci5uYXZpZ2F0aW9uLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgdG9FZGdlOiBmdW5jdGlvbiB0b0VkZ2Uoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIubmF2aWdhdGlvbi51cGRhdGUoKTtcbiAgICB9LFxuICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5uYXZpZ2F0aW9uLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5uYXZpZ2F0aW9uLmRlc3Ryb3koKTtcbiAgICB9LFxuICAgICdlbmFibGUgZGlzYWJsZSc6IGZ1bmN0aW9uIGVuYWJsZURpc2FibGUoc3dpcGVyKSB7XG4gICAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uMyA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24zLiRuZXh0RWwsXG4gICAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbjMuJHByZXZFbDtcblxuICAgICAgaWYgKCRuZXh0RWwpIHtcbiAgICAgICAgJG5leHRFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRwcmV2RWwpIHtcbiAgICAgICAgJHByZXZFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhzd2lwZXIsIGUpIHtcbiAgICAgIHZhciBfc3dpcGVyJG5hdmlnYXRpb240ID0gc3dpcGVyLm5hdmlnYXRpb24sXG4gICAgICAgICAgJG5leHRFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbjQuJG5leHRFbCxcbiAgICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uNC4kcHJldkVsO1xuICAgICAgdmFyIHRhcmdldEVsID0gZS50YXJnZXQ7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZU9uQ2xpY2sgJiYgISgwLCBfZG9tLmRlZmF1bHQpKHRhcmdldEVsKS5pcygkcHJldkVsKSAmJiAhKDAsIF9kb20uZGVmYXVsdCkodGFyZ2V0RWwpLmlzKCRuZXh0RWwpKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmNsaWNrYWJsZSAmJiAoc3dpcGVyLnBhZ2luYXRpb24uZWwgPT09IHRhcmdldEVsIHx8IHN3aXBlci5wYWdpbmF0aW9uLmVsLmNvbnRhaW5zKHRhcmdldEVsKSkpIHJldHVybjtcbiAgICAgICAgdmFyIGlzSGlkZGVuO1xuXG4gICAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgICAgaXNIaWRkZW4gPSAkbmV4dEVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJHByZXZFbCkge1xuICAgICAgICAgIGlzSGlkZGVuID0gJHByZXZFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ25hdmlnYXRpb25TaG93Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ25hdmlnYXRpb25IaWRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJG5leHRFbCkge1xuICAgICAgICAgICRuZXh0RWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkcHJldkVsKSB7XG4gICAgICAgICAgJHByZXZFbC50b2dnbGVDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFBhZ2luYXRpb24gPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIC8vIFJlbmRlciB8fCBVcGRhdGUgUGFnaW5hdGlvbiBidWxsZXRzL2l0ZW1zXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHJ0bCA9IHN3aXBlci5ydGw7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoIXBhcmFtcy5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLiRlbCB8fCBzd2lwZXIucGFnaW5hdGlvbi4kZWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgdmFyIHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIHZhciAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7IC8vIEN1cnJlbnQvVG90YWxcblxuICAgIHZhciBjdXJyZW50O1xuICAgIHZhciB0b3RhbCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbCgoc2xpZGVzTGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyAqIDIpIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgY3VycmVudCA9IE1hdGguY2VpbCgoc3dpcGVyLmFjdGl2ZUluZGV4IC0gc3dpcGVyLmxvb3BlZFNsaWRlcykgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcblxuICAgICAgaWYgKGN1cnJlbnQgPiBzbGlkZXNMZW5ndGggLSAxIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyAqIDIpIHtcbiAgICAgICAgY3VycmVudCAtPSBzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgPiB0b3RhbCAtIDEpIGN1cnJlbnQgLT0gdG90YWw7XG4gICAgICBpZiAoY3VycmVudCA8IDAgJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAhPT0gJ2J1bGxldHMnKSBjdXJyZW50ID0gdG90YWwgKyBjdXJyZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudCA9IHN3aXBlci5hY3RpdmVJbmRleCB8fCAwO1xuICAgIH0gLy8gVHlwZXNcblxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBidWxsZXRzID0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cztcbiAgICAgIHZhciBmaXJzdEluZGV4O1xuICAgICAgdmFyIGxhc3RJbmRleDtcbiAgICAgIHZhciBtaWRJbmRleDtcblxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplID0gYnVsbGV0cy5lcSgwKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnb3V0ZXJXaWR0aCcgOiAnb3V0ZXJIZWlnaHQnXSh0cnVlKTtcbiAgICAgICAgJGVsLmNzcyhzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnd2lkdGgnIDogJ2hlaWdodCcsIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldFNpemUgKiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpICsgXCJweFwiKTtcblxuICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA+IDEgJiYgc3dpcGVyLnByZXZpb3VzSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCArPSBjdXJyZW50IC0gc3dpcGVyLnByZXZpb3VzSW5kZXg7XG5cbiAgICAgICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID4gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyAtIDEpIHtcbiAgICAgICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA9IHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgLSAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4IDwgMCkge1xuICAgICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmaXJzdEluZGV4ID0gY3VycmVudCAtIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleDtcbiAgICAgICAgbGFzdEluZGV4ID0gZmlyc3RJbmRleCArIChNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cykgLSAxKTtcbiAgICAgICAgbWlkSW5kZXggPSAobGFzdEluZGV4ICsgZmlyc3RJbmRleCkgLyAyO1xuICAgICAgfVxuXG4gICAgICBidWxsZXRzLnJlbW92ZUNsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiIFwiICsgcGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dCBcIiArIHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQtbmV4dCBcIiArIHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXYgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2LXByZXYgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1tYWluXCIpO1xuXG4gICAgICBpZiAoJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYnVsbGV0cy5lYWNoKGZ1bmN0aW9uIChidWxsZXQpIHtcbiAgICAgICAgICB2YXIgJGJ1bGxldCA9ICgwLCBfZG9tLmRlZmF1bHQpKGJ1bGxldCk7XG4gICAgICAgICAgdmFyIGJ1bGxldEluZGV4ID0gJGJ1bGxldC5pbmRleCgpO1xuXG4gICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAkYnVsbGV0LmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICRidWxsZXQuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbWFpblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBmaXJzdEluZGV4KSB7XG4gICAgICAgICAgICAgICRidWxsZXQucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXZcIikucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXYtcHJldlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgJGJ1bGxldC5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dFwiKS5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dC1uZXh0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgJGJ1bGxldCA9IGJ1bGxldHMuZXEoY3VycmVudCk7XG4gICAgICAgIHZhciBidWxsZXRJbmRleCA9ICRidWxsZXQuaW5kZXgoKTtcbiAgICAgICAgJGJ1bGxldC5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICB2YXIgJGZpcnN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0cy5lcShmaXJzdEluZGV4KTtcbiAgICAgICAgICB2YXIgJGxhc3REaXNwbGF5ZWRCdWxsZXQgPSBidWxsZXRzLmVxKGxhc3RJbmRleCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgYnVsbGV0cy5lcShpKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1tYWluXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA+PSBidWxsZXRzLmxlbmd0aCAtIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzOyBfaSA+PSAwOyBfaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgYnVsbGV0cy5lcShidWxsZXRzLmxlbmd0aCAtIF9pKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1tYWluXCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnVsbGV0cy5lcShidWxsZXRzLmxlbmd0aCAtIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgLSAxKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGZpcnN0RGlzcGxheWVkQnVsbGV0LnByZXYoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2XCIpLnByZXYoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2LXByZXZcIik7XG4gICAgICAgICAgICAgICRsYXN0RGlzcGxheWVkQnVsbGV0Lm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0XCIpLm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0LW5leHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRmaXJzdERpc3BsYXllZEJ1bGxldC5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldlwiKS5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldi1wcmV2XCIpO1xuICAgICAgICAgICAgJGxhc3REaXNwbGF5ZWRCdWxsZXQubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQtbmV4dFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICB2YXIgZHluYW1pY0J1bGxldHNMZW5ndGggPSBNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpO1xuICAgICAgICB2YXIgYnVsbGV0c09mZnNldCA9IChzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplICogZHluYW1pY0J1bGxldHNMZW5ndGggLSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplKSAvIDIgLSBtaWRJbmRleCAqIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldFNpemU7XG4gICAgICAgIHZhciBvZmZzZXRQcm9wID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgYnVsbGV0cy5jc3Moc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gb2Zmc2V0UHJvcCA6ICd0b3AnLCBidWxsZXRzT2Zmc2V0ICsgXCJweFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgICRlbC5maW5kKCgwLCBfdXRpbHMuY2xhc3Nlc1RvU2VsZWN0b3IpKHBhcmFtcy5jdXJyZW50Q2xhc3MpKS50ZXh0KHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpKTtcbiAgICAgICRlbC5maW5kKCgwLCBfdXRpbHMuY2xhc3Nlc1RvU2VsZWN0b3IpKHBhcmFtcy50b3RhbENsYXNzKSkudGV4dChwYXJhbXMuZm9ybWF0RnJhY3Rpb25Ub3RhbCh0b3RhbCkpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJykge1xuICAgICAgdmFyIHByb2dyZXNzYmFyRGlyZWN0aW9uO1xuXG4gICAgICBpZiAocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2NhbGUgPSAoY3VycmVudCArIDEpIC8gdG90YWw7XG4gICAgICB2YXIgc2NhbGVYID0gMTtcbiAgICAgIHZhciBzY2FsZVkgPSAxO1xuXG4gICAgICBpZiAocHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICBzY2FsZVggPSBzY2FsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjYWxlWSA9IHNjYWxlO1xuICAgICAgfVxuXG4gICAgICAkZWwuZmluZCgoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKFwiICsgc2NhbGVYICsgXCIpIHNjYWxlWShcIiArIHNjYWxlWSArIFwiKVwiKS50cmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2N1c3RvbScgJiYgcGFyYW1zLnJlbmRlckN1c3RvbSkge1xuICAgICAgJGVsLmh0bWwocGFyYW1zLnJlbmRlckN1c3RvbShzd2lwZXIsIGN1cnJlbnQgKyAxLCB0b3RhbCkpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCAkZWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvblVwZGF0ZScsICRlbFswXSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgJGVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIC8vIFJlbmRlciBDb250YWluZXJcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uJGVsIHx8IHN3aXBlci5wYWdpbmF0aW9uLiRlbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB2YXIgc2xpZGVzTGVuZ3RoID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgdmFyICRlbCA9IHN3aXBlci5wYWdpbmF0aW9uLiRlbDtcbiAgICB2YXIgcGFnaW5hdGlvbkhUTUwgPSAnJztcblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICB2YXIgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMikgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgbnVtYmVyT2ZCdWxsZXRzID4gc2xpZGVzTGVuZ3RoKSB7XG4gICAgICAgIG51bWJlck9mQnVsbGV0cyA9IHNsaWRlc0xlbmd0aDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZkJ1bGxldHM7IGkgKz0gMSkge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gXCI8XCIgKyBwYXJhbXMuYnVsbGV0RWxlbWVudCArIFwiIGNsYXNzPVxcXCJcIiArIHBhcmFtcy5idWxsZXRDbGFzcyArIFwiXFxcIj48L1wiICsgcGFyYW1zLmJ1bGxldEVsZW1lbnQgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkZWwuaHRtbChwYWdpbmF0aW9uSFRNTCk7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gJGVsLmZpbmQoKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3RvcikocGFyYW1zLmJ1bGxldENsYXNzKSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICBpZiAocGFyYW1zLnJlbmRlckZyYWN0aW9uKSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gcGFyYW1zLnJlbmRlckZyYWN0aW9uLmNhbGwoc3dpcGVyLCBwYXJhbXMuY3VycmVudENsYXNzLCBwYXJhbXMudG90YWxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcIlwiICsgcGFyYW1zLmN1cnJlbnRDbGFzcyArIFwiXFxcIj48L3NwYW4+XCIgKyAnIC8gJyArIChcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHBhcmFtcy50b3RhbENsYXNzICsgXCJcXFwiPjwvc3Bhbj5cIik7XG4gICAgICB9XG5cbiAgICAgICRlbC5odG1sKHBhZ2luYXRpb25IVE1MKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcIlwiICsgcGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzICsgXCJcXFwiPjwvc3Bhbj5cIjtcbiAgICAgIH1cblxuICAgICAgJGVsLmh0bWwocGFnaW5hdGlvbkhUTUwpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgc3dpcGVyLnBhZ2luYXRpb24uJGVsWzBdKTtcbiAgICB9XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gKDAsIF91dGlscy5jcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKShzd2lwZXIuJGVsLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMsIHtcbiAgICAgIGVsOiAnc3dpcGVyLXBhZ2luYXRpb24nXG4gICAgfSk7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoIXBhcmFtcy5lbCkgcmV0dXJuO1xuICAgIHZhciAkZWwgPSAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbXMuZWwpO1xuICAgIGlmICgkZWwubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiAkZWwubGVuZ3RoID4gMSkge1xuICAgICAgJGVsID0gc3dpcGVyLiRlbC5maW5kKHBhcmFtcy5lbCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jbGlja2FibGVDbGFzcyk7XG4gICAgfVxuXG4gICAgJGVsLmFkZENsYXNzKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAkZWwuYWRkQ2xhc3MoXCJcIiArIHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUgKyBcIi1keW5hbWljXCIpO1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID0gMDtcblxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJyAmJiBwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAkZWwub24oJ2NsaWNrJywgKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3RvcikocGFyYW1zLmJ1bGxldENsYXNzKSwgZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gKDAsIF9kb20uZGVmYXVsdCkodGhpcykuaW5kZXgoKSAqIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIGluZGV4ICs9IHN3aXBlci5sb29wZWRTbGlkZXM7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIucGFnaW5hdGlvbiwge1xuICAgICAgJGVsOiAkZWwsXG4gICAgICBlbDogJGVsWzBdXG4gICAgfSk7XG5cbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSB7XG4gICAgICAkZWwuYWRkQ2xhc3MocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFwYXJhbXMuZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi4kZWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHZhciAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7XG4gICAgJGVsLnJlbW92ZUNsYXNzKHBhcmFtcy5oaWRkZW5DbGFzcyk7XG4gICAgJGVsLnJlbW92ZUNsYXNzKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzKSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLnJlbW92ZUNsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyk7XG5cbiAgICBpZiAocGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgJGVsLm9mZignY2xpY2snLCAoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShwYXJhbXMuYnVsbGV0Q2xhc3MpKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdwYWdpbmF0aW9uJyxcbiAgcGFyYW1zOiB7XG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBidWxsZXRFbGVtZW50OiAnc3BhbicsXG4gICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLFxuICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICByZW5kZXJGcmFjdGlvbjogbnVsbCxcbiAgICAgIHJlbmRlckN1c3RvbTogbnVsbCxcbiAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgICAgLy8gJ2J1bGxldHMnIG9yICdwcm9ncmVzc2Jhcicgb3IgJ2ZyYWN0aW9uJyBvciAnY3VzdG9tJ1xuICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgZHluYW1pY01haW5CdWxsZXRzOiAxLFxuICAgICAgZm9ybWF0RnJhY3Rpb25DdXJyZW50OiBmdW5jdGlvbiBmb3JtYXRGcmFjdGlvbkN1cnJlbnQobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9LFxuICAgICAgZm9ybWF0RnJhY3Rpb25Ub3RhbDogZnVuY3Rpb24gZm9ybWF0RnJhY3Rpb25Ub3RhbChudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgIH0sXG4gICAgICBidWxsZXRDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWJ1bGxldCcsXG4gICAgICBidWxsZXRBY3RpdmVDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWJ1bGxldC1hY3RpdmUnLFxuICAgICAgbW9kaWZpZXJDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLScsXG4gICAgICAvLyBORVdcbiAgICAgIGN1cnJlbnRDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWN1cnJlbnQnLFxuICAgICAgdG90YWxDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLXRvdGFsJyxcbiAgICAgIGhpZGRlbkNsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24taGlkZGVuJyxcbiAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tcHJvZ3Jlc3NiYXItZmlsbCcsXG4gICAgICBwcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1wcm9ncmVzc2Jhci1vcHBvc2l0ZScsXG4gICAgICBjbGlja2FibGVDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWNsaWNrYWJsZScsXG4gICAgICAvLyBORVdcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWxvY2snXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIHBhZ2luYXRpb246IF9leHRlbmRzKHtcbiAgICAgICAgZHluYW1pY0J1bGxldEluZGV4OiAwXG4gICAgICB9LCBQYWdpbmF0aW9uKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi5pbml0KCk7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi5yZW5kZXIoKTtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgYWN0aXZlSW5kZXhDaGFuZ2U6IGZ1bmN0aW9uIGFjdGl2ZUluZGV4Q2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi51cGRhdGUoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc25hcEluZGV4Q2hhbmdlOiBmdW5jdGlvbiBzbmFwSW5kZXhDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlc0xlbmd0aENoYW5nZTogZnVuY3Rpb24gc2xpZGVzTGVuZ3RoQ2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5yZW5kZXIoKTtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbmFwR3JpZExlbmd0aENoYW5nZTogZnVuY3Rpb24gc25hcEdyaWRMZW5ndGhDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5yZW5kZXIoKTtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uZGVzdHJveSgpO1xuICAgIH0sXG4gICAgJ2VuYWJsZSBkaXNhYmxlJzogZnVuY3Rpb24gZW5hYmxlRGlzYWJsZShzd2lwZXIpIHtcbiAgICAgIHZhciAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7XG5cbiAgICAgIGlmICgkZWwpIHtcbiAgICAgICAgJGVsW3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKHN3aXBlciwgZSkge1xuICAgICAgdmFyIHRhcmdldEVsID0gZS50YXJnZXQ7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZWwgJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGVPbkNsaWNrICYmIHN3aXBlci5wYWdpbmF0aW9uLiRlbC5sZW5ndGggPiAwICYmICEoMCwgX2RvbS5kZWZhdWx0KSh0YXJnZXRFbCkuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgKHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKSkgcmV0dXJuO1xuICAgICAgICB2YXIgaXNIaWRkZW4gPSBzd2lwZXIucGFnaW5hdGlvbi4kZWwuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKTtcblxuICAgICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvblNob3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvbkhpZGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLiRlbC50b2dnbGVDbGFzcyhzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBQYXJhbGxheCA9IHtcbiAgc2V0VHJhbnNmb3JtOiBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWwsIHByb2dyZXNzKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHJ0bCA9IHN3aXBlci5ydGw7XG4gICAgdmFyICRlbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGVsKTtcbiAgICB2YXIgcnRsRmFjdG9yID0gcnRsID8gLTEgOiAxO1xuICAgIHZhciBwID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4JykgfHwgJzAnO1xuICAgIHZhciB4ID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LXgnKTtcbiAgICB2YXIgeSA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC15Jyk7XG4gICAgdmFyIHNjYWxlID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlJyk7XG4gICAgdmFyIG9wYWNpdHkgPSAkZWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eScpO1xuXG4gICAgaWYgKHggfHwgeSkge1xuICAgICAgeCA9IHggfHwgJzAnO1xuICAgICAgeSA9IHkgfHwgJzAnO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB4ID0gcDtcbiAgICAgIHkgPSAnMCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgPSBwO1xuICAgICAgeCA9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoeC5pbmRleE9mKCclJykgPj0gMCkge1xuICAgICAgeCA9IHBhcnNlSW50KHgsIDEwKSAqIHByb2dyZXNzICogcnRsRmFjdG9yICsgXCIlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4ICogcHJvZ3Jlc3MgKiBydGxGYWN0b3IgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgaWYgKHkuaW5kZXhPZignJScpID49IDApIHtcbiAgICAgIHkgPSBwYXJzZUludCh5LCAxMCkgKiBwcm9ncmVzcyArIFwiJVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ID0geSAqIHByb2dyZXNzICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3BhY2l0eSAhPT0gbnVsbCkge1xuICAgICAgdmFyIGN1cnJlbnRPcGFjaXR5ID0gb3BhY2l0eSAtIChvcGFjaXR5IC0gMSkgKiAoMSAtIE1hdGguYWJzKHByb2dyZXNzKSk7XG4gICAgICAkZWxbMF0uc3R5bGUub3BhY2l0eSA9IGN1cnJlbnRPcGFjaXR5O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2NhbGUgPT09ICd1bmRlZmluZWQnIHx8IHNjYWxlID09PSBudWxsKSB7XG4gICAgICAkZWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCIsIFwiICsgeSArIFwiLCAwcHgpXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY3VycmVudFNjYWxlID0gc2NhbGUgLSAoc2NhbGUgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgICRlbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcIiwgXCIgKyB5ICsgXCIsIDBweCkgc2NhbGUoXCIgKyBjdXJyZW50U2NhbGUgKyBcIilcIik7XG4gICAgfVxuICB9LFxuICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgJGVsID0gc3dpcGVyLiRlbCxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgcHJvZ3Jlc3MgPSBzd2lwZXIucHJvZ3Jlc3MsXG4gICAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkO1xuICAgICRlbC5jaGlsZHJlbignW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXScpLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICBzd2lwZXIucGFyYWxsYXguc2V0VHJhbnNmb3JtKGVsLCBwcm9ncmVzcyk7XG4gICAgfSk7XG4gICAgc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwsIHNsaWRlSW5kZXgpIHtcbiAgICAgIHZhciBzbGlkZVByb2dyZXNzID0gc2xpZGVFbC5wcm9ncmVzcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgIHNsaWRlUHJvZ3Jlc3MgKz0gTWF0aC5jZWlsKHNsaWRlSW5kZXggLyAyKSAtIHByb2dyZXNzICogKHNuYXBHcmlkLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZVByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTEpLCAxKTtcbiAgICAgICgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlRWwpLmZpbmQoJ1tkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV0nKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBzd2lwZXIucGFyYWxsYXguc2V0VHJhbnNmb3JtKGVsLCBzbGlkZVByb2dyZXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKGR1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGR1cmF0aW9uID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICRlbCA9IHN3aXBlci4kZWw7XG4gICAgJGVsLmZpbmQoJ1tkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV0nKS5lYWNoKGZ1bmN0aW9uIChwYXJhbGxheEVsKSB7XG4gICAgICB2YXIgJHBhcmFsbGF4RWwgPSAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbGxheEVsKTtcbiAgICAgIHZhciBwYXJhbGxheER1cmF0aW9uID0gcGFyc2VJbnQoJHBhcmFsbGF4RWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgtZHVyYXRpb24nKSwgMTApIHx8IGR1cmF0aW9uO1xuICAgICAgaWYgKGR1cmF0aW9uID09PSAwKSBwYXJhbGxheER1cmF0aW9uID0gMDtcbiAgICAgICRwYXJhbGxheEVsLnRyYW5zaXRpb24ocGFyYWxsYXhEdXJhdGlvbik7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdwYXJhbGxheCcsXG4gIHBhcmFtczoge1xuICAgIHBhcmFsbGF4OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBwYXJhbGxheDogX2V4dGVuZHMoe30sIFBhcmFsbGF4KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBTY3JvbGxiYXIgPSB7XG4gIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgcHJvZ3Jlc3MgPSBzd2lwZXIucHJvZ3Jlc3M7XG4gICAgdmFyIGRyYWdTaXplID0gc2Nyb2xsYmFyLmRyYWdTaXplLFxuICAgICAgICB0cmFja1NpemUgPSBzY3JvbGxiYXIudHJhY2tTaXplLFxuICAgICAgICAkZHJhZ0VsID0gc2Nyb2xsYmFyLiRkcmFnRWwsXG4gICAgICAgICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIHZhciBuZXdTaXplID0gZHJhZ1NpemU7XG4gICAgdmFyIG5ld1BvcyA9ICh0cmFja1NpemUgLSBkcmFnU2l6ZSkgKiBwcm9ncmVzcztcblxuICAgIGlmIChydGwpIHtcbiAgICAgIG5ld1BvcyA9IC1uZXdQb3M7XG5cbiAgICAgIGlmIChuZXdQb3MgPiAwKSB7XG4gICAgICAgIG5ld1NpemUgPSBkcmFnU2l6ZSAtIG5ld1BvcztcbiAgICAgICAgbmV3UG9zID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoLW5ld1BvcyArIGRyYWdTaXplID4gdHJhY2tTaXplKSB7XG4gICAgICAgIG5ld1NpemUgPSB0cmFja1NpemUgKyBuZXdQb3M7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuZXdQb3MgPCAwKSB7XG4gICAgICBuZXdTaXplID0gZHJhZ1NpemUgKyBuZXdQb3M7XG4gICAgICBuZXdQb3MgPSAwO1xuICAgIH0gZWxzZSBpZiAobmV3UG9zICsgZHJhZ1NpemUgPiB0cmFja1NpemUpIHtcbiAgICAgIG5ld1NpemUgPSB0cmFja1NpemUgLSBuZXdQb3M7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgJGRyYWdFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIG5ld1BvcyArIFwicHgsIDAsIDApXCIpO1xuICAgICAgJGRyYWdFbFswXS5zdHlsZS53aWR0aCA9IG5ld1NpemUgKyBcInB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICRkcmFnRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LCBcIiArIG5ld1BvcyArIFwicHgsIDApXCIpO1xuICAgICAgJGRyYWdFbFswXS5zdHlsZS5oZWlnaHQgPSBuZXdTaXplICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHN3aXBlci5zY3JvbGxiYXIudGltZW91dCk7XG4gICAgICAkZWxbMF0uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAkZWwudHJhbnNpdGlvbig0MDApO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9LFxuICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuJGRyYWdFbC50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSxcbiAgdXBkYXRlU2l6ZTogZnVuY3Rpb24gdXBkYXRlU2l6ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXI7XG4gICAgdmFyICRkcmFnRWwgPSBzY3JvbGxiYXIuJGRyYWdFbCxcbiAgICAgICAgJGVsID0gc2Nyb2xsYmFyLiRlbDtcbiAgICAkZHJhZ0VsWzBdLnN0eWxlLndpZHRoID0gJyc7XG4gICAgJGRyYWdFbFswXS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICB2YXIgdHJhY2tTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJGVsWzBdLm9mZnNldFdpZHRoIDogJGVsWzBdLm9mZnNldEhlaWdodDtcbiAgICB2YXIgZGl2aWRlciA9IHN3aXBlci5zaXplIC8gc3dpcGVyLnZpcnR1YWxTaXplO1xuICAgIHZhciBtb3ZlRGl2aWRlciA9IGRpdmlkZXIgKiAodHJhY2tTaXplIC8gc3dpcGVyLnNpemUpO1xuICAgIHZhciBkcmFnU2l6ZTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSA9PT0gJ2F1dG8nKSB7XG4gICAgICBkcmFnU2l6ZSA9IHRyYWNrU2l6ZSAqIGRpdmlkZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdTaXplID0gcGFyc2VJbnQoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUsIDEwKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLndpZHRoID0gZHJhZ1NpemUgKyBcInB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICRkcmFnRWxbMF0uc3R5bGUuaGVpZ2h0ID0gZHJhZ1NpemUgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgaWYgKGRpdmlkZXIgPj0gMSkge1xuICAgICAgJGVsWzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICRlbFswXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmhpZGUpIHtcbiAgICAgICRlbFswXS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB9XG5cbiAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc2Nyb2xsYmFyLCB7XG4gICAgICB0cmFja1NpemU6IHRyYWNrU2l6ZSxcbiAgICAgIGRpdmlkZXI6IGRpdmlkZXIsXG4gICAgICBtb3ZlRGl2aWRlcjogbW92ZURpdmlkZXIsXG4gICAgICBkcmFnU2l6ZTogZHJhZ1NpemVcbiAgICB9KTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHNjcm9sbGJhci4kZWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9LFxuICBnZXRQb2ludGVyUG9zaXRpb246IGZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICByZXR1cm4gZS50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJyA/IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYIDogZS5jbGllbnRYO1xuICAgIH1cblxuICAgIHJldHVybiBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgOiBlLmNsaWVudFk7XG4gIH0sXG4gIHNldERyYWdQb3NpdGlvbjogZnVuY3Rpb24gc2V0RHJhZ1Bvc2l0aW9uKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbCxcbiAgICAgICAgZHJhZ1NpemUgPSBzY3JvbGxiYXIuZHJhZ1NpemUsXG4gICAgICAgIHRyYWNrU2l6ZSA9IHNjcm9sbGJhci50cmFja1NpemUsXG4gICAgICAgIGRyYWdTdGFydFBvcyA9IHNjcm9sbGJhci5kcmFnU3RhcnRQb3M7XG4gICAgdmFyIHBvc2l0aW9uUmF0aW87XG4gICAgcG9zaXRpb25SYXRpbyA9IChzY3JvbGxiYXIuZ2V0UG9pbnRlclBvc2l0aW9uKGUpIC0gJGVsLm9mZnNldCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSAtIChkcmFnU3RhcnRQb3MgIT09IG51bGwgPyBkcmFnU3RhcnRQb3MgOiBkcmFnU2l6ZSAvIDIpKSAvICh0cmFja1NpemUgLSBkcmFnU2l6ZSk7XG4gICAgcG9zaXRpb25SYXRpbyA9IE1hdGgubWF4KE1hdGgubWluKHBvc2l0aW9uUmF0aW8sIDEpLCAwKTtcblxuICAgIGlmIChydGwpIHtcbiAgICAgIHBvc2l0aW9uUmF0aW8gPSAxIC0gcG9zaXRpb25SYXRpbztcbiAgICB9XG5cbiAgICB2YXIgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgKyAoc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAqIHBvc2l0aW9uUmF0aW87XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHBvc2l0aW9uKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHBvc2l0aW9uKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9LFxuICBvbkRyYWdTdGFydDogZnVuY3Rpb24gb25EcmFnU3RhcnQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsLFxuICAgICAgICAkZHJhZ0VsID0gc2Nyb2xsYmFyLiRkcmFnRWw7XG4gICAgc3dpcGVyLnNjcm9sbGJhci5pc1RvdWNoZWQgPSB0cnVlO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ1N0YXJ0UG9zID0gZS50YXJnZXQgPT09ICRkcmFnRWxbMF0gfHwgZS50YXJnZXQgPT09ICRkcmFnRWwgPyBzY3JvbGxiYXIuZ2V0UG9pbnRlclBvc2l0aW9uKGUpIC0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2xlZnQnIDogJ3RvcCddIDogbnVsbDtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAkd3JhcHBlckVsLnRyYW5zaXRpb24oMTAwKTtcbiAgICAkZHJhZ0VsLnRyYW5zaXRpb24oMTAwKTtcbiAgICBzY3JvbGxiYXIuc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIGNsZWFyVGltZW91dChzd2lwZXIuc2Nyb2xsYmFyLmRyYWdUaW1lb3V0KTtcbiAgICAkZWwudHJhbnNpdGlvbigwKTtcblxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgJGVsLmNzcygnb3BhY2l0eScsIDEpO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLmNzcygnc2Nyb2xsLXNuYXAtdHlwZScsICdub25lJyk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3Njcm9sbGJhckRyYWdTdGFydCcsIGUpO1xuICB9LFxuICBvbkRyYWdNb3ZlOiBmdW5jdGlvbiBvbkRyYWdNb3ZlKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsLFxuICAgICAgICAkZHJhZ0VsID0gc2Nyb2xsYmFyLiRkcmFnRWw7XG4gICAgaWYgKCFzd2lwZXIuc2Nyb2xsYmFyLmlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgc2Nyb2xsYmFyLnNldERyYWdQb3NpdGlvbihlKTtcbiAgICAkd3JhcHBlckVsLnRyYW5zaXRpb24oMCk7XG4gICAgJGVsLnRyYW5zaXRpb24oMCk7XG4gICAgJGRyYWdFbC50cmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5lbWl0KCdzY3JvbGxiYXJEcmFnTW92ZScsIGUpO1xuICB9LFxuICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIG9uRHJhZ0VuZChlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgdmFyICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgaWYgKCFzd2lwZXIuc2Nyb2xsYmFyLmlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuaXNUb3VjaGVkID0gZmFsc2U7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5jc3MoJ3Njcm9sbC1zbmFwLXR5cGUnLCAnJyk7XG4gICAgICAkd3JhcHBlckVsLnRyYW5zaXRpb24oJycpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHN3aXBlci5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQpO1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci5kcmFnVGltZW91dCA9ICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGVsLmNzcygnb3BhY2l0eScsIDApO1xuICAgICAgICAkZWwudHJhbnNpdGlvbig0MDApO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3Njcm9sbGJhckRyYWdFbmQnLCBlKTtcblxuICAgIGlmIChwYXJhbXMuc25hcE9uUmVsZWFzZSkge1xuICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KCk7XG4gICAgfVxuICB9LFxuICBlbmFibGVEcmFnZ2FibGU6IGZ1bmN0aW9uIGVuYWJsZURyYWdnYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgIHRvdWNoRXZlbnRzVG91Y2ggPSBzd2lwZXIudG91Y2hFdmVudHNUb3VjaCxcbiAgICAgICAgdG91Y2hFdmVudHNEZXNrdG9wID0gc3dpcGVyLnRvdWNoRXZlbnRzRGVza3RvcCxcbiAgICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsO1xuICAgIHZhciB0YXJnZXQgPSAkZWxbMF07XG4gICAgdmFyIGFjdGl2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIHZhciBwYXNzaXZlTGlzdGVuZXIgPSBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBwYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuXG4gICAgaWYgKCFzdXBwb3J0LnRvdWNoKSB7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c0Rlc2t0b3Auc3RhcnQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnU3RhcnQsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNEZXNrdG9wLm1vdmUsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnTW92ZSwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c0Rlc2t0b3AuZW5kLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5zdGFydCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2guZW5kLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9XG4gIH0sXG4gIGRpc2FibGVEcmFnZ2FibGU6IGZ1bmN0aW9uIGRpc2FibGVEcmFnZ2FibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICB0b3VjaEV2ZW50c1RvdWNoID0gc3dpcGVyLnRvdWNoRXZlbnRzVG91Y2gsXG4gICAgICAgIHRvdWNoRXZlbnRzRGVza3RvcCA9IHN3aXBlci50b3VjaEV2ZW50c0Rlc2t0b3AsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbDtcbiAgICB2YXIgdGFyZ2V0ID0gJGVsWzBdO1xuICAgIHZhciBhY3RpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9IDogZmFsc2U7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcblxuICAgIGlmICghc3VwcG9ydC50b3VjaCkge1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNEZXNrdG9wLnN0YXJ0LCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ1N0YXJ0LCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNEZXNrdG9wLmVuZCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2guc3RhcnQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnU3RhcnQsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2gubW92ZSwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c1RvdWNoLmVuZCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAkc3dpcGVyRWwgPSBzd2lwZXIuJGVsO1xuICAgIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyID0gKDAsIF91dGlscy5jcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKSgkc3dpcGVyRWwsIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLCBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzLCB7XG4gICAgICBlbDogJ3N3aXBlci1zY3JvbGxiYXInXG4gICAgfSk7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgdmFyICRlbCA9ICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5lbCk7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiAkZWwubGVuZ3RoID4gMSAmJiAkc3dpcGVyRWwuZmluZChwYXJhbXMuZWwpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgJGVsID0gJHN3aXBlckVsLmZpbmQocGFyYW1zLmVsKTtcbiAgICB9XG5cbiAgICB2YXIgJGRyYWdFbCA9ICRlbC5maW5kKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzKTtcblxuICAgIGlmICgkZHJhZ0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgJGRyYWdFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz1cXFwiXCIgKyBzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgJGVsLmFwcGVuZCgkZHJhZ0VsKTtcbiAgICB9XG5cbiAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc2Nyb2xsYmFyLCB7XG4gICAgICAkZWw6ICRlbCxcbiAgICAgIGVsOiAkZWxbMF0sXG4gICAgICAkZHJhZ0VsOiAkZHJhZ0VsLFxuICAgICAgZHJhZ0VsOiAkZHJhZ0VsWzBdXG4gICAgfSk7XG5cbiAgICBpZiAocGFyYW1zLmRyYWdnYWJsZSkge1xuICAgICAgc2Nyb2xsYmFyLmVuYWJsZURyYWdnYWJsZSgpO1xuICAgIH1cblxuICAgIGlmICgkZWwpIHtcbiAgICAgICRlbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuc2Nyb2xsYmFyLmRpc2FibGVEcmFnZ2FibGUoKTtcbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ3Njcm9sbGJhcicsXG4gIHBhcmFtczoge1xuICAgIHNjcm9sbGJhcjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBkcmFnU2l6ZTogJ2F1dG8nLFxuICAgICAgaGlkZTogZmFsc2UsXG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgc25hcE9uUmVsZWFzZTogdHJ1ZSxcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1zY3JvbGxiYXItbG9jaycsXG4gICAgICBkcmFnQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWRyYWcnXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIHNjcm9sbGJhcjogX2V4dGVuZHMoe1xuICAgICAgICBpc1RvdWNoZWQ6IGZhbHNlLFxuICAgICAgICB0aW1lb3V0OiBudWxsLFxuICAgICAgICBkcmFnVGltZW91dDogbnVsbFxuICAgICAgfSwgU2Nyb2xsYmFyKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmluaXQoKTtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpO1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHN3aXBlcikge1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci51cGRhdGVTaXplKCk7XG4gICAgfSxcbiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpO1xuICAgIH0sXG4gICAgb2JzZXJ2ZXJVcGRhdGU6IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKHN3aXBlcikge1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci51cGRhdGVTaXplKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuc2V0VHJhbnNsYXRlKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfSxcbiAgICAnZW5hYmxlIGRpc2FibGUnOiBmdW5jdGlvbiBlbmFibGVEaXNhYmxlKHN3aXBlcikge1xuICAgICAgdmFyICRlbCA9IHN3aXBlci5zY3JvbGxiYXIuJGVsO1xuXG4gICAgICBpZiAoJGVsKSB7XG4gICAgICAgICRlbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBUaHVtYnMgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHRodW1ic1BhcmFtcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzO1xuICAgIGlmIChzd2lwZXIudGh1bWJzLmluaXRpYWxpemVkKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLnRodW1icy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdmFyIFN3aXBlckNsYXNzID0gc3dpcGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgaWYgKHRodW1ic1BhcmFtcy5zd2lwZXIgaW5zdGFuY2VvZiBTd2lwZXJDbGFzcykge1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIgPSB0aHVtYnNQYXJhbXMuc3dpcGVyO1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci50aHVtYnMuc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIudGh1bWJzLnN3aXBlci5wYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoKDAsIF91dGlscy5pc09iamVjdCkodGh1bWJzUGFyYW1zLnN3aXBlcikpIHtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gbmV3IFN3aXBlckNsYXNzKCgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgdGh1bWJzUGFyYW1zLnN3aXBlciwge1xuICAgICAgICB3YXRjaFNsaWRlc1Zpc2liaWxpdHk6IHRydWUsXG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICBzd2lwZXIudGh1bWJzLnN3aXBlckNyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLiRlbC5hZGRDbGFzcyhzd2lwZXIucGFyYW1zLnRodW1icy50aHVtYnNDb250YWluZXJDbGFzcyk7XG4gICAgc3dpcGVyLnRodW1icy5zd2lwZXIub24oJ3RhcCcsIHN3aXBlci50aHVtYnMub25UaHVtYkNsaWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgb25UaHVtYkNsaWNrOiBmdW5jdGlvbiBvblRodW1iQ2xpY2soKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyKSByZXR1cm47XG4gICAgdmFyIGNsaWNrZWRJbmRleCA9IHRodW1ic1N3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgdmFyIGNsaWNrZWRTbGlkZSA9IHRodW1ic1N3aXBlci5jbGlja2VkU2xpZGU7XG4gICAgaWYgKGNsaWNrZWRTbGlkZSAmJiAoMCwgX2RvbS5kZWZhdWx0KShjbGlja2VkU2xpZGUpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcykpIHJldHVybjtcbiAgICBpZiAodHlwZW9mIGNsaWNrZWRJbmRleCA9PT0gJ3VuZGVmaW5lZCcgfHwgY2xpY2tlZEluZGV4ID09PSBudWxsKSByZXR1cm47XG4gICAgdmFyIHNsaWRlVG9JbmRleDtcblxuICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHNsaWRlVG9JbmRleCA9IHBhcnNlSW50KCgwLCBfZG9tLmRlZmF1bHQpKHRodW1ic1N3aXBlci5jbGlja2VkU2xpZGUpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVUb0luZGV4ID0gY2xpY2tlZEluZGV4O1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHZhciBjdXJyZW50SW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG5cbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRJbmRleCkuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgICAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICAgICAgICBjdXJyZW50SW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBzd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRJbmRleCkucHJldkFsbChcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBzbGlkZVRvSW5kZXggKyBcIlxcXCJdXCIpLmVxKDApLmluZGV4KCk7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gc3dpcGVyLnNsaWRlcy5lcShjdXJyZW50SW5kZXgpLm5leHRBbGwoXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgc2xpZGVUb0luZGV4ICsgXCJcXFwiXVwiKS5lcSgwKS5pbmRleCgpO1xuICAgICAgaWYgKHR5cGVvZiBwcmV2SW5kZXggPT09ICd1bmRlZmluZWQnKSBzbGlkZVRvSW5kZXggPSBuZXh0SW5kZXg7ZWxzZSBpZiAodHlwZW9mIG5leHRJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtlbHNlIGlmIChuZXh0SW5kZXggLSBjdXJyZW50SW5kZXggPCBjdXJyZW50SW5kZXggLSBwcmV2SW5kZXgpIHNsaWRlVG9JbmRleCA9IG5leHRJbmRleDtlbHNlIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtcbiAgICB9XG5cbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShpbml0aWFsKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyKSByZXR1cm47XG4gICAgdmFyIHNsaWRlc1BlclZpZXcgPSB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHRodW1ic1N3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIHZhciBhdXRvU2Nyb2xsT2Zmc2V0ID0gc3dpcGVyLnBhcmFtcy50aHVtYnMuYXV0b1Njcm9sbE9mZnNldDtcbiAgICB2YXIgdXNlT2Zmc2V0ID0gYXV0b1Njcm9sbE9mZnNldCAmJiAhdGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wO1xuXG4gICAgaWYgKHN3aXBlci5yZWFsSW5kZXggIT09IHRodW1ic1N3aXBlci5yZWFsSW5kZXggfHwgdXNlT2Zmc2V0KSB7XG4gICAgICB2YXIgY3VycmVudFRodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgdmFyIG5ld1RodW1ic0luZGV4O1xuICAgICAgdmFyIGRpcmVjdGlvbjtcblxuICAgICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnNsaWRlcy5lcShjdXJyZW50VGh1bWJzSW5kZXgpLmhhc0NsYXNzKHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICB0aHVtYnNTd2lwZXIubG9vcEZpeCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgICAgICAgIHRodW1ic1N3aXBlci5fY2xpZW50TGVmdCA9IHRodW1ic1N3aXBlci4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQ7XG4gICAgICAgICAgY3VycmVudFRodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgICB9IC8vIEZpbmQgYWN0dWFsIHRodW1icyBpbmRleCB0byBzbGlkZSB0b1xuXG5cbiAgICAgICAgdmFyIHByZXZUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5wcmV2QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHN3aXBlci5yZWFsSW5kZXggKyBcIlxcXCJdXCIpLmVxKDApLmluZGV4KCk7XG4gICAgICAgIHZhciBuZXh0VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRUaHVtYnNJbmRleCkubmV4dEFsbChcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBzd2lwZXIucmVhbEluZGV4ICsgXCJcXFwiXVwiKS5lcSgwKS5pbmRleCgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcHJldlRodW1ic0luZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuZXh0VGh1bWJzSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbmV3VGh1bWJzSW5kZXggPSBwcmV2VGh1bWJzSW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFRodW1ic0luZGV4IC0gY3VycmVudFRodW1ic0luZGV4ID09PSBjdXJyZW50VGh1bWJzSW5kZXggLSBwcmV2VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gbmV4dFRodW1ic0luZGV4IDogY3VycmVudFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKG5leHRUaHVtYnNJbmRleCAtIGN1cnJlbnRUaHVtYnNJbmRleCA8IGN1cnJlbnRUaHVtYnNJbmRleCAtIHByZXZUaHVtYnNJbmRleCkge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gcHJldlRodW1ic0luZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aW9uID0gc3dpcGVyLmFjdGl2ZUluZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgICAgIGRpcmVjdGlvbiA9IG5ld1RodW1ic0luZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VPZmZzZXQpIHtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggKz0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyBhdXRvU2Nyb2xsT2Zmc2V0IDogLTEgKiBhdXRvU2Nyb2xsT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAodGh1bWJzU3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzICYmIHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5pbmRleE9mKG5ld1RodW1ic0luZGV4KSA8IDApIHtcbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgICBpZiAobmV3VGh1bWJzSW5kZXggPiBjdXJyZW50VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV3VGh1bWJzSW5kZXggLSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV3VGh1bWJzSW5kZXggKyBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4ICYmIHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHsvLyBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4IC0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVUbyhuZXdUaHVtYnNJbmRleCwgaW5pdGlhbCA/IDAgOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0gLy8gQWN0aXZhdGUgdGh1bWJzXG5cblxuICAgIHZhciB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICB2YXIgdGh1bWJBY3RpdmVDbGFzcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcztcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy50aHVtYnMubXVsdGlwbGVBY3RpdmVUaHVtYnMpIHtcbiAgICAgIHRodW1ic1RvQWN0aXZhdGUgPSAxO1xuICAgIH1cblxuICAgIHRodW1ic1RvQWN0aXZhdGUgPSBNYXRoLmZsb29yKHRodW1ic1RvQWN0aXZhdGUpO1xuICAgIHRodW1ic1N3aXBlci5zbGlkZXMucmVtb3ZlQ2xhc3ModGh1bWJBY3RpdmVDbGFzcyk7XG5cbiAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wIHx8IHRodW1ic1N3aXBlci5wYXJhbXMudmlydHVhbCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aHVtYnNUb0FjdGl2YXRlOyBpICs9IDEpIHtcbiAgICAgICAgdGh1bWJzU3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgKHN3aXBlci5yZWFsSW5kZXggKyBpKSArIFwiXFxcIl1cIikuYWRkQ2xhc3ModGh1bWJBY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aHVtYnNUb0FjdGl2YXRlOyBfaSArPSAxKSB7XG4gICAgICAgIHRodW1ic1N3aXBlci5zbGlkZXMuZXEoc3dpcGVyLnJlYWxJbmRleCArIF9pKS5hZGRDbGFzcyh0aHVtYkFjdGl2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICd0aHVtYnMnLFxuICBwYXJhbXM6IHtcbiAgICB0aHVtYnM6IHtcbiAgICAgIHN3aXBlcjogbnVsbCxcbiAgICAgIG11bHRpcGxlQWN0aXZlVGh1bWJzOiB0cnVlLFxuICAgICAgYXV0b1Njcm9sbE9mZnNldDogMCxcbiAgICAgIHNsaWRlVGh1bWJBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS10aHVtYi1hY3RpdmUnLFxuICAgICAgdGh1bWJzQ29udGFpbmVyQ2xhc3M6ICdzd2lwZXItY29udGFpbmVyLXRodW1icydcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgdGh1bWJzOiBfZXh0ZW5kcyh7XG4gICAgICAgIHN3aXBlcjogbnVsbCxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG4gICAgICB9LCBUaHVtYnMpXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIHZhciB0aHVtYnMgPSBzd2lwZXIucGFyYW1zLnRodW1icztcbiAgICAgIGlmICghdGh1bWJzIHx8ICF0aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgICBzd2lwZXIudGh1bWJzLmluaXQoKTtcbiAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKHRydWUpO1xuICAgIH0sXG4gICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIudGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgICAgc3dpcGVyLnRodW1icy51cGRhdGUoKTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIudGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgICAgc3dpcGVyLnRodW1icy51cGRhdGUoKTtcbiAgICB9LFxuICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIudGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgICAgc3dpcGVyLnRodW1icy51cGRhdGUoKTtcbiAgICB9LFxuICAgIG9ic2VydmVyVXBkYXRlOiBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgIHZhciB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICAgIGlmICghdGh1bWJzU3dpcGVyKSByZXR1cm47XG4gICAgICB0aHVtYnNTd2lwZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfSxcbiAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KHN3aXBlcikge1xuICAgICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgICAgaWYgKCF0aHVtYnNTd2lwZXIpIHJldHVybjtcblxuICAgICAgaWYgKHN3aXBlci50aHVtYnMuc3dpcGVyQ3JlYXRlZCAmJiB0aHVtYnNTd2lwZXIpIHtcbiAgICAgICAgdGh1bWJzU3dpcGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgVmlydHVhbCA9IHtcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZm9yY2UpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgX3N3aXBlciRwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gX3N3aXBlciRwYXJhbXMuc2xpZGVzUGVyVmlldyxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXAgPSBfc3dpcGVyJHBhcmFtcy5zbGlkZXNQZXJHcm91cCxcbiAgICAgICAgY2VudGVyZWRTbGlkZXMgPSBfc3dpcGVyJHBhcmFtcy5jZW50ZXJlZFNsaWRlcztcbiAgICB2YXIgX3N3aXBlciRwYXJhbXMkdmlydHVhID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsLFxuICAgICAgICBhZGRTbGlkZXNCZWZvcmUgPSBfc3dpcGVyJHBhcmFtcyR2aXJ0dWEuYWRkU2xpZGVzQmVmb3JlLFxuICAgICAgICBhZGRTbGlkZXNBZnRlciA9IF9zd2lwZXIkcGFyYW1zJHZpcnR1YS5hZGRTbGlkZXNBZnRlcjtcbiAgICB2YXIgX3N3aXBlciR2aXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwsXG4gICAgICAgIHByZXZpb3VzRnJvbSA9IF9zd2lwZXIkdmlydHVhbC5mcm9tLFxuICAgICAgICBwcmV2aW91c1RvID0gX3N3aXBlciR2aXJ0dWFsLnRvLFxuICAgICAgICBzbGlkZXMgPSBfc3dpcGVyJHZpcnR1YWwuc2xpZGVzLFxuICAgICAgICBwcmV2aW91c1NsaWRlc0dyaWQgPSBfc3dpcGVyJHZpcnR1YWwuc2xpZGVzR3JpZCxcbiAgICAgICAgcmVuZGVyU2xpZGUgPSBfc3dpcGVyJHZpcnR1YWwucmVuZGVyU2xpZGUsXG4gICAgICAgIHByZXZpb3VzT2Zmc2V0ID0gX3N3aXBlciR2aXJ0dWFsLm9mZnNldDtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggfHwgMDtcbiAgICB2YXIgb2Zmc2V0UHJvcDtcbiAgICBpZiAoc3dpcGVyLnJ0bFRyYW5zbGF0ZSkgb2Zmc2V0UHJvcCA9ICdyaWdodCc7ZWxzZSBvZmZzZXRQcm9wID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgdmFyIHNsaWRlc0FmdGVyO1xuICAgIHZhciBzbGlkZXNCZWZvcmU7XG5cbiAgICBpZiAoY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlc0FmdGVyID0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyBzbGlkZXNQZXJHcm91cCArIGFkZFNsaWRlc0FmdGVyO1xuICAgICAgc2xpZGVzQmVmb3JlID0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyBzbGlkZXNQZXJHcm91cCArIGFkZFNsaWRlc0JlZm9yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVzQWZ0ZXIgPSBzbGlkZXNQZXJWaWV3ICsgKHNsaWRlc1Blckdyb3VwIC0gMSkgKyBhZGRTbGlkZXNBZnRlcjtcbiAgICAgIHNsaWRlc0JlZm9yZSA9IHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQmVmb3JlO1xuICAgIH1cblxuICAgIHZhciBmcm9tID0gTWF0aC5tYXgoKGFjdGl2ZUluZGV4IHx8IDApIC0gc2xpZGVzQmVmb3JlLCAwKTtcbiAgICB2YXIgdG8gPSBNYXRoLm1pbigoYWN0aXZlSW5kZXggfHwgMCkgKyBzbGlkZXNBZnRlciwgc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIHZhciBvZmZzZXQgPSAoc3dpcGVyLnNsaWRlc0dyaWRbZnJvbV0gfHwgMCkgLSAoc3dpcGVyLnNsaWRlc0dyaWRbMF0gfHwgMCk7XG4gICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci52aXJ0dWFsLCB7XG4gICAgICBmcm9tOiBmcm9tLFxuICAgICAgdG86IHRvLFxuICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICBzbGlkZXNHcmlkOiBzd2lwZXIuc2xpZGVzR3JpZFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25SZW5kZXJlZCgpIHtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgICAgaWYgKHN3aXBlci5sYXp5ICYmIHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldmlvdXNGcm9tID09PSBmcm9tICYmIHByZXZpb3VzVG8gPT09IHRvICYmICFmb3JjZSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXNHcmlkICE9PSBwcmV2aW91c1NsaWRlc0dyaWQgJiYgb2Zmc2V0ICE9PSBwcmV2aW91c09mZnNldCkge1xuICAgICAgICBzd2lwZXIuc2xpZGVzLmNzcyhvZmZzZXRQcm9wLCBvZmZzZXQgKyBcInB4XCIpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnJlbmRlckV4dGVybmFsKSB7XG4gICAgICBzd2lwZXIucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwuY2FsbChzd2lwZXIsIHtcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGZyb206IGZyb20sXG4gICAgICAgIHRvOiB0byxcbiAgICAgICAgc2xpZGVzOiBmdW5jdGlvbiBnZXRTbGlkZXMoKSB7XG4gICAgICAgICAgdmFyIHNsaWRlc1RvUmVuZGVyID0gW107XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8PSB0bzsgaSArPSAxKSB7XG4gICAgICAgICAgICBzbGlkZXNUb1JlbmRlci5wdXNoKHNsaWRlc1tpXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNsaWRlc1RvUmVuZGVyO1xuICAgICAgICB9KClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnJlbmRlckV4dGVybmFsVXBkYXRlKSB7XG4gICAgICAgIG9uUmVuZGVyZWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcmVwZW5kSW5kZXhlcyA9IFtdO1xuICAgIHZhciBhcHBlbmRJbmRleGVzID0gW107XG5cbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLmZpbmQoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gcHJldmlvdXNGcm9tOyBpIDw9IHByZXZpb3VzVG87IGkgKz0gMSkge1xuICAgICAgICBpZiAoaSA8IGZyb20gfHwgaSA+IHRvKSB7XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwuZmluZChcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGkgKyBcIlxcXCJdXCIpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHNsaWRlcy5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICAgIGlmIChfaSA+PSBmcm9tICYmIF9pIDw9IHRvKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldmlvdXNUbyA9PT0gJ3VuZGVmaW5lZCcgfHwgZm9yY2UpIHtcbiAgICAgICAgICBhcHBlbmRJbmRleGVzLnB1c2goX2kpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfaSA+IHByZXZpb3VzVG8pIGFwcGVuZEluZGV4ZXMucHVzaChfaSk7XG4gICAgICAgICAgaWYgKF9pIDwgcHJldmlvdXNGcm9tKSBwcmVwZW5kSW5kZXhlcy5wdXNoKF9pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLmFwcGVuZChyZW5kZXJTbGlkZShzbGlkZXNbaW5kZXhdLCBpbmRleCkpO1xuICAgIH0pO1xuICAgIHByZXBlbmRJbmRleGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBiIC0gYTtcbiAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwucHJlcGVuZChyZW5kZXJTbGlkZShzbGlkZXNbaW5kZXhdLCBpbmRleCkpO1xuICAgIH0pO1xuICAgIHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKCcuc3dpcGVyLXNsaWRlJykuY3NzKG9mZnNldFByb3AsIG9mZnNldCArIFwicHhcIik7XG4gICAgb25SZW5kZXJlZCgpO1xuICB9LFxuICByZW5kZXJTbGlkZTogZnVuY3Rpb24gcmVuZGVyU2xpZGUoc2xpZGUsIGluZGV4KSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMudmlydHVhbDtcblxuICAgIGlmIChwYXJhbXMuY2FjaGUgJiYgc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdO1xuICAgIH1cblxuICAgIHZhciAkc2xpZGVFbCA9IHBhcmFtcy5yZW5kZXJTbGlkZSA/ICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5yZW5kZXJTbGlkZS5jYWxsKHN3aXBlciwgc2xpZGUsIGluZGV4KSkgOiAoMCwgX2RvbS5kZWZhdWx0KShcIjxkaXYgY2xhc3M9XFxcIlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzICsgXCJcXFwiIGRhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGluZGV4ICsgXCJcXFwiPlwiICsgc2xpZGUgKyBcIjwvZGl2PlwiKTtcbiAgICBpZiAoISRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykpICRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JywgaW5kZXgpO1xuICAgIGlmIChwYXJhbXMuY2FjaGUpIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSA9ICRzbGlkZUVsO1xuICAgIHJldHVybiAkc2xpZGVFbDtcbiAgfSxcbiAgYXBwZW5kU2xpZGU6IGZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSkgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnB1c2goc2xpZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnB1c2goc2xpZGVzKTtcbiAgICB9XG5cbiAgICBzd2lwZXIudmlydHVhbC51cGRhdGUodHJ1ZSk7XG4gIH0sXG4gIHByZXBlbmRTbGlkZTogZnVuY3Rpb24gcHJlcGVuZFNsaWRlKHNsaWRlcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCArIDE7XG4gICAgdmFyIG51bWJlck9mTmV3U2xpZGVzID0gMTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNsaWRlcykpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pIHN3aXBlci52aXJ0dWFsLnNsaWRlcy51bnNoaWZ0KHNsaWRlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICAgICAgbnVtYmVyT2ZOZXdTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMudW5zaGlmdChzbGlkZXMpO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgIHZhciBjYWNoZSA9IHN3aXBlci52aXJ0dWFsLmNhY2hlO1xuICAgICAgdmFyIG5ld0NhY2hlID0ge307XG4gICAgICBPYmplY3Qua2V5cyhjYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVkSW5kZXgpIHtcbiAgICAgICAgdmFyICRjYWNoZWRFbCA9IGNhY2hlW2NhY2hlZEluZGV4XTtcbiAgICAgICAgdmFyIGNhY2hlZEVsSW5kZXggPSAkY2FjaGVkRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcblxuICAgICAgICBpZiAoY2FjaGVkRWxJbmRleCkge1xuICAgICAgICAgICRjYWNoZWRFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIHBhcnNlSW50KGNhY2hlZEVsSW5kZXgsIDEwKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3Q2FjaGVbcGFyc2VJbnQoY2FjaGVkSW5kZXgsIDEwKSArIG51bWJlck9mTmV3U2xpZGVzXSA9ICRjYWNoZWRFbDtcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGUgPSBuZXdDYWNoZTtcbiAgICB9XG5cbiAgICBzd2lwZXIudmlydHVhbC51cGRhdGUodHJ1ZSk7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDApO1xuICB9LFxuICByZW1vdmVTbGlkZTogZnVuY3Rpb24gcmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc2xpZGVzSW5kZXhlcyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNsaWRlc0luZGV4ZXMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gc2xpZGVzSW5kZXhlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMuc3BsaWNlKHNsaWRlc0luZGV4ZXNbaV0sIDEpO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVbc2xpZGVzSW5kZXhlc1tpXV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2xpZGVzSW5kZXhlc1tpXSA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgICBhY3RpdmVJbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnNwbGljZShzbGlkZXNJbmRleGVzLCAxKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVbc2xpZGVzSW5kZXhlc107XG4gICAgICB9XG5cbiAgICAgIGlmIChzbGlkZXNJbmRleGVzIDwgYWN0aXZlSW5kZXgpIGFjdGl2ZUluZGV4IC09IDE7XG4gICAgICBhY3RpdmVJbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4LCAwKTtcbiAgICB9XG5cbiAgICBzd2lwZXIudmlydHVhbC51cGRhdGUodHJ1ZSk7XG4gICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXgsIDApO1xuICB9LFxuICByZW1vdmVBbGxTbGlkZXM6IGZ1bmN0aW9uIHJlbW92ZUFsbFNsaWRlcygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMgPSBbXTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0ge307XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICAgIHN3aXBlci5zbGlkZVRvKDAsIDApO1xuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAndmlydHVhbCcsXG4gIHBhcmFtczoge1xuICAgIHZpcnR1YWw6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgc2xpZGVzOiBbXSxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgcmVuZGVyU2xpZGU6IG51bGwsXG4gICAgICByZW5kZXJFeHRlcm5hbDogbnVsbCxcbiAgICAgIHJlbmRlckV4dGVybmFsVXBkYXRlOiB0cnVlLFxuICAgICAgYWRkU2xpZGVzQmVmb3JlOiAwLFxuICAgICAgYWRkU2xpZGVzQWZ0ZXI6IDBcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgdmlydHVhbDogX2V4dGVuZHMoe30sIFZpcnR1YWwsIHtcbiAgICAgICAgc2xpZGVzOiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuc2xpZGVzLFxuICAgICAgICBjYWNoZToge31cbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJ2aXJ0dWFsXCIpO1xuICAgICAgdmFyIG92ZXJ3cml0ZVBhcmFtcyA9IHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZVxuICAgICAgfTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcblxuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSkge1xuICAgICAgICBzd2lwZXIudmlydHVhbC51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKCk7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFpvb20gPSB7XG4gIC8vIENhbGMgU2NhbGUgRnJvbSBNdWx0aS10b3VjaGVzXG4gIGdldERpc3RhbmNlQmV0d2VlblRvdWNoZXM6IGZ1bmN0aW9uIGdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSkge1xuICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoIDwgMikgcmV0dXJuIDE7XG4gICAgdmFyIHgxID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgIHZhciB5MSA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcbiAgICB2YXIgeDIgPSBlLnRhcmdldFRvdWNoZXNbMV0ucGFnZVg7XG4gICAgdmFyIHkyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VZO1xuICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKTtcbiAgICByZXR1cm4gZGlzdGFuY2U7XG4gIH0sXG4gIC8vIEV2ZW50c1xuICBvbkdlc3R1cmVTdGFydDogZnVuY3Rpb24gb25HZXN0dXJlU3RhcnQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlO1xuICAgIHpvb20uZmFrZUdlc3R1cmVUb3VjaGVkID0gZmFsc2U7XG4gICAgem9vbS5mYWtlR2VzdHVyZU1vdmVkID0gZmFsc2U7XG5cbiAgICBpZiAoIXN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIGlmIChlLnR5cGUgIT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHpvb20uZmFrZUdlc3R1cmVUb3VjaGVkID0gdHJ1ZTtcbiAgICAgIGdlc3R1cmUuc2NhbGVTdGFydCA9IFpvb20uZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKTtcbiAgICB9XG5cbiAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwgfHwgIWdlc3R1cmUuJHNsaWRlRWwubGVuZ3RoKSB7XG4gICAgICBnZXN0dXJlLiRzbGlkZUVsID0gKDAsIF9kb20uZGVmYXVsdCkoZS50YXJnZXQpLmNsb3Nlc3QoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpO1xuICAgICAgaWYgKGdlc3R1cmUuJHNsaWRlRWwubGVuZ3RoID09PSAwKSBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IGdlc3R1cmUuJHNsaWRlRWwuZmluZCgnaW1nLCBzdmcsIGNhbnZhcywgcGljdHVyZSwgLnN3aXBlci16b29tLXRhcmdldCcpO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSBnZXN0dXJlLiRpbWFnZUVsLnBhcmVudChcIi5cIiArIHBhcmFtcy5jb250YWluZXJDbGFzcyk7XG4gICAgICBnZXN0dXJlLm1heFJhdGlvID0gZ2VzdHVyZS4kaW1hZ2VXcmFwRWwuYXR0cignZGF0YS1zd2lwZXItem9vbScpIHx8IHBhcmFtcy5tYXhSYXRpbztcblxuICAgICAgaWYgKGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBnZXN0dXJlLiRpbWFnZUVsID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuJGltYWdlRWwpIHtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigwKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuem9vbS5pc1NjYWxpbmcgPSB0cnVlO1xuICB9LFxuICBvbkdlc3R1cmVDaGFuZ2U6IGZ1bmN0aW9uIG9uR2VzdHVyZUNoYW5nZShlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG5cbiAgICBpZiAoIXN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIGlmIChlLnR5cGUgIT09ICd0b3VjaG1vdmUnIHx8IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB6b29tLmZha2VHZXN0dXJlTW92ZWQgPSB0cnVlO1xuICAgICAgZ2VzdHVyZS5zY2FsZU1vdmUgPSBab29tLmdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoZS50eXBlID09PSAnZ2VzdHVyZWNoYW5nZScpIHpvb20ub25HZXN0dXJlU3RhcnQoZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIHpvb20uc2NhbGUgPSBlLnNjYWxlICogem9vbS5jdXJyZW50U2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLnNjYWxlTW92ZSAvIGdlc3R1cmUuc2NhbGVTdGFydCAqIHpvb20uY3VycmVudFNjYWxlO1xuICAgIH1cblxuICAgIGlmICh6b29tLnNjYWxlID4gZ2VzdHVyZS5tYXhSYXRpbykge1xuICAgICAgem9vbS5zY2FsZSA9IGdlc3R1cmUubWF4UmF0aW8gLSAxICsgTWF0aC5wb3coem9vbS5zY2FsZSAtIGdlc3R1cmUubWF4UmF0aW8gKyAxLCAwLjUpO1xuICAgIH1cblxuICAgIGlmICh6b29tLnNjYWxlIDwgcGFyYW1zLm1pblJhdGlvKSB7XG4gICAgICB6b29tLnNjYWxlID0gcGFyYW1zLm1pblJhdGlvICsgMSAtIE1hdGgucG93KHBhcmFtcy5taW5SYXRpbyAtIHpvb20uc2NhbGUgKyAxLCAwLjUpO1xuICAgIH1cblxuICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKFwiICsgem9vbS5zY2FsZSArIFwiKVwiKTtcbiAgfSxcbiAgb25HZXN0dXJlRW5kOiBmdW5jdGlvbiBvbkdlc3R1cmVFbmQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlO1xuICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlO1xuXG4gICAgaWYgKCFzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICBpZiAoIXpvb20uZmFrZUdlc3R1cmVUb3VjaGVkIHx8ICF6b29tLmZha2VHZXN0dXJlTW92ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZS50eXBlICE9PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA8IDIgJiYgIWRldmljZS5hbmRyb2lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgem9vbS5mYWtlR2VzdHVyZVRvdWNoZWQgPSBmYWxzZTtcbiAgICAgIHpvb20uZmFrZUdlc3R1cmVNb3ZlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHpvb20uc2NhbGUgPSBNYXRoLm1heChNYXRoLm1pbih6b29tLnNjYWxlLCBnZXN0dXJlLm1heFJhdGlvKSwgcGFyYW1zLm1pblJhdGlvKTtcbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKFwiICsgem9vbS5zY2FsZSArIFwiKVwiKTtcbiAgICB6b29tLmN1cnJlbnRTY2FsZSA9IHpvb20uc2NhbGU7XG4gICAgem9vbS5pc1NjYWxpbmcgPSBmYWxzZTtcbiAgICBpZiAoem9vbS5zY2FsZSA9PT0gMSkgZ2VzdHVyZS4kc2xpZGVFbCA9IHVuZGVmaW5lZDtcbiAgfSxcbiAgb25Ub3VjaFN0YXJ0OiBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgIGltYWdlID0gem9vbS5pbWFnZTtcbiAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBpZiAoaW1hZ2UuaXNUb3VjaGVkKSByZXR1cm47XG4gICAgaWYgKGRldmljZS5hbmRyb2lkICYmIGUuY2FuY2VsYWJsZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGltYWdlLmlzVG91Y2hlZCA9IHRydWU7XG4gICAgaW1hZ2UudG91Y2hlc1N0YXJ0LnggPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XG4gICAgaW1hZ2UudG91Y2hlc1N0YXJ0LnkgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gIH0sXG4gIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZSxcbiAgICAgICAgaW1hZ2UgPSB6b29tLmltYWdlLFxuICAgICAgICB2ZWxvY2l0eSA9IHpvb20udmVsb2NpdHk7XG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhZ2VzdHVyZS4kc2xpZGVFbCkgcmV0dXJuO1xuXG4gICAgaWYgKCFpbWFnZS5pc01vdmVkKSB7XG4gICAgICBpbWFnZS53aWR0aCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICBpbWFnZS5oZWlnaHQgPSBnZXN0dXJlLiRpbWFnZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIGltYWdlLnN0YXJ0WCA9ICgwLCBfdXRpbHMuZ2V0VHJhbnNsYXRlKShnZXN0dXJlLiRpbWFnZVdyYXBFbFswXSwgJ3gnKSB8fCAwO1xuICAgICAgaW1hZ2Uuc3RhcnRZID0gKDAsIF91dGlscy5nZXRUcmFuc2xhdGUpKGdlc3R1cmUuJGltYWdlV3JhcEVsWzBdLCAneScpIHx8IDA7XG4gICAgICBnZXN0dXJlLnNsaWRlV2lkdGggPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldFdpZHRoO1xuICAgICAgZ2VzdHVyZS5zbGlkZUhlaWdodCA9IGdlc3R1cmUuJHNsaWRlRWxbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigwKTtcbiAgICB9IC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcblxuXG4gICAgdmFyIHNjYWxlZFdpZHRoID0gaW1hZ2Uud2lkdGggKiB6b29tLnNjYWxlO1xuICAgIHZhciBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgIGlmIChzY2FsZWRXaWR0aCA8IGdlc3R1cmUuc2xpZGVXaWR0aCAmJiBzY2FsZWRIZWlnaHQgPCBnZXN0dXJlLnNsaWRlSGVpZ2h0KSByZXR1cm47XG4gICAgaW1hZ2UubWluWCA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgIGltYWdlLm1heFggPSAtaW1hZ2UubWluWDtcbiAgICBpbWFnZS5taW5ZID0gTWF0aC5taW4oZ2VzdHVyZS5zbGlkZUhlaWdodCAvIDIgLSBzY2FsZWRIZWlnaHQgLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhZID0gLWltYWdlLm1pblk7XG4gICAgaW1hZ2UudG91Y2hlc0N1cnJlbnQueCA9IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICAgIGltYWdlLnRvdWNoZXNDdXJyZW50LnkgPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcblxuICAgIGlmICghaW1hZ2UuaXNNb3ZlZCAmJiAhem9vbS5pc1NjYWxpbmcpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3IoaW1hZ2UubWluWCkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRYKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC54IDwgaW1hZ2UudG91Y2hlc1N0YXJ0LnggfHwgTWF0aC5mbG9vcihpbWFnZS5tYXhYKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFgpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPiBpbWFnZS50b3VjaGVzU3RhcnQueCkpIHtcbiAgICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3IoaW1hZ2UubWluWSkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRZKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC55IDwgaW1hZ2UudG91Y2hlc1N0YXJ0LnkgfHwgTWF0aC5mbG9vcihpbWFnZS5tYXhZKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFkpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnkgPiBpbWFnZS50b3VjaGVzU3RhcnQueSkpIHtcbiAgICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpbWFnZS5pc01vdmVkID0gdHJ1ZTtcbiAgICBpbWFnZS5jdXJyZW50WCA9IGltYWdlLnRvdWNoZXNDdXJyZW50LnggLSBpbWFnZS50b3VjaGVzU3RhcnQueCArIGltYWdlLnN0YXJ0WDtcbiAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLnRvdWNoZXNDdXJyZW50LnkgLSBpbWFnZS50b3VjaGVzU3RhcnQueSArIGltYWdlLnN0YXJ0WTtcblxuICAgIGlmIChpbWFnZS5jdXJyZW50WCA8IGltYWdlLm1pblgpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRYID0gaW1hZ2UubWluWCArIDEgLSBNYXRoLnBvdyhpbWFnZS5taW5YIC0gaW1hZ2UuY3VycmVudFggKyAxLCAwLjgpO1xuICAgIH1cblxuICAgIGlmIChpbWFnZS5jdXJyZW50WCA+IGltYWdlLm1heFgpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRYID0gaW1hZ2UubWF4WCAtIDEgKyBNYXRoLnBvdyhpbWFnZS5jdXJyZW50WCAtIGltYWdlLm1heFggKyAxLCAwLjgpO1xuICAgIH1cblxuICAgIGlmIChpbWFnZS5jdXJyZW50WSA8IGltYWdlLm1pblkpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRZID0gaW1hZ2UubWluWSArIDEgLSBNYXRoLnBvdyhpbWFnZS5taW5ZIC0gaW1hZ2UuY3VycmVudFkgKyAxLCAwLjgpO1xuICAgIH1cblxuICAgIGlmIChpbWFnZS5jdXJyZW50WSA+IGltYWdlLm1heFkpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRZID0gaW1hZ2UubWF4WSAtIDEgKyBNYXRoLnBvdyhpbWFnZS5jdXJyZW50WSAtIGltYWdlLm1heFkgKyAxLCAwLjgpO1xuICAgIH0gLy8gVmVsb2NpdHlcblxuXG4gICAgaWYgKCF2ZWxvY2l0eS5wcmV2UG9zaXRpb25YKSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25YID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueDtcbiAgICBpZiAoIXZlbG9jaXR5LnByZXZQb3NpdGlvblkpIHZlbG9jaXR5LnByZXZQb3NpdGlvblkgPSBpbWFnZS50b3VjaGVzQ3VycmVudC55O1xuICAgIGlmICghdmVsb2NpdHkucHJldlRpbWUpIHZlbG9jaXR5LnByZXZUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB2ZWxvY2l0eS54ID0gKGltYWdlLnRvdWNoZXNDdXJyZW50LnggLSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25YKSAvIChEYXRlLm5vdygpIC0gdmVsb2NpdHkucHJldlRpbWUpIC8gMjtcbiAgICB2ZWxvY2l0eS55ID0gKGltYWdlLnRvdWNoZXNDdXJyZW50LnkgLSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZKSAvIChEYXRlLm5vdygpIC0gdmVsb2NpdHkucHJldlRpbWUpIC8gMjtcbiAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIDwgMikgdmVsb2NpdHkueCA9IDA7XG4gICAgaWYgKE1hdGguYWJzKGltYWdlLnRvdWNoZXNDdXJyZW50LnkgLSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZKSA8IDIpIHZlbG9jaXR5LnkgPSAwO1xuICAgIHZlbG9jaXR5LnByZXZQb3NpdGlvblggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54O1xuICAgIHZlbG9jaXR5LnByZXZQb3NpdGlvblkgPSBpbWFnZS50b3VjaGVzQ3VycmVudC55O1xuICAgIHZlbG9jaXR5LnByZXZUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIGltYWdlLmN1cnJlbnRYICsgXCJweCwgXCIgKyBpbWFnZS5jdXJyZW50WSArIFwicHgsMClcIik7XG4gIH0sXG4gIG9uVG91Y2hFbmQ6IGZ1bmN0aW9uIG9uVG91Y2hFbmQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZSxcbiAgICAgICAgaW1hZ2UgPSB6b29tLmltYWdlLFxuICAgICAgICB2ZWxvY2l0eSA9IHpvb20udmVsb2NpdHk7XG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhaW1hZ2UuaXNNb3ZlZCkge1xuICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICBpbWFnZS5pc01vdmVkID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgaW1hZ2UuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIHZhciBtb21lbnR1bUR1cmF0aW9uWCA9IDMwMDtcbiAgICB2YXIgbW9tZW50dW1EdXJhdGlvblkgPSAzMDA7XG4gICAgdmFyIG1vbWVudHVtRGlzdGFuY2VYID0gdmVsb2NpdHkueCAqIG1vbWVudHVtRHVyYXRpb25YO1xuICAgIHZhciBuZXdQb3NpdGlvblggPSBpbWFnZS5jdXJyZW50WCArIG1vbWVudHVtRGlzdGFuY2VYO1xuICAgIHZhciBtb21lbnR1bURpc3RhbmNlWSA9IHZlbG9jaXR5LnkgKiBtb21lbnR1bUR1cmF0aW9uWTtcbiAgICB2YXIgbmV3UG9zaXRpb25ZID0gaW1hZ2UuY3VycmVudFkgKyBtb21lbnR1bURpc3RhbmNlWTsgLy8gRml4IGR1cmF0aW9uXG5cbiAgICBpZiAodmVsb2NpdHkueCAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblggPSBNYXRoLmFicygobmV3UG9zaXRpb25YIC0gaW1hZ2UuY3VycmVudFgpIC8gdmVsb2NpdHkueCk7XG4gICAgaWYgKHZlbG9jaXR5LnkgIT09IDApIG1vbWVudHVtRHVyYXRpb25ZID0gTWF0aC5hYnMoKG5ld1Bvc2l0aW9uWSAtIGltYWdlLmN1cnJlbnRZKSAvIHZlbG9jaXR5LnkpO1xuICAgIHZhciBtb21lbnR1bUR1cmF0aW9uID0gTWF0aC5tYXgobW9tZW50dW1EdXJhdGlvblgsIG1vbWVudHVtRHVyYXRpb25ZKTtcbiAgICBpbWFnZS5jdXJyZW50WCA9IG5ld1Bvc2l0aW9uWDtcbiAgICBpbWFnZS5jdXJyZW50WSA9IG5ld1Bvc2l0aW9uWTsgLy8gRGVmaW5lIGlmIHdlIG5lZWQgaW1hZ2UgZHJhZ1xuXG4gICAgdmFyIHNjYWxlZFdpZHRoID0gaW1hZ2Uud2lkdGggKiB6b29tLnNjYWxlO1xuICAgIHZhciBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhYID0gLWltYWdlLm1pblg7XG4gICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgIGltYWdlLmN1cnJlbnRYID0gTWF0aC5tYXgoTWF0aC5taW4oaW1hZ2UuY3VycmVudFgsIGltYWdlLm1heFgpLCBpbWFnZS5taW5YKTtcbiAgICBpbWFnZS5jdXJyZW50WSA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRZLCBpbWFnZS5tYXhZKSwgaW1hZ2UubWluWSk7XG4gICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbihtb21lbnR1bUR1cmF0aW9uKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIGltYWdlLmN1cnJlbnRYICsgXCJweCwgXCIgKyBpbWFnZS5jdXJyZW50WSArIFwicHgsMClcIik7XG4gIH0sXG4gIG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG5cbiAgICBpZiAoZ2VzdHVyZS4kc2xpZGVFbCAmJiBzd2lwZXIucHJldmlvdXNJbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgICBpZiAoZ2VzdHVyZS4kaW1hZ2VFbCkge1xuICAgICAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnZXN0dXJlLiRpbWFnZVdyYXBFbCkge1xuICAgICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuICAgICAgfVxuXG4gICAgICB6b29tLnNjYWxlID0gMTtcbiAgICAgIHpvb20uY3VycmVudFNjYWxlID0gMTtcbiAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLiRpbWFnZUVsID0gdW5kZWZpbmVkO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LFxuICAvLyBUb2dnbGUgWm9vbVxuICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcblxuICAgIGlmICh6b29tLnNjYWxlICYmIHpvb20uc2NhbGUgIT09IDEpIHtcbiAgICAgIC8vIFpvb20gT3V0XG4gICAgICB6b29tLm91dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBab29tIEluXG4gICAgICB6b29tLmluKGUpO1xuICAgIH1cbiAgfSxcbiAgaW46IGZ1bmN0aW9uIF9pbihlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgIGltYWdlID0gem9vbS5pbWFnZTtcblxuICAgIGlmICghZ2VzdHVyZS4kc2xpZGVFbCkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQpIHtcbiAgICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGUudGFyZ2V0KS5jbG9zZXN0KFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwpIHtcbiAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IGdlc3R1cmUuJHNsaWRlRWwuZmluZCgnaW1nLCBzdmcsIGNhbnZhcywgcGljdHVyZSwgLnN3aXBlci16b29tLXRhcmdldCcpO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSBnZXN0dXJlLiRpbWFnZUVsLnBhcmVudChcIi5cIiArIHBhcmFtcy5jb250YWluZXJDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwIHx8ICFnZXN0dXJlLiRpbWFnZVdyYXBFbCB8fCBnZXN0dXJlLiRpbWFnZVdyYXBFbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBnZXN0dXJlLiRzbGlkZUVsLmFkZENsYXNzKFwiXCIgKyBwYXJhbXMuem9vbWVkU2xpZGVDbGFzcyk7XG4gICAgdmFyIHRvdWNoWDtcbiAgICB2YXIgdG91Y2hZO1xuICAgIHZhciBvZmZzZXRYO1xuICAgIHZhciBvZmZzZXRZO1xuICAgIHZhciBkaWZmWDtcbiAgICB2YXIgZGlmZlk7XG4gICAgdmFyIHRyYW5zbGF0ZVg7XG4gICAgdmFyIHRyYW5zbGF0ZVk7XG4gICAgdmFyIGltYWdlV2lkdGg7XG4gICAgdmFyIGltYWdlSGVpZ2h0O1xuICAgIHZhciBzY2FsZWRXaWR0aDtcbiAgICB2YXIgc2NhbGVkSGVpZ2h0O1xuICAgIHZhciB0cmFuc2xhdGVNaW5YO1xuICAgIHZhciB0cmFuc2xhdGVNaW5ZO1xuICAgIHZhciB0cmFuc2xhdGVNYXhYO1xuICAgIHZhciB0cmFuc2xhdGVNYXhZO1xuICAgIHZhciBzbGlkZVdpZHRoO1xuICAgIHZhciBzbGlkZUhlaWdodDtcblxuICAgIGlmICh0eXBlb2YgaW1hZ2UudG91Y2hlc1N0YXJ0LnggPT09ICd1bmRlZmluZWQnICYmIGUpIHtcbiAgICAgIHRvdWNoWCA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICAgICAgdG91Y2hZID0gZS50eXBlID09PSAndG91Y2hlbmQnID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdWNoWCA9IGltYWdlLnRvdWNoZXNTdGFydC54O1xuICAgICAgdG91Y2hZID0gaW1hZ2UudG91Y2hlc1N0YXJ0Lnk7XG4gICAgfVxuXG4gICAgem9vbS5zY2FsZSA9IGdlc3R1cmUuJGltYWdlV3JhcEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXpvb20nKSB8fCBwYXJhbXMubWF4UmF0aW87XG4gICAgem9vbS5jdXJyZW50U2NhbGUgPSBnZXN0dXJlLiRpbWFnZVdyYXBFbC5hdHRyKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuXG4gICAgaWYgKGUpIHtcbiAgICAgIHNsaWRlV2lkdGggPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldFdpZHRoO1xuICAgICAgc2xpZGVIZWlnaHQgPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIG9mZnNldFggPSBnZXN0dXJlLiRzbGlkZUVsLm9mZnNldCgpLmxlZnQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICAgIG9mZnNldFkgPSBnZXN0dXJlLiRzbGlkZUVsLm9mZnNldCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgZGlmZlggPSBvZmZzZXRYICsgc2xpZGVXaWR0aCAvIDIgLSB0b3VjaFg7XG4gICAgICBkaWZmWSA9IG9mZnNldFkgKyBzbGlkZUhlaWdodCAvIDIgLSB0b3VjaFk7XG4gICAgICBpbWFnZVdpZHRoID0gZ2VzdHVyZS4kaW1hZ2VFbFswXS5vZmZzZXRXaWR0aDtcbiAgICAgIGltYWdlSGVpZ2h0ID0gZ2VzdHVyZS4kaW1hZ2VFbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBzY2FsZWRXaWR0aCA9IGltYWdlV2lkdGggKiB6b29tLnNjYWxlO1xuICAgICAgc2NhbGVkSGVpZ2h0ID0gaW1hZ2VIZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgICAgdHJhbnNsYXRlTWluWCA9IE1hdGgubWluKHNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICAgIHRyYW5zbGF0ZU1pblkgPSBNYXRoLm1pbihzbGlkZUhlaWdodCAvIDIgLSBzY2FsZWRIZWlnaHQgLyAyLCAwKTtcbiAgICAgIHRyYW5zbGF0ZU1heFggPSAtdHJhbnNsYXRlTWluWDtcbiAgICAgIHRyYW5zbGF0ZU1heFkgPSAtdHJhbnNsYXRlTWluWTtcbiAgICAgIHRyYW5zbGF0ZVggPSBkaWZmWCAqIHpvb20uc2NhbGU7XG4gICAgICB0cmFuc2xhdGVZID0gZGlmZlkgKiB6b29tLnNjYWxlO1xuXG4gICAgICBpZiAodHJhbnNsYXRlWCA8IHRyYW5zbGF0ZU1pblgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1pblg7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFuc2xhdGVYID4gdHJhbnNsYXRlTWF4WCkge1xuICAgICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlTWF4WDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYW5zbGF0ZVkgPCB0cmFuc2xhdGVNaW5ZKSB7XG4gICAgICAgIHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGVNaW5ZO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNsYXRlWSA+IHRyYW5zbGF0ZU1heFkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1heFk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zbGF0ZVggPSAwO1xuICAgICAgdHJhbnNsYXRlWSA9IDA7XG4gICAgfVxuXG4gICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgdHJhbnNsYXRlWCArIFwicHgsIFwiICsgdHJhbnNsYXRlWSArIFwicHgsMClcIik7XG4gICAgZ2VzdHVyZS4kaW1hZ2VFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKFwiICsgem9vbS5zY2FsZSArIFwiKVwiKTtcbiAgfSxcbiAgb3V0OiBmdW5jdGlvbiBvdXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlO1xuXG4gICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBnZXN0dXJlLiRpbWFnZUVsID0gZ2VzdHVyZS4kc2xpZGVFbC5maW5kKCdpbWcsIHN2ZywgY2FudmFzLCBwaWN0dXJlLCAuc3dpcGVyLXpvb20tdGFyZ2V0Jyk7XG4gICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbCA9IGdlc3R1cmUuJGltYWdlRWwucGFyZW50KFwiLlwiICsgcGFyYW1zLmNvbnRhaW5lckNsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDAgfHwgIWdlc3R1cmUuJGltYWdlV3JhcEVsIHx8IGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHpvb20uc2NhbGUgPSAxO1xuICAgIHpvb20uY3VycmVudFNjYWxlID0gMTtcbiAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKScpO1xuICAgIGdlc3R1cmUuJHNsaWRlRWwucmVtb3ZlQ2xhc3MoXCJcIiArIHBhcmFtcy56b29tZWRTbGlkZUNsYXNzKTtcbiAgICBnZXN0dXJlLiRzbGlkZUVsID0gdW5kZWZpbmVkO1xuICB9LFxuICB0b2dnbGVHZXN0dXJlczogZnVuY3Rpb24gdG9nZ2xlR2VzdHVyZXMobWV0aG9kKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgc2VsZWN0b3IgPSB6b29tLnNsaWRlU2VsZWN0b3IsXG4gICAgICAgIHBhc3NpdmUgPSB6b29tLnBhc3NpdmVMaXN0ZW5lcjtcbiAgICBzd2lwZXIuJHdyYXBwZXJFbFttZXRob2RdKCdnZXN0dXJlc3RhcnQnLCBzZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVTdGFydCwgcGFzc2l2ZSk7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWxbbWV0aG9kXSgnZ2VzdHVyZWNoYW5nZScsIHNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUNoYW5nZSwgcGFzc2l2ZSk7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWxbbWV0aG9kXSgnZ2VzdHVyZWVuZCcsIHNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZSk7XG4gIH0sXG4gIGVuYWJsZUdlc3R1cmVzOiBmdW5jdGlvbiBlbmFibGVHZXN0dXJlcygpIHtcbiAgICBpZiAodGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMuem9vbS5nZXN0dXJlc0VuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuem9vbS50b2dnbGVHZXN0dXJlcygnb24nKTtcbiAgfSxcbiAgZGlzYWJsZUdlc3R1cmVzOiBmdW5jdGlvbiBkaXNhYmxlR2VzdHVyZXMoKSB7XG4gICAgaWYgKCF0aGlzLnpvb20uZ2VzdHVyZXNFbmFibGVkKSByZXR1cm47XG4gICAgdGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuem9vbS50b2dnbGVHZXN0dXJlcygnb2ZmJyk7XG4gIH0sXG4gIC8vIEF0dGFjaC9EZXRhY2ggRXZlbnRzXG4gIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBpZiAoem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgem9vbS5lbmFibGVkID0gdHJ1ZTtcbiAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgc3dpcGVyLnBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIHZhciBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9IDogdHJ1ZTtcbiAgICB2YXIgc2xpZGVTZWxlY3RvciA9IFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzO1xuICAgIHN3aXBlci56b29tLnBhc3NpdmVMaXN0ZW5lciA9IHBhc3NpdmVMaXN0ZW5lcjtcbiAgICBzd2lwZXIuem9vbS5zbGlkZVNlbGVjdG9yID0gc2xpZGVTZWxlY3RvcjsgLy8gU2NhbGUgaW1hZ2VcblxuICAgIGlmIChzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci56b29tLmVuYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLnpvb20uZGlzYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVTdGFydCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5tb3ZlLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuZW5kLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcblxuICAgICAgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLmNhbmNlbCwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSAvLyBNb3ZlIGltYWdlXG5cblxuICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5tb3ZlLCBcIi5cIiArIHN3aXBlci5wYXJhbXMuem9vbS5jb250YWluZXJDbGFzcywgem9vbS5vblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH0sXG4gIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBpZiAoIXpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgc3dpcGVyLnpvb20uZW5hYmxlZCA9IGZhbHNlO1xuICAgIHZhciBwYXNzaXZlTGlzdGVuZXIgPSBzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQgPT09ICd0b3VjaHN0YXJ0JyAmJiBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBzd2lwZXIucGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9IDogZmFsc2U7XG4gICAgdmFyIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUgPSBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciA/IHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0gOiB0cnVlO1xuICAgIHZhciBzbGlkZVNlbGVjdG9yID0gXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3M7IC8vIFNjYWxlIGltYWdlXG5cbiAgICBpZiAoc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCwgc3dpcGVyLnpvb20uZW5hYmxlR2VzdHVyZXMsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLnpvb20uZGlzYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlQ2hhbmdlLCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuZW5kLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcblxuICAgICAgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gLy8gTW92ZSBpbWFnZVxuXG5cbiAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIFwiLlwiICsgc3dpcGVyLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzLCB6b29tLm9uVG91Y2hNb3ZlLCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlKTtcbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ3pvb20nLFxuICBwYXJhbXM6IHtcbiAgICB6b29tOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIG1heFJhdGlvOiAzLFxuICAgICAgbWluUmF0aW86IDEsXG4gICAgICB0b2dnbGU6IHRydWUsXG4gICAgICBjb250YWluZXJDbGFzczogJ3N3aXBlci16b29tLWNvbnRhaW5lcicsXG4gICAgICB6b29tZWRTbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXpvb21lZCdcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgem9vbTogX2V4dGVuZHMoe1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIGN1cnJlbnRTY2FsZTogMSxcbiAgICAgICAgaXNTY2FsaW5nOiBmYWxzZSxcbiAgICAgICAgZ2VzdHVyZToge1xuICAgICAgICAgICRzbGlkZUVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgc2xpZGVXaWR0aDogdW5kZWZpbmVkLFxuICAgICAgICAgIHNsaWRlSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgJGltYWdlRWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAkaW1hZ2VXcmFwRWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICBtYXhSYXRpbzogM1xuICAgICAgICB9LFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIGlzVG91Y2hlZDogdW5kZWZpbmVkLFxuICAgICAgICAgIGlzTW92ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjdXJyZW50WDogdW5kZWZpbmVkLFxuICAgICAgICAgIGN1cnJlbnRZOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWluWDogdW5kZWZpbmVkLFxuICAgICAgICAgIG1pblk6IHVuZGVmaW5lZCxcbiAgICAgICAgICBtYXhYOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWF4WTogdW5kZWZpbmVkLFxuICAgICAgICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgc3RhcnRYOiB1bmRlZmluZWQsXG4gICAgICAgICAgc3RhcnRZOiB1bmRlZmluZWQsXG4gICAgICAgICAgdG91Y2hlc1N0YXJ0OiB7fSxcbiAgICAgICAgICB0b3VjaGVzQ3VycmVudDoge31cbiAgICAgICAgfSxcbiAgICAgICAgdmVsb2NpdHk6IHtcbiAgICAgICAgICB4OiB1bmRlZmluZWQsXG4gICAgICAgICAgeTogdW5kZWZpbmVkLFxuICAgICAgICAgIHByZXZQb3NpdGlvblg6IHVuZGVmaW5lZCxcbiAgICAgICAgICBwcmV2UG9zaXRpb25ZOiB1bmRlZmluZWQsXG4gICAgICAgICAgcHJldlRpbWU6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICB9LCBab29tKVxuICAgIH0pO1xuICAgIHZhciBzY2FsZSA9IDE7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN3aXBlci56b29tLCAnc2NhbGUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmIChzY2FsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICB2YXIgaW1hZ2VFbCA9IHN3aXBlci56b29tLmdlc3R1cmUuJGltYWdlRWwgPyBzd2lwZXIuem9vbS5nZXN0dXJlLiRpbWFnZUVsWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIHZhciBzbGlkZUVsID0gc3dpcGVyLnpvb20uZ2VzdHVyZS4kc2xpZGVFbCA/IHN3aXBlci56b29tLmdlc3R1cmUuJHNsaWRlRWxbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ3pvb21DaGFuZ2UnLCB2YWx1ZSwgaW1hZ2VFbCwgc2xpZGVFbCk7XG4gICAgICAgIH1cblxuICAgICAgICBzY2FsZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLnpvb20uZW5hYmxlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgc3dpcGVyLnpvb20uZGlzYWJsZSgpO1xuICAgIH0sXG4gICAgdG91Y2hTdGFydDogZnVuY3Rpb24gdG91Y2hTdGFydChzd2lwZXIsIGUpIHtcbiAgICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnpvb20ub25Ub3VjaFN0YXJ0KGUpO1xuICAgIH0sXG4gICAgdG91Y2hFbmQ6IGZ1bmN0aW9uIHRvdWNoRW5kKHN3aXBlciwgZSkge1xuICAgICAgaWYgKCFzd2lwZXIuem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuem9vbS5vblRvdWNoRW5kKGUpO1xuICAgIH0sXG4gICAgZG91YmxlVGFwOiBmdW5jdGlvbiBkb3VibGVUYXAoc3dpcGVyLCBlKSB7XG4gICAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20udG9nZ2xlKSB7XG4gICAgICAgIHN3aXBlci56b29tLnRvZ2dsZShlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20uZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIuem9vbS5vblRyYW5zaXRpb25FbmQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIuem9vbS5vblRyYW5zaXRpb25FbmQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIE9ic2VydmVyID0ge1xuICBhdHRhY2g6IGZ1bmN0aW9uIGF0dGFjaCh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgT2JzZXJ2ZXJGdW5jID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYmtpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgICAvLyBUaGUgb2JzZXJ2ZXJVcGRhdGUgZXZlbnQgc2hvdWxkIG9ubHkgYmUgdHJpZ2dlcmVkXG4gICAgICAvLyBvbmNlIGRlc3BpdGUgdGhlIG51bWJlciBvZiBtdXRhdGlvbnMuICBBZGRpdGlvbmFsXG4gICAgICAvLyB0cmlnZ2VycyBhcmUgcmVkdW5kYW50IGFuZCBhcmUgdmVyeSBjb3N0bHlcbiAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHN3aXBlci5lbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9ic2VydmVyVXBkYXRlID0gZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoKSB7XG4gICAgICAgIHN3aXBlci5lbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9ic2VydmVyVXBkYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KG9ic2VydmVyVXBkYXRlLCAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwge1xuICAgICAgYXR0cmlidXRlczogdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5hdHRyaWJ1dGVzLFxuICAgICAgY2hpbGRMaXN0OiB0eXBlb2Ygb3B0aW9ucy5jaGlsZExpc3QgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuY2hpbGRMaXN0LFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHlwZW9mIG9wdGlvbnMuY2hhcmFjdGVyRGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGFyYWN0ZXJEYXRhXG4gICAgfSk7XG4gICAgc3dpcGVyLm9ic2VydmVyLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5zdXBwb3J0Lm9ic2VydmVyIHx8ICFzd2lwZXIucGFyYW1zLm9ic2VydmVyKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5vYnNlcnZlUGFyZW50cykge1xuICAgICAgdmFyIGNvbnRhaW5lclBhcmVudHMgPSBzd2lwZXIuJGVsLnBhcmVudHMoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJQYXJlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHN3aXBlci5vYnNlcnZlci5hdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfSAvLyBPYnNlcnZlIGNvbnRhaW5lclxuXG5cbiAgICBzd2lwZXIub2JzZXJ2ZXIuYXR0YWNoKHN3aXBlci4kZWxbMF0sIHtcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlblxuICAgIH0pOyAvLyBPYnNlcnZlIHdyYXBwZXJcblxuICAgIHN3aXBlci5vYnNlcnZlci5hdHRhY2goc3dpcGVyLiR3cmFwcGVyRWxbMF0sIHtcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLm9ic2VydmVyLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIHN3aXBlci5vYnNlcnZlci5vYnNlcnZlcnMgPSBbXTtcbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ29ic2VydmVyJyxcbiAgcGFyYW1zOiB7XG4gICAgb2JzZXJ2ZXI6IGZhbHNlLFxuICAgIG9ic2VydmVQYXJlbnRzOiBmYWxzZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBvYnNlcnZlcjogX2V4dGVuZHMoe30sIE9ic2VydmVyLCB7XG4gICAgICAgIG9ic2VydmVyczogW11cbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5vYnNlcnZlci5pbml0KCk7XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgc3dpcGVyLm9ic2VydmVyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxudmFyIHN1cHBvcnRzUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiBzdXBwb3J0c1Jlc2l6ZU9ic2VydmVyKCkge1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdy5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuXG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdyZXNpemUnLFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLCB7XG4gICAgICByZXNpemU6IHtcbiAgICAgICAgb2JzZXJ2ZXI6IG51bGwsXG4gICAgICAgIGNyZWF0ZU9ic2VydmVyOiBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcigpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBzd2lwZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gc3dpcGVyLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBuZXdXaWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgICB2YXIgY29udGVudEJveFNpemUgPSBfcmVmLmNvbnRlbnRCb3hTaXplLFxuICAgICAgICAgICAgICAgICAgY29udGVudFJlY3QgPSBfcmVmLmNvbnRlbnRSZWN0LFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG4gICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBzd2lwZXIuZWwpIHJldHVybjtcbiAgICAgICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LmhlaWdodCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuYmxvY2tTaXplO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChuZXdXaWR0aCAhPT0gd2lkdGggfHwgbmV3SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgc3dpcGVyLnJlc2l6ZS5yZXNpemVIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3dpcGVyLnJlc2l6ZS5vYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9ic2VydmVyOiBmdW5jdGlvbiByZW1vdmVPYnNlcnZlcigpIHtcbiAgICAgICAgICBpZiAoc3dpcGVyLnJlc2l6ZS5vYnNlcnZlciAmJiBzd2lwZXIucmVzaXplLm9ic2VydmVyLnVub2JzZXJ2ZSAmJiBzd2lwZXIuZWwpIHtcbiAgICAgICAgICAgIHN3aXBlci5yZXNpemUub2JzZXJ2ZXIudW5vYnNlcnZlKHN3aXBlci5lbCk7XG4gICAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVJlc2l6ZScpO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdyZXNpemUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIoKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMucmVzaXplT2JzZXJ2ZXIgJiYgc3VwcG9ydHNSZXNpemVPYnNlcnZlcigpKSB7XG4gICAgICAgIHN3aXBlci5yZXNpemUuY3JlYXRlT2JzZXJ2ZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBFbWl0IHJlc2l6ZVxuXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzd2lwZXIucmVzaXplLnJlc2l6ZUhhbmRsZXIpOyAvLyBFbWl0IG9yaWVudGF0aW9uY2hhbmdlXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHN3aXBlci5yZXNpemUub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICAgICAgc3dpcGVyLnJlc2l6ZS5yZW1vdmVPYnNlcnZlcigpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN3aXBlci5yZXNpemUucmVzaXplSGFuZGxlcik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBzd2lwZXIucmVzaXplLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcImRvbTdcIik7XG5cbnZhciBNZXRob2RzID0ge1xuICBhZGRDbGFzczogX2RvbS5hZGRDbGFzcyxcbiAgcmVtb3ZlQ2xhc3M6IF9kb20ucmVtb3ZlQ2xhc3MsXG4gIGhhc0NsYXNzOiBfZG9tLmhhc0NsYXNzLFxuICB0b2dnbGVDbGFzczogX2RvbS50b2dnbGVDbGFzcyxcbiAgYXR0cjogX2RvbS5hdHRyLFxuICByZW1vdmVBdHRyOiBfZG9tLnJlbW92ZUF0dHIsXG4gIHRyYW5zZm9ybTogX2RvbS50cmFuc2Zvcm0sXG4gIHRyYW5zaXRpb246IF9kb20udHJhbnNpdGlvbixcbiAgb246IF9kb20ub24sXG4gIG9mZjogX2RvbS5vZmYsXG4gIHRyaWdnZXI6IF9kb20udHJpZ2dlcixcbiAgdHJhbnNpdGlvbkVuZDogX2RvbS50cmFuc2l0aW9uRW5kLFxuICBvdXRlcldpZHRoOiBfZG9tLm91dGVyV2lkdGgsXG4gIG91dGVySGVpZ2h0OiBfZG9tLm91dGVySGVpZ2h0LFxuICBzdHlsZXM6IF9kb20uc3R5bGVzLFxuICBvZmZzZXQ6IF9kb20ub2Zmc2V0LFxuICBjc3M6IF9kb20uY3NzLFxuICBlYWNoOiBfZG9tLmVhY2gsXG4gIGh0bWw6IF9kb20uaHRtbCxcbiAgdGV4dDogX2RvbS50ZXh0LFxuICBpczogX2RvbS5pcyxcbiAgaW5kZXg6IF9kb20uaW5kZXgsXG4gIGVxOiBfZG9tLmVxLFxuICBhcHBlbmQ6IF9kb20uYXBwZW5kLFxuICBwcmVwZW5kOiBfZG9tLnByZXBlbmQsXG4gIG5leHQ6IF9kb20ubmV4dCxcbiAgbmV4dEFsbDogX2RvbS5uZXh0QWxsLFxuICBwcmV2OiBfZG9tLnByZXYsXG4gIHByZXZBbGw6IF9kb20ucHJldkFsbCxcbiAgcGFyZW50OiBfZG9tLnBhcmVudCxcbiAgcGFyZW50czogX2RvbS5wYXJlbnRzLFxuICBjbG9zZXN0OiBfZG9tLmNsb3Nlc3QsXG4gIGZpbmQ6IF9kb20uZmluZCxcbiAgY2hpbGRyZW46IF9kb20uY2hpbGRyZW4sXG4gIGZpbHRlcjogX2RvbS5maWx0ZXIsXG4gIHJlbW92ZTogX2RvbS5yZW1vdmVcbn07XG5PYmplY3Qua2V5cyhNZXRob2RzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZG9tLiQuZm4sIG1ldGhvZE5hbWUsIHtcbiAgICB2YWx1ZTogTWV0aG9kc1ttZXRob2ROYW1lXSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KTtcbn0pO1xudmFyIF9kZWZhdWx0ID0gX2RvbS4kO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmdldEJyb3dzZXIgPSBnZXRCcm93c2VyO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgYnJvd3NlcjtcblxuZnVuY3Rpb24gY2FsY0Jyb3dzZXIoKSB7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG5cbiAgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdWEuaW5kZXhPZignc2FmYXJpJykgPj0gMCAmJiB1YS5pbmRleE9mKCdjaHJvbWUnKSA8IDAgJiYgdWEuaW5kZXhPZignYW5kcm9pZCcpIDwgMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNFZGdlOiAhIXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlL2cpLFxuICAgIGlzU2FmYXJpOiBpc1NhZmFyaSgpLFxuICAgIGlzV2ViVmlldzogLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBicm93c2VyID0gY2FsY0Jyb3dzZXIoKTtcbiAgfVxuXG4gIHJldHVybiBicm93c2VyO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXREZXZpY2UgPSBnZXREZXZpY2U7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZ2V0U3VwcG9ydCA9IHJlcXVpcmUoXCIuL2dldC1zdXBwb3J0XCIpO1xuXG52YXIgZGV2aWNlO1xuXG5mdW5jdGlvbiBjYWxjRGV2aWNlKF90ZW1wKSB7XG4gIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICB1c2VyQWdlbnQgPSBfcmVmLnVzZXJBZ2VudDtcblxuICB2YXIgc3VwcG9ydCA9ICgwLCBfZ2V0U3VwcG9ydC5nZXRTdXBwb3J0KSgpO1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICB2YXIgdWEgPSB1c2VyQWdlbnQgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBkZXZpY2UgPSB7XG4gICAgaW9zOiBmYWxzZSxcbiAgICBhbmRyb2lkOiBmYWxzZVxuICB9O1xuICB2YXIgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICB2YXIgc2NyZWVuSGVpZ2h0ID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7XG4gIHZhciBhbmRyb2lkID0gdWEubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgdmFyIGlwYWQgPSB1YS5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pO1xuICB2YXIgaXBvZCA9IHVhLm1hdGNoKC8oaVBvZCkoLipPU1xccyhbXFxkX10rKSk/Lyk7XG4gIHZhciBpcGhvbmUgPSAhaXBhZCAmJiB1YS5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKTtcbiAgdmFyIHdpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ1dpbjMyJztcbiAgdmFyIG1hY29zID0gcGxhdGZvcm0gPT09ICdNYWNJbnRlbCc7IC8vIGlQYWRPcyAxMyBmaXhcblxuICB2YXIgaVBhZFNjcmVlbnMgPSBbJzEwMjR4MTM2NicsICcxMzY2eDEwMjQnLCAnODM0eDExOTQnLCAnMTE5NHg4MzQnLCAnODM0eDExMTInLCAnMTExMng4MzQnLCAnNzY4eDEwMjQnLCAnMTAyNHg3NjgnLCAnODIweDExODAnLCAnMTE4MHg4MjAnLCAnODEweDEwODAnLCAnMTA4MHg4MTAnXTtcblxuICBpZiAoIWlwYWQgJiYgbWFjb3MgJiYgc3VwcG9ydC50b3VjaCAmJiBpUGFkU2NyZWVucy5pbmRleE9mKHNjcmVlbldpZHRoICsgXCJ4XCIgKyBzY3JlZW5IZWlnaHQpID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfSAvLyBBbmRyb2lkXG5cblxuICBpZiAoYW5kcm9pZCAmJiAhd2luZG93cykge1xuICAgIGRldmljZS5vcyA9ICdhbmRyb2lkJztcbiAgICBkZXZpY2UuYW5kcm9pZCA9IHRydWU7XG4gIH1cblxuICBpZiAoaXBhZCB8fCBpcGhvbmUgfHwgaXBvZCkge1xuICAgIGRldmljZS5vcyA9ICdpb3MnO1xuICAgIGRldmljZS5pb3MgPSB0cnVlO1xuICB9IC8vIEV4cG9ydCBvYmplY3RcblxuXG4gIHJldHVybiBkZXZpY2U7XG59XG5cbmZ1bmN0aW9uIGdldERldmljZShvdmVycmlkZXMpIHtcbiAgaWYgKG92ZXJyaWRlcyA9PT0gdm9pZCAwKSB7XG4gICAgb3ZlcnJpZGVzID0ge307XG4gIH1cblxuICBpZiAoIWRldmljZSkge1xuICAgIGRldmljZSA9IGNhbGNEZXZpY2Uob3ZlcnJpZGVzKTtcbiAgfVxuXG4gIHJldHVybiBkZXZpY2U7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmdldFN1cHBvcnQgPSBnZXRTdXBwb3J0O1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgc3VwcG9ydDtcblxuZnVuY3Rpb24gY2FsY1N1cHBvcnQoKSB7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICByZXR1cm4ge1xuICAgIHRvdWNoOiAhISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaCksXG4gICAgcG9pbnRlckV2ZW50czogISF3aW5kb3cuUG9pbnRlckV2ZW50ICYmICdtYXhUb3VjaFBvaW50cycgaW4gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID49IDAsXG4gICAgb2JzZXJ2ZXI6IGZ1bmN0aW9uIGNoZWNrT2JzZXJ2ZXIoKSB7XG4gICAgICByZXR1cm4gJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdyB8fCAnV2Via2l0TXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93O1xuICAgIH0oKSxcbiAgICBwYXNzaXZlTGlzdGVuZXI6IGZ1bmN0aW9uIGNoZWNrUGFzc2l2ZUxpc3RlbmVyKCkge1xuICAgICAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUxpc3RlbmVyJywgbnVsbCwgb3B0cyk7XG4gICAgICB9IGNhdGNoIChlKSB7Ly8gTm8gc3VwcG9ydFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xuICAgIH0oKSxcbiAgICBnZXN0dXJlczogZnVuY3Rpb24gY2hlY2tHZXN0dXJlcygpIHtcbiAgICAgIHJldHVybiAnb25nZXN0dXJlc3RhcnQnIGluIHdpbmRvdztcbiAgICB9KClcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U3VwcG9ydCgpIHtcbiAgaWYgKCFzdXBwb3J0KSB7XG4gICAgc3VwcG9ydCA9IGNhbGNTdXBwb3J0KCk7XG4gIH1cblxuICByZXR1cm4gc3VwcG9ydDtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVsZXRlUHJvcHMgPSBkZWxldGVQcm9wcztcbmV4cG9ydHMubmV4dFRpY2sgPSBuZXh0VGljaztcbmV4cG9ydHMubm93ID0gbm93O1xuZXhwb3J0cy5nZXRUcmFuc2xhdGUgPSBnZXRUcmFuc2xhdGU7XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5leHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcbmV4cG9ydHMuYmluZE1vZHVsZU1ldGhvZHMgPSBiaW5kTW9kdWxlTWV0aG9kcztcbmV4cG9ydHMuZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGU7XG5leHBvcnRzLmNsYXNzZXNUb1NlbGVjdG9yID0gY2xhc3Nlc1RvU2VsZWN0b3I7XG5leHBvcnRzLmNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG5mdW5jdGlvbiBkZWxldGVQcm9wcyhvYmopIHtcbiAgdmFyIG9iamVjdCA9IG9iajtcbiAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB0cnkge1xuICAgICAgb2JqZWN0W2tleV0gPSBudWxsO1xuICAgIH0gY2F0Y2ggKGUpIHsvLyBubyBnZXR0ZXIgZm9yIG9iamVjdFxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gICAgfSBjYXRjaCAoZSkgey8vIHNvbWV0aGluZyBnb3Qgd3JvbmdcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICBkZWxheSA9IDA7XG4gIH1cblxuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xufVxuXG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBzdHlsZTtcblxuICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgfVxuXG4gIGlmICghc3R5bGUgJiYgZWwuY3VycmVudFN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGU7XG4gIH1cblxuICBpZiAoIXN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5zdHlsZTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKGVsLCBheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gJ3gnO1xuICB9XG5cbiAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgdmFyIG1hdHJpeDtcbiAgdmFyIGN1clRyYW5zZm9ybTtcbiAgdmFyIHRyYW5zZm9ybU1hdHJpeDtcbiAgdmFyIGN1clN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG5cbiAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIHtcbiAgICBjdXJUcmFuc2Zvcm0gPSBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUud2Via2l0VHJhbnNmb3JtO1xuXG4gICAgaWYgKGN1clRyYW5zZm9ybS5zcGxpdCgnLCcpLmxlbmd0aCA+IDYpIHtcbiAgICAgIGN1clRyYW5zZm9ybSA9IGN1clRyYW5zZm9ybS5zcGxpdCgnLCAnKS5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIGEucmVwbGFjZSgnLCcsICcuJyk7XG4gICAgICB9KS5qb2luKCcsICcpO1xuICAgIH0gLy8gU29tZSBvbGQgdmVyc2lvbnMgb2YgV2Via2l0IGNob2tlIHdoZW4gJ25vbmUnIGlzIHBhc3NlZDsgcGFzc1xuICAgIC8vIGVtcHR5IHN0cmluZyBpbnN0ZWFkIGluIHRoaXMgY2FzZVxuXG5cbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChjdXJUcmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogY3VyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBjdXJTdHlsZS5Nb3pUcmFuc2Zvcm0gfHwgY3VyU3R5bGUuT1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5Nc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5tc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndHJhbnNmb3JtJykucmVwbGFjZSgndHJhbnNsYXRlKCcsICdtYXRyaXgoMSwgMCwgMCwgMSwnKTtcbiAgICBtYXRyaXggPSB0cmFuc2Zvcm1NYXRyaXgudG9TdHJpbmcoKS5zcGxpdCgnLCcpO1xuICB9XG5cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDE7IC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEyXSk7IC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs0XSk7XG4gIH1cblxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MjsgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTNdKTsgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgICBlbHNlIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzVdKTtcbiAgfVxuXG4gIHJldHVybiBjdXJUcmFuc2Zvcm0gfHwgMDtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8gIT09IG51bGwgJiYgby5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jztcbn1cblxuZnVuY3Rpb24gaXNOb2RlKG5vZGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LkhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gbm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PT0gMSB8fCBub2RlLm5vZGVUeXBlID09PSAxMSk7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgdmFyIHRvID0gT2JqZWN0KGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSk7XG4gIHZhciBub0V4dGVuZCA9IFsnX19wcm90b19fJywgJ2NvbnN0cnVjdG9yJywgJ3Byb3RvdHlwZSddO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIG5leHRTb3VyY2UgPSBpIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGkgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbaV07XG5cbiAgICBpZiAobmV4dFNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIG5leHRTb3VyY2UgIT09IG51bGwgJiYgIWlzTm9kZShuZXh0U291cmNlKSkge1xuICAgICAgdmFyIGtleXNBcnJheSA9IE9iamVjdC5rZXlzKE9iamVjdChuZXh0U291cmNlKSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIG5vRXh0ZW5kLmluZGV4T2Yoa2V5KSA8IDA7XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgbmV4dEluZGV4ID0gMCwgbGVuID0ga2V5c0FycmF5Lmxlbmd0aDsgbmV4dEluZGV4IDwgbGVuOyBuZXh0SW5kZXggKz0gMSkge1xuICAgICAgICB2YXIgbmV4dEtleSA9IGtleXNBcnJheVtuZXh0SW5kZXhdO1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG5cbiAgICAgICAgaWYgKGRlc2MgIT09IHVuZGVmaW5lZCAmJiBkZXNjLmVudW1lcmFibGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IHt9O1xuXG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cbmZ1bmN0aW9uIGJpbmRNb2R1bGVNZXRob2RzKGluc3RhbmNlLCBvYmopIHtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoaXNPYmplY3Qob2JqW2tleV0pKSB7XG4gICAgICBPYmplY3Qua2V5cyhvYmpba2V5XSkuZm9yRWFjaChmdW5jdGlvbiAoc3ViS2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV1bc3ViS2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9ialtrZXldW3N1YktleV0gPSBvYmpba2V5XVtzdWJLZXldLmJpbmQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZVtrZXldID0gb2JqW2tleV07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzVG9TZWxlY3RvcihjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gJyc7XG4gIH1cblxuICByZXR1cm4gXCIuXCIgKyBjbGFzc2VzLnRyaW0oKS5yZXBsYWNlKC8oW1xcLjohXFwvXSkvZywgJ1xcXFwkMScpIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgLnJlcGxhY2UoLyAvZywgJy4nKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCgkY29udGFpbmVyLCBwYXJhbXMsIGNyZWF0ZUVsZW1lbnRzLCBjaGVja1Byb3BzKSB7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuXG4gIGlmIChjcmVhdGVFbGVtZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNoZWNrUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFwYXJhbXNba2V5XSAmJiBwYXJhbXMuYXV0byA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNoZWNrUHJvcHNba2V5XTtcbiAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIHBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJhbXM7XG59IiwiLyoqXG4gKiBTd2lwZXIgNi44LjRcbiAqIE1vc3QgbW9kZXJuIG1vYmlsZSB0b3VjaCBzbGlkZXIgYW5kIGZyYW1ld29yayB3aXRoIGhhcmR3YXJlIGFjY2VsZXJhdGVkIHRyYW5zaXRpb25zXG4gKiBodHRwczovL3N3aXBlcmpzLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMjEgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqXG4gKiBSZWxlYXNlZCBvbjogQXVndXN0IDIzLCAyMDIxXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9jb3JlL2NvcmUtY2xhc3MnKS5kZWZhdWx0O1xuZXhwb3J0cy5Td2lwZXIgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2NvcmUvY29yZS1jbGFzcycpLmRlZmF1bHQ7XG5leHBvcnRzLlZpcnR1YWwgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL3ZpcnR1YWwvdmlydHVhbCcpLmRlZmF1bHQ7XG5leHBvcnRzLktleWJvYXJkID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9rZXlib2FyZC9rZXlib2FyZCcpLmRlZmF1bHQ7XG5leHBvcnRzLk1vdXNld2hlZWwgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL21vdXNld2hlZWwvbW91c2V3aGVlbCcpLmRlZmF1bHQ7XG5leHBvcnRzLk5hdmlnYXRpb24gPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL25hdmlnYXRpb24vbmF2aWdhdGlvbicpLmRlZmF1bHQ7XG5leHBvcnRzLlBhZ2luYXRpb24gPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL3BhZ2luYXRpb24vcGFnaW5hdGlvbicpLmRlZmF1bHQ7XG5leHBvcnRzLlNjcm9sbGJhciA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvc2Nyb2xsYmFyL3Njcm9sbGJhcicpLmRlZmF1bHQ7XG5leHBvcnRzLlBhcmFsbGF4ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9wYXJhbGxheC9wYXJhbGxheCcpLmRlZmF1bHQ7XG5leHBvcnRzLlpvb20gPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL3pvb20vem9vbScpLmRlZmF1bHQ7XG5leHBvcnRzLkxhenkgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2xhenkvbGF6eScpLmRlZmF1bHQ7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2NvbnRyb2xsZXIvY29udHJvbGxlcicpLmRlZmF1bHQ7XG5leHBvcnRzLkExMXkgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2ExMXkvYTExeScpLmRlZmF1bHQ7XG5leHBvcnRzLkhpc3RvcnkgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2hpc3RvcnkvaGlzdG9yeScpLmRlZmF1bHQ7XG5leHBvcnRzLkhhc2hOYXZpZ2F0aW9uID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9oYXNoLW5hdmlnYXRpb24vaGFzaC1uYXZpZ2F0aW9uJykuZGVmYXVsdDtcbmV4cG9ydHMuQXV0b3BsYXkgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2F1dG9wbGF5L2F1dG9wbGF5JykuZGVmYXVsdDtcbmV4cG9ydHMuRWZmZWN0RmFkZSA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvZWZmZWN0LWZhZGUvZWZmZWN0LWZhZGUnKS5kZWZhdWx0O1xuZXhwb3J0cy5FZmZlY3RDdWJlID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9lZmZlY3QtY3ViZS9lZmZlY3QtY3ViZScpLmRlZmF1bHQ7XG5leHBvcnRzLkVmZmVjdEZsaXAgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2VmZmVjdC1mbGlwL2VmZmVjdC1mbGlwJykuZGVmYXVsdDtcbmV4cG9ydHMuRWZmZWN0Q292ZXJmbG93ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9lZmZlY3QtY292ZXJmbG93L2VmZmVjdC1jb3ZlcmZsb3cnKS5kZWZhdWx0O1xuZXhwb3J0cy5UaHVtYnMgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL3RodW1icy90aHVtYnMnKS5kZWZhdWx0OyIsIi8vIFBvbHlmaWxsc1xuaW1wb3J0ICd1dGlscy9wb2x5ZmlsbHMnO1xuLy8gSGVscGVyc1xuaW1wb3J0ICd1dGlscy9jbGFzc0xpc3QnO1xuLy8gQ29tcG9uZW50cyBsb2FkZXJcbmltcG9ydCBsb2FkX2NvbXBvbmVudHMgZnJvbSAnLi9jb21wb25lbnRzL19jb21wb25lbnQtbG9hZGVyJztcblxuLy8gTG9hZCBhbGwgdGhlIGNvbXBvbmVudHNcbmxvYWRfY29tcG9uZW50cygpO1xuXG4vLyBGaXggdG9wIG9mZnNldCBmb3IgYW5jaG9yIGxpbmtzIChmaXhlZCB0b3AgbmF2KVxucmVxdWlyZSgnc2VydmljZS9hbmNob3IuanMnKTtcbiIsIi8vIFV0aWxzXG5pbXBvcnQgZWxlbWVudEV4aXN0IGZyb20gJ3V0aWxzL2VsZW1lbnRFeGlzdCc7XG5cbi8qKlxuICogIEltcG9ydCBoZXJlIGJlbG93IHlvdSBjb21wb25lbnRcbiAqXG4gKiBFeGFtcGxlOiB0aGUgcGF0aCBpcyByZWxhdGl2ZSBmcm9tIHRoaXMgZmlsZVxuICogICAgaW1wb3J0IE15Q29tcG9uZW50IGZyb20gXCJvcmdhbmlzbXMvbXktY29tcG9uZW50L215LWNvbXBvbmVudC5qc1wiO1xuICovXG5pbXBvcnQgTU1lbnUgZnJvbSAnbW9sZWN1bGVzL20tbWVudS9tLW1lbnUuanMnO1xuaW1wb3J0IEFJbnB1dCBmcm9tICdhdG9tcy9mb3JtLWVsZW1lbnRzL2EtaW5wdXQvYS1pbnB1dC5qcyc7XG5pbXBvcnQgQVNlbGVjdCBmcm9tICdhdG9tcy9mb3JtLWVsZW1lbnRzL2Etc2VsZWN0L2Etc2VsZWN0LmpzJztcbmltcG9ydCBPSGVhZGVyIGZyb20gJy4vb3JnYW5pc21zL28taGVhZGVyL28taGVhZGVyJztcbmltcG9ydCBPQ2FtcGFpZ24gZnJvbSAnLi9vcmdhbmlzbXMvby1jYW1wYWlnbi9vLWNhbXBhaWduJztcbmltcG9ydCBPUGVvcGxlR3JpZCBmcm9tICcuL29yZ2FuaXNtcy9vLXBlb3BsZS1ncmlkL28tcGVvcGxlLWdyaWQnO1xuaW1wb3J0IE1NYXAgZnJvbSAnLi9tb2xlY3VsZXMvbS1tYXAvbS1tYXAnO1xuaW1wb3J0IE1TaGFyZSBmcm9tICcuL21vbGVjdWxlcy9tLXNoYXJlL20tc2hhcmUnO1xuaW1wb3J0IEFTZWFyY2ggZnJvbSAnLi9hdG9tcy9hLXNlYXJjaC9hLXNlYXJjaCc7XG5pbXBvcnQgTVBlcnNvbiBmcm9tICcuL21vbGVjdWxlcy9tLXBlcnNvbi9tLXBlcnNvbic7XG5pbXBvcnQgQUltYWdlTGF6eSBmcm9tICcuL2F0b21zL2EtaW1hZ2UvYS1pbWFnZS1sYXp5JztcbmltcG9ydCBBSW1hZ2VDb3ZlciBmcm9tICcuL2F0b21zL2EtaW1hZ2UvYS1pbWFnZS1jb3Zlcic7XG5pbXBvcnQgTUZvcm0gZnJvbSAnLi9tb2xlY3VsZXMvbS1mb3JtL20tZm9ybSc7XG5pbXBvcnQgQUJyZWFkY3J1bWJzIGZyb20gJy4vYXRvbXMvYS1icmVhZGNydW1icy9hLWJyZWFkY3J1bWJzJztcbmltcG9ydCBBUHJvZ3Jlc3MgZnJvbSAnLi9hdG9tcy9hLXByb2dyZXNzL2EtcHJvZ3Jlc3MnO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi90ZW1wbGF0ZXMvcGFnZS9wYWdlJztcbmltcG9ydCBPRm9vdGVyIGZyb20gJy4vb3JnYW5pc21zL28tZm9vdGVyL28tZm9vdGVyJztcbmltcG9ydCBBU29jaWFsSWNvbiBmcm9tICcuL2F0b21zL2Etc29jaWFsLWljb24vYS1zb2NpYWwtaWNvbic7XG5cbi8vID09PT09PT09PT09PT09PT09IFNUT1AgVE8gQUREIEhFUkVcblxuLyoqXG4gKiBBZGQgeW91ciBjb21wb25lbnQgaW4gdGhlIENPTVBPTkVOVFNfVE9fTE9BRCBhcnJheSB3aXRoIHRoZSB0cmVlIHByb3BlcnRpZXNcbiAqIFwidmlld1wiLCBcIm5hbWVcIiAmIFwic2VsZWN0b3JcIlxuICpcbiAqIEV4YW1wbGU6IHdoZXJlIHRoZSBzZWxlY3RvciBpcyB0aGUgRE9NIHNlbGVjdG9yIGZvciBxdWVyeVNlbGVjdG9yXG4gKiAgICB7IHZpZXc6IE15Q29tcG9uZW50LCBuYW1lOiAnTXlDb21wb25lbnQnLCBzZWxlY3RvcjogJ1tkYXRhLW15LWNvbXBvbmVudF0nXG4gKiB9XG4gKi9cbmNvbnN0IENPTVBPTkVOVFNfVE9fTE9BRCA9IFtcblx0eyB2aWV3OiBNTWVudSwgbmFtZTogJ01NZW51Jywgc2VsZWN0b3I6ICcubS1tZW51JyB9LCAvLyBsb2FkIGFzIHZlcnkgZmlyc3QgKHBlcmZvcm1hbmNlKVxuXHR7IHZpZXc6IE9IZWFkZXIsIG5hbWU6ICdPSGVhZGVyJywgc2VsZWN0b3I6ICcuby1oZWFkZXInIH0sIC8vIGxvYWQgc2Vjb25kIChwZXJmb3JtYW5jZSlcblx0eyB2aWV3OiBBU2VhcmNoLCBuYW1lOiAnQVNlYXJjaCcsIHNlbGVjdG9yOiAnLmEtc2VhcmNoJ30sXG5cdHsgdmlldzogT0NhbXBhaWduLCBuYW1lOiAnT0NhbXBhaWduJywgc2VsZWN0b3I6ICcuby1jYW1wYWlnbicgfSxcblx0eyB2aWV3OiBBSW5wdXQsIG5hbWU6ICdBSW5wdXQnLCBzZWxlY3RvcjogJy5hLWlucHV0JyB9LFxuXHR7IHZpZXc6IEFTZWxlY3QsIG5hbWU6ICdBU2VsZWN0Jywgc2VsZWN0b3I6ICcuYS1zZWxlY3QnIH0sXG5cdHtcblx0XHR2aWV3OiBPUGVvcGxlR3JpZCxcblx0XHRuYW1lOiAnT1Blb3BsZUdyaWQnLFxuXHRcdHNlbGVjdG9yOiAnLm8tcGVvcGxlLWdyaWQtLWhvcml6b250YWwnLFxuXHR9LFxuXHR7IHZpZXc6IE1NYXAsIG5hbWU6ICdNTWFwJywgc2VsZWN0b3I6ICcubS1tYXAnIH0sXG5cdHsgdmlldzogTVNoYXJlLCBuYW1lOiAnTVNoYXJlJywgc2VsZWN0b3I6ICcubS1zaGFyZScgfSxcblx0eyB2aWV3OiBNUGVyc29uLCBuYW1lOiAnTVBlcnNvbicsIHNlbGVjdG9yOiAnLm0tcGVyc29uLS1leHBhbmRhYmxlJyB9LFxuXHR7IHZpZXc6IEFJbWFnZUxhenksIG5hbWU6ICdBSW1hZ2VMYXp5Jywgc2VsZWN0b3I6ICcuYS1pbWFnZV9faW1hZ2UtLWxhenknIH0sXG5cdHsgdmlldzogQUltYWdlQ292ZXIsIG5hbWU6ICdBSW1hZ2VDb3ZlcicsIHNlbGVjdG9yOiAnLmEtaW1hZ2UnIH0sXG5cdHsgdmlldzogTUZvcm0sIG5hbWU6ICdNRm9ybScsIHNlbGVjdG9yOiAnLm0tZm9ybScgfSxcblx0eyB2aWV3OiBBQnJlYWRjcnVtYnMsIG5hbWU6ICdBQnJlYWRjcnVtYnMnLCBzZWxlY3RvcjogJy5hLWJyZWFkY3J1bWJzJyB9LFxuXHR7IHZpZXc6IEFQcm9ncmVzcywgbmFtZTogJ0FQcm9ncmVzcycsIHNlbGVjdG9yOiAnLmEtcHJvZ3Jlc3MnIH0sXG5cdHsgdmlldzogUGFnZSwgbmFtZTogJ1BhZ2UnLCBzZWxlY3RvcjogJy5wYWdlJyB9LFxuXHR7IHZpZXc6IE9Gb290ZXIsIG5hbWU6ICdPRm9vdGVyJywgc2VsZWN0b3I6ICcuby1mb290ZXInIH0sXG5cdHsgdmlldzogQVNvY2lhbEljb24sIG5hbWU6ICdBU29jaWFsSWNvbicsIHNlbGVjdG9yOiAnLmEtc29jaWFsLWljb24nIH0sXG5dO1xuXG5jb25zdCBMT0FERURfQ09NUE9ORU5UUyA9IHt9O1xuXG4vKipcbiAqIExvYWQgYWxsIHRoZSBjb21wb25lbnRzLlxuICogQWxsIHRoZSBjb21wb25lbnQgYXJlIGJ1aWxkZWQgdXNpbmcgdGhlIHNhbWUgaW50ZXJmYWNlLCBzby4uLlxuICogdGhlIC5iaW5kIG1ldGhvZCBkb2VzIHRoZSBtYWdpYyBmb3IgZXZlcnlvbmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IENPTVBPTkVOVFNfVE9fTE9BRC5sZW5ndGg7IGkgKyspIHtcblx0XHRsZXQgeyBzZWxlY3RvciwgdmlldywgbmFtZSB9ID0gQ09NUE9ORU5UU19UT19MT0FEWyBpIF07XG5cdFx0bGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBzZWxlY3RvciApO1xuXHRcdC8vIE9ubHkgaWYgdGhlIERPTSBlbGVtZW50IGV4aXN0XG5cdFx0Ly8gd2UgbG9hZCB0aGUgdmlldy5cblx0XHRpZiAoZWxlbWVudEV4aXN0KCBlbGVtZW50ICkpIHtcblxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaiArKykge1xuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIHZpZXcgaW5zdGFuY2Vcblx0XHRcdFx0Ly8gYW5kIHB1c2ggdGhlIHZpZXcgaW4gdGhlIGxvYWRlZCB2aWV3IGNhY2hlIG9iamVjdC5cblx0XHRcdFx0bGV0IHYgPSBuZXcgdmlldyggZWxlbWVudFsgaiBdICk7XG5cdFx0XHRcdHYuc2V0Q29tcG9uZW50c1JlZmVyZW5jZSggTE9BREVEX0NPTVBPTkVOVFMgKTtcblx0XHRcdFx0TE9BREVEX0NPTVBPTkVOVFNbIG5hbWUgKyBqIF0gPSB2O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdE9iamVjdC5lbnRyaWVzKCBMT0FERURfQ09NUE9ORU5UUyApLmZvckVhY2goICggWyAsIGNvbXBvbmVudCBdICkgPT4ge1xuXHRcdGNvbXBvbmVudC5iaW5kKCk7XG5cdH0gKTtcblxuXHQvLyBFeHBvc2VzIHRoZSBsb2FkZWQgdmlld3MgZm9yIGRldiBwdXJwb3Nlc1xuXHQvLyB3aW5kb3cuQ09NUE9ORU5UUyA9IExPQURFRF9DT01QT05FTlRTO1xuXG5cdHJldHVybiBMT0FERURfQ09NUE9ORU5UUztcbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5jb25zdCBGSVJTVF9MSU5LX1NFTEVDVE9SID0gJ2RpdiA+IHNwYW4gPiBzcGFuID4gYSc7XG5jb25zdCBNRU5VX1NFTEVDVE9SID0gJy5vLWhlYWRlcl9fZGlzcGxheSc7XG5jb25zdCBJVEVNX1NFTEVDVE9SID0gJy5tLW1lbnVfX25hdi1saW5rLS0nO1xuY29uc3QgSEFNQlVSR0VSX1NFTEVDVE9SID0gJy5hLWhhbWJ1cmdlcic7XG5cbmNvbnN0IFBBUkVOVF9DTEFTUyA9ICdtLW1lbnVfX25hdi1saW5rLS1wYXJlbnQnO1xuXG5jb25zdCBIQVNIX1BSRUZJWCA9ICcjbWVudS1pdGVtLSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFCcmVhZGNydW1icyBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLm1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKE1FTlVfU0VMRUNUT1IpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCdjbGljaycsIEZJUlNUX0xJTktfU0VMRUNUT1IsIChldmVudCkgPT4gdGhpcy5oYW5kbGVDbGljayhldmVudCkpO1xuXHR9XG5cblx0aGFuZGxlQ2xpY2soZXZlbnQpIHtcblx0XHRjb25zdCBoYXNoID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQuaGFzaDtcblx0XHRjb25zdCBpZCA9IGhhc2gucmVwbGFjZShIQVNIX1BSRUZJWCwgJycpO1xuXG5cdFx0Y29uc3QgaXRlbSA9IHRoaXMubWVudS5xdWVyeVNlbGVjdG9yKElURU1fU0VMRUNUT1IgKyBpZCk7XG5cblx0XHRpZiAoaXRlbSAmJiBpdGVtLmNsYXNzTGlzdC5jb250YWlucyhQQVJFTlRfQ0xBU1MpKSB7XG5cdFx0XHR0aGlzLm9wZW5OYXYoaXRlbSk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fVxuXG5cdG9wZW5OYXYoaXRlbSkge1xuXHRcdGlmICghdGhpcy5pc0Rlc2t0b3AoKSkge1xuXHRcdFx0dGhpcy5tZW51LnF1ZXJ5U2VsZWN0b3IoSEFNQlVSR0VSX1NFTEVDVE9SKS5jbGljaygpO1xuXHRcdH1cblxuXHRcdGl0ZW0uY2xpY2soKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmNvbnN0IENPVkVSX0lNQUdFX1NFTEVDVE9SID0gJy5hLWltYWdlX19pbWFnZS0tZnAnO1xuXG5jb25zdCBMQVpZX0xPQURFRCA9ICdhLWltYWdlX19pbWFnZS0tbG9hZGVkJztcbmNvbnN0IENPTVBBVElCSUxJVFlfU1RBVEUgPSAnb2JqZWN0LWZpdC1pZSc7XG5cbmNvbnN0IExBWllfTE9BRF9XQUlUX01TID0gMjAwO1xuXG4vKipcbiAqIFNpbmNlIElFIGFuZCBFZGdlIGRvbid0IHN1cHBvcnQgb2JqZWN0LWZpdCwgdXNlIGJhY2tncm91bmQ6IGNvdmVyIGNzcyBmb3JcbiAqIHRoZW1cbiAqXG4gKiBAc2VlIGh0dHBzOi8vbWVkaXVtLmNvbS9AcHJpbW96Y2lnbGVyL25lYXQtdHJpY2stZm9yLWNzcy1vYmplY3QtZml0LWZhbGxiYWNrLW9uLWVkZ2UtYW5kLW90aGVyLWJyb3dzZXJzLWFmYmM1M2JiYjJjM1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBSW1hZ2VDb3ZlciBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmluaXRVcmwgPSB0aGlzLmdldFVybCgpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAnYWZ0ZXJSZXBsYWNlSW1hZ2UnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnNldFNpemVzKCk7XG5cdFx0XHR0aGlzLm9iamVjdEZpdCgpO1xuXHRcdH0gKTtcblx0fVxuXG5cdG9iamVjdEZpdCgpIHtcblx0XHRpZiAoJ29iamVjdEZpdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICE9PSBmYWxzZSkge1xuXHRcdFx0dGhpcy5kZXN0cm95KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgaW1nID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KENPVkVSX0lNQUdFX1NFTEVDVE9SKTtcblxuXHRcdGlmICghaW1nKSB7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnBvbHlmaWxsKGltZyk7XG5cdH1cblxuXHRwb2x5ZmlsbChpbWcpIHtcblx0XHRjb25zdCB1cmwgPSB0aGlzLmdldFVybCgpO1xuXG5cdFx0Ly8gd2FpdCBmb3IgbGF6eSBsb2FkaW5nIHRvIGJlIGNvbXBsZXRlXG5cdFx0aWYgKGltZy5jbGFzc0xpc3QuY29udGFpbnMoTEFaWV9MT0FERUQpKSB7XG5cdFx0XHRpZiAodGhpcy5pbml0VXJsID09PSB1cmwpIHtcblx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5wb2x5ZmlsbChpbWcpLCBMQVpZX0xPQURfV0FJVF9NUyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgZnAgPSBpbWcuY2xhc3NOYW1lLm1hdGNoKC9cXGJhLWltYWdlX19pbWFnZS0tZnAtW15cXHNdK1xcYi9nKTtcblx0XHRpZiAoZnApIHtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoJ2EtaW1hZ2VfX2ltYWdlLS1mcCcpO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyhmcFswXSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5hZGRDbGFzcyhDT01QQVRJQklMSVRZX1NUQVRFKTtcblx0XHR0aGlzLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiK3VybCtcIicpXCI7XG5cblx0XHR0aGlzLmFkZENsYXNzKGltZywgQ09NUEFUSUJJTElUWV9TVEFURSk7XG5cdH1cblxuXHRnZXRVcmwoKSB7XG5cdFx0Y29uc3QgaW1nID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBDT1ZFUl9JTUFHRV9TRUxFQ1RPUiApO1xuXG5cdFx0aWYgKGltZykge1xuXHRcdFx0cmV0dXJuIGltZy5zcmM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c2V0U2l6ZXMoKSB7XG5cdFx0Y29uc3QgaW1nID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBDT1ZFUl9JTUFHRV9TRUxFQ1RPUiApO1xuXHRcdGNvbnN0IGNEaW1zID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGNSYXRpbyA9IGNEaW1zLndpZHRoIC8gY0RpbXMuaGVpZ2h0O1xuXHRcdGNvbnN0IGlSYXRpbyA9IGltZy5uYXR1cmFsV2lkdGggLyBpbWcubmF0dXJhbEhlaWdodDtcblxuXHRcdGNvbnN0IHpvb20gPSBpUmF0aW8gPiBjUmF0aW8gPyBpUmF0aW8gLyBjUmF0aW8gOiBjUmF0aW8gLyBpUmF0aW87XG5cblx0XHRpbWcuc2l6ZXMgPSBjRGltcy53aWR0aCAqIHpvb20gKyAncHgnO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcbmltcG9ydCBpblZpZXcgZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9pbnZpZXcnO1xuXG5jb25zdCBCQVNFX0NPTlRBSU5FUl9TRUxFQ1RPUiA9ICcuYS1pbWFnZSc7XG5cbmNvbnN0IExBWllfU1RBVEUgPSAnYS1pbWFnZV9faW1hZ2UtLWxhenknO1xuY29uc3QgTEFaWV9MT0FERUQgPSAnYS1pbWFnZV9faW1hZ2UtLWxvYWRlZCc7XG5jb25zdCBERUJPVU5DRV9ERUxBWV9NUyA9IDMwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUltYWdlTGF6eSBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmxvYWRpbmcgPSBmYWxzZTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0aW5WaWV3KHRoaXMuZWxlbWVudCwgREVCT1VOQ0VfREVMQVlfTVMpLnRoZW4oKCkgPT4gdGhpcy5tYXliZUxvYWRJbWFnZSgpKTtcblx0fVxuXG5cdG1heWJlTG9hZEltYWdlKCkge1xuXHRcdGlmICghdGhpcy5sb2FkaW5nKXtcblx0XHRcdHRoaXMubG9hZGluZyA9IHRydWU7XG5cdFx0XHRsZXQgaW1nID0gdGhpcy5sb2FkRnVsbEltYWdlKCk7XG5cdFx0XHRpZiAoaW1nLmNvbXBsZXRlKSB7XG5cdFx0XHRcdHRoaXMucmVwbGFjZUltYWdlKCBpbWcgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGltZy5vbmxvYWQgPSAoKSA9PiB0aGlzLnJlcGxhY2VJbWFnZSggaW1nICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0bG9hZEZ1bGxJbWFnZSgpIHtcblx0XHRsZXQgaW1nID0gdGhpcy5lbGVtZW50LmNsb25lTm9kZSggdHJ1ZSApO1xuXHRcdGltZy5zcmNzZXQgPSBpbWcuZGF0YXNldC5zcmNzZXQgfHwgJyc7XG5cdFx0aW1nLnNpemVzID0gaW1nLmRhdGFzZXQuc2l6ZXMgfHwgJyc7XG5cdFx0aW1nLnJlbW92ZUF0dHJpYnV0ZSggJ2RhdGEtc3Jjc2V0JyApO1xuXHRcdGltZy5yZW1vdmVBdHRyaWJ1dGUoICdkYXRhLXNpemVkJyApO1xuXHRcdHJldHVybiBpbWc7XG5cdH1cblxuXHRyZXBsYWNlSW1hZ2UoIGltZyApIHtcblx0XHRpZiAodGhpcy5lbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCggaW1nLCB0aGlzLmVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHRpbWcuY2xhc3NMaXN0LmFkZCggTEFaWV9MT0FERUQgKTtcblx0XHRpbWcuY2xhc3NMaXN0LnJlbW92ZSggTEFaWV9TVEFURSApO1xuXG5cdFx0dGhpcy50cmlnZ2VyQWZ0ZXJSZXBsYWNlRXZlbnQoIGltZy5jbG9zZXN0KCBCQVNFX0NPTlRBSU5FUl9TRUxFQ1RPUiApICk7XG5cblx0XHR0aGlzLmRlc3Ryb3koKTtcblx0fVxuXG5cdHRyaWdnZXJBZnRlclJlcGxhY2VFdmVudChlbGVtKSB7XG5cdFx0Ly8gdXNlIHRoZSBvbGQgZmFzaGlvbmVkIHdheSwgY2F1c2Ugd2UgbmVlZCBpdCBpbiBJRVxuXHRcdGxldCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdGV2ZW50LmluaXRFdmVudCgnYWZ0ZXJSZXBsYWNlSW1hZ2UnLCB0cnVlLCB0cnVlKTtcblx0XHRlbGVtLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcbmltcG9ydCBpblZpZXcgZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9pbnZpZXcnO1xuaW1wb3J0IGFqYXggZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9hamF4JztcblxuY29uc3QgQkFSX1NFTEVDVE9SID0gJy5hLXByb2dyZXNzX19iYXInO1xuY29uc3QgVkFMVUVfU0VMRUNUT1IgPSAnLmEtcHJvZ3Jlc3NfX3ZhbHVlJztcbmNvbnN0IExFR0VORF9TRUxFQ1RPUiA9ICcuYS1wcm9ncmVzc19fbGVnZW5kJztcbmNvbnN0IExFR0VORF9WQUxVRV9TRUxFQ1RPUiA9ICcuYS1wcm9ncmVzc19fbGVnZW5kLXZhbHVlJztcblxuY29uc3QgTE9BRElOR19DTEFTUyA9ICdhLXByb2dyZXNzLS1sb2FkaW5nJztcblxuY29uc3QgREVCT1VOQ0VfREVMQVlfTVMgPSAzMDA7XG5jb25zdCBTVEVQUyA9IDIwMDtcbmNvbnN0IFNURVBfREVMQVkgPSAyNTsgLy8gbXNcblxuLy8gc3luYyB3aXRoIG0tZm9ybS5qc1xuY29uc3QgU1VCTUlTU0lPTl9OT1RJRklDQVRJT05fRVZFTlQgPSAnc3VwdF9mb3JtX3N1Ym1pc3Npb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUHJvZ3Jlc3MgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5maXJzdFJ1biA9IHRydWU7XG5cdFx0dGhpcy5iYXIgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEJBUl9TRUxFQ1RPUiApO1xuXG5cdFx0dGhpcy5saXN0ZW5Gb3JTdWJtaXNzaW9ucygpO1xuXG5cdFx0dGhpcy51cGRhdGVEYXRhKCkuZmluYWxseSggKCkgPT4ge1xuXHRcdFx0aW5WaWV3KCB0aGlzLmVsZW1lbnQsIERFQk9VTkNFX0RFTEFZX01TICkuXG5cdFx0XHRcdHRoZW4oICgpID0+IHRoaXMuc3RhcnRBbmltYXRpb24oKSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHVwZGF0ZURhdGEoKSB7XG5cdFx0aWYgKCEoICd1cmwnIGluIHRoaXMuYmFyLmRhdGFzZXQgKSkge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHJlc29sdmUoKSApO1xuXHRcdH1cblxuXHRcdGNvbnN0IHVybCA9IHRoaXMuYmFyLmRhdGFzZXQudXJsO1xuXHRcdHJldHVybiBhamF4KCB1cmwsICdHRVQnICkudGhlbiggKCByZXNwICkgPT4ge1xuXHRcdFx0aWYgKHJlc3AgaW5zdGFuY2VvZiBPYmplY3Rcblx0XHRcdFx0JiYgJ2N1cnJlbnQnIGluIHJlc3Bcblx0XHRcdFx0JiYgJ2dvYWwnIGluIHJlc3Bcblx0XHRcdFx0JiYgJ2xlZ2VuZCcgaW4gcmVzcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMuYmFyLnNldEF0dHJpYnV0ZSggJ2FyaWEtdmFsdWVub3cnLCByZXNwLmN1cnJlbnQgKTtcblx0XHRcdFx0dGhpcy5iYXIuc2V0QXR0cmlidXRlKCAnYXJpYS12YWx1ZW1heCcsIHJlc3AuZ29hbCApO1xuXHRcdFx0XHR0aGlzLmdldFNjb3BlZEVsZW1lbnQoIExFR0VORF9TRUxFQ1RPUiApLmlubmVySFRNTCA9IHJlc3AubGVnZW5kO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdHN0YXJ0QW5pbWF0aW9uKCkge1xuXHRcdHRoaXMudmFsdWUgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIFZBTFVFX1NFTEVDVE9SICk7XG5cdFx0dGhpcy5sZWdlbmRfdmFsdWUgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIExFR0VORF9WQUxVRV9TRUxFQ1RPUiApO1xuXG5cdFx0dGhpcy5taW4gPSB0aGlzLmJhci5nZXRBdHRyaWJ1dGUoICdhcmlhLXZhbHVlbWluJyApO1xuXHRcdHRoaXMubWF4ID0gdGhpcy5iYXIuZ2V0QXR0cmlidXRlKCAnYXJpYS12YWx1ZW1heCcgKTtcblx0XHR0aGlzLmN1cnJlbnQgPSB0aGlzLmJhci5nZXRBdHRyaWJ1dGUoICdhcmlhLXZhbHVlbm93JyApO1xuXG5cdFx0aWYgKHRoaXMuZmlyc3RSdW4pIHtcblx0XHRcdHRoaXMuc3RlcF9jb3VudCA9IDA7XG5cdFx0XHR0aGlzLnN0YXRlID0gMDtcblx0XHRcdHRoaXMuc3RhdGVfcGVyY2VudCA9IDA7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdW1PZlN0ZXBzID0gMSAvIDIgKiBTVEVQUyAqICggU1RFUFMgKyAxICk7XG5cdFx0dGhpcy5zcHJlYWQgPSB0aGlzLmN1cnJlbnQgLSB0aGlzLm1pbjtcblxuXHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCggdGhpcy5hbmltYXRlLmJpbmQoIHRoaXMgKSwgU1RFUF9ERUxBWSApO1xuXHR9XG5cblx0YWRkU3VibWlzc2lvbigpIHtcblx0XHR0aGlzLnVwZGF0ZURhdGEoKS50aGVuKCB0aGlzLnN0YXJ0QW5pbWF0aW9uLmJpbmQoIHRoaXMgKSApO1xuXHR9XG5cblx0YW5pbWF0ZSgpIHtcblx0XHRpZiAodGhpcy5maXJzdFJ1bikge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5lbGVtZW50LCBMT0FESU5HX0NMQVNTICk7XG5cdFx0XHR0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc3RlcF9jb3VudCA+IFNURVBTKSB7XG5cdFx0XHRjbGVhckludGVydmFsKCB0aGlzLnRpbWVyICk7XG5cblx0XHRcdC8vIHdlIG5lZWQgdGhpcyBleHRyYSBzdGVwIHRvIGNpcmN1bXZlbnQgZmxvYXQgY2FsY3VsYXRpb24gZXJyb3JzXG5cdFx0XHRjb25zdCBjdXJyZW50ID0gKCB0aGlzLnNwcmVhZCAvICggdGhpcy5tYXggLSB0aGlzLm1pbiApICk7XG5cdFx0XHR0aGlzLmJhci5zdHlsZS53aWR0aCA9IGN1cnJlbnQgKiAxMDAgKyAnJSc7XG5cdFx0XHR0aGlzLnNldExhYmVsVmFsdWUoIHRoaXMuY3VycmVudCApO1xuXG5cdFx0fVxuXHRcdGVsc2Uge1xuXG5cdFx0XHR0aGlzLnN0ZXBfY291bnQgKys7XG5cblx0XHRcdGNvbnN0IGVhc2luZyA9ICggU1RFUFMgLSB0aGlzLnN0ZXBfY291bnQgKSAvIHRoaXMuc3VtT2ZTdGVwcztcblx0XHRcdGNvbnN0IHN0ZXBfc2l6ZSA9IHRoaXMuc3ByZWFkICogZWFzaW5nO1xuXHRcdFx0Y29uc3Qgc3RlcF9wZXJjZW50ID0gc3RlcF9zaXplIC8gKCB0aGlzLm1heCAtIHRoaXMubWluICk7XG5cblx0XHRcdHRoaXMuc3RhdGUgKz0gc3RlcF9zaXplO1xuXHRcdFx0dGhpcy5zdGF0ZV9wZXJjZW50ICs9IHN0ZXBfcGVyY2VudDtcblxuXHRcdFx0dGhpcy5iYXIuc3R5bGUud2lkdGggPSB0aGlzLnN0YXRlX3BlcmNlbnQgKiAxMDAgKyAnJSc7XG5cdFx0XHR0aGlzLnNldExhYmVsVmFsdWUoIE1hdGgucm91bmQoIHRoaXMuc3RhdGUgKSApO1xuXHRcdH1cblx0fVxuXG5cdHNldExhYmVsVmFsdWUoIHZhbHVlICkge1xuXHRcdGlmICh0aGlzLmxlZ2VuZF92YWx1ZSkge1xuXHRcdFx0dGhpcy5sZWdlbmRfdmFsdWUuaW5uZXJUZXh0ID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy52YWx1ZS5pbm5lclRleHQgPSB2YWx1ZTtcblx0fVxuXG5cdGxpc3RlbkZvclN1Ym1pc3Npb25zKCkge1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFNVQk1JU1NJT05fTk9USUZJQ0FUSU9OX0VWRU5ULCBldmVudCA9PiB7XG5cdFx0XHRpZiAoISggJ2Zvcm0nIGluIHRoaXMuYmFyLmRhdGFzZXQgKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHByb2dyZXNzRm9ybUlkID0gcGFyc2VJbnQoIHRoaXMuYmFyLmRhdGFzZXQuZm9ybSApO1xuXHRcdFx0Y29uc3QgZXZlbnRGb3JtSWQgPSBwYXJzZUludCggZXZlbnQuZGV0YWlsLmZvcm1JZCApO1xuXG5cdFx0XHRpZiAocHJvZ3Jlc3NGb3JtSWQgPT09IGV2ZW50Rm9ybUlkKSB7XG5cdFx0XHRcdHRoaXMuYWRkU3VibWlzc2lvbigpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLmV2ZW50SGFuZGxlciApO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5ldmVudEhhbmRsZXIgKTtcblxuXHRcdHN1cGVyLmRlc3Ryb3koKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0IGZyb20gJy4vLi4vLi4vLi4vanMvdXRpbHMvY2xhc3NMaXN0JztcblxuY29uc3QgSUNPTl9TRUxFQ1RPUiA9ICcuYS1zZWFyY2hfX2ljb24nO1xuY29uc3QgRklFTERfU0VMRUNUT1IgPSAnLmEtc2VhcmNoX19maWVsZCc7XG5jb25zdCBTVUJNSVRfTEFCRUxfU0VMRUNUT1IgPSAnLmEtc2VhcmNoX19zdWJtaXQtbGFiZWwnO1xuXG5jb25zdCBDT1ZFUklOR19DTEFTUyA9ICdhLXNlYXJjaC0tY292ZXJpbmcnO1xuXG5jb25zdCBBQ1RJVkVfU1RBVEUgPSAnaXMtYWN0aXZlJztcbmNvbnN0IEhPVkVSX1NUQVRFID0gJ2hpZ2hsaWdodCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFTZWFyY2ggZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5pY29uID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KElDT05fU0VMRUNUT1IpO1xuXHRcdHRoaXMuZmllbGQgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoRklFTERfU0VMRUNUT1IpO1xuXG5cdFx0dGhpcy5vdmVySWNvbiA9IGZhbHNlO1xuXHRcdHRoaXMub3ZlckZpZWxkID0gZmFsc2U7XG5cdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcblxuXHRcdHRoaXMuY292ZXJpbmcgPSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENPVkVSSU5HX0NMQVNTKTtcblxuXHRcdGlmICh0aGlzLmNvdmVyaW5nKSB7XG5cdFx0XHR0aGlzLmluaXRpYWxXaWR0aCA9IHRoaXMuZWxlbWVudC5zY3JvbGxXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMub24oJ21vdXNlb3ZlcicsIElDT05fU0VMRUNUT1IsIChldmVudCkgPT4gdGhpcy5zZXRIb3ZlcihldmVudCkpO1xuXHRcdHRoaXMub24oJ21vdXNlb3ZlcicsIEZJRUxEX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuc2V0SG92ZXIoZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdtb3VzZW91dCcsIElDT05fU0VMRUNUT1IsIChldmVudCkgPT4gdGhpcy5zZXRIb3ZlcihldmVudCkpO1xuXHRcdHRoaXMub24oJ21vdXNlb3V0JywgRklFTERfU0VMRUNUT1IsIChldmVudCkgPT4gdGhpcy5zZXRIb3ZlcihldmVudCkpO1xuXHRcdHRoaXMub24oJ2NsaWNrJywgU1VCTUlUX0xBQkVMX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlR2xhc3NDbGljayhldmVudCkpO1xuXHRcdHRoaXMub24oJ2ZvY3VzJywgRklFTERfU0VMRUNUT1IsICgpID0+IHRoaXMuc2V0Rm9jdXModHJ1ZSkpO1xuXHRcdHRoaXMub24oJ2JsdXInLCBGSUVMRF9TRUxFQ1RPUiwgKCkgPT4gdGhpcy5zZXRGb2N1cyhmYWxzZSkpO1xuXHR9XG5cblx0c2V0SG92ZXIoZXZlbnQpIHtcblx0XHRsZXQgb3ZlclN0YXRlID0gJ21vdXNlb3ZlcicgPT09IGV2ZW50LnR5cGU7XG5cdFx0dGhpcy5zZXRPdmVyU3RhdGUoZXZlbnQudGFyZ2V0LCBvdmVyU3RhdGUpO1xuXG5cdFx0bGV0IGhvdmVyU3RhdGUgPSAoIXRoaXMuYWN0aXZlICYmICh0aGlzLm92ZXJJY29uIHx8IHRoaXMub3ZlckZpZWxkKSk7XG5cdFx0dGhpcy5zZXRIb3ZlclN0YXRlKGhvdmVyU3RhdGUpO1xuXHR9XG5cblx0c2V0SG92ZXJTdGF0ZShhY3RpdmUpIHtcblx0XHRpZiAoYWN0aXZlKSB7XG5cdFx0XHRpZiAoYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0KHRoaXMuaWNvbikpIHtcblx0XHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmljb24sIEhPVkVSX1NUQVRFKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5maWVsZCwgSE9WRVJfU1RBVEUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0KHRoaXMuaWNvbikpIHtcblx0XHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmljb24sIEhPVkVSX1NUQVRFKTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5maWVsZCwgSE9WRVJfU1RBVEUpO1xuXHRcdH1cblx0fVxuXG5cdGhhbmRsZUdsYXNzQ2xpY2soZXZlbnQpIHtcblx0XHRpZiAoIXRoaXMuYWN0aXZlKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5zZXRGb2N1cyh0cnVlKTtcblx0XHR9IGVsc2UgaWYgKCF0aGlzLmZpZWxkLnZhbHVlKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5zZXRGb2N1cyhmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0Rm9jdXMoYWN0aXZlKSB7XG5cdFx0aWYgKGFjdGl2ZSkge1xuXHRcdFx0dGhpcy5vcGVuKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHQvLyB3aXRob3V0IGRlbGF5IHdlIGNhbid0IGNsaWNrIHRoZSBpY29uXG5cdFx0XHRcdC8vIHRoaXMgYWxsb3dzIHVzIHNlbmQgdGhlIGZvcm0gYnkgY2xpY2tcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0fSwgMjAwKTtcblx0XHR9XG5cdH1cblxuXHRvcGVuKCkge1xuXHRcdHRoaXMuYWN0aXZlID0gdHJ1ZTtcblx0XHR0aGlzLmZpZWxkLmZvY3VzKCk7XG5cdFx0dGhpcy5zZXRIb3ZlclN0YXRlKGZhbHNlKTtcblx0XHR0aGlzLmFkZENsYXNzKHRoaXMuZmllbGQsIEFDVElWRV9TVEFURSk7XG5cblx0XHQvLyBleHBhbmQgdGhlIHdob2xlIGVsZW1lbnQgdG8gbWFrZSBzdXJlIHdlIGhpZGUgYWxsIGVsZW1lbnRzIG9uIHRoZSByaWdodFxuXHRcdGlmICh0aGlzLmNvdmVyaW5nKSB7XG5cdFx0XHRsZXQgbGVmdCA9IHRoaXMuZWxlbWVudC5vZmZzZXRMZWZ0O1xuXHRcdFx0bGV0IHZ3ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcblx0XHRcdHRoaXMuZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9ICh2dyAtIGxlZnQpICsgJ3B4Jztcblx0XHRcdHRoaXMuYWRkQ2xhc3MoQUNUSVZFX1NUQVRFKTtcblx0XHR9XG5cdH1cblxuXHRjbG9zZSgpIHtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuZmllbGQsIEFDVElWRV9TVEFURSk7XG5cdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcblxuXHRcdC8vIHNocmluayB0aGUgYmFja2dyb3VuZFxuXHRcdGlmICh0aGlzLmNvdmVyaW5nKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSBudWxsO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyhBQ1RJVkVfU1RBVEUpO1xuXHRcdH1cblx0fVxuXG5cdHNldE92ZXJTdGF0ZSh0YXJnZXQsIHN0YXRlKSB7XG5cdFx0aWYgKCd0ZXh0JyA9PT0gdGFyZ2V0LnR5cGUpIHtcblx0XHRcdHRoaXMub3ZlckZpZWxkID0gc3RhdGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub3Zlckljb24gPSBzdGF0ZTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5jb25zdCBNRVNTQUdFX1NFTEVDVE9SID0gJy5hLXNvY2lhbC1pY29uX19jb3BpZWQnO1xuY29uc3QgTUVTU0FHRV9WSVNJQkxFX0NMQVNTID0gJ2Etc29jaWFsLWljb25fX2NvcGllZC0tdmlzaWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1TaGFyZUJsb2NrIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdGlmICh0aGlzLmlzTGlua0J1dHRvbigpKSB7XG5cdFx0XHR0aGlzLm9uKCAnY2xpY2snLCAoKSA9PiB0aGlzLmNvcHlMaW5rKCkgKTtcblx0XHR9XG5cdH1cblxuXHRpc0xpbmtCdXR0b24oKSB7XG5cdFx0cmV0dXJuICdsaW5rJyBpbiB0aGlzLmVsZW1lbnQuZGF0YXNldDtcblx0fVxuXG5cdGNvcHlMaW5rKCkge1xuXHRcdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KCB0aGlzLmVsZW1lbnQuZGF0YXNldC5saW5rICkuXG5cdFx0XHR0aGVuKCB0aGlzLnNob3dNZXNzYWdlLmJpbmQoIHRoaXMgKSApO1xuXHR9XG5cblx0c2hvd01lc3NhZ2UoKSB7XG5cdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggTUVTU0FHRV9TRUxFQ1RPUiApO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIG1lc3NhZ2UsIE1FU1NBR0VfVklTSUJMRV9DTEFTUyApO1xuXHRcdHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBtZXNzYWdlLCBNRVNTQUdFX1ZJU0lCTEVfQ0xBU1MgKTtcblx0XHR9LCAxMDAgKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmNvbnN0IElOUFVUX1NFTEVDVE9SID0gJy5hLWlucHV0X19maWVsZCc7XG5jb25zdCBMQUJFTF9TRUxFQ1RPUiA9ICcuYS1pbnB1dF9fbGFiZWwnO1xuY29uc3QgRU1QVFlfU1RBVEUgPSAnaXMtZW1wdHknO1xuY29uc3QgVE9VQ0hFRF9TVEFURSA9ICdpcy10b3VjaGVkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUlucHV0IGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuaW5wdXQgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIElOUFVUX1NFTEVDVE9SICk7XG5cdFx0dGhpcy5sYWJlbCA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggTEFCRUxfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMubWFuYWdlRW1wdHlTdGF0ZSgpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAna2V5dXAnLCBJTlBVVF9TRUxFQ1RPUiwgKCkgPT4gdGhpcy5zZXRTdGF0ZUNsYXNzZXMoKSApO1xuXHRcdHRoaXMub24oICdibHVyJywgSU5QVVRfU0VMRUNUT1IsICgpID0+IHRoaXMubWFuYWdlRW1wdHlTdGF0ZSgpICk7XG5cdFx0Ly8gZG9uJ3QgdXNlIHRoZSBmb2N1cyBldmVudCwgc2luY2UgaXQgbWFrZXMgaW5wdXQgZmllbGRzIHVudXNhYmxlIG9uIEZGIG1vYmlsZSBmb3IgQW5kcm9pZFxuXHR9XG5cblx0c2V0U3RhdGVDbGFzc2VzKCkge1xuXHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMuaW5wdXQsIFRPVUNIRURfU1RBVEUgKTtcblx0XHR0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKTtcblx0fVxuXG5cdG1hbmFnZUVtcHR5U3RhdGUoKSB7XG5cdFx0aWYgKHRoaXMuaXNFbXB0eSgpKSB7XG5cdFx0XHR0aGlzLnNldEVtcHR5U3RhdGUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5yZW1vdmVFbXB0eVN0YXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0c2V0RW1wdHlTdGF0ZSgpIHtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmxhYmVsLCBFTVBUWV9TVEFURSApO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMuaW5wdXQsIEVNUFRZX1NUQVRFICk7XG5cdH1cblxuXHRyZW1vdmVFbXB0eVN0YXRlKCkge1xuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMubGFiZWwsIEVNUFRZX1NUQVRFICk7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5pbnB1dCwgRU1QVFlfU1RBVEUgKTtcblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cdFx0cmV0dXJuICEgdGhpcy5pbnB1dC52YWx1ZTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmNvbnN0IElOUFVUX1NFTEVDVE9SID0gJy5hLXNlbGVjdF9fZmllbGQnO1xuY29uc3QgQkFDS0dST1VORF9TRUxFQ1RPUiA9ICcuYS1zZWxlY3RfX2JhY2tncm91bmQnO1xuY29uc3QgTEFCRUxfU0VMRUNUT1IgPSAnLmEtc2VsZWN0X19sYWJlbCc7XG5cbmNvbnN0IEZPQ1VTX1dJVEhJTl9TVEFURSA9ICdoYXMtZm9jdXMtd2l0aGluJztcbmNvbnN0IEVNUFRZX1NUQVRFID0gJ2lzLWVtcHR5JztcbmNvbnN0IFRPVUNIRURfU1RBVEUgPSAnaXMtdG91Y2hlZCc7XG5jb25zdCBWQUxJRF9TVEFURSA9ICdpcy12YWxpZCc7XG5jb25zdCBJTlZBTElEX1NUQVRFID0gJ2lzLWludmFsaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBU2VsZWN0IGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuc2VsZWN0ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBJTlBVVF9TRUxFQ1RPUiApO1xuXHRcdHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggQkFDS0dST1VORF9TRUxFQ1RPUiApO1xuXHRcdHRoaXMubGFiZWwgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIExBQkVMX1NFTEVDVE9SICk7XG5cblx0XHR0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2ZvY3VzJywgSU5QVVRfU0VMRUNUT1IsICgpID0+IHRoaXMub25TZXRGb2N1cygpICk7XG5cdFx0dGhpcy5vbiggJ2JsdXInLCBJTlBVVF9TRUxFQ1RPUiwgKCkgPT4gdGhpcy5vblJlbW92ZUZvY3VzKCkgKTtcblx0XHR0aGlzLm9uKCAnY2hhbmdlJywgSU5QVVRfU0VMRUNUT1IsICgpID0+IHRoaXMub25DaGFuZ2UoKSwgZmFsc2UsIGZhbHNlICk7XG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgTEFCRUxfU0VMRUNUT1IsICgpID0+IHtcblx0XHRcdHRoaXMuc2VsZWN0LmZvY3VzKCk7XG5cdFx0fSApO1xuXHR9XG5cblx0b25DaGFuZ2UoKSB7XG5cdFx0dGhpcy5tYW5hZ2VFbXB0eVN0YXRlKCk7XG5cdFx0dGhpcy5zZXRUb3VjaGVkU3RhdGUoKTtcblx0XHR0aGlzLm1hbmFnZVZhbGlkU3RhdGUoKTtcblx0fVxuXG5cdG9uU2V0Rm9jdXMoKSB7XG5cdFx0dGhpcy5zZXRUb3VjaGVkU3RhdGUoKTtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmJhY2tncm91bmQsIEZPQ1VTX1dJVEhJTl9TVEFURSApO1xuXHRcdHRoaXMubWFuYWdlRW1wdHlTdGF0ZSgpO1xuXHR9XG5cblx0b25SZW1vdmVGb2N1cygpIHtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLmJhY2tncm91bmQsIEZPQ1VTX1dJVEhJTl9TVEFURSApO1xuXHRcdHRoaXMubWFuYWdlRW1wdHlTdGF0ZSgpO1xuXHRcdHRoaXMubWFuYWdlVmFsaWRTdGF0ZSgpO1xuXHR9XG5cblx0bWFuYWdlRW1wdHlTdGF0ZSgpIHtcblx0XHRpZiAodGhpcy5pc0VtcHR5KCkpIHtcblx0XHRcdHRoaXMuc2V0RW1wdHlTdGF0ZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlbW92ZUVtcHR5U3RhdGUoKTtcblx0XHR9XG5cdH1cblxuXHRpc0VtcHR5KCkge1xuXHRcdHJldHVybiAhIHRoaXMuc2VsZWN0LnZhbHVlO1xuXHR9XG5cblx0c2V0RW1wdHlTdGF0ZSgpIHtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmxhYmVsLCBFTVBUWV9TVEFURSApO1xuXHR9XG5cblx0cmVtb3ZlRW1wdHlTdGF0ZSgpIHtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLmxhYmVsLCBFTVBUWV9TVEFURSApO1xuXHR9XG5cblx0c2V0VG91Y2hlZFN0YXRlKCkge1xuXHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMuYmFja2dyb3VuZCwgVE9VQ0hFRF9TVEFURSApO1xuXHR9XG5cblx0bWFuYWdlVmFsaWRTdGF0ZSgpIHtcblx0XHRpZiAoISB0aGlzLnNlbGVjdC5oYXNBdHRyaWJ1dGUoICdyZXF1aXJlZCcgKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghIHRoaXMuaXNFbXB0eSgpKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmJhY2tncm91bmQsIFZBTElEX1NUQVRFICk7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLmJhY2tncm91bmQsIElOVkFMSURfU1RBVEUgKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zZWxlY3QuaGFzQXR0cmlidXRlKCAncmVxdWlyZWQnICkgJiYgdGhpcy5pc0VtcHR5KCkpIHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMuYmFja2dyb3VuZCwgVkFMSURfU1RBVEUgKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMuYmFja2dyb3VuZCwgSU5WQUxJRF9TVEFURSApO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgYWpheCBmcm9tICcuLi8uLi8uLi9qcy9zZXJ2aWNlL2FqYXgnO1xuXG5jb25zdCBTVUJNSVRfQlVUVE9OX1NFTEVDVE9SID0gJ1tkYXRhLWZvcm0tc3VibWl0XSc7XG5jb25zdCBTVUJNSVRfV1JBUFBFUl9TRUxFQ1RPUiA9ICcubS1mb3JtX19zdWJtaXQtd3JhcHBlcic7XG5jb25zdCBTVUNDRVNTX01FU1NBR0VfU0VMRUNUT1IgPSAnLm0tZm9ybV9fbWVzc2FnZS0tc3VjY2Vzcyc7XG5jb25zdCBFUlJPUl9NRVNTQUdFX1NFTEVDVE9SID0gJy5tLWZvcm1fX21lc3NhZ2UtLWZhaWx1cmUnO1xuY29uc3QgSU5WQUxJRF9NRVNTQUdFX1NFTEVDVE9SID0gJy5tLWZvcm1fX21lc3NhZ2UtLWludmFsaWQnO1xuY29uc3QgU0VSVkVSX0ZFRURCQUNLX01FU1NBR0VfU0VMRUNUT1IgPSAnLm0tZm9ybV9fbWVzc2FnZS1lcnJvcic7XG5jb25zdCBGT1JNX1NFTEVDVE9SID0gJy5tLWZvcm0nO1xuXG5jb25zdCBISURERU5fU1RBVEUgPSAnaXMtaGlkZGVuJztcbmNvbnN0IFNIT1dOX1NUQVRFID0gJ2lzLXNob3duJztcbmNvbnN0IElOVkFMSURfU1RBVEUgPSAnaXMtaW52YWxpZCc7XG5cbmNvbnN0IExBU1RfU1VCTUlTU0lPTiA9ICdwcmVkJztcblxuLy8gc3luYyB3aXRoIGEtcHJvZ3Jlc3MuanNcbmNvbnN0IFNVQk1JU1NJT05fTk9USUZJQ0FUSU9OX0VWRU5UID0gJ3N1cHRfZm9ybV9zdWJtaXNzaW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTUZvcm0gZXh0ZW5kcyBCYXNlVmlldyB7XG5cdHN0YXRpYyBnZXRVcmxQYXJhbSggcGFyYW0sIGRlZmF1bHRWYWx1ZSApIHtcblx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKCB3aW5kb3cubG9jYXRpb24uaHJlZiApO1xuXHRcdGNvbnN0IHZhbHVlID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoIHBhcmFtICk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmF1bHRWYWx1ZTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0LyogQG5vaW5zcGVjdGlvbiBKU0NoZWNrRnVuY3Rpb25TaWduYXR1cmVzSW5zcGVjdGlvbiAqL1xuXHRcdHRoaXMub24oICdzdWJtaXQnLCBlID0+IHRoaXMuc3VibWl0KCBlICkgKTtcblx0fVxuXG5cdHN0YXRpYyBidWlsZFJlZGlyZWN0VXJsKCB1cmwsIGZvcm1JZCApIHtcblx0XHR1cmwgPSBuZXcgVVJMKCB1cmwgKTtcblx0XHR1cmwuc2VhcmNoUGFyYW1zLnNldCggTEFTVF9TVUJNSVNTSU9OLCBmb3JtSWQgKTtcblx0XHRyZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG5cdH1cblxuXHRoYW5kbGVFcnJvciggcmVzcCApIHtcblx0XHRpZiAocmVzcCBpbnN0YW5jZW9mIE9iamVjdCAmJiAnZGF0YScgaW4gcmVzcCkge1xuXHRcdFx0aWYgKCdub25jZScgaW4gcmVzcC5kYXRhKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5kYXRhc2V0Lm5vbmNlID0gcmVzcC5kYXRhLm5vbmNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJ2dlbmVyYWwnIGluIHJlc3AuZGF0YSkge1xuXHRcdFx0XHR0aGlzLnNob3dFcnJvck1lc3NhZ2UoIHJlc3AuZGF0YS5nZW5lcmFsICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICgndmFsaWRhdGlvbicgaW4gcmVzcC5kYXRhKSB7XG5cdFx0XHRcdHRoaXMuc2hvd0ludmFsaWRNZXNzYWdlKCByZXNwLmRhdGEudmFsaWRhdGlvbiApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2hvd0Vycm9yTWVzc2FnZSggJycgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLnNob3dFcnJvck1lc3NhZ2UoICcnICk7XG5cdFx0fVxuXHR9XG5cblx0Y2xlYXJTZW5kaW5nU3RhdGUoKSB7XG5cdFx0Y2xlYXJJbnRlcnZhbCggdGhpcy5zZW5kaW5nVGltZXIgKTtcblx0XHR0aGlzLnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuc3VibWl0dGVkID0gZmFsc2U7XG5cdFx0dGhpcy5zdWJtaXRCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5vcmlnU3VibWl0TGJsO1xuXHR9XG5cblx0c2hvd0ludmFsaWRNZXNzYWdlKCBtZXNzYWdlcyApIHtcblx0XHRsZXQgaW52YWxpZE1lc3NhZ2UgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIElOVkFMSURfTUVTU0FHRV9TRUxFQ1RPUiApO1xuXHRcdGxldCBzZXJ2ZXJNZXNzYWdlID0gaW52YWxpZE1lc3NhZ2UucXVlcnlTZWxlY3Rvcihcblx0XHRcdFNFUlZFUl9GRUVEQkFDS19NRVNTQUdFX1NFTEVDVE9SICk7XG5cdFx0bGV0IG1lc3NhZ2UgPSAnJztcblxuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKCBtZXNzYWdlcyApKSB7XG5cdFx0XHRsZXQgZWwgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoICdbbmFtZT0nICsga2V5ICsgJ10nICk7XG5cdFx0XHR0aGlzLmFkZENsYXNzKCBlbCwgSU5WQUxJRF9TVEFURSApO1xuXHRcdFx0bWVzc2FnZSArPSBgPGxpPiR7IG1lc3NhZ2VzWyBrZXkgXSB9PC9saT5gO1xuXHRcdH1cblxuXHRcdHNlcnZlck1lc3NhZ2UuaW5uZXJIVE1MID0gYDx1bD4keyBtZXNzYWdlIH08L3VsPmA7XG5cdFx0dGhpcy5hZGRDbGFzcyggaW52YWxpZE1lc3NhZ2UsIFNIT1dOX1NUQVRFICk7XG5cdFx0aW52YWxpZE1lc3NhZ2Uuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAnZmFsc2UnICk7XG5cdH1cblxuXHRzaG93RXJyb3JNZXNzYWdlKCBtZXNzYWdlICkge1xuXHRcdGxldCBlcnJvck1lc3NhZ2UgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEVSUk9SX01FU1NBR0VfU0VMRUNUT1IgKTtcblx0XHRsZXQgc2VydmVyTWVzc2FnZSA9IGVycm9yTWVzc2FnZS5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0U0VSVkVSX0ZFRURCQUNLX01FU1NBR0VfU0VMRUNUT1IgKTtcblxuXHRcdHNlcnZlck1lc3NhZ2UuaW5uZXJIVE1MID0gYDx1bD48bGk+JHsgbWVzc2FnZSB9PC9saT48L3VsPmA7XG5cdFx0dGhpcy5hZGRDbGFzcyggZXJyb3JNZXNzYWdlLCBTSE9XTl9TVEFURSApO1xuXHRcdGVycm9yTWVzc2FnZS5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICdmYWxzZScgKTtcblx0fVxuXG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIFNVQk1JVF9CVVRUT05fU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMuc3VibWl0dGVkID0gZmFsc2U7XG5cdFx0dGhpcy5zZW5kaW5nVGltZXIgPSBudWxsO1xuXHRcdHRoaXMub3JpZ1N1Ym1pdExibCA9IHRoaXMuc3VibWl0QnV0dG9uLmlubmVySFRNTDtcblx0XHR0aGlzLnByZWRlY2Vzc29ySWQgPSBNRm9ybS5nZXRVcmxQYXJhbSggTEFTVF9TVUJNSVNTSU9OLCAtIDEgKTtcblx0fVxuXG5cdHNob3dTZW5kaW5nKCkge1xuXHRcdGxldCBsYmwgPSB0aGlzLmVsZW1lbnQuZGF0YXNldC5zZW5kaW5nTGJsO1xuXHRcdGxldCBjb3VudGVyID0gMDtcblx0XHR0aGlzLnNlbmRpbmdUaW1lciA9IHNldEludGVydmFsKCAoKSA9PiB7XG5cdFx0XHRjb3VudGVyICsrO1xuXHRcdFx0Y291bnRlciA9IGNvdW50ZXIgPD0gMyA/IGNvdW50ZXIgOiAwO1xuXG5cdFx0XHRsZXQgbGJsQWRkID0gJyc7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50ZXI7IGkgKyspIHtcblx0XHRcdFx0bGJsQWRkICs9ICcuJztcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zdWJtaXRCdXR0b24uaW5uZXJIVE1MID0gbGJsICsgJzxzcGFuIGNsYXNzPVwibS1mb3JtX19zZW5kaW5nXCI+JyArXG5cdFx0XHRcdGxibEFkZCArICc8L3NwYW4+Jztcblx0XHR9LCAzMDAgKTtcblx0fVxuXG5cdHN1Ym1pdCggZXZlbnQgKSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIGhpZGUgZXJyb3IgbWVzc2FnZXNcblx0XHRsZXQgZXJyb3JNZXNzYWdlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBFUlJPUl9NRVNTQUdFX1NFTEVDVE9SICk7XG5cdFx0bGV0IGludmFsaWRNZXNzYWdlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBJTlZBTElEX01FU1NBR0VfU0VMRUNUT1IgKTtcblx0XHRlcnJvck1lc3NhZ2Uuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScgKTtcblx0XHRpbnZhbGlkTWVzc2FnZS5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICd0cnVlJyApO1xuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIGVycm9yTWVzc2FnZSwgU0hPV05fU1RBVEUgKTtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCBpbnZhbGlkTWVzc2FnZSwgU0hPV05fU1RBVEUgKTtcblxuXHRcdC8vIHByZXZlbnQgZG91YmxlIHN1Ym1pdFxuXHRcdGlmICh0aGlzLnN1Ym1pdHRlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cdFx0dGhpcy5zdWJtaXR0ZWQgPSB0cnVlO1xuXG5cdFx0Ly8gbWFyayBhcyBzZW5kaW5nXG5cdFx0dGhpcy5zaG93U2VuZGluZygpO1xuXG5cdFx0Ly8gdGhlIGZvcm0gZGF0YVxuXHRcdGNvbnN0IGRhdGEgPSB0aGlzLmdldEZvcm1EYXRhKCk7XG5cdFx0Y29uc3QgdXJsID0gdGhpcy5lbGVtZW50LmFjdGlvbjtcblxuXHRcdC8vIGdldCBhIG5vbmNlLCB0aGVuIHN1Ym1pdCB0aGUgZm9ybVxuXHRcdHRoaXMuZ2V0Tm9uY2UoKS5cblx0XHRcdHRoZW4oIG5vbmNlID0+IGRhdGEuYXBwZW5kKCAnbm9uY2UnLCBub25jZSApICkuXG5cdFx0XHR0aGVuKCAoKSA9PiB0aGlzLnNlbmRGb3JtKCB1cmwsIGRhdGEgKSApLlxuXHRcdFx0dGhlbiggcmVzcCA9PiB0aGlzLnNob3dTdWNjZXNzKCByZXNwICkgKS5cblx0XHRcdHRoZW4oICgpID0+IHRoaXMuc2VuZFN1Ym1pc3Npb25Ob3RpZmljYXRpb24oKSApLlxuXHRcdFx0Y2F0Y2goIHJlc3AgPT4gdGhpcy5oYW5kbGVFcnJvciggcmVzcCApICkuXG5cdFx0XHRmaW5hbGx5KCB0aGlzLmNsZWFyU2VuZGluZ1N0YXRlLmJpbmQoIHRoaXMgKSApO1xuXHR9XG5cblx0c2VuZEZvcm0oIHVybCwgZGF0YSApIHtcblx0XHRyZXR1cm4gYWpheCggdXJsLCAnUE9TVCcsIGRhdGEgKS50aGVuKCAoIHJlc3AgKSA9PiB7XG5cdFx0XHRpZiAocmVzcCBpbnN0YW5jZW9mIE9iamVjdFxuXHRcdFx0XHQmJiAnc3VjY2VzcycgaW4gcmVzcFxuXHRcdFx0XHQmJiB0cnVlID09PSByZXNwLnN1Y2Nlc3MpIHtcblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSggcmVzcC5kYXRhICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KCByZXNwICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0Z2V0Rm9ybURhdGEoKSB7XG5cdFx0bGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoIHRoaXMuZWxlbWVudCApO1xuXG5cdFx0LyoqXG5cdFx0ICogYXBwZW5kIHRoZSBmb2xsb3dpbmcgZGF0YSBpbiBKUywgc28gd2UgaGF2ZSBhIGZpcnN0IHNwYW0gYmFycmllclxuXHRcdCAqL1xuXHRcdC8vIGFkZCB3b3JkcHJlc3MgYWN0aW9uXG5cdFx0ZGF0YS5hcHBlbmQoICdhY3Rpb24nLCAnc3VwdF9mb3JtX3N1Ym1pdCcgKTtcblxuXHRcdC8vIGFkZCBmb3JtIGlkXG5cdFx0ZGF0YS5hcHBlbmQoICdmb3JtX2lkJywgdGhpcy5lbGVtZW50LmRhdGFzZXQuZm9ybUlkICk7XG5cblx0XHQvLyBhZGQgYWN0aW9uIGlkIChlbmdhZ2VtZW50IGZ1bm5lbCBwbHVnaW4pXG5cdFx0aWYgKHRoaXMuZWxlbWVudC5kYXRhc2V0LmFjdGlvbklkKSB7XG5cdFx0XHRkYXRhLmFwcGVuZCggJ2FjdGlvbl9pZCcsIHRoaXMuZWxlbWVudC5kYXRhc2V0LmFjdGlvbklkICk7XG5cdFx0fVxuXG5cdFx0Ly8gYWRkIGNvbmZpZyBpZCAoZW5nYWdlbWVudCBmdW5uZWwgcGx1Z2luKVxuXHRcdGlmICh0aGlzLmVsZW1lbnQuZGF0YXNldC5jb25maWdJZCkge1xuXHRcdFx0ZGF0YS5hcHBlbmQoICdjb25maWdfaWQnLCB0aGlzLmVsZW1lbnQuZGF0YXNldC5jb25maWdJZCApO1xuXHRcdH1cblxuXHRcdC8vIGFkZCB0aGUgaWQgb2YgdGhlIGxhc3QgZm9ybVxuXHRcdGRhdGEuYXBwZW5kKCAncHJlZGVjZXNzb3JfaWQnLCB0aGlzLnByZWRlY2Vzc29ySWQgKTtcblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0c2hvd1N1Y2Nlc3MoIGRhdGEgKSB7XG5cdFx0aWYgKC0gMSA9PT0gZGF0YS5uZXh0X2FjdGlvbl9pZCB8fCAhZGF0YS5odG1sKSB7XG5cdFx0XHRpZiAoZGF0YS5yZWRpcmVjdCAmJiAtIDEgPT09IGRhdGEubmV4dF9hY3Rpb25faWQpIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBNRm9ybS5idWlsZFJlZGlyZWN0VXJsKFxuXHRcdFx0XHRcdGRhdGEucmVkaXJlY3QsXG5cdFx0XHRcdFx0ZGF0YS5wcmVkZWNlc3Nvcl9pZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHRoaXMucHJlZGVjZXNzb3JJZCA9IGRhdGEucHJlZGVjZXNzb3JfaWQ7XG5cdFx0XHRcdGxldCBzdWJtaXRXcmFwcGVyID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBTVUJNSVRfV1JBUFBFUl9TRUxFQ1RPUiApO1xuXHRcdFx0XHRsZXQgc3VjY2Vzc01lc3NhZ2UgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIFNVQ0NFU1NfTUVTU0FHRV9TRUxFQ1RPUiApO1xuXHRcdFx0XHRzdWJtaXRXcmFwcGVyLnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ3RydWUnICk7XG5cdFx0XHRcdHN1Y2Nlc3NNZXNzYWdlLnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyApO1xuXHRcdFx0XHR0aGlzLmFkZENsYXNzKCBzdWJtaXRXcmFwcGVyLCBISURERU5fU1RBVEUgKTtcblx0XHRcdFx0dGhpcy5hZGRDbGFzcyggc3VjY2Vzc01lc3NhZ2UsIFNIT1dOX1NUQVRFICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bGV0IHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG5cdFx0XHRwYXJlbnQuaW5uZXJIVE1MID0gZGF0YS5odG1sO1xuXG5cdFx0XHRsZXQgZm9ybSA9IG5ldyBNRm9ybSggcGFyZW50LnF1ZXJ5U2VsZWN0b3IoIEZPUk1fU0VMRUNUT1IgKSApO1xuXHRcdFx0Zm9ybS5iaW5kKCk7XG5cblx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdH1cblx0fVxuXG5cdGdldE5vbmNlKCkge1xuXHRcdHJldHVybiBhamF4KCB0aGlzLmVsZW1lbnQuZGF0YXNldC5ub25jZSwgJ0dFVCcgKTtcblx0fVxuXG5cdHNlbmRTdWJtaXNzaW9uTm90aWZpY2F0aW9uKCkge1xuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBDdXN0b21FdmVudCggU1VCTUlTU0lPTl9OT1RJRklDQVRJT05fRVZFTlQsIHtcblx0XHRcdGRldGFpbDogeyBmb3JtSWQ6IHRoaXMuZWxlbWVudC5kYXRhc2V0LmZvcm1JZCB9LFxuXHRcdH0gKTtcblxuXHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoIG5vdGlmaWNhdGlvbiApO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnLi4vLi4vLi4vanMvYmFzZS12aWV3JztcbmltcG9ydCBicm93c2VyU3VwcG9ydHNDbGFzc0xpc3QgZnJvbSAnLi4vLi4vLi4vanMvdXRpbHMvY2xhc3NMaXN0JztcblxuY29uc3QgU0VMRUNUX1NFTEVDVE9SID0gJyNwYXJ0eS1zZWxlY3Rvcic7XG5jb25zdCBESUFMT0dfV1JBUFBFUl9TRUxFQ1RPUiA9ICcubS1tYXBfX2RpYWxvZyc7XG5jb25zdCBNQVBfU0VMRUNUT1IgPSAnLm0tbWFwX19tYXAnO1xuY29uc3QgTUFQX1NFQ1RJT05fU0VMRUNUT1IgPSBNQVBfU0VMRUNUT1IgKyAnIC5tYXAtaXRlbSc7XG5jb25zdCBESUFMT0dfQ0xPU0VfU0VMRUNUT1IgPSAnLmEtc2ltcGxlLWRpYWxvZ19fY2xvc2UnO1xuY29uc3QgTU9EQUxfU0VMRUNUT1IgPSAnLm0tbWFwX19tb2RhbCc7XG5cbmNvbnN0IERJQUxPR19JRF9QUkVGSVggPSAnYS1zaW1wbGUtZGlhbG9nLS0nO1xuXG5jb25zdCBPUEVOX1NUQVRFID0gJ2lzLW9wZW4nO1xuY29uc3QgQUxJR05fTEVGVF9TVEFURSA9ICdwdWxsLWxlZnQnO1xuY29uc3QgQUNUSVZFX1NUQVRFID0gJ2lzLWFjdGl2ZSc7XG5cbi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcImVycm9yXCJdIH1dICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNTWFwIGV4dGVuZHMgQmFzZVZpZXcge1xuXG5cdGluaXRpYWxpemUoKSB7XG5cdFx0c3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG5cdFx0dGhpcy5zZWxlY3QgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoU0VMRUNUX1NFTEVDVE9SKTtcblx0XHR0aGlzLm1hcCA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChNQVBfU0VMRUNUT1IpO1xuXHRcdHRoaXMubW9kYWwgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoTU9EQUxfU0VMRUNUT1IpO1xuXG5cdFx0dGhpcy5kaWFsb2cgPSBudWxsO1xuXHRcdHRoaXMubWFwSXRlbSA9IG51bGw7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMub24oJ2NoYW5nZScsIFNFTEVDVF9TRUxFQ1RPUiwgKCkgPT4gdGhpcy5zZWxlY3RIYW5kbGVyKCksIGZhbHNlLCBmYWxzZSk7XG5cdFx0dGhpcy5vbignY2xpY2snLCBNQVBfU0VDVElPTl9TRUxFQ1RPUiwgKGV2ZW50KSA9PiB0aGlzLm1hcENsaWNrSGFuZGxlcihldmVudCkpO1xuXHRcdHRoaXMub24oJ2NsaWNrJywgRElBTE9HX0NMT1NFX1NFTEVDVE9SLCAoKSA9PiB0aGlzLmNsb3NlQ2xpY2tIYW5kbGVyKCkpO1xuXHRcdHRoaXMub24oJ2NsaWNrJywgTU9EQUxfU0VMRUNUT1IsICgpID0+IHRoaXMuY2xvc2VDbGlja0hhbmRsZXIoKSk7XG5cdH1cblxuXHRjbG9zZUNsaWNrSGFuZGxlcigpIHtcblx0XHR0aGlzLmhpZGVEaWFsb2coKTtcblx0XHR0aGlzLnVuaGlnaGxpZ2h0Q2xpY2tlZE1hcEl0ZW0oKTtcblx0fVxuXG5cdG1hcENsaWNrSGFuZGxlcihldmVudCkge1xuXHRcdHRoaXMuc2VsZWN0LnZhbHVlID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQuaWQ7XG5cdFx0dGhpcy5zZWxlY3QuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcblx0XHR0aGlzLnNldFBvc2l0aW9uKGV2ZW50LnBhZ2VYKTtcblx0fVxuXG5cdHNlbGVjdEhhbmRsZXIoKSB7XG5cdFx0dGhpcy5oaWRlRGlhbG9nKCk7XG5cdFx0dGhpcy51bmhpZ2hsaWdodENsaWNrZWRNYXBJdGVtKCk7XG5cblx0XHRpZiAoIXRoaXMuc2VsZWN0LnZhbHVlKSB7XG5cdFx0XHR0aGlzLmRpYWxvZyA9IG51bGw7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5zaG93RGlhbG9nKCk7XG5cdFx0dGhpcy5oaWdobGlnaHRDbGlja2VkTWFwSXRlbSgpO1xuXHR9XG5cblx0c2V0TWFwSXRlbSgpIHtcblx0XHRsZXQgc2VsZWN0b3IgPSAnIycgKyB0aGlzLnNlbGVjdC52YWx1ZTtcblx0XHRsZXQgbWFwSXRlbSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChNQVBfU0VMRUNUT1IpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG5cdFx0aWYgKCFtYXBJdGVtKSB7XG5cdFx0XHR0aGlzLm1hcEl0ZW0gPSBudWxsO1xuXHRcdFx0Y29uc29sZS5lcnJvcihgTk9UIEZPVU5EOiBUaGVyZSB3YXMgbm8gbWFwIGl0ZW0gd2l0aCB0aGUgc2VsZWN0b3IgJyR7c2VsZWN0b3J9Jy5gKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLm1hcEl0ZW0gPSBtYXBJdGVtO1xuXHR9XG5cblx0dW5oaWdobGlnaHRDbGlja2VkTWFwSXRlbSgpIHtcblx0XHQvLyBjaGVjayBmb3IgY2xhc3MgbGlzdCBhcyB3ZWxsIHRvIGVuc3VyZSB0aGF0IGJyb3dzZXJzLFxuXHRcdC8vIHdoaWNoIGRvbid0IHN1cHBvcnQgdGhlIGNsYXNzTGlzdCBwcm9wZXJ0eSBvbiBzdmcgZWxlbWVudHMsXG5cdFx0Ly8gZG9uJ3QgY3Jhc2guXG5cdFx0aWYgKHRoaXMubWFwSXRlbSAmJiBicm93c2VyU3VwcG9ydHNDbGFzc0xpc3QodGhpcy5tYXBJdGVtKSkge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLm1hcEl0ZW0sIEFDVElWRV9TVEFURSk7XG5cdFx0fVxuXHR9XG5cblx0aGlnaGxpZ2h0Q2xpY2tlZE1hcEl0ZW0oKSB7XG5cdFx0dGhpcy5zZXRNYXBJdGVtKCk7XG5cblx0XHQvLyBjaGVjayBmb3IgY2xhc3MgbGlzdCBhcyB3ZWxsIHRvIGVuc3VyZSB0aGF0IGJyb3dzZXJzLFxuXHRcdC8vIHdoaWNoIGRvbid0IHN1cHBvcnQgdGhlIGNsYXNzTGlzdCBwcm9wZXJ0eSBvbiBzdmcgZWxlbWVudHMsXG5cdFx0Ly8gZG9uJ3QgY3Jhc2guXG5cdFx0aWYgKHRoaXMubWFwSXRlbSAmJiBicm93c2VyU3VwcG9ydHNDbGFzc0xpc3QodGhpcy5tYXBJdGVtKSkge1xuXHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLm1hcEl0ZW0sIEFDVElWRV9TVEFURSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0RGlhbG9nKCkge1xuXHRcdGxldCBzZWxlY3RvciA9ICcjJyArIERJQUxPR19JRF9QUkVGSVggKyB0aGlzLnNlbGVjdC52YWx1ZTtcblx0XHRsZXQgZGlhbG9nID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KHNlbGVjdG9yKTtcblxuXHRcdGlmICghZGlhbG9nKSB7XG5cdFx0XHR0aGlzLmRpYWxvZyA9IG51bGw7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBOT1QgRk9VTkQ6IFRoZXJlIHdhcyBubyBhZGRyZXNzIHdpdGggdGhlIHNlbGVjdG9yICcke3NlbGVjdG9yfScuYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5kaWFsb2cgPSBkaWFsb2cuY2xvc2VzdChESUFMT0dfV1JBUFBFUl9TRUxFQ1RPUik7XG5cdH1cblxuXHRoaWRlRGlhbG9nKCkge1xuXHRcdHRoaXMuaGlkZU1vZGFsKCk7XG5cblx0XHRpZiAodGhpcy5kaWFsb2cpIHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5kaWFsb2csIE9QRU5fU1RBVEUpO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmRpYWxvZywgQUxJR05fTEVGVF9TVEFURSk7XG5cdFx0fVxuXHR9XG5cblx0c2hvd0RpYWxvZygpIHtcblx0XHR0aGlzLnNldERpYWxvZygpO1xuXG5cdFx0aWYgKHRoaXMuZGlhbG9nKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuZGlhbG9nLCBPUEVOX1NUQVRFKTtcblxuXHRcdFx0dGhpcy5zaG93TW9kYWwoKTtcblx0XHR9XG5cdH1cblxuXHRzaG93TW9kYWwoKSB7XG5cdFx0dGhpcy5hZGRDbGFzcyh0aGlzLm1vZGFsLCBPUEVOX1NUQVRFKTtcblx0fVxuXG5cdGhpZGVNb2RhbCgpIHtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMubW9kYWwsIE9QRU5fU1RBVEUpO1xuXHR9XG5cblx0c2V0UG9zaXRpb24oY2xpY2tPZmZzZXRYKSB7XG5cdFx0aWYgKCF0aGlzLmRpYWxvZykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBtYXBPZmZzZXRYID0gdGhpcy5tYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRsZXQgcmVsQ2xpY2tPZmZzZXRYID0gY2xpY2tPZmZzZXRYIC0gbWFwT2Zmc2V0WDtcblxuXHRcdGlmICgodGhpcy5tYXAuY2xpZW50V2lkdGggLSByZWxDbGlja09mZnNldFgpIDwgdGhpcy5kaWFsb2cuY2xpZW50V2lkdGgpIHtcblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5kaWFsb2csIEFMSUdOX0xFRlRfU1RBVEUpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmV4cG9ydCBjb25zdCBNQUlOX0VOVFJZX1NFTEVDVE9SID0gJy5tLW1lbnVfX25hdi1saW5rLS1qcy1ob29rJztcbmV4cG9ydCBjb25zdCBTVUJNRU5VX1NFTEVDVE9SID0gJy5tLW1lbnVfX3N1Ym1lbnUnO1xuXG5leHBvcnQgY29uc3QgT1BFTl9TVEFURSA9ICdpcy1vcGVuJztcblxuZXhwb3J0IGNsYXNzIE1NZW51QmFzZSBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHRzdXBlci5pbml0aWFsaXplKCk7XG5cblx0XHR0aGlzLmN1cnJlbnRTdWIgPSBudWxsO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCBNQUlOX0VOVFJZX1NFTEVDVE9SLCAoIGV2ZW50ICkgPT4gdGhpcy50b2dnbGVTdWJOYXZpZ2F0aW9uKCBldmVudCApICk7XG5cdH1cblxuXHR0b2dnbGVTdWJOYXZpZ2F0aW9uKCBldmVudCApIHtcblx0XHRpZiAodGhpcy5jdXJyZW50U3ViICE9PSBldmVudC50YXJnZXQpIHtcblx0XHRcdHRoaXMuY2xvc2VTdWJOYXZpZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLm9wZW5TdWJOYXZpZ2F0aW9uKCBldmVudCApO1xuXHRcdH1cdGVsc2Uge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuY2xvc2VTdWJOYXZpZ2F0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblx0b3BlblN1Yk5hdmlnYXRpb24oIGV2ZW50ICkge1xuXHRcdGxldCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuXHRcdGxldCBzdWJtZW51ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIFNVQk1FTlVfU0VMRUNUT1IgKTtcblxuXHRcdGlmIChudWxsID09PSBzdWJtZW51KSB7XG5cdFx0XHQvLyBpZiB0aGVyZSBpcyBubyBzdWJtZW51LCBoYW5kbGUgaXQgYXMgcmVndWxhciBsaW5rXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHRoaXMuY3VycmVudFN1YiA9IGVsZW1lbnQ7XG5cblx0XHR0aGlzLmFkZENsYXNzKCBzdWJtZW51LCBPUEVOX1NUQVRFICk7XG5cdFx0dGhpcy5hZGRDbGFzcyggZWxlbWVudCwgT1BFTl9TVEFURSApO1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsIHRydWUgKTtcblxuXHRcdHRoaXMuYWZ0ZXJPcGVuU3ViTmF2aWdhdGlvbiggZWxlbWVudCApO1xuXHR9XG5cblx0Y2xvc2VTdWJOYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMuY3VycmVudFN1YiA9IG51bGw7XG5cblx0XHRsZXQgZWxlbWVudHMgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnRzKCBTVUJNRU5VX1NFTEVDVE9SICsgJywgJyArIE1BSU5fRU5UUllfU0VMRUNUT1IgKTtcblxuXHRcdGZvciAobGV0IGtleSBpbiBlbGVtZW50cykge1xuXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggZWxlbWVudHMsIGtleSApKSB7XG5cdFx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoIGVsZW1lbnRzW2tleV0sIE9QRU5fU1RBVEUgKTtcblx0XHRcdFx0ZWxlbWVudHNba2V5XS5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgZmFsc2UgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmFmdGVyQ2xvc2VTdWJOYXZpZ2F0aW9uKCk7XG5cdH1cblxuXHRjbG9zZU5hdmlnYXRpb24oKSB7XG5cdFx0dGhpcy5jbG9zZVN1Yk5hdmlnYXRpb24oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBvdmVyd3JpdGUgdGhvc2UgZnVuY3Rpb25zIHRvIGRvIHNvbWUgbW9yZSBzdHVmZiBvbiBvcGVuaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnRcblx0ICovXG5cdGFmdGVyT3BlblN1Yk5hdmlnYXRpb24oKSB7XG5cdH1cblxuXHQvKipcblx0ICogb3ZlcndyaXRlIHRob3NlIGZ1bmN0aW9ucyB0byBkbyBzb21lIG1vcmUgc3R1ZmYgb24gY2xvc2luZ1xuXHQgKi9cblx0YWZ0ZXJDbG9zZVN1Yk5hdmlnYXRpb24oKSB7XG5cdH1cbn1cbiIsImltcG9ydCB7TU1lbnVCYXNlLCBTVUJNRU5VX1NFTEVDVE9SLCBPUEVOX1NUQVRFfSBmcm9tICcuL20tbWVudS0tYmFzZSc7XG5cbmNvbnN0IENMT1NFX1NFTEVDVE9SID0gJy5tLW1lbnVfX3N1Ym1lbnVfX2Nsb3NlJztcblxuY29uc3QgVVAgPSAxO1xuY29uc3QgRE9XTiA9IDI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1NZW51RGVza3RvcCBleHRlbmRzIE1NZW51QmFzZSB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0c3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMub24oJ2NsaWNrJywgQ0xPU0VfU0VMRUNUT1IsICgpID0+IHRoaXMuY2xvc2VTdWJOYXZpZ2F0aW9uKCkpO1xuXHR9XG5cblx0YWZ0ZXJPcGVuU3ViTmF2aWdhdGlvbigpIHtcblx0XHR0aGlzLmNsaWNrZWRJdGVtID0gdGhpcy5jdXJyZW50U3ViO1xuXG5cdFx0dGhpcy5zdWJtZW51ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KFNVQk1FTlVfU0VMRUNUT1IgKyAnLicgKyBPUEVOX1NUQVRFKTtcblxuXHRcdGlmICh0aGlzLnN1Ym1lbnUub2Zmc2V0SGVpZ2h0ICE9PSB0aGlzLnN1Ym1lbnUuc2Nyb2xsSGVpZ2h0KSB7XG5cdFx0XHR0aGlzLnNldEluaXRpYWxTY3JvbGxQb3MoKTtcblx0XHRcdHRoaXMuc2Nyb2xsSGFuZGxlciA9IChldmVudCkgPT4gdGhpcy5yZXF1ZXN0VGljayhldmVudCk7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0YWZ0ZXJDbG9zZVN1Yk5hdmlnYXRpb24oKSB7XG5cdFx0aWYgKHRoaXMuc3VibWVudSkge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmNsaWNrZWRJdGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG5cdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHRcdHRoaXMuY2xpY2tlZEl0ZW0gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHNldEluaXRpYWxTY3JvbGxQb3MoKSB7XG5cdFx0Y29uc3Qgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AoKTtcblx0XHRjb25zdCBzdWJtZW51SGVpZ2h0ID0gdGhpcy5zdWJtZW51LnNjcm9sbEhlaWdodDtcblxuXHRcdGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXHRcdGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0Y29uc3QgZG9jdW1lbnRIZWlnaHQgPSBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgYm9keS5vZmZzZXRIZWlnaHQsXG5cdFx0XHRodG1sLmNsaWVudEhlaWdodCwgaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwub2Zmc2V0SGVpZ2h0KTtcblxuXHRcdGlmIChzY3JvbGxUb3AgKyBzdWJtZW51SGVpZ2h0ID4gZG9jdW1lbnRIZWlnaHQpIHtcblx0XHRcdHdpbmRvdy5zY3JvbGxUbygwLCBzY3JvbGxUb3AgLSBzdWJtZW51SGVpZ2h0KTtcblx0XHR9XG5cblx0XHR0aGlzLmluaXRpYWxTY3JvbGxQb3MgPSB0aGlzLmxhc3RQb3MgPSB0aGlzLnNjcm9sbFRvcCgpO1xuXHR9XG5cblx0cmVxdWVzdFRpY2soKSB7XG5cdFx0aWYgKCF0aGlzLnRpY2tpbmcgJiYgdGhpcy5zdWJtZW51KSB7XG5cdFx0XHR0aGlzLnRpY2tpbmcgPSB0cnVlO1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnNjcm9sbFN1Yk5hdmlnYXRpb24uYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0c2Nyb2xsVG9wKCkge1xuXHRcdC8vIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMgYXJlIHNvIGF3ZnVsXG5cdFx0cmV0dXJuIHdpbmRvdy5zY3JvbGxZXG5cdFx0XHR8fCB3aW5kb3cucGFnZVlPZmZzZXRcblx0XHRcdHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IDApO1xuXHR9XG5cblx0c2Nyb2xsU3ViTmF2aWdhdGlvbigpIHtcblx0XHRjb25zdCBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcCgpO1xuXHRcdGxldCBkaXJlY3Rpb24gPSBET1dOO1xuXG5cdFx0aWYgKHRoaXMubGFzdFBvcyA+IHNjcm9sbFRvcCkge1xuXHRcdFx0ZGlyZWN0aW9uID0gVVA7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubGFzdERpcmVjdGlvbiAhPT0gZGlyZWN0aW9uKSB7XG5cdFx0XHRpZiAoVVAgPT09IGRpcmVjdGlvbikge1xuXHRcdFx0XHR0aGlzLmluaXRpYWxTY3JvbGxQb3MgPSBzY3JvbGxUb3AgLSB0aGlzLnN1Ym1lbnUuc2Nyb2xsVG9wO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5pbml0aWFsU2Nyb2xsUG9zID0gc2Nyb2xsVG9wO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc3VibWVudS5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgLSB0aGlzLmluaXRpYWxTY3JvbGxQb3M7XG5cblx0XHR0aGlzLmxhc3RQb3MgPSBzY3JvbGxUb3A7XG5cdFx0dGhpcy5sYXN0RGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHN1cGVyLmRlc3Ryb3koKTtcblxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNTWVudUJhc2UsIE9QRU5fU1RBVEUgfSBmcm9tICcuL20tbWVudS0tYmFzZSc7XG5cbmNvbnN0IE5BVl9XUkFQUEVSX1NFTEVDVE9SID0gJy5tLW1lbnVfX25hdic7XG5jb25zdCBNQUlOX01FTlVfU0VMRUNUT1IgPSAnLm0tbWVudV9fbmF2LWxpc3QnO1xuY29uc3QgUklHSFRfU0VMRUNUT1IgPSAnLm0tbWVudV9fcmlnaHQnO1xuY29uc3QgSEFNQlVSR0VSX1NFTEVDVE9SID0gJy5hLWhhbWJ1cmdlcic7XG5jb25zdCBTVUJNRU5VX0lURU1TX1NFTEVDVE9SID0gJy5tLW1lbnVfX25hdi1pdGVtJztcblxuY29uc3QgSElEREVOX1NUQVRFID0gJ2lzLWhpZGRlbic7XG5jb25zdCBBQ1RJVkVfU1RBVEUgPSAnaXMtYWN0aXZlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTU1lbnVNb2JpbGUgZXh0ZW5kcyBNTWVudUJhc2Uge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHN1cGVyLmluaXRpYWxpemUoKTtcblxuXHRcdHRoaXMubW9iaWxlT3BlbiA9IGZhbHNlO1xuXG5cdFx0dGhpcy5uYXZXcmFwcGVyID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBOQVZfV1JBUFBFUl9TRUxFQ1RPUiApO1xuXHRcdHRoaXMubWFpbk5hdiA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggTUFJTl9NRU5VX1NFTEVDVE9SICk7XG5cdFx0dGhpcy5oYW1idXJnZXIgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEhBTUJVUkdFUl9TRUxFQ1RPUiApO1xuXHRcdHRoaXMucmlnaHQgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIFJJR0hUX1NFTEVDVE9SICk7XG5cdFx0dGhpcy5tZW51SXRlbXMgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnRzKCBTVUJNRU5VX0lURU1TX1NFTEVDVE9SICk7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMub24oICdjbGljaycsIEhBTUJVUkdFUl9TRUxFQ1RPUiwgKCBldmVudCApID0+IHRoaXMudG9nZ2xlTWFpbk5hdmlnYXRpb24oIGV2ZW50ICkgKTtcblx0fVxuXG5cdHRvZ2dsZU1haW5OYXZpZ2F0aW9uKCBldmVudCApIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKHRoaXMubW9iaWxlT3Blbikge1xuXHRcdFx0dGhpcy5jbG9zZU1haW5OYXZpZ2F0aW9uKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub3Blbk1haW5OYXZpZ2F0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblx0b3Blbk1haW5OYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMubW9iaWxlT3BlbiA9IHRydWU7XG5cblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLm5hdldyYXBwZXIsIE9QRU5fU1RBVEUgKTtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmhhbWJ1cmdlciwgT1BFTl9TVEFURSApO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMubWFpbk5hdiwgT1BFTl9TVEFURSApO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMucmlnaHQsIE9QRU5fU1RBVEUgKTtcblxuXHRcdHRoaXMuaGFtYnVyZ2VyLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCB0cnVlICk7XG5cdH1cblxuXHRjbG9zZU1haW5OYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMubW9iaWxlT3BlbiA9IGZhbHNlO1xuXG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5uYXZXcmFwcGVyLCBPUEVOX1NUQVRFICk7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5oYW1idXJnZXIsIE9QRU5fU1RBVEUgKTtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLm1haW5OYXYsIE9QRU5fU1RBVEUgKTtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLnJpZ2h0LCBPUEVOX1NUQVRFICk7XG5cblx0XHR0aGlzLmhhbWJ1cmdlci5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgZmFsc2UgKTtcblxuXHRcdHRoaXMuY2xvc2VTdWJOYXZpZ2F0aW9uKCk7XG5cdH1cblxuXHRhZnRlck9wZW5TdWJOYXZpZ2F0aW9uKCBlbGVtZW50ICkge1xuXHRcdGNvbnN0IGlzUmlnaHQgPSBlbGVtZW50LmNsb3Nlc3QoIFJJR0hUX1NFTEVDVE9SICk7XG5cdFx0aWYgKGlzUmlnaHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLnJpZ2h0LCBPUEVOX1NUQVRFICk7XG5cblx0XHRjb25zdCBsaUNsaWNrZWQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cblx0XHR0aGlzLm1lbnVJdGVtcy5mb3JFYWNoKCBpdGVtID0+IHtcblx0XHRcdGlmIChpdGVtID09PSBsaUNsaWNrZWQpIHtcblx0XHRcdFx0dGhpcy5hZGRDbGFzcyggaXRlbSwgQUNUSVZFX1NUQVRFICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhpcy5hZGRDbGFzcyggaXRlbSwgSElEREVOX1NUQVRFICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0YWZ0ZXJDbG9zZVN1Yk5hdmlnYXRpb24oKSB7XG5cdFx0aWYgKHRoaXMubW9iaWxlT3Blbikge1xuXHRcdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5yaWdodCwgT1BFTl9TVEFURSApO1xuXHRcdH1cblxuXHRcdHRoaXMubWVudUl0ZW1zLmZvckVhY2goIGl0ZW0gPT4ge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggaXRlbSwgSElEREVOX1NUQVRFICk7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBpdGVtLCBBQ1RJVkVfU1RBVEUgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRjbG9zZU5hdmlnYXRpb24oKSB7XG5cdFx0dGhpcy5jbG9zZU1haW5OYXZpZ2F0aW9uKCk7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuaW1wb3J0IE1NZW51RGVza3RvcCBmcm9tICcuL20tbWVudS0tZGVza3RvcCc7XG5pbXBvcnQgTU1lbnVNb2JpbGUgZnJvbSAnLi9tLW1lbnUtLW1vYmlsZSc7XG5pbXBvcnQgZGlzdHJhY3Rpb25GcmVlIGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvZGlzdHJhY3Rpb25GcmVlJztcblxuY29uc3QgRk9SQ0VfTU9CSUxFX0NMQVNTID0gJ20tbWVudS0tZm9yY2UtbW9iaWxlJztcbmNvbnN0IEhBTUJVUkdFUl9TRUxFQ1RPUiA9ICcuYS1oYW1idXJnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNTWVudSBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmZvcmNlTW9iaWxlID0gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyggRk9SQ0VfTU9CSUxFX0NMQVNTICk7XG5cdFx0dGhpcy5kaXN0cmFjdGlvbkZyZWUgPSBkaXN0cmFjdGlvbkZyZWUoKTtcblxuXHRcdHRoaXMuc2V0TWVudUhhbmRsZXIoKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5zZXRNZW51SGFuZGxlciA9IHRoaXMuc2V0TWVudUhhbmRsZXIuYmluZCggdGhpcyApO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5zZXRNZW51SGFuZGxlciApO1xuXG5cdFx0aWYgKHRoaXMuZGlzdHJhY3Rpb25GcmVlKSB7XG5cdFx0XHR0aGlzLm9uKCAnY2xpY2snLCBIQU1CVVJHRVJfU0VMRUNUT1IsICgpID0+IHRoaXMucmVtb3ZlRm9yY2VNb2JpbGUoKSApO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMucmVtb3ZlRm9yY2VNb2JpbGUoKTtcblx0XHR9XG5cdH1cblxuXHRyZW1vdmVGb3JjZU1vYmlsZSgpIHtcblx0XHRpZiAodGhpcy5mb3JjZU1vYmlsZSkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIEZPUkNFX01PQklMRV9DTEFTUyApO1xuXHRcdFx0dGhpcy5mb3JjZU1vYmlsZSA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHNldE1lbnVIYW5kbGVyKCkge1xuXHRcdGxldCBvbGQgPSB0aGlzLmhhbmRsZXI7XG5cdFx0bGV0IG9sZF9kZXNrdG9wID0gdGhpcy5kZXNrdG9wO1xuXHRcdHRoaXMuZGVza3RvcCA9IHRoaXMuaXNEZXNrdG9wKCk7XG5cblx0XHRpZiAob2xkX2Rlc2t0b3AgIT09IHRoaXMuZGVza3RvcCkge1xuXHRcdFx0aWYgKHRoaXMuZGVza3RvcCkge1xuXHRcdFx0XHR0aGlzLmhhbmRsZXIgPSBuZXcgTU1lbnVEZXNrdG9wKCB0aGlzLmVsZW1lbnQgKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLmhhbmRsZXIgPSBuZXcgTU1lbnVNb2JpbGUoIHRoaXMuZWxlbWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodW5kZWZpbmVkICE9PSBvbGQpIHtcblx0XHRcdFx0b2xkLmNsb3NlTmF2aWdhdGlvbigpO1xuXHRcdFx0XHRvbGQuZGVzdHJveSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmhhbmRsZXIuaW5pdGlhbGl6ZSgpO1xuXHRcdFx0dGhpcy5oYW5kbGVyLmJpbmQoKTtcblx0XHR9XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHN1cGVyLmRlc3Ryb3koKTtcblxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5zZXRNZW51SGFuZGxlciApO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcblxuY29uc3QgQlVUVE9OX1NFTEVDVE9SID0gJy5tLXBlcnNvbl9fdG9nZ2xlJztcbmNvbnN0IENPTlRFTlRfU0VMRUNUT1IgPSAnLm0tcGVyc29uX19leHBhbmRhYmxlJztcblxuY29uc3QgQ09MTEFCU0VEX1NUQVRFID0gJ2lzLWNvbGxhcHNlZCc7XG5jb25zdCBFWFBBTkRFRF9TVEFURSA9ICdpcy1leHBhbmRlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1QZXJzb24gZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5idXR0b24gPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoQlVUVE9OX1NFTEVDVE9SKTtcblx0XHR0aGlzLmNvbnRlbnQgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoQ09OVEVOVF9TRUxFQ1RPUik7XG5cblx0XHR0aGlzLmhpZGRlbkFuY2hvclRhZ3MgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoQ09OVEVOVF9TRUxFQ1RPUikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtcblx0XHR0aGlzLnNldFRhYkluZGV4ZXMoLTEpO1xuXG5cdFx0dGhpcy5leHBhbmRlZCA9IGZhbHNlO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCBCVVRUT05fU0VMRUNUT1IsICgpID0+IHRoaXMudG9nZ2xlKCkgKTtcblx0fVxuXG5cdHRvZ2dsZSgpIHtcblx0XHRpZiAodGhpcy5leHBhbmRlZCkge1xuXHRcdFx0Ly8gY29sbGFwcyBpdFxuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwgRVhQQU5ERURfU1RBVEUpO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmNvbnRlbnQsIEVYUEFOREVEX1NUQVRFKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5idXR0b24sIENPTExBQlNFRF9TVEFURSk7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuY29udGVudCwgQ09MTEFCU0VEX1NUQVRFKTtcblx0XHRcdHRoaXMuYnV0dG9uLmlubmVyVGV4dCA9IHRoaXMuYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1leHBhbmQnKTtcblx0XHRcdHRoaXMuc2V0VGFiSW5kZXhlcygtMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGV4cGFuZCBpdFxuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwgQ09MTEFCU0VEX1NUQVRFKTtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5jb250ZW50LCBDT0xMQUJTRURfU1RBVEUpO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmJ1dHRvbiwgRVhQQU5ERURfU1RBVEUpO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmNvbnRlbnQsIEVYUEFOREVEX1NUQVRFKTtcblx0XHRcdHRoaXMuYnV0dG9uLmlubmVyVGV4dCA9IHRoaXMuYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzJyk7XG5cdFx0XHR0aGlzLnNldFRhYkluZGV4ZXMoMCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0aGlzLmV4cGFuZGVkKTtcblx0XHR0aGlzLmV4cGFuZGVkID0gIXRoaXMuZXhwYW5kZWQ7XG5cdH1cblxuXHRzZXRUYWJJbmRleGVzKGludCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaWRkZW5BbmNob3JUYWdzLmxlbmd0aDsgaSArKykge1xuXHRcdFx0dGhpcy5oaWRkZW5BbmNob3JUYWdzLml0ZW0oaSkudGFiSW5kZXggPSBpbnQ7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnLi8uLi8uLi8uLi9qcy9iYXNlLXZpZXcnO1xuXG5jb25zdCBNT0JJTEVfU0VMRUNUT1IgPSAnLm0tc2hhcmVfX21vYmlsZSc7XG5jb25zdCBMQUJFTF9TRUxFQ1RPUiA9ICcubS1zaGFyZV9fZGVzYyc7XG5jb25zdCBDTE9TRV9TRUxFQ1RPUiA9ICcubS1zaGFyZV9fY2xvc2UnO1xuY29uc3QgQlVUVE9OU19TRUxFQ1RPUiA9ICcubS1zaGFyZV9fYnV0dG9ucyc7XG5cbmNvbnN0IE9QRU5fU1RBVEUgPSAnaXMtb3Blbic7XG5jb25zdCBIQVNfU0hBUkVfQlVUVE9OUyA9ICdoYXMtc2hhcmUtYnV0dG9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1TaGFyZSBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmJ1dHRvbnMgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEJVVFRPTlNfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMuYWRkUGFnZUJvdHRvbU1hcmdpbigpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCBNT0JJTEVfU0VMRUNUT1IsICgpID0+IHRoaXMuc2hvdygpICk7XG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgTEFCRUxfU0VMRUNUT1IsICgpID0+IHRoaXMuc2hvdygpICk7XG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgQ0xPU0VfU0VMRUNUT1IsICgpID0+IHRoaXMuaGlkZSgpICk7XG5cdH1cblxuXHRhZGRQYWdlQm90dG9tTWFyZ2luKCkge1xuXHRcdHRoaXMuYWRkQ2xhc3MoIGRvY3VtZW50LmJvZHksIEhBU19TSEFSRV9CVVRUT05TICk7XG5cdH1cblxuXHRzaG93KCkge1xuXHRcdGlmICghIHRoaXMuaXNEZXNrdG9wKCkpIHtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMuYnV0dG9ucywgT1BFTl9TVEFURSApO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyggT1BFTl9TVEFURSApO1xuXHRcdH1cblx0fVxuXG5cdGhpZGUoKSB7XG5cdFx0aWYgKCEgdGhpcy5pc0Rlc2t0b3AoKSkge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5idXR0b25zLCBPUEVOX1NUQVRFICk7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBPUEVOX1NUQVRFICk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoLnRocm90dGxlJztcblxuaW1wb3J0IEJhc2VWaWV3IGZyb20gJy4vLi4vLi4vLi4vanMvYmFzZS12aWV3JztcblxuY29uc3QgSU1BR0VfU0VMRUNUT1IgPSAnLm8tY2FtcGFpZ25fX2ltYWdlJztcbmNvbnN0IElNQUdFX1dSQVBQRVJfU0VMRUNUT1IgPSAnLm8tY2FtcGFpZ25fX2ltYWdlLXdyYXBwZXInO1xuY29uc3QgQkFSU19TRUxFQ1RPUiA9ICcuby1jYW1wYWlnbl9fYmFycyc7XG5cbmNvbnN0IFNDUk9MTF9TUEVFRCA9IDAuMTtcbmNvbnN0IFJFU0laRV9USFJPVFRMSU5HX01TID0gMTAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPQ2FtcGFpZ24gZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5pbWFnZSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggSU1BR0VfU0VMRUNUT1IgKTtcblx0XHR0aGlzLmltYWdlV3JhcHBlciA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggSU1BR0VfV1JBUFBFUl9TRUxFQ1RPUiApO1xuXHRcdHRoaXMuYmFycyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggQkFSU19TRUxFQ1RPUiApO1xuXG5cdFx0dGhpcy5oZWFkZXIgPSB0aGlzLmdldENvbXBvbmVudCggJ09IZWFkZXIwJyApO1xuXHRcdHRoaXMuYnJhbmRpbmcgPSB0aGlzLmhlYWRlci5nZXRCcmFuZGluZygpO1xuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cblx0XHR0aGlzLnNldEJhclBvc2l0aW9uKCk7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMuc2Nyb2xsSGFuZGxlciA9ICgpID0+IHRoaXMucmVxdWVzdFRpY2soKTtcblx0XHR0aGlzLnJlc2l6ZUhhbmRsZXIgPSB0aHJvdHRsZSggKCkgPT4gdGhpcy5vblJlc2l6ZSgpLCBSRVNJWkVfVEhST1RUTElOR19NUywgeyBsZWFkaW5nOiBmYWxzZSwgdHJhaWxpbmc6IHRydWUgfSApO1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzLnJlc2l6ZUhhbmRsZXIgKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlciwgZmFsc2UgKTtcblxuXHRcdHRoaXMuc2Nyb2xsSGFuZGxlcigpO1xuXHRcdHRoaXMucmVzaXplSGFuZGxlcigpO1xuXHR9XG5cblx0cmVxdWVzdFRpY2soKSB7XG5cdFx0aWYgKCEgdGhpcy50aWNraW5nKSB7XG5cdFx0XHR0aGlzLnRpY2tpbmcgPSB0cnVlO1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggdGhpcy5vblNjcm9sbC5iaW5kKCB0aGlzICkgKTtcblx0XHR9XG5cdH1cblxuXHRvblJlc2l6ZSgpIHtcblx0XHR0aGlzLnNldEJyYW5kaW5nSGVpZ2h0KCk7XG5cdFx0dGhpcy5zZXRTY3JvbGxTdG9wKCk7XG5cdFx0dGhpcy5zZXRCYXJQb3NpdGlvbigpO1xuXHR9XG5cblx0b25TY3JvbGwoKSB7XG5cdFx0aWYgKCEgdGhpcy5oZWFkZXIuZ2V0Rml4ZWQoKSkge1xuXHRcdFx0dGhpcy5pbWFnZVdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gdGhpcy50cmFuc2xhdGUoIC0gdGhpcy5nZXRTY3JvbGxUb3AoKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5nZXRTY3JvbGxUb3AoKSA8IHRoaXMuc2Nyb2xsU3RvcCkge1xuXHRcdFx0XHRsZXQgZGVsdGEgPSB0aGlzLmdldFNjcm9sbFRvcCgpIC0gdGhpcy5icmFuZGluZ0hlaWdodDtcblx0XHRcdFx0dGhpcy5pbWFnZVdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gdGhpcy50cmFuc2xhdGUoIC0gdGhpcy5icmFuZGluZ0hlaWdodCAtIGRlbHRhICogU0NST0xMX1NQRUVEICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdH1cblxuXHRzZXRCcmFuZGluZ0hlaWdodCgpIHtcblx0XHRpZiAodGhpcy5icmFuZGluZyl7XG5cdFx0XHR0aGlzLmJyYW5kaW5nSGVpZ2h0ID0gdGhpcy5icmFuZGluZy5jbGllbnRIZWlnaHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYnJhbmRpbmdIZWlnaHQgPSAwO1xuXHRcdH1cblx0fVxuXG5cdHNldFNjcm9sbFN0b3AoKSB7XG5cdFx0dGhpcy5zY3JvbGxTdG9wID0gdGhpcy5icmFuZGluZ0hlaWdodCArIHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdH1cblxuXHR0cmFuc2xhdGUoIHkgKSB7XG5cdFx0cmV0dXJuIGB0cmFuc2xhdGUzZCgwcHgsICR7eX1weCwgMHB4KWA7XG5cdH1cblxuXHRzZXRCYXJQb3NpdGlvbigpIHtcblx0XHRpZiAoISB0aGlzLmJhcnMpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgYmFyc0JvdHRvbSA9IHRoaXMuYmFycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG5cdFx0bGV0IHZpZXdwb3J0SGVpZ2h0ID0gTWF0aC5tYXgoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwICk7XG5cdFx0bGV0IHNjcm9sbFRvcCA9IHRoaXMuZ2V0U2Nyb2xsVG9wKCk7XG5cdFx0bGV0IHZpZXdwb3J0Qm90dG9tID0gdmlld3BvcnRIZWlnaHQgKyBzY3JvbGxUb3A7XG5cblx0XHRpZiAoYmFyc0JvdHRvbSA+IHZpZXdwb3J0Qm90dG9tKSB7XG5cdFx0XHR0aGlzLmJhcnMuc3R5bGUuaGVpZ2h0ID0gKCB2aWV3cG9ydEhlaWdodCAtIHRoaXMuaGVhZGVyLmVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgc2Nyb2xsVG9wICkgKyAncHgnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJhcnMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5pbWFnZS5jbGllbnRIZWlnaHQgKyAncHgnO1xuXHRcdH1cblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0c3VwZXIuZGVzdHJveSgpO1xuXG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIgKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMucmVzaXplSGFuZGxlciApO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcbmltcG9ydCBkaXN0cmFjdGlvbkZyZWUgZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9kaXN0cmFjdGlvbkZyZWUnO1xuXG5jb25zdCBESVNUUkFDVElOR19XSURHRVRfQ0xBU1MgPSAnZGlzdHJhY3Rpbmdfd2lkZ2V0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT0Zvb3RlciBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmRpc3RyYWN0aW9uRnJlZSA9IGRpc3RyYWN0aW9uRnJlZSgpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHRpZiAoIXRoaXMuZGlzdHJhY3Rpb25GcmVlKSB7XG5cdFx0XHR0aGlzLnNob3dXaWRnZXRzKCk7XG5cdFx0fVxuXHR9XG5cblx0c2hvd1dpZGdldHMoKSB7XG5cdFx0Y29uc3Qgd2lkZ2V0cyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudHMoICcuJyArIERJU1RSQUNUSU5HX1dJREdFVF9DTEFTUyApO1xuXG5cdFx0Zm9yIChjb25zdCBlbCBvZiB3aWRnZXRzKSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBlbCwgRElTVFJBQ1RJTkdfV0lER0VUX0NMQVNTICk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcblxuY29uc3QgQlJBTkRJTkdfU0VMRUNUT1IgPSAnLm8taGVhZGVyX19icmFuZGluZyc7XG5jb25zdCBNRU5VX1NFTEVDVE9SID0gJy5vLWhlYWRlcl9fbWVudSc7XG5jb25zdCBWSVNJQkxFX01FTlVfU0VMRUNUT1IgPSAnLm8taGVhZGVyX19kaXNwbGF5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT0hlYWRlciBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmJyYW5kaW5nID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBCUkFORElOR19TRUxFQ1RPUiApO1xuXHRcdHRoaXMubWVudSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggTUVOVV9TRUxFQ1RPUiApO1xuXHRcdHRoaXMudmlzaWJsZU1lbnUgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIFZJU0lCTEVfTUVOVV9TRUxFQ1RPUiApO1xuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdFx0dGhpcy5pc0ZpeGVkID0gZmFsc2U7XG5cblx0XHR0aGlzLnNldE1lbnVCYXJQb3NpdGlvbigpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLnNjcm9sbEhhbmRsZXIgPSAoKSA9PiB0aGlzLnJlcXVlc3RUaWNrKCk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIsIGZhbHNlICk7XG5cdH1cblxuXHRyZXF1ZXN0VGljaygpIHtcblx0XHRpZiAoISB0aGlzLnRpY2tpbmcpIHtcblx0XHRcdHRoaXMudGlja2luZyA9IHRydWU7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCB0aGlzLnNldE1lbnVCYXJQb3NpdGlvbi5iaW5kKCB0aGlzICkgKTtcblx0XHR9XG5cdH1cblxuXHRzZXRNZW51QmFyUG9zaXRpb24oKSB7XG5cdFx0aWYgKCEgdGhpcy5icmFuZGluZyApIHtcblx0XHRcdHRoaXMuaXNGaXhlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IHNjcm9sbFRvcCA9IHRoaXMuZ2V0U2Nyb2xsVG9wKCk7XG5cblx0XHRpZiAoISB0aGlzLmlzRml4ZWQgJiYgc2Nyb2xsVG9wID49IHRoaXMuYnJhbmRpbmcuY2xpZW50SGVpZ2h0KSB7XG5cdFx0XHR0aGlzLmlzRml4ZWQgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLnZpc2libGVNZW51LnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNsYXRlKCAtIHRoaXMuYnJhbmRpbmcuY2xpZW50SGVpZ2h0ICk7XG5cdFx0fVxuXG5cdFx0aWYgKHNjcm9sbFRvcCA8IHRoaXMuYnJhbmRpbmcuY2xpZW50SGVpZ2h0KSB7XG5cdFx0XHR0aGlzLnZpc2libGVNZW51LnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNsYXRlKCAtIHNjcm9sbFRvcCApO1xuXHRcdFx0dGhpcy5pc0ZpeGVkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdH1cblxuXHR0cmFuc2xhdGUoIHkgKSB7XG5cdFx0cmV0dXJuIGB0cmFuc2xhdGUzZCgwcHgsICR7eX1weCwgMHB4KWA7XG5cdH1cblxuXHRnZXRGaXhlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pc0ZpeGVkO1xuXHR9XG5cblx0Z2V0TWVudSgpIHtcblx0XHRyZXR1cm4gdGhpcy5tZW51O1xuXHR9XG5cblx0Z2V0QnJhbmRpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnJhbmRpbmc7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHN1cGVyLmRlc3Ryb3koKTtcblxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyICk7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICcuLy4uLy4uLy4uL2pzL2Jhc2Utdmlldyc7XG5pbXBvcnQgU3dpcGVyLCB7IEExMXksIEtleWJvYXJkLCBOYXZpZ2F0aW9uIH0gZnJvbSAnc3dpcGVyJztcblxuLy8gSW5zdGFsbCBtb2R1bGVzXG5Td2lwZXIudXNlKFtLZXlib2FyZCwgTmF2aWdhdGlvbiwgQTExeV0pO1xuXG5jb25zdCBTV0lQRVJfQ09OVEFJTkVSX1NFTEVDVE9SID0gJy5vLXBlb3BsZS1ncmlkX19saWJyYXJ5LWNvbnRhaW5lcic7XG5jb25zdCBTTElERVJfTkVYVF9CVVRUT05fU0VMRUNUT1IgPSAnLm8tcGVvcGxlLWdyaWRfX3NsaWRlLWJ1dHRvbi0tcmlnaHQnO1xuY29uc3QgU0xJREVSX1BSRVZJT1VTX0JVVFRPTl9TRUxFQ1RPUiA9ICcuby1wZW9wbGUtZ3JpZF9fc2xpZGUtYnV0dG9uLS1sZWZ0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT1Blb3BsZUdyaWQgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0bmV3IFN3aXBlciggU1dJUEVSX0NPTlRBSU5FUl9TRUxFQ1RPUiwge1xuXHRcdFx0c2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuXHRcdFx0bmF2aWdhdGlvbjoge1xuXHRcdFx0XHRuZXh0RWw6IFNMSURFUl9ORVhUX0JVVFRPTl9TRUxFQ1RPUixcblx0XHRcdFx0cHJldkVsOiBTTElERVJfUFJFVklPVVNfQlVUVE9OX1NFTEVDVE9SLFxuXHRcdFx0fSxcblx0XHRcdGtleWJvYXJkOiB7XG5cdFx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRcdG9ubHlJblZpZXdwb3J0OiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0fSApO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcbmltcG9ydCBkaXN0cmFjdGlvbkZyZWUgZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9kaXN0cmFjdGlvbkZyZWUnO1xuXG5jb25zdCBESVNUUkFDVElOR19CUkVBRENSVU1CU19DTEFTUyA9ICdwYWdlX19icmVhZGNydW1icy0tZGlzdHJhY3RpbmcnO1xuY29uc3QgRElTVFJBQ1RJTkdfUE9TVF9NRVRBX0NMQVNTID0gJ3BhZ2VfX3Bvc3QtbWV0YS0tZGlzdHJhY3RpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuZGlzdHJhY3Rpb25GcmVlID0gZGlzdHJhY3Rpb25GcmVlKCk7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdGlmICghdGhpcy5kaXN0cmFjdGlvbkZyZWUpIHtcblx0XHRcdHRoaXMuc2hvd0JyZWFkY3J1bWJzKCk7XG5cdFx0XHR0aGlzLnNob3dQb3N0TWV0YSgpO1xuXHRcdH1cblx0fVxuXG5cdHNob3dCcmVhZGNydW1icygpIHtcblx0XHR0aGlzLnJlbW92ZURpc3RyYWN0aW5nQ2xhc3MoIERJU1RSQUNUSU5HX0JSRUFEQ1JVTUJTX0NMQVNTICk7XG5cdH1cblxuXHRzaG93UG9zdE1ldGEoKSB7XG5cdFx0dGhpcy5yZW1vdmVEaXN0cmFjdGluZ0NsYXNzKCBESVNUUkFDVElOR19QT1NUX01FVEFfQ0xBU1MgKTtcblx0fVxuXG5cdHJlbW92ZURpc3RyYWN0aW5nQ2xhc3MoIGRvbUNsYXNzICkge1xuXHRcdGNvbnN0IGVsID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCAnLicgKyBkb21DbGFzcyApO1xuXG5cdFx0aWYgKGVsKSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBlbCwgZG9tQ2xhc3MgKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJ2xvZGFzaC5pc2Z1bmN0aW9uJztcbmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC5pc2VtcHR5JztcbmltcG9ydCBpc0Jvb2xlYW4gZnJvbSAnbG9kYXNoLmlzYm9vbGVhbic7XG5pbXBvcnQgZGVsZWdhdGUgZnJvbSAnZGVsZWdhdGUnO1xuaW1wb3J0IHB1bGxBdCBmcm9tICdsb2Rhc2gucHVsbGF0JztcblxuLyoqXG4gKiBHZW5lcmF0ZSBhbiBpbmNyZW1lbnRhbFxuICogdmlldyBpZC5cbiAqL1xubGV0IFZJRVdfSUQgPSAwO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZpZXdJZCgpIHtcblx0cmV0dXJuICsrIFZJRVdfSUQ7XG59XG5cbi8qKlxuICogUGFyc2UgdGhlIGFycmF5IHRvIHJldHJpZXZlIHRoZSBzdHJpbmdzIGFuZCBhbiBvcHRpb25hbCBFbGVtZW50LlxuICogQHBhcmFtIGFycmF5IGFyZ3MgQXJyYXkgY29udGFpbmluZyB0aGUgYXJndW1lbnRzIG9mIGEgZnVuY3Rpb25cbiAqIEByZXR1cm4gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2xhc3NBcmd1bWVudHMoIGFyZ3MgKSB7XG5cdGxldCBlbCA9IHRoaXMuZWxlbWVudDtcblx0Y29uc3QgY2xhc3NlcyA9IFtdO1xuXG5cdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoIGFyZ3MsICggYXJnID0+IHtcblx0XHRpZiAodHlwZW9mIGFyZyA9PSAnc3RyaW5nJykge1xuXHRcdFx0Y2xhc3Nlcy5wdXNoKCBhcmcgKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoYXJnLm5vZGVUeXBlID09IDEpIHtcblx0XHRcdGVsID0gYXJnO1xuXHRcdH1cblx0fSApICk7XG5cblx0cmV0dXJuIHtcblx0XHRlbCxcblx0XHRjbGFzc2VzLFxuXHR9O1xufVxuXG4vKipcbiAqIEJhc2UgdmlldyBjbGFzcy5cbiAqIEFsbCB0aGUgY29tcG9uZW50cyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4gKlxuICogQGNsYXNzIEJhc2VWaWV3XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VWaWV3IHtcblxuXHQvKipcblx0ICogQ29uc3RydWN0b3IuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvciggZWxlbWVudCApIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHRcdHRoaXMuY2hhbm5lbCA9IGRvY3VtZW50O1xuXHRcdHRoaXMudmlkID0gZ2VuZXJhdGVWaWV3SWQoKTtcblx0XHR0aGlzLmV2ZW50cyA9IHtcblx0XHRcdGdsb2JhbDoge30sXG5cdFx0XHRlbGVtZW50OiB7fSxcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgaW5pdGlhbGl6ZSBtZXRob2QuXG5cdCAqL1xuXHRpbml0aWFsaXplKCkge1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybiB0aGUgZXZlbnRzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50ICYgY2hhbm5lbC5cblx0ICpcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKi9cblx0Z2V0RXZlbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLmV2ZW50cztcblx0fVxuXG5cdC8qKlxuXHQgKiBNYWluIGJpbmQgZnVuY3Rpb24uXG5cdCAqIFRyaWdnZXIgYWxsIHRoZSBjb2RlIG9uIHRoZSB2aWV3LlxuXHQgKi9cblx0YmluZCgpIHtcblx0XHQvLyB0aGlzLmRlbGVnYXRlRXZlbnRzKCk7XG5cdFx0dGhpcy5pbml0aWFsaXplKCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGEgc2NvcGVkIGVsZW1lbnQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuXHQgKiBAcmV0dXJuIHtFbGVtZW50fVxuXHQgKi9cblx0Z2V0U2NvcGVkRWxlbWVudCggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBhIHNjb3BlZCBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3Jcblx0ICogQHJldHVybiB7ZWxlbWVudExpc3R9ICAgICAgICAgICAgQSBub24tbGl2ZSBOb2RlTGlzdCBvZiBlbGVtZW50IG9iamVjdHMuXG5cdCAqL1xuXHRnZXRTY29wZWRFbGVtZW50cyggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCBzZWxlY3RvciApO1xuXHR9XG5cblx0LyoqXG5cdCAqIElzIGRlc2t0b3A/XG5cdCAqXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRpc0Rlc2t0b3AoKSB7XG5cdFx0aWYgKHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuXHRcdFx0cmV0dXJuICggd2luZG93LmlubmVyV2lkdGggPj0gMTAyNCApO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBIb3cgZmFyIGhhdmUgd2Ugc2Nyb2xsZWQgZG93bj9cblx0ICpcblx0ICogQHJldHVybiB7bnVtYmVyfVxuXHQgKi9cblx0Z2V0U2Nyb2xsVG9wKCkge1xuXHRcdHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyIGEgZ2xvYmFsIGV2ZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRfbmFtZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG5cdCAqL1xuXHR0cmlnZ2VyKCBldmVudF9uYW1lLCBwYXJhbXMgPSBudWxsICkge1xuXHRcdHRoaXMuY2hhbm5lbC5kaXNwYXRjaEV2ZW50KCBuZXcgQ3VzdG9tRXZlbnQoIGV2ZW50X25hbWUsIHBhcmFtcyApICk7XG5cdH1cblxuXHQvKipcblx0ICogQmluZCBhIGNhbGxiYWNrIHRvIGFuIGVsZW1lbnQgZXZlbnQgb3IgZ2xvYmFsIGV2ZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgIGV2ZW50X25hbWVcblx0ICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICBzZWxlY3RvciAgICAgICAgT3B0aW9uYWwuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIGhhbmRsZXJcblx0ICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgY2hhbm5lbCAgICAgICAgICAgIE9wdGlvbmFsLiBEZWZhdWx0OiBmYWxzZS4gV2hldGhlciBvciBub3QgdG8gYmluZCBhIGdsb2JhbCBldmVudC5cblx0ICogQHBhcmFtIHtCb29sZWFufSAgICAgc3RvcFByb3BhZ2F0aW9uICAgICBPcHRpb25hbC4gRGVmYXVsdDogZmFsc2UuIFdoZXRoZXIgdGhlIGhhbmRsZXIgZXZlbnQgc2hvdWxkIHN0b3AgdGhlIGV2ZW50cyBwcm9wYWdhdGlvbi5cblx0ICovXG5cdG9uKCBldmVudF9uYW1lLCBzZWxlY3RvciwgaGFuZGxlciwgY2hhbm5lbCA9IGZhbHNlLCBzdG9wUHJvcGFnYXRpb24gPSB0cnVlICkge1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBvcHRpb25hbCBzZWxlY3RvciBhcmd1bWVudFxuXHRcdGlmIChpc0Z1bmN0aW9uKCBzZWxlY3RvciApKSB7XG5cdFx0XHRjaGFubmVsID0gaGFuZGxlciB8fCBmYWxzZTtcblx0XHRcdGhhbmRsZXIgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoY2hhbm5lbCkge1xuXHRcdFx0aWYgKCEgKCBldmVudF9uYW1lIGluIHRoaXMuZXZlbnRzLmdsb2JhbCApKSB7XG5cdFx0XHRcdHRoaXMuZXZlbnRzLmdsb2JhbFsgZXZlbnRfbmFtZSBdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCBldmVudF9uYW1lLCBoYW5kbGVyICk7XG5cdFx0XHR0aGlzLmV2ZW50cy5nbG9iYWxbIGV2ZW50X25hbWUgXS5wdXNoKCBoYW5kbGVyICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aWYgKCEgKCBldmVudF9uYW1lIGluIHRoaXMuZXZlbnRzLmVsZW1lbnQgKSkge1xuXHRcdFx0XHR0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF0gPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzRW1wdHkoIHNlbGVjdG9yICkpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50X25hbWUsIGhhbmRsZXIgKTtcblx0XHRcdFx0dGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdLnB1c2goIHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJ3NlbGYnLFxuXHRcdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF0ucHVzaCgge1xuXHRcdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRcdGRlbGVnYXRlOiBkZWxlZ2F0ZSggdGhpcy5lbGVtZW50LCBzZWxlY3RvciwgZXZlbnRfbmFtZSwgKCBlICkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHN0b3BQcm9wYWdhdGlvbikge1xuXHRcdFx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aGFuZGxlciggZSApO1xuXHRcdFx0XHRcdH0sIHRydWUgKSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVuYmluZCB0aGUgZ2l2ZW4gZWxlbWVudCBldmVudCBvciBnbG9iYWwgZXZlbnQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgZXZlbnRfbmFtZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgIHNlbGVjdG9yICAgICAgICBPcHRpb25hbC5cblx0ICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgY2hhbm5lbCAgICAgICAgICAgIE9wdGlvbmFsLiBEZWZhdWx0OiBmYWxzZS4gV2hldGhlciBvciBub3QgdG8gdW5iaW5kIGEgZ2xvYmFsIGV2ZW50LlxuXHQgKi9cblx0b2ZmKCBldmVudF9uYW1lLCBzZWxlY3RvciA9IG51bGwsIGNoYW5uZWwgPSBmYWxzZSApIHtcblxuXHRcdC8vIEhhbmRsZSB0aGUgb3B0aW9uYWwgc2VsZWN0b3IgYXJndW1lbnRcblx0XHRpZiAoaXNCb29sZWFuKCBzZWxlY3RvciApKSB7XG5cdFx0XHRjaGFubmVsID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKGNoYW5uZWwpIHtcblx0XHRcdGlmIChldmVudF9uYW1lIGluIHRoaXMuZXZlbnRzLmdsb2JhbCkge1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnRzLmdsb2JhbFsgZXZlbnRfbmFtZSBdLmxlbmd0aDsgaSArKykge1xuXHRcdFx0XHRcdHRoaXMuY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCBldmVudF9uYW1lLCB0aGlzLmV2ZW50cy5nbG9iYWxbIGV2ZW50X25hbWUgXVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGRlbGV0ZSB0aGlzLmV2ZW50cy5nbG9iYWxbIGV2ZW50X25hbWUgXTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5lbGVtZW50KSB7XG5cblx0XHRcdGlmIChpc0VtcHR5KCBzZWxlY3RvciApKSB7XG5cdFx0XHRcdC8vIEV2ZW50cyBiaW5kZWQgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0Zm9yIChsZXQgaSA9IHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXS5sZW5ndGggLSAxOyBpID49IDA7IGkgLS0pIHtcblx0XHRcdFx0XHRpZiAoJ3NlbGYnID09IHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXVsgaSBdLnNlbGVjdG9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnRfbmFtZSwgdGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdWyBpIF0uaGFuZGxlciApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXVsgaSBdLmRlbGVnYXRlLmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyB1bmJpbmQgZGVsZWdhdGVzIGV2ZW50c1xuXHRcdFx0XHRmb3IgKGxldCBpID0gdGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtLSkge1xuXHRcdFx0XHRcdGlmIChzZWxlY3RvciA9PSB0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF1bIGkgXS5zZWxlY3Rvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdWyBpIF0uZGVsZWdhdGUuZGVzdHJveSgpO1xuXHRcdFx0XHRcdFx0cHVsbEF0KCB0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF0sIGkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSGVscGVyIHRvIGVhc2lseSBhZGQgY2xhc3NlcyBpbiBhIHNpbmdsZSBsaW5lIHdoaWNoIHdpbGwgdGhlbiBhZGQgb25lIHBlciBjbGFzcyAoSUUxMCBjb21wYXRpYmxlKVxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9ICAgICAgICBlbCAgICAgICAgT3B0aW9uYWwuIERlZmF1bHQ6IGN1cnJlbnQgVmlldyBlbGVtZW50LiBUaGUgdGFyZ2V0IGVsZW1lbnQgdG8gYWRkIGNsYXNzZXMuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgY2xzICAgICAgICBDbGFzcyBuYW1lIHNlcGFyYXRlZCBieSBhIGNvbW1hIG9yIHNwYWNlLlxuXHQgKi9cblx0YWRkQ2xhc3MoKSB7XG5cdFx0Y29uc3QgeyBlbCwgY2xhc3NlcyB9ID0gcGFyc2VDbGFzc0FyZ3VtZW50cy5jYWxsKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRjbGFzc2VzLmZvckVhY2goICggYyApID0+IHtcblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoIGMgKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvKipcblx0ICogSGVscGVyIHRvIGVhc2lseSByZW1vdmUgY2xhc3NlcyBpbiBhIHNpbmdsZSBsaW5lIHdoaWNoIHdpbGwgdGhlbiByZW1vdmUgb25lIHBlciBjbGFzcyAoSUUxMCBjb21wYXRpYmxlKVxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9ICBlbCAgICAgT3B0aW9uYWwuIERlZmF1bHQ6IGN1cnJlbnQgVmlldyBlbGVtZW50LiBUaGUgdGFyZ2V0IGVsZW1lbnQgdG8gcmVtb3ZlIGNsYXNzZXMuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSAgIGNsYXNzICBDbGFzcyBuYW1lLiBNdWx0aXBsZSBjbGFzc2VzIGNhbiBiZSBwYXNzZWQgYXMgZXh0cmEgYXJncy5cblx0ICovXG5cdHJlbW92ZUNsYXNzKCkge1xuXHRcdGNvbnN0IHsgZWwsIGNsYXNzZXMgfSA9IHBhcnNlQ2xhc3NBcmd1bWVudHMuY2FsbCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0Y2xhc3Nlcy5mb3JFYWNoKCAoIGMgKSA9PiB7XG5cdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCBjICk7XG5cdFx0fSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgYSByZWZlcmVuY2UgdG8gdGhlIGxvYWRlZCBjb21wb25lbnRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnRzXG5cdCAqL1xuXHRzZXRDb21wb25lbnRzUmVmZXJlbmNlKCBjb21wb25lbnRzICkge1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgY29tcG9uZW50IHdpdGggdGhlIHJlZmVyZW5jZWQga2V5XG5cdCAqXG5cdCAqIEBwYXJhbSBrZXlcblx0ICogQHJldHVybnMgeyp9XG5cdCAqL1xuXHRnZXRDb21wb25lbnQoIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnRzWyBrZXkgXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPZmYgYWxsIGV2ZW50cyAoZWxlbWVudCAmIGdsb2JhbCkuXG5cdCAqXG5cdCAqIEBnbG9iYWwgdmlld3BvcnRfc2VydmljZVxuXHQgKi9cblx0ZGVzdHJveSgpIHtcblx0XHRmb3IgKGxldCBldmVudF9uYW1lIGluIHRoaXMuZXZlbnRzLmdsb2JhbCkge1xuXHRcdFx0dGhpcy5vZmYoIGV2ZW50X25hbWUsIG51bGwsIG51bGwsIHRydWUgKTtcblx0XHR9XG5cdFx0Zm9yIChsZXQgZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5lbGVtZW50KSB7XG5cdFx0XHR0aGlzLm9mZiggZXZlbnRfbmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIHZpZXdwb3J0IHNlcnZpY2Vcblx0XHQvLyB2aWV3cG9ydF9zZXJ2aWNlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHR9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFqYXgoIHVybCwgbWV0aG9kLCBkYXRhID0gbnVsbCApIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHR4aHIub3BlbiggbWV0aG9kLCB1cmwgKTtcblx0XHR4aHIuc2VuZCggZGF0YSApO1xuXHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuXHRcdFx0XHRsZXQgcmF3ID0geGhyLnJlc3BvbnNlVGV4dDtcblx0XHRcdFx0bGV0IHJlc3A7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmVzcCA9IEpTT04ucGFyc2UoIHJhdyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoICggZXJyICkge1xuXHRcdFx0XHRcdHJlc3AgPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcblx0XHRcdFx0XHRyZXNvbHZlKCByZXNwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KCByZXNwICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG4iLCIvKipcbiAqIE1ha2Ugc3VyZSBhbmNob3IgbGlua3MganVtcCBkb250IGp1bXAgdG8gaGlnaCAoZml4ZWQgaGVhZGVyKVxuICpcbiAqIEFkYXB0YXRpb24gb2YgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEzMDY3MDA5XG4gKi9cbihmdW5jdGlvbihkb2N1bWVudCwgaGlzdG9yeSwgbG9jYXRpb24pIHtcblx0dmFyIEhJU1RPUllfU1VQUE9SVCA9ICEhKGhpc3RvcnkgJiYgaGlzdG9yeS5wdXNoU3RhdGUpO1xuXG5cdHZhciBhbmNob3JTY3JvbGxzID0ge1xuXHRcdEFOQ0hPUl9SRUdFWDogL14jW14gXSskLyxcblx0XHRBRERJVElPTkFMX01BUkdJTl9QWDogMjAsXG5cblx0XHQvKipcblx0XHQgKiBFc3RhYmxpc2ggZXZlbnRzLCBhbmQgZml4IGluaXRpYWwgc2Nyb2xsIHBvc2l0aW9uIGlmIGEgaGFzaCBpcyBwcm92aWRlZC5cblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2Nyb2xsVG9DdXJyZW50KCk7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuc2Nyb2xsVG9DdXJyZW50LmJpbmQodGhpcykpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZWdhdGVBbmNob3JzLmJpbmQodGhpcykpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm4gdGhlIG9mZnNldCBhbW91bnQgdG8gZGVkdWN0IGZyb20gdGhlIG5vcm1hbCBzY3JvbGwgcG9zaXRpb24uXG5cdFx0ICogTW9kaWZ5IGFzIGFwcHJvcHJpYXRlIHRvIGFsbG93IGZvciBkeW5hbWljIGNhbGN1bGF0aW9uc1xuXHRcdCAqL1xuXHRcdGdldEZpeGVkT2Zmc2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbnN0IG5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ28taGVhZGVyX19tZW51Jyk7XG5cdFx0XHRjb25zdCBhZG1pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cGFkbWluYmFyJyk7XG5cdFx0XHRsZXQgb2Zmc2V0ID0gdGhpcy5BRERJVElPTkFMX01BUkdJTl9QWDtcblxuXHRcdFx0aWYgKGFkbWluICYmIGFkbWluLm9mZnNldEhlaWdodCkge1xuXHRcdFx0XHRvZmZzZXQgKz0gYWRtaW4ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmF2Lmxlbmd0aCAmJiBuYXZbMF0ub2Zmc2V0SGVpZ2h0KSB7XG5cdFx0XHRcdG9mZnNldCArPSBuYXZbMF0ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0O1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBJZiB0aGUgcHJvdmlkZWQgaHJlZiBpcyBhbiBhbmNob3Igd2hpY2ggcmVzb2x2ZXMgdG8gYW4gZWxlbWVudCBvbiB0aGVcblx0XHQgKiBwYWdlLCBzY3JvbGwgdG8gaXQuXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfSBocmVmXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gLSBXYXMgdGhlIGhyZWYgYW4gYW5jaG9yLlxuXHRcdCAqL1xuXHRcdHNjcm9sbElmQW5jaG9yOiBmdW5jdGlvbihocmVmLCBwdXNoVG9IaXN0b3J5KSB7XG5cdFx0XHR2YXIgbWF0Y2gsIHJlY3QsIGFuY2hvck9mZnNldDtcblxuXHRcdFx0aWYoIXRoaXMuQU5DSE9SX1JFR0VYLnRlc3QoaHJlZikpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRtYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhyZWYuc2xpY2UoMSkpO1xuXG5cdFx0XHRpZihtYXRjaCkge1xuXHRcdFx0XHRyZWN0ID0gbWF0Y2guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdGFuY2hvck9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QudG9wIC0gdGhpcy5nZXRGaXhlZE9mZnNldCgpO1xuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8od2luZG93LnBhZ2VYT2Zmc2V0LCBhbmNob3JPZmZzZXQpO1xuXG5cdFx0XHRcdC8vIEFkZCB0aGUgc3RhdGUgdG8gaGlzdG9yeSBhcy1wZXIgbm9ybWFsIGFuY2hvciBsaW5rc1xuXHRcdFx0XHRpZihISVNUT1JZX1NVUFBPUlQgJiYgcHVzaFRvSGlzdG9yeSkge1xuXHRcdFx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgbG9jYXRpb24ucGF0aG5hbWUgKyBocmVmKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gISFtYXRjaDtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQXR0ZW1wdCB0byBzY3JvbGwgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24ncyBoYXNoLlxuXHRcdCAqL1xuXHRcdHNjcm9sbFRvQ3VycmVudDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNjcm9sbElmQW5jaG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSWYgdGhlIGNsaWNrIGV2ZW50J3MgdGFyZ2V0IHdhcyBhbiBhbmNob3IsIGZpeCB0aGUgc2Nyb2xsIHBvc2l0aW9uLlxuXHRcdCAqL1xuXHRcdGRlbGVnYXRlQW5jaG9yczogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGVsZW0gPSBlLnRhcmdldDtcblxuXHRcdFx0aWYoXG5cdFx0XHRcdGVsZW0ubm9kZU5hbWUgPT09ICdBJyAmJlxuXHRcdFx0XHR0aGlzLnNjcm9sbElmQW5jaG9yKGVsZW0uZ2V0QXR0cmlidXRlKCdocmVmJyksIHRydWUpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHQnRE9NQ29udGVudExvYWRlZCcsIGFuY2hvclNjcm9sbHMuaW5pdC5iaW5kKGFuY2hvclNjcm9sbHMpXG5cdCk7XG59KSh3aW5kb3cuZG9jdW1lbnQsIHdpbmRvdy5oaXN0b3J5LCB3aW5kb3cubG9jYXRpb24pO1xuIiwiLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBwYWdlIHNob3VsZCBiZSBkaXNwbGF5ZWQgZGlzdHJhY3Rpb24gZnJlZS5cbiAqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhZ2Ugc2F0aXNmaWVzIGFueSBvZiB0aGUgZm9sbG93aW5nIGNyaXRlcmlhOlxuICogLSB0aGUgdXJsIHF1ZXJ5IHN0cmluZyBgZm9jdXNgIGlzIHByZXNlbnRcbiAqIC0gdGhlIHJlZmVycmVyIGlzIG5vdCB0aGUgY3VycmVudCBzaXRlXG4gKlxuICogVGhlcmVmb3JlIHZpc2l0b3JzIGZvbGxvd2luZyBpbnRlcm5hbCBsaW5rcyBkbyBub3Qgc2VlIHRoZVxuICogZGlzdHJhY3Rpb24gZnJlZSBwYWdlLCB1bmxlc3MgdGhlIGBmb2N1c2AgcXVlcnkgc3RyaW5nIHdhcyBzZXQuXG4gKlxuICogQHJldHVybiBib29sZWFuXG4gKi9cbmNvbnN0IGRpc3RyYWN0aW9uRnJlZSA9IGZ1bmN0aW9uKCkge1xuXHRsZXQgdXJsLCByZWZlcnJlcjtcblxuXHR0cnkge1xuXHRcdHVybCA9IG5ldyBVUkwoIHdpbmRvdy5sb2NhdGlvbiApO1xuXHR9XG5cdGNhdGNoICggZSApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICh1cmwuc2VhcmNoUGFyYW1zLmdldCggJ2ZvY3VzJyApICE9PSBudWxsKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHR0cnkge1xuXHRcdHJlZmVycmVyID0gbmV3IFVSTCggZG9jdW1lbnQucmVmZXJyZXIgKTtcblx0fVxuXHRjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gdXJsLmhvc3RuYW1lICE9PSByZWZlcnJlci5ob3N0bmFtZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3RyYWN0aW9uRnJlZTtcbiIsImNsYXNzIEluVmlldyB7XG5cdGNvbnN0cnVjdG9yKCBlbGVtZW50LCBjYWxsYmFjaywgZGVib3VuY2VEZWxheU1TICkge1xuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHRcdHRoaXMuZGVib3VuY2VEZWxheSA9IGRlYm91bmNlRGVsYXlNUztcblx0fVxuXG5cdHJlcXVlc3RUaWNrKCkge1xuXHRcdHRoaXMudGltZXIgPSB0aGlzLnRpbWVyIHx8IHNldFRpbWVvdXQoICgpID0+IHtcblx0XHRcdHRoaXMudGltZXIgPSBudWxsO1xuXHRcdFx0aWYgKCF0aGlzLnRpY2tpbmcpIHtcblx0XHRcdFx0dGhpcy50aWNraW5nID0gdHJ1ZTtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggdGhpcy5tYXliZVRyaWdnZXJBY3Rpb24uYmluZCggdGhpcyApICk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcy5kZWJvdW5jZURlbGF5ICk7XG5cdH1cblxuXHRtYXliZVRyaWdnZXJBY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuaW5WaWV3KCkpIHtcblx0XHRcdHRoaXMuY2FsbGJhY2soKTtcblx0XHR9XG5cblx0XHR0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblx0fVxuXG5cdGluVmlldygpIHtcblx0XHRjb25zdCB3aW5kb3dUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdFx0Y29uc3Qgd2luZG93Qm90dG9tID0gd2luZG93VG9wICsgd2luZG93LmlubmVySGVpZ2h0O1xuXHRcdGNvbnN0IGltZ1JlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgaW1nVG9wID0gd2luZG93VG9wICsgaW1nUmVjdC50b3A7XG5cdFx0Y29uc3QgaW1nQm90dG9tID0gaW1nVG9wICsgaW1nUmVjdC5oZWlnaHQ7XG5cdFx0cmV0dXJuICggd2luZG93VG9wIDwgaW1nQm90dG9tICYmIHdpbmRvd0JvdHRvbSA+IGltZ1RvcCApO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCBlbGVtZW50LCBkZWJvdW5jZURlbGF5TVMgPSAzMDAgKSB7XG5cdGxldCByZXNvbHZlO1xuXHRjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoIHJlcyA9PiByZXNvbHZlID0gcmVzICk7XG5cdGNvbnN0IHdhdGNoZXIgPSBuZXcgSW5WaWV3KCBlbGVtZW50LCAoKSA9PiByZXNvbHZlKCksIGRlYm91bmNlRGVsYXlNUyApO1xuXG5cdGNvbnN0IGhhbmRsZXIgPSB3YXRjaGVyLnJlcXVlc3RUaWNrLmJpbmQoIHdhdGNoZXIgKTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIGhhbmRsZXIsIGZhbHNlICk7XG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgaGFuZGxlciwgZmFsc2UgKTtcblxuXHR3YXRjaGVyLnJlcXVlc3RUaWNrKCk7XG5cblx0cmV0dXJuIHByb21pc2UudGhlbiggKCkgPT4ge1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgaGFuZGxlciApO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgaGFuZGxlciApO1xuXHR9ICk7XG59XG4iLCIvKipcbiAqIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBjbGFzcyBsaXN0IHByb3BlcnR5IGZvciB0aGlzIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBicm93c2VyU3VwcG9ydHNDbGFzc0xpc3QoZWxlbWVudCkge1xuXHRyZXR1cm4gISAhIGVsZW1lbnQuY2xhc3NMaXN0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyU3VwcG9ydHNDbGFzc0xpc3Q7XG5cblxuXG4iLCIvKipcbiAqIENoZWNrIGlmIGEgZG9tIGVsZW1lbnQgZXhpc3QuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBlbGVtZW50RXhpc3QoIGVsZW1lbnQgKSB7XG5cdHJldHVybiAhICEgKCBlbGVtZW50ICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGVsZW1lbnRFeGlzdDtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8qIFBvbHlmaWxsIHNlcnZpY2UgdjMuMzguMFxuICogRm9yIGRldGFpbGVkIGNyZWRpdHMgYW5kIGxpY2VuY2UgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9maW5hbmNpYWwtdGltZXMvcG9seWZpbGwtc2VydmljZS5cbiAqXG4gKiBGZWF0dXJlcyByZXF1ZXN0ZWQ6IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLEN1c3RvbUV2ZW50LEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QsSFRNTFBpY3R1cmVFbGVtZW50LE9iamVjdC5hc3NpZ24sT2JqZWN0LmVudHJpZXMsUHJvbWlzZSxVUkwsbWF0Y2hNZWRpYVxuICpcbiAqIC0gX0VTQWJzdHJhY3QuQXJyYXlDcmVhdGUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuQ2FsbCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuR2V0LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJPYmplY3QuYXNzaWduXCIsIFwiX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXNcIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIsIFwiVVJMXCIsIFwiX0VTQWJzdHJhY3QuSXNSZWdFeHBcIiwgXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIiwgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJfRVNBYnN0cmFjdC5HZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiKVxuICogLSBfRVNBYnN0cmFjdC5IYXNQcm9wZXJ0eSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LklzQXJyYXksIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5pc0FycmF5XCIsIFwiVVJMXCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LklzQ2FsbGFibGUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXCIsIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiLCBcIk9iamVjdC5hc3NpZ25cIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiX0VTQWJzdHJhY3QuR2V0TWV0aG9kXCIsIFwiX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5SZXF1aXJlT2JqZWN0Q29lcmNpYmxlLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gX0VTQWJzdHJhY3QuVG9Cb29sZWFuLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuSXNSZWdFeHBcIiwgXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIilcbiAqIC0gX0VTQWJzdHJhY3QuVG9JbnRlZ2VyLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuVG9MZW5ndGhcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlRvTGVuZ3RoLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuVG9PYmplY3QsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiT2JqZWN0LmFzc2lnblwiLCBcIk9iamVjdC5lbnRyaWVzXCIsIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIiwgXCJVUkxcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIsIFwiX0VTQWJzdHJhY3QuR2V0VlwiLCBcIl9FU0Fic3RyYWN0LkdldE1ldGhvZFwiLCBcIl9FU0Fic3RyYWN0LlRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIilcbiAqIC0gX0VTQWJzdHJhY3QuR2V0ViwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LkdldE1ldGhvZFwiLCBcIl9FU0Fic3RyYWN0LlRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiKVxuICogLSBfRVNBYnN0cmFjdC5HZXRNZXRob2QsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJfRVNBYnN0cmFjdC5Jc0NvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlR5cGUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXNcIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIsIFwiVVJMXCIsIFwiT2JqZWN0LmNyZWF0ZVwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LklzUmVnRXhwXCIsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiLCBcIl9FU0Fic3RyYWN0LklzQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5HZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiKVxuICogLSBfRVNBYnN0cmFjdC5HZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3IsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5Jc0NvbnN0cnVjdG9yLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIsIFwiX0VTQWJzdHJhY3QuQ29uc3RydWN0XCIpXG4gKiAtIF9FU0Fic3RyYWN0LklzUmVnRXhwLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gX0VTQWJzdHJhY3QuT3JkaW5hcnlUb1ByaW1pdGl2ZSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LlRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiKVxuICogLSBfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIilcbiAqIC0gX0VTQWJzdHJhY3QuVG9TdHJpbmcsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gZG9jdW1lbnQsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJFdmVudFwiLCBcIkN1c3RvbUV2ZW50XCIsIFwibWF0Y2hNZWRpYVwiLCBcIn5odG1sNS1lbGVtZW50c1wiLCBcIkhUTUxQaWN0dXJlRWxlbWVudFwiLCBcIkVsZW1lbnRcIiwgXCJFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzXCIsIFwiRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdFwiLCBcImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JcIilcbiAqIC0gfmh0bWw1LWVsZW1lbnRzLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiSFRNTFBpY3R1cmVFbGVtZW50XCIpXG4gKiAtIEVsZW1lbnQsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJFdmVudFwiLCBcIkN1c3RvbUV2ZW50XCIsIFwibWF0Y2hNZWRpYVwiLCBcIkVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNcIiwgXCJFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XCIsIFwiZG9jdW1lbnQucXVlcnlTZWxlY3RvclwiKVxuICogLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1wiLCBcIkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3RcIilcbiAqIC0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3RcIilcbiAqIC0gRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCwgTGljZW5zZTogQ0MwXG4gKiAtIEhUTUxQaWN0dXJlRWxlbWVudCwgTGljZW5zZTogTUlUXG4gKiAtIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJfRVNBYnN0cmFjdC5DcmVhdGVNZXRob2RQcm9wZXJ0eVwiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiT2JqZWN0LmFzc2lnblwiLCBcIk9iamVjdC5lbnRyaWVzXCIsIFwiRXZlbnRcIiwgXCJDdXN0b21FdmVudFwiLCBcIm1hdGNoTWVkaWFcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIl9JdGVyYXRvclwiLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIlN5bWJvbFwiLCBcIlN5bWJvbC5pdGVyYXRvclwiLCBcIlN5bWJvbC50b1N0cmluZ1RhZ1wiLCBcIl9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eVwiLCBcIl9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3dcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuQ29uc3RydWN0XCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3dcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5DcmVhdGVNZXRob2RQcm9wZXJ0eSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJPYmplY3QuYXNzaWduXCIsIFwiT2JqZWN0LmVudHJpZXNcIiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIFwiT2JqZWN0LmtleXNcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIkFycmF5LmlzQXJyYXlcIiwgXCJPYmplY3QuY3JlYXRlXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJPYmplY3Quc2V0UHJvdG90eXBlT2ZcIiwgXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcIiwgXCJfSXRlcmF0b3JcIiwgXCJPYmplY3QuZ2V0UHJvdG90eXBlT2ZcIiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBcIlN5bWJvbFwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIsIFwiT2JqZWN0LmZyZWV6ZVwiKVxuICogLSBBcnJheS5pc0FycmF5LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiVVJMXCIpXG4gKiAtIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiVVJMXCIsIFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiKVxuICogLSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgTGljZW5zZTogTUlUIChyZXF1aXJlZCBieSBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIiwgXCJPYmplY3QuYXNzaWduXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIE9iamVjdC5mcmVlemUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJPYmplY3QuYXNzaWduXCIsIFwiX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXNcIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIsIFwiVVJMXCIsIFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiKVxuICogLSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIilcbiAqIC0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuQ29uc3RydWN0XCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gT2JqZWN0LmtleXMsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJPYmplY3QuYXNzaWduXCIsIFwiX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXNcIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIsIFwiVVJMXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBfRVNBYnN0cmFjdC5FbnVtZXJhYmxlT3duUHJvcGVydGllcywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIk9iamVjdC5lbnRyaWVzXCIpXG4gKiAtIE9iamVjdC5lbnRyaWVzLCBMaWNlbnNlOiBDQzBcbiAqIC0gT2JqZWN0LmFzc2lnbiwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJVUkxcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiT2JqZWN0LmNyZWF0ZVwiKVxuICogLSBPYmplY3QuY3JlYXRlLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9FU0Fic3RyYWN0Lk9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuQ29uc3RydWN0XCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3IsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5Db25zdHJ1Y3RcIiwgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuQ29uc3RydWN0LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBBcnJheS5wcm90b3R5cGUubWFwLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBPYmplY3Quc2V0UHJvdG90eXBlT2YsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIFByb21pc2UsIExpY2Vuc2U6IE1JVFxuICogLSBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBTeW1ib2wsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiU3ltYm9sLml0ZXJhdG9yXCIsIFwiU3ltYm9sLnRvU3RyaW5nVGFnXCIpXG4gKiAtIFN5bWJvbC5pdGVyYXRvciwgTGljZW5zZTogTUlUIChyZXF1aXJlZCBieSBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gU3ltYm9sLnRvU3RyaW5nVGFnLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBfSXRlcmF0b3IsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIF9BcnJheUl0ZXJhdG9yLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gQXJyYXkucHJvdG90eXBlLmVudHJpZXMsIExpY2Vuc2U6IENDMFxuICogLSBVUkwsIExpY2Vuc2U6IENDMC0xLjBcbiAqIC0gV2luZG93LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiRXZlbnRcIiwgXCJDdXN0b21FdmVudFwiLCBcIm1hdGNoTWVkaWFcIilcbiAqIC0gRXZlbnQsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJDdXN0b21FdmVudFwiLCBcIm1hdGNoTWVkaWFcIilcbiAqIC0gQ3VzdG9tRXZlbnQsIExpY2Vuc2U6IENDMFxuICogLSBtYXRjaE1lZGlhLCBMaWNlbnNlOiBDQzAgKi9cblxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xuXG4vLyBfRVNBYnN0cmFjdC5BcnJheUNyZWF0ZVxuLy8gOS40LjIuMi4gQXJyYXlDcmVhdGUgKCBsZW5ndGggWyAsIHByb3RvIF0gKVxuXHRmdW5jdGlvbiBBcnJheUNyZWF0ZShsZW5ndGggLyogWywgcHJvdG9dICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBBc3NlcnQ6IGxlbmd0aCBpcyBhbiBpbnRlZ2VyIE51bWJlciDiiaUgMC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBJZiBsZW5ndGggaXMgLTAsIHNldCBsZW5ndGggdG8gKzAuXG5cdFx0aWYgKDEgLyBsZW5ndGggPT09IC1JbmZpbml0eSkge1xuXHRcdFx0bGVuZ3RoID0gMDtcblx0XHR9XG5cdFx0Ly8gMy4gSWYgbGVuZ3RoPjJeMzItMSwgdGhyb3cgYSBSYW5nZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRpZiAobGVuZ3RoID4gKE1hdGgucG93KDIsIDMyKSAtIDEpKSB7XG5cdFx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBhcnJheSBsZW5ndGgnKTtcblx0XHR9XG5cdFx0Ly8gNC4gSWYgcHJvdG8gaXMgbm90IHByZXNlbnQsIHNldCBwcm90byB0byB0aGUgaW50cmluc2ljIG9iamVjdCAlQXJyYXlQcm90b3R5cGUlLlxuXHRcdC8vIDUuIExldCBBIGJlIGEgbmV3bHkgY3JlYXRlZCBBcnJheSBleG90aWMgb2JqZWN0LlxuXHRcdHZhciBBID0gW107XG5cdFx0Ly8gNi4gU2V0IEEncyBlc3NlbnRpYWwgaW50ZXJuYWwgbWV0aG9kcyBleGNlcHQgZm9yIFtbRGVmaW5lT3duUHJvcGVydHldXSB0byB0aGUgZGVmYXVsdCBvcmRpbmFyeSBvYmplY3QgZGVmaW5pdGlvbnMgc3BlY2lmaWVkIGluIDkuMS5cblx0XHQvLyA3LiBTZXQgQS5bW0RlZmluZU93blByb3BlcnR5XV0gYXMgc3BlY2lmaWVkIGluIDkuNC4yLjEuXG5cdFx0Ly8gOC4gU2V0IEEuW1tQcm90b3R5cGVdXSB0byBwcm90by5cblx0XHQvLyA5LiBTZXQgQS5bW0V4dGVuc2libGVdXSB0byB0cnVlLlxuXHRcdC8vIDEwLiBQZXJmb3JtICEgT3JkaW5hcnlEZWZpbmVPd25Qcm9wZXJ0eShBLCBcImxlbmd0aFwiLCBQcm9wZXJ0eURlc2NyaXB0b3J7W1tWYWx1ZV1dOiBsZW5ndGgsIFtbV3JpdGFibGVdXTogdHJ1ZSwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0pLlxuXHRcdEEubGVuZ3RoID0gbGVuZ3RoO1xuXHRcdC8vIDExLiBSZXR1cm4gQS5cblx0XHRyZXR1cm4gQTtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5DYWxsXG5cdC8qIGdsb2JhbCBJc0NhbGxhYmxlICovXG4vLyA3LjMuMTIuIENhbGwgKCBGLCBWIFsgLCBhcmd1bWVudHNMaXN0IF0gKVxuXHRmdW5jdGlvbiBDYWxsKEYsIFYgLyogWywgYXJndW1lbnRzTGlzdF0gKi8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gSWYgYXJndW1lbnRzTGlzdCBpcyBub3QgcHJlc2VudCwgc2V0IGFyZ3VtZW50c0xpc3QgdG8gYSBuZXcgZW1wdHkgTGlzdC5cblx0XHR2YXIgYXJndW1lbnRzTGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogW107XG5cdFx0Ly8gMi4gSWYgSXNDYWxsYWJsZShGKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdGlmIChJc0NhbGxhYmxlKEYpID09PSBmYWxzZSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoRikgKyAnaXMgbm90IGEgZnVuY3Rpb24uJyk7XG5cdFx0fVxuXHRcdC8vIDMuIFJldHVybiA/IEYuW1tDYWxsXV0oViwgYXJndW1lbnRzTGlzdCkuXG5cdFx0cmV0dXJuIEYuYXBwbHkoViwgYXJndW1lbnRzTGlzdCk7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuR2V0XG4vLyA3LjMuMS4gR2V0ICggTywgUCApXG5cdGZ1bmN0aW9uIEdldChPLCBQKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMi4gQXNzZXJ0OiBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDMuIFJldHVybiA/IE8uW1tHZXRdXShQLCBPKS5cblx0XHRyZXR1cm4gT1tQXTtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5IYXNQcm9wZXJ0eVxuLy8gNy4zLjEwLiBIYXNQcm9wZXJ0eSAoIE8sIFAgKVxuXHRmdW5jdGlvbiBIYXNQcm9wZXJ0eShPLCBQKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyBBc3NlcnQ6IFR5cGUoTykgaXMgT2JqZWN0LlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIEFzc2VydDogSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIFJldHVybiA/IE8uW1tIYXNQcm9wZXJ0eV1dKFApLlxuXHRcdHJldHVybiBQIGluIE87XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuSXNBcnJheVxuLy8gNy4yLjIuIElzQXJyYXkgKCBhcmd1bWVudCApXG5cdGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIElmIFR5cGUoYXJndW1lbnQpIGlzIG5vdCBPYmplY3QsIHJldHVybiBmYWxzZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBJZiBhcmd1bWVudCBpcyBhbiBBcnJheSBleG90aWMgb2JqZWN0LCByZXR1cm4gdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAzLiBJZiBhcmd1bWVudCBpcyBhIFByb3h5IGV4b3RpYyBvYmplY3QsIHRoZW5cblx0XHQvLyBhLiBJZiBhcmd1bWVudC5bW1Byb3h5SGFuZGxlcl1dIGlzIG51bGwsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHQvLyBiLiBMZXQgdGFyZ2V0IGJlIGFyZ3VtZW50LltbUHJveHlUYXJnZXRdXS5cblx0XHQvLyBjLiBSZXR1cm4gPyBJc0FycmF5KHRhcmdldCkuXG5cdFx0Ly8gNC4gUmV0dXJuIGZhbHNlLlxuXG5cdFx0Ly8gUG9seWZpbGwuaW8gLSBXZSBjYW4gc2tpcCBhbGwgdGhlIGFib3ZlIHN0ZXBzIGFuZCBjaGVjayB0aGUgc3RyaW5nIHJldHVybmVkIGZyb20gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpLlxuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LklzQ2FsbGFibGVcbi8vIDcuMi4zLiBJc0NhbGxhYmxlICggYXJndW1lbnQgKVxuXHRmdW5jdGlvbiBJc0NhbGxhYmxlKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAxLiBJZiBUeXBlKGFyZ3VtZW50KSBpcyBub3QgT2JqZWN0LCByZXR1cm4gZmFsc2UuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMi4gSWYgYXJndW1lbnQgaGFzIGEgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLCByZXR1cm4gdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAzLiBSZXR1cm4gZmFsc2UuXG5cblx0XHQvLyBQb2x5ZmlsbC5pbyAtIE9ubHkgZnVuY3Rpb24gb2JqZWN0cyBoYXZlIGEgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLiBUaGlzIG1lYW5zIHdlIGNhbiBzaW1wbGlmeSB0aGlzIGZ1bmN0aW9uIHRvIGNoZWNrIHRoYXQgdGhlIGFyZ3VtZW50IGhhcyBhIHR5cGUgb2YgZnVuY3Rpb24uXG5cdFx0cmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gJ2Z1bmN0aW9uJztcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5SZXF1aXJlT2JqZWN0Q29lcmNpYmxlXG4vLyA3LjIuMS4gUmVxdWlyZU9iamVjdENvZXJjaWJsZSAoIGFyZ3VtZW50IClcbi8vIFRoZSBhYnN0cmFjdCBvcGVyYXRpb24gVG9PYmplY3QgY29udmVydHMgYXJndW1lbnQgdG8gYSB2YWx1ZSBvZiB0eXBlIE9iamVjdCBhY2NvcmRpbmcgdG8gVGFibGUgMTI6XG4vLyBUYWJsZSAxMjogVG9PYmplY3QgQ29udmVyc2lvbnNcblx0Lypcblx0fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgQXJndW1lbnQgVHlwZSB8IFJlc3VsdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBVbmRlZmluZWQgICAgIHwgVGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgTnVsbCAgICAgICAgICB8IFRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8IEJvb2xlYW4gICAgICAgfCBSZXR1cm4gYXJndW1lbnQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBOdW1iZXIgICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgU3RyaW5nICAgICAgICB8IFJldHVybiBhcmd1bWVudC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8IFN5bWJvbCAgICAgICAgfCBSZXR1cm4gYXJndW1lbnQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBPYmplY3QgICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHQqL1xuXHRmdW5jdGlvbiBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRpZiAoYXJndW1lbnQgPT09IG51bGwgfHwgYXJndW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcmd1bWVudDtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Ub0Jvb2xlYW5cbi8vIDcuMS4yLiBUb0Jvb2xlYW4gKCBhcmd1bWVudCApXG4vLyBUaGUgYWJzdHJhY3Qgb3BlcmF0aW9uIFRvQm9vbGVhbiBjb252ZXJ0cyBhcmd1bWVudCB0byBhIHZhbHVlIG9mIHR5cGUgQm9vbGVhbiBhY2NvcmRpbmcgdG8gVGFibGUgOTpcblx0Lypcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0fCBBcmd1bWVudCBUeXBlIHwgUmVzdWx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0fCBVbmRlZmluZWQgICAgIHwgUmV0dXJuIGZhbHNlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBOdWxsICAgICAgICAgIHwgUmV0dXJuIGZhbHNlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBCb29sZWFuICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBOdW1iZXIgICAgICAgIHwgSWYgYXJndW1lbnQgaXMgKzAsIC0wLCBvciBOYU4sIHJldHVybiBmYWxzZTsgb3RoZXJ3aXNlIHJldHVybiB0cnVlLiAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBTdHJpbmcgICAgICAgIHwgSWYgYXJndW1lbnQgaXMgdGhlIGVtcHR5IFN0cmluZyAoaXRzIGxlbmd0aCBpcyB6ZXJvKSwgcmV0dXJuIGZhbHNlOyBvdGhlcndpc2UgcmV0dXJuIHRydWUuIHxcblx0fCBTeW1ib2wgICAgICAgIHwgUmV0dXJuIHRydWUuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBPYmplY3QgICAgICAgIHwgUmV0dXJuIHRydWUuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ki9cblx0ZnVuY3Rpb24gVG9Cb29sZWFuKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRyZXR1cm4gQm9vbGVhbihhcmd1bWVudCk7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuVG9JbnRlZ2VyXG4vLyA3LjEuNC4gVG9JbnRlZ2VyICggYXJndW1lbnQgKVxuXHRmdW5jdGlvbiBUb0ludGVnZXIoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gTGV0IG51bWJlciBiZSA/IFRvTnVtYmVyKGFyZ3VtZW50KS5cblx0XHR2YXIgbnVtYmVyID0gTnVtYmVyKGFyZ3VtZW50KTtcblx0XHQvLyAyLiBJZiBudW1iZXIgaXMgTmFOLCByZXR1cm4gKzAuXG5cdFx0aWYgKGlzTmFOKG51bWJlcikpIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHQvLyAzLiBJZiBudW1iZXIgaXMgKzAsIC0wLCAr4oieLCBvciAt4oieLCByZXR1cm4gbnVtYmVyLlxuXHRcdGlmICgxL251bWJlciA9PT0gSW5maW5pdHkgfHwgMS9udW1iZXIgPT09IC1JbmZpbml0eSB8fCBudW1iZXIgPT09IEluZmluaXR5IHx8IG51bWJlciA9PT0gLUluZmluaXR5KSB7XG5cdFx0XHRyZXR1cm4gbnVtYmVyO1xuXHRcdH1cblx0XHQvLyA0LiBSZXR1cm4gdGhlIG51bWJlciB2YWx1ZSB0aGF0IGlzIHRoZSBzYW1lIHNpZ24gYXMgbnVtYmVyIGFuZCB3aG9zZSBtYWduaXR1ZGUgaXMgZmxvb3IoYWJzKG51bWJlcikpLlxuXHRcdHJldHVybiAoKG51bWJlciA8IDApID8gLTEgOiAxKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSk7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuVG9MZW5ndGhcblx0LyogZ2xvYmFsIFRvSW50ZWdlciAqL1xuLy8gNy4xLjE1LiBUb0xlbmd0aCAoIGFyZ3VtZW50IClcblx0ZnVuY3Rpb24gVG9MZW5ndGgoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAxLiBMZXQgbGVuIGJlID8gVG9JbnRlZ2VyKGFyZ3VtZW50KS5cblx0XHR2YXIgbGVuID0gVG9JbnRlZ2VyKGFyZ3VtZW50KTtcblx0XHQvLyAyLiBJZiBsZW4g4omkICswLCByZXR1cm4gKzAuXG5cdFx0aWYgKGxlbiA8PSAwKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0Ly8gMy4gUmV0dXJuIG1pbihsZW4sIDI1My0xKS5cblx0XHRyZXR1cm4gTWF0aC5taW4obGVuLCBNYXRoLnBvdygyLCA1MykgLTEpO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LlRvT2JqZWN0XG4vLyA3LjEuMTMgVG9PYmplY3QgKCBhcmd1bWVudCApXG4vLyBUaGUgYWJzdHJhY3Qgb3BlcmF0aW9uIFRvT2JqZWN0IGNvbnZlcnRzIGFyZ3VtZW50IHRvIGEgdmFsdWUgb2YgdHlwZSBPYmplY3QgYWNjb3JkaW5nIHRvIFRhYmxlIDEyOlxuLy8gVGFibGUgMTI6IFRvT2JqZWN0IENvbnZlcnNpb25zXG5cdC8qXG5cdHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IEFyZ3VtZW50IFR5cGUgfCBSZXN1bHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgVW5kZWZpbmVkICAgICB8IFRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8IE51bGwgICAgICAgICAgfCBUaHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBCb29sZWFuICAgICAgIHwgUmV0dXJuIGEgbmV3IEJvb2xlYW4gb2JqZWN0IHdob3NlIFtbQm9vbGVhbkRhdGFdXSBpbnRlcm5hbCBzbG90IGlzIHNldCB0byBhcmd1bWVudC4gU2VlIDE5LjMgZm9yIGEgZGVzY3JpcHRpb24gb2YgQm9vbGVhbiBvYmplY3RzLiB8XG5cdHwgTnVtYmVyICAgICAgICB8IFJldHVybiBhIG5ldyBOdW1iZXIgb2JqZWN0IHdob3NlIFtbTnVtYmVyRGF0YV1dIGludGVybmFsIHNsb3QgaXMgc2V0IHRvIGFyZ3VtZW50LiBTZWUgMjAuMSBmb3IgYSBkZXNjcmlwdGlvbiBvZiBOdW1iZXIgb2JqZWN0cy4gICAgfFxuXHR8IFN0cmluZyAgICAgICAgfCBSZXR1cm4gYSBuZXcgU3RyaW5nIG9iamVjdCB3aG9zZSBbW1N0cmluZ0RhdGFdXSBpbnRlcm5hbCBzbG90IGlzIHNldCB0byBhcmd1bWVudC4gU2VlIDIxLjEgZm9yIGEgZGVzY3JpcHRpb24gb2YgU3RyaW5nIG9iamVjdHMuICAgIHxcblx0fCBTeW1ib2wgICAgICAgIHwgUmV0dXJuIGEgbmV3IFN5bWJvbCBvYmplY3Qgd2hvc2UgW1tTeW1ib2xEYXRhXV0gaW50ZXJuYWwgc2xvdCBpcyBzZXQgdG8gYXJndW1lbnQuIFNlZSAxOS40IGZvciBhIGRlc2NyaXB0aW9uIG9mIFN5bWJvbCBvYmplY3RzLiAgICB8XG5cdHwgT2JqZWN0ICAgICAgICB8IFJldHVybiBhcmd1bWVudC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0Ki9cblx0ZnVuY3Rpb24gVG9PYmplY3QoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdGlmIChhcmd1bWVudCA9PT0gbnVsbCB8fCBhcmd1bWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHR9XG5cdFx0cmV0dXJuIE9iamVjdChhcmd1bWVudCk7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuR2V0VlxuXHQvKiBnbG9iYWwgVG9PYmplY3QgKi9cbi8vIDcuMy4yIEdldFYgKFYsIFApXG5cdGZ1bmN0aW9uIEdldFYodiwgcCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAxLiBBc3NlcnQ6IElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDIuIExldCBPIGJlID8gVG9PYmplY3QoVikuXG5cdFx0dmFyIG8gPSBUb09iamVjdCh2KTtcblx0XHQvLyAzLiBSZXR1cm4gPyBPLltbR2V0XV0oUCwgVikuXG5cdFx0cmV0dXJuIG9bcF07XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuR2V0TWV0aG9kXG5cdC8qIGdsb2JhbCBHZXRWLCBJc0NhbGxhYmxlICovXG4vLyA3LjMuOS4gR2V0TWV0aG9kICggViwgUCApXG5cdGZ1bmN0aW9uIEdldE1ldGhvZChWLCBQKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDIuIExldCBmdW5jIGJlID8gR2V0VihWLCBQKS5cblx0XHR2YXIgZnVuYyA9IEdldFYoViwgUCk7XG5cdFx0Ly8gMy4gSWYgZnVuYyBpcyBlaXRoZXIgdW5kZWZpbmVkIG9yIG51bGwsIHJldHVybiB1bmRlZmluZWQuXG5cdFx0aWYgKGZ1bmMgPT09IG51bGwgfHwgZnVuYyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHQvLyA0LiBJZiBJc0NhbGxhYmxlKGZ1bmMpIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0aWYgKElzQ2FsbGFibGUoZnVuYykgPT09IGZhbHNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGNhbGxhYmxlOiAnICsgUCk7XG5cdFx0fVxuXHRcdC8vIDUuIFJldHVybiBmdW5jLlxuXHRcdHJldHVybiBmdW5jO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LlR5cGVcbi8vIFwiVHlwZSh4KVwiIGlzIHVzZWQgYXMgc2hvcnRoYW5kIGZvciBcInRoZSB0eXBlIG9mIHhcIi4uLlxuXHRmdW5jdGlvbiBUeXBlKHgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHN3aXRjaCAodHlwZW9mIHgpIHtcblx0XHRcdGNhc2UgJ3VuZGVmaW5lZCc6XG5cdFx0XHRcdHJldHVybiAndW5kZWZpbmVkJztcblx0XHRcdGNhc2UgJ2Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gJ2Jvb2xlYW4nO1xuXHRcdFx0Y2FzZSAnbnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuICdudW1iZXInO1xuXHRcdFx0Y2FzZSAnc3RyaW5nJzpcblx0XHRcdFx0cmV0dXJuICdzdHJpbmcnO1xuXHRcdFx0Y2FzZSAnc3ltYm9sJzpcblx0XHRcdFx0cmV0dXJuICdzeW1ib2wnO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Ly8gdHlwZW9mIG51bGwgaXMgJ29iamVjdCdcblx0XHRcdFx0aWYgKHggPT09IG51bGwpIHJldHVybiAnbnVsbCc7XG5cdFx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gVGhpcyBpcyBoZXJlIGJlY2F1c2UgYSBTeW1ib2wgcG9seWZpbGwgd2lsbCBoYXZlIGEgdHlwZW9mIGBvYmplY3RgLlxuXHRcdFx0XHRpZiAoJ1N5bWJvbCcgaW4gdGhpcyAmJiB4IGluc3RhbmNlb2YgdGhpcy5TeW1ib2wpIHJldHVybiAnc3ltYm9sJztcblx0XHRcdFx0cmV0dXJuICdvYmplY3QnO1xuXHRcdH1cblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5HZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3Jcblx0LyogZ2xvYmFsIEdldCwgVHlwZSAqL1xuLy8gOS4xLjE0LiBHZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3IgKCBjb25zdHJ1Y3RvciwgaW50cmluc2ljRGVmYXVsdFByb3RvIClcblx0ZnVuY3Rpb24gR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yLCBpbnRyaW5zaWNEZWZhdWx0UHJvdG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBBc3NlcnQ6IGludHJpbnNpY0RlZmF1bHRQcm90byBpcyBhIFN0cmluZyB2YWx1ZSB0aGF0IGlzIHRoaXMgc3BlY2lmaWNhdGlvbidzIG5hbWUgb2YgYW4gaW50cmluc2ljIG9iamVjdC4gVGhlIGNvcnJlc3BvbmRpbmcgb2JqZWN0IG11c3QgYmUgYW4gaW50cmluc2ljIHRoYXQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyB0aGUgW1tQcm90b3R5cGVdXSB2YWx1ZSBvZiBhbiBvYmplY3QuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDIuIEFzc2VydDogSXNDYWxsYWJsZShjb25zdHJ1Y3RvcikgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMy4gTGV0IHByb3RvIGJlID8gR2V0KGNvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiKS5cblx0XHR2YXIgcHJvdG8gPSBHZXQoY29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIpO1xuXHRcdC8vIDQuIElmIFR5cGUocHJvdG8pIGlzIG5vdCBPYmplY3QsIHRoZW5cblx0XHRpZiAoVHlwZShwcm90bykgIT09ICdvYmplY3QnKSB7XG5cdFx0XHQvLyBhLiBMZXQgcmVhbG0gYmUgPyBHZXRGdW5jdGlvblJlYWxtKGNvbnN0cnVjdG9yKS5cblx0XHRcdC8vIGIuIFNldCBwcm90byB0byByZWFsbSdzIGludHJpbnNpYyBvYmplY3QgbmFtZWQgaW50cmluc2ljRGVmYXVsdFByb3RvLlxuXHRcdFx0cHJvdG8gPSBpbnRyaW5zaWNEZWZhdWx0UHJvdG87XG5cdFx0fVxuXHRcdC8vIDUuIFJldHVybiBwcm90by5cblx0XHRyZXR1cm4gcHJvdG87XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuSXNDb25zdHJ1Y3RvclxuXHQvKiBnbG9iYWwgVHlwZSAqL1xuLy8gNy4yLjQuIElzQ29uc3RydWN0b3IgKCBhcmd1bWVudCApXG5cdGZ1bmN0aW9uIElzQ29uc3RydWN0b3IoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIElmIFR5cGUoYXJndW1lbnQpIGlzIG5vdCBPYmplY3QsIHJldHVybiBmYWxzZS5cblx0XHRpZiAoVHlwZShhcmd1bWVudCkgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdC8vIDIuIElmIGFyZ3VtZW50IGhhcyBhIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLCByZXR1cm4gdHJ1ZS5cblx0XHQvLyAzLiBSZXR1cm4gZmFsc2UuXG5cblx0XHQvLyBQb2x5ZmlsbC5pbyAtIGBuZXcgYXJndW1lbnRgIGlzIHRoZSBvbmx5IHdheSAgdG8gdHJ1bHkgdGVzdCBpZiBhIGZ1bmN0aW9uIGlzIGEgY29uc3RydWN0b3IuXG5cdFx0Ly8gV2UgY2hvb3NlIHRvIG5vdCB1c2VgbmV3IGFyZ3VtZW50YCBiZWNhdXNlIHRoZSBhcmd1bWVudCBjb3VsZCBoYXZlIHNpZGUgZWZmZWN0cyB3aGVuIGNhbGxlZC5cblx0XHQvLyBJbnN0ZWFkIHdlIGNoZWNrIHRvIHNlZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiBhbmQgaWYgaXQgaGFzIGEgcHJvdG90eXBlLlxuXHRcdC8vIEFycm93IGZ1bmN0aW9ucyBkbyBub3QgaGF2ZSBhIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLCBub3IgZG8gdGhleSBoYXZlIGEgcHJvdG90eXBlLlxuXHRcdHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09ICdmdW5jdGlvbicgJiYgISFhcmd1bWVudC5wcm90b3R5cGU7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuSXNSZWdFeHBcblx0LyogZ2xvYmFsIFR5cGUsIEdldCwgVG9Cb29sZWFuICovXG4vLyA3LjIuOC4gSXNSZWdFeHAgKCBhcmd1bWVudCApXG5cdGZ1bmN0aW9uIElzUmVnRXhwKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gSWYgVHlwZShhcmd1bWVudCkgaXMgbm90IE9iamVjdCwgcmV0dXJuIGZhbHNlLlxuXHRcdGlmIChUeXBlKGFyZ3VtZW50KSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Ly8gMi4gTGV0IG1hdGNoZXIgYmUgPyBHZXQoYXJndW1lbnQsIEBAbWF0Y2gpLlxuXHRcdHZhciBtYXRjaGVyID0gJ1N5bWJvbCcgaW4gdGhpcyAmJiAnbWF0Y2gnIGluIHRoaXMuU3ltYm9sID8gR2V0KGFyZ3VtZW50LCB0aGlzLlN5bWJvbC5tYXRjaCkgOiB1bmRlZmluZWQ7XG5cdFx0Ly8gMy4gSWYgbWF0Y2hlciBpcyBub3QgdW5kZWZpbmVkLCByZXR1cm4gVG9Cb29sZWFuKG1hdGNoZXIpLlxuXHRcdGlmIChtYXRjaGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBUb0Jvb2xlYW4obWF0Y2hlcik7XG5cdFx0fVxuXHRcdC8vIDQuIElmIGFyZ3VtZW50IGhhcyBhIFtbUmVnRXhwTWF0Y2hlcl1dIGludGVybmFsIHNsb3QsIHJldHVybiB0cnVlLlxuXHRcdHRyeSB7XG5cdFx0XHR2YXIgbGFzdEluZGV4ID0gYXJndW1lbnQubGFzdEluZGV4O1xuXHRcdFx0YXJndW1lbnQubGFzdEluZGV4ID0gMDtcblx0XHRcdFJlZ0V4cC5wcm90b3R5cGUuZXhlYy5jYWxsKGFyZ3VtZW50KTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGUpIHt9IGZpbmFsbHkge1xuXHRcdFx0YXJndW1lbnQubGFzdEluZGV4ID0gbGFzdEluZGV4O1xuXHRcdH1cblx0XHQvLyA1LiBSZXR1cm4gZmFsc2UuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmVcblx0LyogZ2xvYmFsIEdldCwgSXNDYWxsYWJsZSwgQ2FsbCwgVHlwZSAqL1xuLy8gNy4xLjEuMS4gT3JkaW5hcnlUb1ByaW1pdGl2ZSAoIE8sIGhpbnQgKVxuXHRmdW5jdGlvbiBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDIuIEFzc2VydDogVHlwZShoaW50KSBpcyBTdHJpbmcgYW5kIGl0cyB2YWx1ZSBpcyBlaXRoZXIgXCJzdHJpbmdcIiBvciBcIm51bWJlclwiLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMy4gSWYgaGludCBpcyBcInN0cmluZ1wiLCB0aGVuXG5cdFx0aWYgKGhpbnQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHQvLyBhLiBMZXQgbWV0aG9kTmFtZXMgYmUgwqsgXCJ0b1N0cmluZ1wiLCBcInZhbHVlT2ZcIiDCuy5cblx0XHRcdHZhciBtZXRob2ROYW1lcyA9IFsndG9TdHJpbmcnLCAndmFsdWVPZiddO1xuXHRcdFx0Ly8gNC4gRWxzZSxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gYS4gTGV0IG1ldGhvZE5hbWVzIGJlIMKrIFwidmFsdWVPZlwiLCBcInRvU3RyaW5nXCIgwrsuXG5cdFx0XHRtZXRob2ROYW1lcyA9IFsndmFsdWVPZicsICd0b1N0cmluZyddO1xuXHRcdH1cblx0XHQvLyA1LiBGb3IgZWFjaCBuYW1lIGluIG1ldGhvZE5hbWVzIGluIExpc3Qgb3JkZXIsIGRvXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2ROYW1lcy5sZW5ndGg7ICsraSkge1xuXHRcdFx0dmFyIG5hbWUgPSBtZXRob2ROYW1lc1tpXTtcblx0XHRcdC8vIGEuIExldCBtZXRob2QgYmUgPyBHZXQoTywgbmFtZSkuXG5cdFx0XHR2YXIgbWV0aG9kID0gR2V0KE8sIG5hbWUpO1xuXHRcdFx0Ly8gYi4gSWYgSXNDYWxsYWJsZShtZXRob2QpIGlzIHRydWUsIHRoZW5cblx0XHRcdGlmIChJc0NhbGxhYmxlKG1ldGhvZCkpIHtcblx0XHRcdFx0Ly8gaS4gTGV0IHJlc3VsdCBiZSA/IENhbGwobWV0aG9kLCBPKS5cblx0XHRcdFx0dmFyIHJlc3VsdCA9IENhbGwobWV0aG9kLCBPKTtcblx0XHRcdFx0Ly8gaWkuIElmIFR5cGUocmVzdWx0KSBpcyBub3QgT2JqZWN0LCByZXR1cm4gcmVzdWx0LlxuXHRcdFx0XHRpZiAoVHlwZShyZXN1bHQpICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gNi4gVGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHRvIHByaW1pdGl2ZS4nKTtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVxuXHQvKiBnbG9iYWwgVHlwZSwgR2V0TWV0aG9kLCBDYWxsLCBPcmRpbmFyeVRvUHJpbWl0aXZlICovXG4vLyA3LjEuMS4gVG9QcmltaXRpdmUgKCBpbnB1dCBbICwgUHJlZmVycmVkVHlwZSBdIClcblx0ZnVuY3Rpb24gVG9QcmltaXRpdmUoaW5wdXQgLyogWywgUHJlZmVycmVkVHlwZV0gKi8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHZhciBQcmVmZXJyZWRUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0Ly8gMS4gQXNzZXJ0OiBpbnB1dCBpcyBhbiBFQ01BU2NyaXB0IGxhbmd1YWdlIHZhbHVlLlxuXHRcdC8vIDIuIElmIFR5cGUoaW5wdXQpIGlzIE9iamVjdCwgdGhlblxuXHRcdGlmIChUeXBlKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdC8vIGEuIElmIFByZWZlcnJlZFR5cGUgaXMgbm90IHByZXNlbnQsIGxldCBoaW50IGJlIFwiZGVmYXVsdFwiLlxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG5cdFx0XHRcdHZhciBoaW50ID0gJ2RlZmF1bHQnO1xuXHRcdFx0XHQvLyBiLiBFbHNlIGlmIFByZWZlcnJlZFR5cGUgaXMgaGludCBTdHJpbmcsIGxldCBoaW50IGJlIFwic3RyaW5nXCIuXG5cdFx0XHR9IGVsc2UgaWYgKFByZWZlcnJlZFR5cGUgPT09IFN0cmluZykge1xuXHRcdFx0XHRoaW50ID0gJ3N0cmluZyc7XG5cdFx0XHRcdC8vIGMuIEVsc2UgUHJlZmVycmVkVHlwZSBpcyBoaW50IE51bWJlciwgbGV0IGhpbnQgYmUgXCJudW1iZXJcIi5cblx0XHRcdH0gZWxzZSBpZiAoUHJlZmVycmVkVHlwZSA9PT0gTnVtYmVyKSB7XG5cdFx0XHRcdGhpbnQgPSAnbnVtYmVyJztcblx0XHRcdH1cblx0XHRcdC8vIGQuIExldCBleG90aWNUb1ByaW0gYmUgPyBHZXRNZXRob2QoaW5wdXQsIEBAdG9QcmltaXRpdmUpLlxuXHRcdFx0dmFyIGV4b3RpY1RvUHJpbSA9IHR5cGVvZiB0aGlzLlN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdGhpcy5TeW1ib2wudG9QcmltaXRpdmUgPT09ICdzeW1ib2wnID8gR2V0TWV0aG9kKGlucHV0LCB0aGlzLlN5bWJvbC50b1ByaW1pdGl2ZSkgOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyBlLiBJZiBleG90aWNUb1ByaW0gaXMgbm90IHVuZGVmaW5lZCwgdGhlblxuXHRcdFx0aWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGkuIExldCByZXN1bHQgYmUgPyBDYWxsKGV4b3RpY1RvUHJpbSwgaW5wdXQsIMKrIGhpbnQgwrspLlxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gQ2FsbChleG90aWNUb1ByaW0sIGlucHV0LCBbaGludF0pO1xuXHRcdFx0XHQvLyBpaS4gSWYgVHlwZShyZXN1bHQpIGlzIG5vdCBPYmplY3QsIHJldHVybiByZXN1bHQuXG5cdFx0XHRcdGlmIChUeXBlKHJlc3VsdCkgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBpaWkuIFRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgZXhvdGljIG9iamVjdCB0byBwcmltaXRpdmUuJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBmLiBJZiBoaW50IGlzIFwiZGVmYXVsdFwiLCBzZXQgaGludCB0byBcIm51bWJlclwiLlxuXHRcdFx0aWYgKGhpbnQgPT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRoaW50ID0gJ251bWJlcic7XG5cdFx0XHR9XG5cdFx0XHQvLyBnLiBSZXR1cm4gPyBPcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBoaW50KS5cblx0XHRcdHJldHVybiBPcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBoaW50KTtcblx0XHR9XG5cdFx0Ly8gMy4gUmV0dXJuIGlucHV0XG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LlRvU3RyaW5nXG5cdC8qIGdsb2JhbCBUeXBlLCBUb1ByaW1pdGl2ZSAqL1xuLy8gNy4xLjEyLiBUb1N0cmluZyAoIGFyZ3VtZW50IClcbi8vIFRoZSBhYnN0cmFjdCBvcGVyYXRpb24gVG9TdHJpbmcgY29udmVydHMgYXJndW1lbnQgdG8gYSB2YWx1ZSBvZiB0eXBlIFN0cmluZyBhY2NvcmRpbmcgdG8gVGFibGUgMTE6XG4vLyBUYWJsZSAxMTogVG9TdHJpbmcgQ29udmVyc2lvbnNcblx0Lypcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBBcmd1bWVudCBUeXBlIHwgUmVzdWx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBVbmRlZmluZWQgICAgIHwgUmV0dXJuIFwidW5kZWZpbmVkXCIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IE51bGxcdCAgICAgICAgfCBSZXR1cm4gXCJudWxsXCIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgQm9vbGVhbiAgICAgICB8IElmIGFyZ3VtZW50IGlzIHRydWUsIHJldHVybiBcInRydWVcIi4gICAgICAgICAgICAgICAgICAgIHxcblx0fCAgICAgICAgICAgICAgIHwgSWYgYXJndW1lbnQgaXMgZmFsc2UsIHJldHVybiBcImZhbHNlXCIuICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IE51bWJlciAgICAgICAgfCBSZXR1cm4gTnVtYmVyVG9TdHJpbmcoYXJndW1lbnQpLiAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IFN0cmluZyAgICAgICAgfCBSZXR1cm4gYXJndW1lbnQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IFN5bWJvbCAgICAgICAgfCBUaHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IE9iamVjdCAgICAgICAgfCBBcHBseSB0aGUgZm9sbG93aW5nIHN0ZXBzOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8ICAgICAgICAgICAgICAgfCBMZXQgcHJpbVZhbHVlIGJlID8gVG9QcmltaXRpdmUoYXJndW1lbnQsIGhpbnQgU3RyaW5nKS4gfFxuXHR8ICAgICAgICAgICAgICAgfCBSZXR1cm4gPyBUb1N0cmluZyhwcmltVmFsdWUpLiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHQqL1xuXHRmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0c3dpdGNoKFR5cGUoYXJndW1lbnQpKSB7XG5cdFx0XHRjYXNlICdzeW1ib2wnOlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZycpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ29iamVjdCc6XG5cdFx0XHRcdHZhciBwcmltVmFsdWUgPSBUb1ByaW1pdGl2ZShhcmd1bWVudCwgJ3N0cmluZycpO1xuXHRcdFx0XHRyZXR1cm4gVG9TdHJpbmcocHJpbVZhbHVlKTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiBTdHJpbmcoYXJndW1lbnQpO1xuXHRcdH1cblx0fVxuXHRpZiAoIShcImRvY3VtZW50XCJpbiB0aGlzXG5cdCkpIHtcblxuLy8gZG9jdW1lbnRcblx0XHRpZiAoKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSA9PT0gXCJ1bmRlZmluZWRcIikgJiYgKHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSBcImZ1bmN0aW9uXCIpKSB7XG5cblx0XHRcdGlmICh0aGlzLkhUTUxEb2N1bWVudCkgeyAvLyBJRThcblxuXHRcdFx0XHQvLyBIVE1MRG9jdW1lbnQgaXMgYW4gZXh0ZW5zaW9uIG9mIERvY3VtZW50LiAgSWYgdGhlIGJyb3dzZXIgaGFzIEhUTUxEb2N1bWVudCBidXQgbm90IERvY3VtZW50LCB0aGUgZm9ybWVyIHdpbGwgc3VmZmljZSBhcyBhbiBhbGlhcyBmb3IgdGhlIGxhdHRlci5cblx0XHRcdFx0dGhpcy5Eb2N1bWVudCA9IHRoaXMuSFRNTERvY3VtZW50O1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBhbiBlbXB0eSBmdW5jdGlvbiB0byBhY3QgYXMgdGhlIG1pc3NpbmcgY29uc3RydWN0b3IgZm9yIHRoZSBkb2N1bWVudCBvYmplY3QsIGF0dGFjaCB0aGUgZG9jdW1lbnQgb2JqZWN0IGFzIGl0cyBwcm90b3R5cGUuICBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gYmUgYW5vbnltb3VzIGVsc2UgaXQgaXMgaG9pc3RlZCBhbmQgY2F1c2VzIHRoZSBmZWF0dXJlIGRldGVjdCB0byBwcmVtYXR1cmVseSBwYXNzLCBwcmV2ZW50aW5nIHRoZSBhc3NpZ25tZW50cyBiZWxvdyBiZWluZyBtYWRlLlxuXHRcdFx0XHR0aGlzLkRvY3VtZW50ID0gdGhpcy5IVE1MRG9jdW1lbnQgPSBkb2N1bWVudC5jb25zdHJ1Y3RvciA9IChuZXcgRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiBEb2N1bWVudCgpIHt9JykoKSk7XG5cdFx0XHRcdHRoaXMuRG9jdW1lbnQucHJvdG90eXBlID0gZG9jdW1lbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdH1cblxuXHRpZiAoISgoZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSx0PSExXG5cdFx0XHRyZXR1cm4gZS5pbm5lckhUTUw9XCI8c2VjdGlvbj48L3NlY3Rpb24+XCIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpLGUuZmlyc3RDaGlsZCYmKFwiZ2V0Q29tcHV0ZWRTdHlsZVwiaW4gd2luZG93P3Q9XCJibG9ja1wiPT09Z2V0Q29tcHV0ZWRTdHlsZShlLmZpcnN0Q2hpbGQpLmRpc3BsYXk6ZS5maXJzdENoaWxkLmN1cnJlbnRTdHlsZSYmKHQ9XCJibG9ja1wiPT09ZS5maXJzdENoaWxkLmN1cnJlbnRTdHlsZS5kaXNwbGF5KSksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGUpLHR9KSgpXG5cdCkpIHtcblxuLy8gfmh0bWw1LWVsZW1lbnRzXG5cdFx0LyoqXG5cdFx0ICogQHByZXNlcnZlIEhUTUw1IFNoaXYgMy43LjMgfCBAYWZhcmthcyBAamRhbHRvbiBAam9uX25lYWwgQHJlbSB8IE1JVC9HUEwyIExpY2Vuc2VkXG5cdFx0ICovXG5cdFx0IWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWEuY3JlYXRlRWxlbWVudChcInBcIiksZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXXx8YS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGMuaW5uZXJIVE1MPVwieDxzdHlsZT5cIitiK1wiPC9zdHlsZT5cIixkLmluc2VydEJlZm9yZShjLmxhc3RDaGlsZCxkLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGQoKXt2YXIgYT10LmVsZW1lbnRzO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhP2Euc3BsaXQoXCIgXCIpOmF9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPXQuZWxlbWVudHM7XCJzdHJpbmdcIiE9dHlwZW9mIGMmJihjPWMuam9pbihcIiBcIikpLFwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT1hLmpvaW4oXCIgXCIpKSx0LmVsZW1lbnRzPWMrXCIgXCIrYSxqKGIpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9c1thW3FdXTtyZXR1cm4gYnx8KGI9e30scisrLGFbcV09cixzW3JdPWIpLGJ9ZnVuY3Rpb24gZyhhLGMsZCl7aWYoY3x8KGM9YiksbClyZXR1cm4gYy5jcmVhdGVFbGVtZW50KGEpO2R8fChkPWYoYykpO3ZhciBlO3JldHVybiBlPWQuY2FjaGVbYV0/ZC5jYWNoZVthXS5jbG9uZU5vZGUoKTpwLnRlc3QoYSk/KGQuY2FjaGVbYV09ZC5jcmVhdGVFbGVtKGEpKS5jbG9uZU5vZGUoKTpkLmNyZWF0ZUVsZW0oYSksIWUuY2FuSGF2ZUNoaWxkcmVufHxvLnRlc3QoYSl8fGUudGFnVXJuP2U6ZC5mcmFnLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIGgoYSxjKXtpZihhfHwoYT1iKSxsKXJldHVybiBhLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtjPWN8fGYoYSk7Zm9yKHZhciBlPWMuZnJhZy5jbG9uZU5vZGUoKSxnPTAsaD1kKCksaT1oLmxlbmd0aDtpPmc7ZysrKWUuY3JlYXRlRWxlbWVudChoW2ddKTtyZXR1cm4gZX1mdW5jdGlvbiBpKGEsYil7Yi5jYWNoZXx8KGIuY2FjaGU9e30sYi5jcmVhdGVFbGVtPWEuY3JlYXRlRWxlbWVudCxiLmNyZWF0ZUZyYWc9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50LGIuZnJhZz1iLmNyZWF0ZUZyYWcoKSksYS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGMpe3JldHVybiB0LnNoaXZNZXRob2RzP2coYyxhLGIpOmIuY3JlYXRlRWxlbShjKX0sYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50PUZ1bmN0aW9uKFwiaCxmXCIsXCJyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50O2guc2hpdk1ldGhvZHMmJihcIitkKCkuam9pbigpLnJlcGxhY2UoL1tcXHdcXC06XSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gYi5jcmVhdGVFbGVtKGEpLGIuZnJhZy5jcmVhdGVFbGVtZW50KGEpLCdjKFwiJythKydcIiknfSkrXCIpO3JldHVybiBufVwiKSh0LGIuZnJhZyl9ZnVuY3Rpb24gaihhKXthfHwoYT1iKTt2YXIgZD1mKGEpO3JldHVybiF0LnNoaXZDU1N8fGt8fGQuaGFzQ1NTfHwoZC5oYXNDU1M9ISFjKGEsXCJhcnRpY2xlLGFzaWRlLGRpYWxvZyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9ue2Rpc3BsYXk6YmxvY2t9bWFya3tiYWNrZ3JvdW5kOiNGRjA7Y29sb3I6IzAwMH10ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9XCIpKSxsfHxpKGEsZCksYX12YXIgayxsLG09XCIzLjcuMy1wcmVcIixuPWEuaHRtbDV8fHt9LG89L148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2kscD0vXig/OmF8Ynxjb2RlfGRpdnxmaWVsZHNldHxoMXxoMnxoM3xoNHxoNXxoNnxpfGxhYmVsfGxpfG9sfHB8cXxzcGFufHN0cm9uZ3xzdHlsZXx0YWJsZXx0Ym9keXx0ZHx0aHx0cnx1bCkkL2kscT1cIl9odG1sNXNoaXZcIixyPTAscz17fTshZnVuY3Rpb24oKXt0cnl7dmFyIGE9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKTthLmlubmVySFRNTD1cIjx4eXo+PC94eXo+XCIsaz1cImhpZGRlblwiaW4gYSxsPTE9PWEuY2hpbGROb2Rlcy5sZW5ndGh8fGZ1bmN0aW9uKCl7Yi5jcmVhdGVFbGVtZW50KFwiYVwiKTt2YXIgYT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jbG9uZU5vZGV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNyZWF0ZURvY3VtZW50RnJhZ21lbnR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNyZWF0ZUVsZW1lbnR9KCl9Y2F0Y2goYyl7az0hMCxsPSEwfX0oKTt2YXIgdD17ZWxlbWVudHM6bi5lbGVtZW50c3x8XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW9cIix2ZXJzaW9uOm0sc2hpdkNTUzpuLnNoaXZDU1MhPT0hMSxzdXBwb3J0c1Vua25vd25FbGVtZW50czpsLHNoaXZNZXRob2RzOm4uc2hpdk1ldGhvZHMhPT0hMSx0eXBlOlwiZGVmYXVsdFwiLHNoaXZEb2N1bWVudDpqLGNyZWF0ZUVsZW1lbnQ6ZyxjcmVhdGVEb2N1bWVudEZyYWdtZW50OmgsYWRkRWxlbWVudHM6ZX07YS5odG1sNT10LGooYiksXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz10KX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxkb2N1bWVudCk7XG5cdH1cblxuXHRpZiAoIShcIkVsZW1lbnRcImluIHRoaXMmJlwiSFRNTEVsZW1lbnRcImluIHRoaXNcblx0KSkge1xuXG4vLyBFbGVtZW50XG5cdFx0KGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Ly8gSUU4XG5cdFx0XHRpZiAod2luZG93LkVsZW1lbnQgJiYgIXdpbmRvdy5IVE1MRWxlbWVudCkge1xuXHRcdFx0XHR3aW5kb3cuSFRNTEVsZW1lbnQgPSB3aW5kb3cuRWxlbWVudDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjcmVhdGUgRWxlbWVudCBjb25zdHJ1Y3RvclxuXHRcdFx0d2luZG93LkVsZW1lbnQgPSB3aW5kb3cuSFRNTEVsZW1lbnQgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiBFbGVtZW50KCkge30nKSgpO1xuXG5cdFx0XHQvLyBnZW5lcmF0ZSBzYW5kYm94ZWQgaWZyYW1lXG5cdFx0XHR2YXIgdmJvZHkgPSBkb2N1bWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5JykpO1xuXHRcdFx0dmFyIGZyYW1lID0gdmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJykpO1xuXG5cdFx0XHQvLyB1c2Ugc2FuZGJveGVkIGlmcmFtZSB0byByZXBsaWNhdGUgRWxlbWVudCBmdW5jdGlvbmFsaXR5XG5cdFx0XHR2YXIgZnJhbWVEb2N1bWVudCA9IGZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG5cdFx0XHR2YXIgcHJvdG90eXBlID0gRWxlbWVudC5wcm90b3R5cGUgPSBmcmFtZURvY3VtZW50LmFwcGVuZENoaWxkKGZyYW1lRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnKicpKTtcblx0XHRcdHZhciBjYWNoZSA9IHt9O1xuXG5cdFx0XHQvLyBwb2x5ZmlsbCBFbGVtZW50LnByb3RvdHlwZSBvbiBhbiBlbGVtZW50XG5cdFx0XHR2YXIgc2hpdiA9IGZ1bmN0aW9uIChlbGVtZW50LCBkZWVwKSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdGNoaWxkTm9kZXMgPSBlbGVtZW50LmNoaWxkTm9kZXMgfHwgW10sXG5cdFx0XHRcdFx0aW5kZXggPSAtMSxcblx0XHRcdFx0XHRrZXksIHZhbHVlLCBjaGlsZE5vZGU7XG5cblx0XHRcdFx0aWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgZWxlbWVudC5jb25zdHJ1Y3RvciAhPT0gRWxlbWVudCkge1xuXHRcdFx0XHRcdGVsZW1lbnQuY29uc3RydWN0b3IgPSBFbGVtZW50O1xuXG5cdFx0XHRcdFx0Zm9yIChrZXkgaW4gY2FjaGUpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gY2FjaGVba2V5XTtcblx0XHRcdFx0XHRcdGVsZW1lbnRba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHdoaWxlIChjaGlsZE5vZGUgPSBkZWVwICYmIGNoaWxkTm9kZXNbKytpbmRleF0pIHtcblx0XHRcdFx0XHRzaGl2KGNoaWxkTm9kZSwgZGVlcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdH07XG5cblx0XHRcdHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7XG5cdFx0XHR2YXIgbmF0aXZlQ3JlYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XG5cdFx0XHR2YXIgaW50ZXJ2YWw7XG5cdFx0XHR2YXIgbG9vcExpbWl0ID0gMTAwO1xuXG5cdFx0XHRwcm90b3R5cGUuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0cHJvcGVydHlOYW1lID0gZXZlbnQucHJvcGVydHlOYW1lLFxuXHRcdFx0XHRcdG5vblZhbHVlID0gIWNhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSksXG5cdFx0XHRcdFx0bmV3VmFsdWUgPSBwcm90b3R5cGVbcHJvcGVydHlOYW1lXSxcblx0XHRcdFx0XHRvbGRWYWx1ZSA9IGNhY2hlW3Byb3BlcnR5TmFtZV0sXG5cdFx0XHRcdFx0aW5kZXggPSAtMSxcblx0XHRcdFx0XHRlbGVtZW50O1xuXG5cdFx0XHRcdHdoaWxlIChlbGVtZW50ID0gZWxlbWVudHNbKytpbmRleF0pIHtcblx0XHRcdFx0XHRpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSkge1xuXHRcdFx0XHRcdFx0aWYgKG5vblZhbHVlIHx8IGVsZW1lbnRbcHJvcGVydHlOYW1lXSA9PT0gb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudFtwcm9wZXJ0eU5hbWVdID0gbmV3VmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FjaGVbcHJvcGVydHlOYW1lXSA9IG5ld1ZhbHVlO1xuXHRcdFx0fSk7XG5cblx0XHRcdHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVsZW1lbnQ7XG5cblx0XHRcdGlmICghcHJvdG90eXBlLmhhc0F0dHJpYnV0ZSkge1xuXHRcdFx0XHQvLyA8RWxlbWVudD4uaGFzQXR0cmlidXRlXG5cdFx0XHRcdHByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgPSBmdW5jdGlvbiBoYXNBdHRyaWJ1dGUobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKSAhPT0gbnVsbDtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgRWxlbWVudCBwcm90b3R5cGUgdG8gdGhlIHByZS1leGlzdGluZyBET00gYXMgc29vbiBhcyB0aGUgYm9keSBlbGVtZW50IGFwcGVhcnMuXG5cdFx0XHRmdW5jdGlvbiBib2R5Q2hlY2soKSB7XG5cdFx0XHRcdGlmICghKGxvb3BMaW1pdC0tKSkgY2xlYXJUaW1lb3V0KGludGVydmFsKTtcblx0XHRcdFx0aWYgKGRvY3VtZW50LmJvZHkgJiYgIWRvY3VtZW50LmJvZHkucHJvdG90eXBlICYmIC8oY29tcGxldGV8aW50ZXJhY3RpdmUpLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7XG5cdFx0XHRcdFx0c2hpdihkb2N1bWVudCwgdHJ1ZSk7XG5cdFx0XHRcdFx0aWYgKGludGVydmFsICYmIGRvY3VtZW50LmJvZHkucHJvdG90eXBlKSBjbGVhclRpbWVvdXQoaW50ZXJ2YWwpO1xuXHRcdFx0XHRcdHJldHVybiAoISFkb2N1bWVudC5ib2R5LnByb3RvdHlwZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFib2R5Q2hlY2soKSkge1xuXHRcdFx0XHRkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBib2R5Q2hlY2s7XG5cdFx0XHRcdGludGVydmFsID0gc2V0SW50ZXJ2YWwoYm9keUNoZWNrLCAyNSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IHRvIGFueSBuZXcgZWxlbWVudHMgY3JlYXRlZCBhZnRlciBsb2FkXG5cdFx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudChub2RlTmFtZSkge1xuXHRcdFx0XHR2YXIgZWxlbWVudCA9IG5hdGl2ZUNyZWF0ZUVsZW1lbnQoU3RyaW5nKG5vZGVOYW1lKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRcdFx0cmV0dXJuIHNoaXYoZWxlbWVudCk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyByZW1vdmUgc2FuZGJveGVkIGlmcmFtZVxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlQ2hpbGQodmJvZHkpO1xuXHRcdH0oKSk7XG5cblx0fVxuXG5cdGlmICghKFwiZG9jdW1lbnRcImluIHRoaXMmJlwicXVlcnlTZWxlY3RvclwiaW4gdGhpcy5kb2N1bWVudFxuXHQpKSB7XG5cbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Jcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyXG5cdFx0XHRcdGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuXG5cdFx0XHRmdW5jdGlvbiBnZXRFbGVtZW50c0J5UXVlcnkobm9kZSwgc2VsZWN0b3IsIG9uZSkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHRnZW5lcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0XHRcdFx0XHRpZCA9ICdxc2EnICsgU3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDMpLFxuXHRcdFx0XHRcdHN0eWxlLCBlbGVtZW50cztcblxuXHRcdFx0XHRnZW5lcmF0b3IuaW5uZXJIVE1MID0gJ3g8c3R5bGU+JyArIHNlbGVjdG9yICsgJ3txc2E6JyArIGlkICsgJzt9JztcblxuXHRcdFx0XHRzdHlsZSA9IGhlYWQuYXBwZW5kQ2hpbGQoZ2VuZXJhdG9yLmxhc3RDaGlsZCk7XG5cblx0XHRcdFx0ZWxlbWVudHMgPSBnZXRFbGVtZW50cyhub2RlLCBzZWxlY3Rvciwgb25lLCBpZCk7XG5cblx0XHRcdFx0aGVhZC5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0XHRcdFx0cmV0dXJuIG9uZSA/IGVsZW1lbnRzWzBdIDogZWxlbWVudHM7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGdldEVsZW1lbnRzKG5vZGUsIHNlbGVjdG9yLCBvbmUsIGlkKSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdHZhbGlkTm9kZSA9IC8xfDkvLnRlc3Qobm9kZS5ub2RlVHlwZSksXG5cdFx0XHRcdFx0Y2hpbGROb2RlcyA9IG5vZGUuY2hpbGROb2Rlcyxcblx0XHRcdFx0XHRlbGVtZW50cyA9IFtdLFxuXHRcdFx0XHRcdGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0Y2hpbGROb2RlO1xuXG5cdFx0XHRcdGlmICh2YWxpZE5vZGUgJiYgbm9kZS5jdXJyZW50U3R5bGUgJiYgbm9kZS5jdXJyZW50U3R5bGUucXNhID09PSBpZCkge1xuXHRcdFx0XHRcdGlmIChlbGVtZW50cy5wdXNoKG5vZGUpICYmIG9uZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHdoaWxlIChjaGlsZE5vZGUgPSBjaGlsZE5vZGVzWysraW5kZXhdKSB7XG5cdFx0XHRcdFx0ZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQoZ2V0RWxlbWVudHMoY2hpbGROb2RlLCBzZWxlY3Rvciwgb25lLCBpZCkpO1xuXG5cdFx0XHRcdFx0aWYgKG9uZSAmJiBlbGVtZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtZW50cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbWVudHM7XG5cdFx0XHR9XG5cblx0XHRcdERvY3VtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yID0gRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvciA9IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpIHtcblx0XHRcdFx0cmV0dXJuIGdldEVsZW1lbnRzQnlRdWVyeSh0aGlzLCBzZWxlY3RvciwgdHJ1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHREb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCA9IEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwgPSBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSB7XG5cdFx0XHRcdHJldHVybiBnZXRFbGVtZW50c0J5UXVlcnkodGhpcywgc2VsZWN0b3IsIGZhbHNlKTtcblx0XHRcdH07XG5cdFx0fSgpKTtcblxuXHR9XG5cblx0aWYgKCEoXCJkb2N1bWVudFwiaW4gdGhpcyYmXCJtYXRjaGVzXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcblx0KSkge1xuXG4vLyBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzXG5cdFx0RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbiBtYXRjaGVzKHNlbGVjdG9yKSB7XG5cblx0XHRcdHZhciBlbGVtZW50ID0gdGhpcztcblx0XHRcdHZhciBlbGVtZW50cyA9IChlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdFx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0XHR3aGlsZSAoZWxlbWVudHNbaW5kZXhdICYmIGVsZW1lbnRzW2luZGV4XSAhPT0gZWxlbWVudCkge1xuXHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gISFlbGVtZW50c1tpbmRleF07XG5cdFx0fTtcblxuXHR9XG5cblx0aWYgKCEoXCJkb2N1bWVudFwiaW4gdGhpcyYmXCJjbG9zZXN0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcblx0KSkge1xuXG4vLyBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XG5cdFx0RWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcblx0XHRcdHZhciBub2RlID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKG5vZGUpIHtcblx0XHRcdFx0aWYgKG5vZGUubWF0Y2hlcyhzZWxlY3RvcikpIHJldHVybiBub2RlO1xuXHRcdFx0XHRlbHNlIG5vZGUgPSAnU1ZHRWxlbWVudCcgaW4gd2luZG93ICYmIG5vZGUgaW5zdGFuY2VvZiBTVkdFbGVtZW50ID8gbm9kZS5wYXJlbnROb2RlIDogbm9kZS5wYXJlbnRFbGVtZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9O1xuXG5cdH1cblxuXHRpZiAoIShcIkhUTUxQaWN0dXJlRWxlbWVudFwiaW4gdGhpc3x8XCJwaWN0dXJlZmlsbFwiaW4gdGhpc1xuXHQpKSB7XG5cbi8vIEhUTUxQaWN0dXJlRWxlbWVudFxuXHRcdC8qISBwaWN0dXJlZmlsbCAtIHYzLjAuMiAtIDIwMTYtMDItMTJcblx0XHQgKiBodHRwczovL3Njb3R0amVobC5naXRodWIuaW8vcGljdHVyZWZpbGwvXG5cdFx0ICogQ29weXJpZ2h0IChjKSAyMDE2IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGplaGwvcGljdHVyZWZpbGwvYmxvYi9tYXN0ZXIvQXV0aG9ycy50eHQ7IExpY2Vuc2VkIE1JVFxuXHRcdCAqL1xuXHRcdCFmdW5jdGlvbihhKXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50O2EuSFRNTFBpY3R1cmVFbGVtZW50JiYvZWNrby8udGVzdChiKSYmYi5tYXRjaCgvcnZcXDooXFxkKykvKSYmUmVnRXhwLiQxPDQ1JiZhZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXt2YXIgYixjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIiksZD1mdW5jdGlvbihhKXt2YXIgYixkLGU9YS5wYXJlbnROb2RlO1wiUElDVFVSRVwiPT09ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPyhiPWMuY2xvbmVOb2RlKCksZS5pbnNlcnRCZWZvcmUoYixlLmZpcnN0RWxlbWVudENoaWxkKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZW1vdmVDaGlsZChiKX0pKTooIWEuX3BmTGFzdFNpemV8fGEub2Zmc2V0V2lkdGg+YS5fcGZMYXN0U2l6ZSkmJihhLl9wZkxhc3RTaXplPWEub2Zmc2V0V2lkdGgsZD1hLnNpemVzLGEuc2l6ZXMrPVwiLDEwMHZ3XCIsc2V0VGltZW91dChmdW5jdGlvbigpe2Euc2l6ZXM9ZH0pKX0sZT1mdW5jdGlvbigpe3ZhciBhLGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBpY3R1cmUgPiBpbWcsIGltZ1tzcmNzZXRdW3NpemVzXVwiKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWQoYlthXSl9LGY9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGUsOTkpfSxnPWEubWF0Y2hNZWRpYSYmbWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSxoPWZ1bmN0aW9uKCl7ZigpLGcmJmcuYWRkTGlzdGVuZXImJmcuYWRkTGlzdGVuZXIoZil9O3JldHVybiBjLnNyY3NldD1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCIsL15bY3xpXXxkJC8udGVzdChkb2N1bWVudC5yZWFkeVN0YXRlfHxcIlwiKT9oKCk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixoKSxmfSgpKX0od2luZG93KSxmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhKXtyZXR1cm5cIiBcIj09PWF8fFwiXHRcIj09PWF8fFwiXFxuXCI9PT1hfHxcIlxcZlwiPT09YXx8XCJcXHJcIj09PWF9ZnVuY3Rpb24gZShiLGMpe3ZhciBkPW5ldyBhLkltYWdlO3JldHVybiBkLm9uZXJyb3I9ZnVuY3Rpb24oKXtBW2JdPSExLGJhKCl9LGQub25sb2FkPWZ1bmN0aW9uKCl7QVtiXT0xPT09ZC53aWR0aCxiYSgpfSxkLnNyYz1jLFwicGVuZGluZ1wifWZ1bmN0aW9uIGYoKXtNPSExLFA9YS5kZXZpY2VQaXhlbFJhdGlvLE49e30sTz17fSxzLkRQUj1QfHwxLFEud2lkdGg9TWF0aC5tYXgoYS5pbm5lcldpZHRofHwwLHouY2xpZW50V2lkdGgpLFEuaGVpZ2h0PU1hdGgubWF4KGEuaW5uZXJIZWlnaHR8fDAsei5jbGllbnRIZWlnaHQpLFEudnc9US53aWR0aC8xMDAsUS52aD1RLmhlaWdodC8xMDAscj1bUS5oZWlnaHQsUS53aWR0aCxQXS5qb2luKFwiLVwiKSxRLmVtPXMuZ2V0RW1WYWx1ZSgpLFEucmVtPVEuZW19ZnVuY3Rpb24gZyhhLGIsYyxkKXt2YXIgZSxmLGcsaDtyZXR1cm5cInNhdmVEYXRhXCI9PT1CLmFsZ29yaXRobT9hPjIuNz9oPWMrMTooZj1iLWMsZT1NYXRoLnBvdyhhLS42LDEuNSksZz1mKmUsZCYmKGcrPS4xKmUpLGg9YStnKTpoPWM+MT9NYXRoLnNxcnQoYSpiKTphLGg+Y31mdW5jdGlvbiBoKGEpe3ZhciBiLGM9cy5nZXRTZXQoYSksZD0hMTtcInBlbmRpbmdcIiE9PWMmJihkPXIsYyYmKGI9cy5zZXRSZXMoYykscy5hcHBseVNldENhbmRpZGF0ZShiLGEpKSksYVtzLm5zXS5ldmFsZWQ9ZH1mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGEucmVzLWIucmVzfWZ1bmN0aW9uIGooYSxiLGMpe3ZhciBkO3JldHVybiFjJiZiJiYoYz1hW3MubnNdLnNldHMsYz1jJiZjW2MubGVuZ3RoLTFdKSxkPWsoYixjKSxkJiYoYj1zLm1ha2VVcmwoYiksYVtzLm5zXS5jdXJTcmM9YixhW3MubnNdLmN1ckNhbj1kLGQucmVzfHxhYShkLGQuc2V0LnNpemVzKSksZH1mdW5jdGlvbiBrKGEsYil7dmFyIGMsZCxlO2lmKGEmJmIpZm9yKGU9cy5wYXJzZVNldChiKSxhPXMubWFrZVVybChhKSxjPTA7YzxlLmxlbmd0aDtjKyspaWYoYT09PXMubWFrZVVybChlW2NdLnVybCkpe2Q9ZVtjXTticmVha31yZXR1cm4gZH1mdW5jdGlvbiBsKGEsYil7dmFyIGMsZCxlLGYsZz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic291cmNlXCIpO2ZvcihjPTAsZD1nLmxlbmd0aDtkPmM7YysrKWU9Z1tjXSxlW3MubnNdPSEwLGY9ZS5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIiksZiYmYi5wdXNoKHtzcmNzZXQ6ZixtZWRpYTplLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpLHR5cGU6ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLHNpemVzOmUuZ2V0QXR0cmlidXRlKFwic2l6ZXNcIil9KX1mdW5jdGlvbiBtKGEsYil7ZnVuY3Rpb24gYyhiKXt2YXIgYyxkPWIuZXhlYyhhLnN1YnN0cmluZyhtKSk7cmV0dXJuIGQ/KGM9ZFswXSxtKz1jLmxlbmd0aCxjKTp2b2lkIDB9ZnVuY3Rpb24gZSgpe3ZhciBhLGMsZCxlLGYsaSxqLGssbCxtPSExLG89e307Zm9yKGU9MDtlPGgubGVuZ3RoO2UrKylmPWhbZV0saT1mW2YubGVuZ3RoLTFdLGo9Zi5zdWJzdHJpbmcoMCxmLmxlbmd0aC0xKSxrPXBhcnNlSW50KGosMTApLGw9cGFyc2VGbG9hdChqKSxYLnRlc3QoaikmJlwid1wiPT09aT8oKGF8fGMpJiYobT0hMCksMD09PWs/bT0hMDphPWspOlkudGVzdChqKSYmXCJ4XCI9PT1pPygoYXx8Y3x8ZCkmJihtPSEwKSwwPmw/bT0hMDpjPWwpOlgudGVzdChqKSYmXCJoXCI9PT1pPygoZHx8YykmJihtPSEwKSwwPT09az9tPSEwOmQ9ayk6bT0hMDttfHwoby51cmw9ZyxhJiYoby53PWEpLGMmJihvLmQ9YyksZCYmKG8uaD1kKSxkfHxjfHxhfHwoby5kPTEpLDE9PT1vLmQmJihiLmhhczF4PSEwKSxvLnNldD1iLG4ucHVzaChvKSl9ZnVuY3Rpb24gZigpe2ZvcihjKFQpLGk9XCJcIixqPVwiaW4gZGVzY3JpcHRvclwiOzspe2lmKGs9YS5jaGFyQXQobSksXCJpbiBkZXNjcmlwdG9yXCI9PT1qKWlmKGQoaykpaSYmKGgucHVzaChpKSxpPVwiXCIsaj1cImFmdGVyIGRlc2NyaXB0b3JcIik7ZWxzZXtpZihcIixcIj09PWspcmV0dXJuIG0rPTEsaSYmaC5wdXNoKGkpLHZvaWQgZSgpO2lmKFwiKFwiPT09aylpKz1rLGo9XCJpbiBwYXJlbnNcIjtlbHNle2lmKFwiXCI9PT1rKXJldHVybiBpJiZoLnB1c2goaSksdm9pZCBlKCk7aSs9a319ZWxzZSBpZihcImluIHBhcmVuc1wiPT09ailpZihcIilcIj09PWspaSs9ayxqPVwiaW4gZGVzY3JpcHRvclwiO2Vsc2V7aWYoXCJcIj09PWspcmV0dXJuIGgucHVzaChpKSx2b2lkIGUoKTtpKz1rfWVsc2UgaWYoXCJhZnRlciBkZXNjcmlwdG9yXCI9PT1qKWlmKGQoaykpO2Vsc2V7aWYoXCJcIj09PWspcmV0dXJuIHZvaWQgZSgpO2o9XCJpbiBkZXNjcmlwdG9yXCIsbS09MX1tKz0xfX1mb3IodmFyIGcsaCxpLGosayxsPWEubGVuZ3RoLG09MCxuPVtdOzspe2lmKGMoVSksbT49bClyZXR1cm4gbjtnPWMoViksaD1bXSxcIixcIj09PWcuc2xpY2UoLTEpPyhnPWcucmVwbGFjZShXLFwiXCIpLGUoKSk6ZigpfX1mdW5jdGlvbiBuKGEpe2Z1bmN0aW9uIGIoYSl7ZnVuY3Rpb24gYigpe2YmJihnLnB1c2goZiksZj1cIlwiKX1mdW5jdGlvbiBjKCl7Z1swXSYmKGgucHVzaChnKSxnPVtdKX1mb3IodmFyIGUsZj1cIlwiLGc9W10saD1bXSxpPTAsaj0wLGs9ITE7Oyl7aWYoZT1hLmNoYXJBdChqKSxcIlwiPT09ZSlyZXR1cm4gYigpLGMoKSxoO2lmKGspe2lmKFwiKlwiPT09ZSYmXCIvXCI9PT1hW2orMV0pe2s9ITEsais9MixiKCk7Y29udGludWV9ais9MX1lbHNle2lmKGQoZSkpe2lmKGEuY2hhckF0KGotMSkmJmQoYS5jaGFyQXQoai0xKSl8fCFmKXtqKz0xO2NvbnRpbnVlfWlmKDA9PT1pKXtiKCksais9MTtjb250aW51ZX1lPVwiIFwifWVsc2UgaWYoXCIoXCI9PT1lKWkrPTE7ZWxzZSBpZihcIilcIj09PWUpaS09MTtlbHNle2lmKFwiLFwiPT09ZSl7YigpLGMoKSxqKz0xO2NvbnRpbnVlfWlmKFwiL1wiPT09ZSYmXCIqXCI9PT1hLmNoYXJBdChqKzEpKXtrPSEwLGorPTI7Y29udGludWV9fWYrPWUsais9MX19fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGsudGVzdChhKSYmcGFyc2VGbG9hdChhKT49MD8hMDpsLnRlc3QoYSk/ITA6XCIwXCI9PT1hfHxcIi0wXCI9PT1hfHxcIiswXCI9PT1hPyEwOiExfXZhciBlLGYsZyxoLGksaixrPS9eKD86WystXT9bMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/KD86Y2h8Y218ZW18ZXh8aW58bW18cGN8cHR8cHh8cmVtfHZofHZtaW58dm1heHx2dykkL2ksbD0vXmNhbGNcXCgoPzpbMC05YS16IFxcLlxcK1xcLVxcKlxcL1xcKFxcKV0rKVxcKSQvaTtmb3IoZj1iKGEpLGc9Zi5sZW5ndGgsZT0wO2c+ZTtlKyspaWYoaD1mW2VdLGk9aFtoLmxlbmd0aC0xXSxjKGkpKXtpZihqPWksaC5wb3AoKSwwPT09aC5sZW5ndGgpcmV0dXJuIGo7aWYoaD1oLmpvaW4oXCIgXCIpLHMubWF0Y2hlc01lZGlhKGgpKXJldHVybiBqfXJldHVyblwiMTAwdndcIn1iLmNyZWF0ZUVsZW1lbnQoXCJwaWN0dXJlXCIpO3ZhciBvLHAscSxyLHM9e30sdD0hMSx1PWZ1bmN0aW9uKCl7fSx2PWIuY3JlYXRlRWxlbWVudChcImltZ1wiKSx3PXYuZ2V0QXR0cmlidXRlLHg9di5zZXRBdHRyaWJ1dGUseT12LnJlbW92ZUF0dHJpYnV0ZSx6PWIuZG9jdW1lbnRFbGVtZW50LEE9e30sQj17YWxnb3JpdGhtOlwiXCJ9LEM9XCJkYXRhLXBmc3JjXCIsRD1DK1wic2V0XCIsRT1uYXZpZ2F0b3IudXNlckFnZW50LEY9L3JpZGVudC8udGVzdChFKXx8L2Vja28vLnRlc3QoRSkmJkUubWF0Y2goL3J2XFw6KFxcZCspLykmJlJlZ0V4cC4kMT4zNSxHPVwiY3VycmVudFNyY1wiLEg9L1xccytcXCs/XFxkKyhlXFxkKyk/dy8sST0vKFxcKFteKV0rXFwpKT9cXHMqKC4rKS8sSj1hLnBpY3R1cmVmaWxsQ0ZHLEs9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpibG9jaztwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7Zm9udC1zaXplOjFlbTt3aWR0aDoxZW07b3ZlcmZsb3c6aGlkZGVuO2NsaXA6cmVjdCgwcHgsIDBweCwgMHB4LCAwcHgpXCIsTD1cImZvbnQtc2l6ZToxMDAlIWltcG9ydGFudDtcIixNPSEwLE49e30sTz17fSxQPWEuZGV2aWNlUGl4ZWxSYXRpbyxRPXtweDoxLFwiaW5cIjo5Nn0sUj1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLFM9ITEsVD0vXlsgXFx0XFxuXFxyXFx1MDAwY10rLyxVPS9eWywgXFx0XFxuXFxyXFx1MDAwY10rLyxWPS9eW14gXFx0XFxuXFxyXFx1MDAwY10rLyxXPS9bLF0rJC8sWD0vXlxcZCskLyxZPS9eLT8oPzpbMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/JC8sWj1mdW5jdGlvbihhLGIsYyxkKXthLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkfHwhMSk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudChcIm9uXCIrYixjKX0sJD1mdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW4gYnx8KGJbY109YShjKSksYltjXX19LF89ZnVuY3Rpb24oKXt2YXIgYT0vXihbXFxkXFwuXSspKGVtfHZ3fHB4KSQvLGI9ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLGI9MCxjPWFbMF07KytiIGluIGE7KWM9Yy5yZXBsYWNlKGFbYl0sYVsrK2JdKTtyZXR1cm4gY30sYz0kKGZ1bmN0aW9uKGEpe3JldHVyblwicmV0dXJuIFwiK2IoKGF8fFwiXCIpLnRvTG93ZXJDYXNlKCksL1xcYmFuZFxcYi9nLFwiJiZcIiwvLC9nLFwifHxcIiwvbWluLShbYS16LVxcc10rKTovZyxcImUuJDE+PVwiLC9tYXgtKFthLXotXFxzXSspOi9nLFwiZS4kMTw9XCIsL2NhbGMoW14pXSspL2csXCIoJDEpXCIsLyhcXGQrW1xcLl0qW1xcZF0qKShbYS16XSspL2csXCIoJDEgKiBlLiQyKVwiLC9eKD8hKGUuW2Etel18WzAtOVxcLiY9fD48XFwrXFwtXFwqXFwoXFwpXFwvXSkpLiovZ2ksXCJcIikrXCI7XCJ9KTtyZXR1cm4gZnVuY3Rpb24oYixkKXt2YXIgZTtpZighKGIgaW4gTikpaWYoTltiXT0hMSxkJiYoZT1iLm1hdGNoKGEpKSlOW2JdPWVbMV0qUVtlWzJdXTtlbHNlIHRyeXtOW2JdPW5ldyBGdW5jdGlvbihcImVcIixjKGIpKShRKX1jYXRjaChmKXt9cmV0dXJuIE5bYl19fSgpLGFhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudz8oYS5jV2lkdGg9cy5jYWxjTGlzdExlbmd0aChifHxcIjEwMHZ3XCIpLGEucmVzPWEudy9hLmNXaWR0aCk6YS5yZXM9YS5kLGF9LGJhPWZ1bmN0aW9uKGEpe2lmKHQpe3ZhciBjLGQsZSxmPWF8fHt9O2lmKGYuZWxlbWVudHMmJjE9PT1mLmVsZW1lbnRzLm5vZGVUeXBlJiYoXCJJTUdcIj09PWYuZWxlbWVudHMubm9kZU5hbWUudG9VcHBlckNhc2UoKT9mLmVsZW1lbnRzPVtmLmVsZW1lbnRzXTooZi5jb250ZXh0PWYuZWxlbWVudHMsZi5lbGVtZW50cz1udWxsKSksYz1mLmVsZW1lbnRzfHxzLnFzYShmLmNvbnRleHR8fGIsZi5yZWV2YWx1YXRlfHxmLnJlc2VsZWN0P3Muc2VsOnMuc2VsU2hvcnQpLGU9Yy5sZW5ndGgpe2ZvcihzLnNldHVwUnVuKGYpLFM9ITAsZD0wO2U+ZDtkKyspcy5maWxsSW1nKGNbZF0sZik7cy50ZWFyZG93blJ1bihmKX19fTtvPWEuY29uc29sZSYmY29uc29sZS53YXJuP2Z1bmN0aW9uKGEpe2NvbnNvbGUud2FybihhKX06dSxHIGluIHZ8fChHPVwic3JjXCIpLEFbXCJpbWFnZS9qcGVnXCJdPSEwLEFbXCJpbWFnZS9naWZcIl09ITAsQVtcImltYWdlL3BuZ1wiXT0hMCxBW1wiaW1hZ2Uvc3ZnK3htbFwiXT1iLmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0ltYWdlXCIsXCIxLjFcIikscy5ucz0oXCJwZlwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKS5zdWJzdHIoMCw5KSxzLnN1cFNyY3NldD1cInNyY3NldFwiaW4gdixzLnN1cFNpemVzPVwic2l6ZXNcImluIHYscy5zdXBQaWN0dXJlPSEhYS5IVE1MUGljdHVyZUVsZW1lbnQscy5zdXBTcmNzZXQmJnMuc3VwUGljdHVyZSYmIXMuc3VwU2l6ZXMmJiFmdW5jdGlvbihhKXt2LnNyY3NldD1cImRhdGE6LGFcIixhLnNyYz1cImRhdGE6LGFcIixzLnN1cFNyY3NldD12LmNvbXBsZXRlPT09YS5jb21wbGV0ZSxzLnN1cFBpY3R1cmU9cy5zdXBTcmNzZXQmJnMuc3VwUGljdHVyZX0oYi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKSxzLnN1cFNyY3NldCYmIXMuc3VwU2l6ZXM/IWZ1bmN0aW9uKCl7dmFyIGE9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBZ0FCQVBBQUFQLy8vd0FBQUNINUJBQUFBQUFBTEFBQUFBQUNBQUVBQUFJQ0JBb0FPdz09XCIsYz1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCIsZD1iLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksZT1mdW5jdGlvbigpe3ZhciBhPWQud2lkdGg7Mj09PWEmJihzLnN1cFNpemVzPSEwKSxxPXMuc3VwU3Jjc2V0JiYhcy5zdXBTaXplcyx0PSEwLHNldFRpbWVvdXQoYmEpfTtkLm9ubG9hZD1lLGQub25lcnJvcj1lLGQuc2V0QXR0cmlidXRlKFwic2l6ZXNcIixcIjlweFwiKSxkLnNyY3NldD1jK1wiIDF3LFwiK2ErXCIgOXdcIixkLnNyYz1jfSgpOnQ9ITAscy5zZWxTaG9ydD1cInBpY3R1cmU+aW1nLGltZ1tzcmNzZXRdXCIscy5zZWw9cy5zZWxTaG9ydCxzLmNmZz1CLHMuRFBSPVB8fDEscy51PVEscy50eXBlcz1BLHMuc2V0U2l6ZT11LHMubWFrZVVybD0kKGZ1bmN0aW9uKGEpe3JldHVybiBSLmhyZWY9YSxSLmhyZWZ9KSxzLnFzYT1mdW5jdGlvbihhLGIpe3JldHVyblwicXVlcnlTZWxlY3RvclwiaW4gYT9hLnF1ZXJ5U2VsZWN0b3JBbGwoYik6W119LHMubWF0Y2hlc01lZGlhPWZ1bmN0aW9uKCl7cmV0dXJuIGEubWF0Y2hNZWRpYSYmKG1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAwLjFlbSlcIil8fHt9KS5tYXRjaGVzP3MubWF0Y2hlc01lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiFhfHxtYXRjaE1lZGlhKGEpLm1hdGNoZXN9OnMubWF0Y2hlc01lZGlhPXMubU1RLHMubWF0Y2hlc01lZGlhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5tTVE9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XyhhKTohMH0scy5jYWxjTGVuZ3RoPWZ1bmN0aW9uKGEpe3ZhciBiPV8oYSwhMCl8fCExO3JldHVybiAwPmImJihiPSExKSxifSxzLnN1cHBvcnRzVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9BW2FdOiEwfSxzLnBhcnNlU2l6ZT0kKGZ1bmN0aW9uKGEpe3ZhciBiPShhfHxcIlwiKS5tYXRjaChJKTtyZXR1cm57bWVkaWE6YiYmYlsxXSxsZW5ndGg6YiYmYlsyXX19KSxzLnBhcnNlU2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmNhbmRzfHwoYS5jYW5kcz1tKGEuc3Jjc2V0LGEpKSxhLmNhbmRzfSxzLmdldEVtVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYTtpZighcCYmKGE9Yi5ib2R5KSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9ei5zdHlsZS5jc3NUZXh0LGU9YS5zdHlsZS5jc3NUZXh0O2Muc3R5bGUuY3NzVGV4dD1LLHouc3R5bGUuY3NzVGV4dD1MLGEuc3R5bGUuY3NzVGV4dD1MLGEuYXBwZW5kQ2hpbGQoYykscD1jLm9mZnNldFdpZHRoLGEucmVtb3ZlQ2hpbGQoYykscD1wYXJzZUZsb2F0KHAsMTApLHouc3R5bGUuY3NzVGV4dD1kLGEuc3R5bGUuY3NzVGV4dD1lfXJldHVybiBwfHwxNn0scy5jYWxjTGlzdExlbmd0aD1mdW5jdGlvbihhKXtpZighKGEgaW4gTyl8fEIudVQpe3ZhciBiPXMuY2FsY0xlbmd0aChuKGEpKTtPW2FdPWI/YjpRLndpZHRofXJldHVybiBPW2FdfSxzLnNldFJlcz1mdW5jdGlvbihhKXt2YXIgYjtpZihhKXtiPXMucGFyc2VTZXQoYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtkPmM7YysrKWFhKGJbY10sYS5zaXplcyl9cmV0dXJuIGJ9LHMuc2V0UmVzLnJlcz1hYSxzLmFwcGx5U2V0Q2FuZGlkYXRlPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe3ZhciBjLGQsZSxmLGgsayxsLG0sbixvPWJbcy5uc10scD1zLkRQUjtpZihrPW8uY3VyU3JjfHxiW0ddLGw9by5jdXJDYW58fGooYixrLGFbMF0uc2V0KSxsJiZsLnNldD09PWFbMF0uc2V0JiYobj1GJiYhYi5jb21wbGV0ZSYmbC5yZXMtLjE+cCxufHwobC5jYWNoZWQ9ITAsbC5yZXM+PXAmJihoPWwpKSksIWgpZm9yKGEuc29ydChpKSxmPWEubGVuZ3RoLGg9YVtmLTFdLGQ9MDtmPmQ7ZCsrKWlmKGM9YVtkXSxjLnJlcz49cCl7ZT1kLTEsaD1hW2VdJiYobnx8ayE9PXMubWFrZVVybChjLnVybCkpJiZnKGFbZV0ucmVzLGMucmVzLHAsYVtlXS5jYWNoZWQpP2FbZV06YzticmVha31oJiYobT1zLm1ha2VVcmwoaC51cmwpLG8uY3VyU3JjPW0sby5jdXJDYW49aCxtIT09ayYmcy5zZXRTcmMoYixoKSxzLnNldFNpemUoYikpfX0scy5zZXRTcmM9ZnVuY3Rpb24oYSxiKXt2YXIgYzthLnNyYz1iLnVybCxcImltYWdlL3N2Zyt4bWxcIj09PWIuc2V0LnR5cGUmJihjPWEuc3R5bGUud2lkdGgsYS5zdHlsZS53aWR0aD1hLm9mZnNldFdpZHRoKzErXCJweFwiLGEub2Zmc2V0V2lkdGgrMSYmKGEuc3R5bGUud2lkdGg9YykpfSxzLmdldFNldD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT0hMSxmPWFbcy5uc10uc2V0cztmb3IoYj0wO2I8Zi5sZW5ndGgmJiFlO2IrKylpZihjPWZbYl0sYy5zcmNzZXQmJnMubWF0Y2hlc01lZGlhKGMubWVkaWEpJiYoZD1zLnN1cHBvcnRzVHlwZShjLnR5cGUpKSl7XCJwZW5kaW5nXCI9PT1kJiYoYz1kKSxlPWM7YnJlYWt9cmV0dXJuIGV9LHMucGFyc2VTZXRzPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGcsaCxpPWImJlwiUElDVFVSRVwiPT09Yi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLGo9YVtzLm5zXTsoai5zcmM9PT1jfHxkLnNyYykmJihqLnNyYz13LmNhbGwoYSxcInNyY1wiKSxqLnNyYz94LmNhbGwoYSxDLGouc3JjKTp5LmNhbGwoYSxDKSksKGouc3Jjc2V0PT09Y3x8ZC5zcmNzZXR8fCFzLnN1cFNyY3NldHx8YS5zcmNzZXQpJiYoZT13LmNhbGwoYSxcInNyY3NldFwiKSxqLnNyY3NldD1lLGg9ITApLGouc2V0cz1bXSxpJiYoai5waWM9ITAsbChiLGouc2V0cykpLGouc3Jjc2V0PyhmPXtzcmNzZXQ6ai5zcmNzZXQsc2l6ZXM6dy5jYWxsKGEsXCJzaXplc1wiKX0sai5zZXRzLnB1c2goZiksZz0ocXx8ai5zcmMpJiZILnRlc3Qoai5zcmNzZXR8fFwiXCIpLGd8fCFqLnNyY3x8ayhqLnNyYyxmKXx8Zi5oYXMxeHx8KGYuc3Jjc2V0Kz1cIiwgXCIrai5zcmMsZi5jYW5kcy5wdXNoKHt1cmw6ai5zcmMsZDoxLHNldDpmfSkpKTpqLnNyYyYmai5zZXRzLnB1c2goe3NyY3NldDpqLnNyYyxzaXplczpudWxsfSksai5jdXJDYW49bnVsbCxqLmN1clNyYz1jLGouc3VwcG9ydGVkPSEoaXx8ZiYmIXMuc3VwU3Jjc2V0fHxnJiYhcy5zdXBTaXplcyksaCYmcy5zdXBTcmNzZXQmJiFqLnN1cHBvcnRlZCYmKGU/KHguY2FsbChhLEQsZSksYS5zcmNzZXQ9XCJcIik6eS5jYWxsKGEsRCkpLGouc3VwcG9ydGVkJiYhai5zcmNzZXQmJighai5zcmMmJmEuc3JjfHxhLnNyYyE9PXMubWFrZVVybChqLnNyYykpJiYobnVsbD09PWouc3JjP2EucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpOmEuc3JjPWouc3JjKSxqLnBhcnNlZD0hMH0scy5maWxsSW1nPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLnJlc2VsZWN0fHxiLnJlZXZhbHVhdGU7YVtzLm5zXXx8KGFbcy5uc109e30pLGM9YVtzLm5zXSwoZHx8Yy5ldmFsZWQhPT1yKSYmKCghYy5wYXJzZWR8fGIucmVldmFsdWF0ZSkmJnMucGFyc2VTZXRzKGEsYS5wYXJlbnROb2RlLGIpLGMuc3VwcG9ydGVkP2MuZXZhbGVkPXI6aChhKSl9LHMuc2V0dXBSdW49ZnVuY3Rpb24oKXsoIVN8fE18fFAhPT1hLmRldmljZVBpeGVsUmF0aW8pJiZmKCl9LHMuc3VwUGljdHVyZT8oYmE9dSxzLmZpbGxJbWc9dSk6IWZ1bmN0aW9uKCl7dmFyIGMsZD1hLmF0dGFjaEV2ZW50Py9kJHxeYy86L2QkfF5jfF5pLyxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5yZWFkeVN0YXRlfHxcIlwiO2Y9c2V0VGltZW91dChlLFwibG9hZGluZ1wiPT09YT8yMDA6OTk5KSxiLmJvZHkmJihzLmZpbGxJbWdzKCksYz1jfHxkLnRlc3QoYSksYyYmY2xlYXJUaW1lb3V0KGYpKX0sZj1zZXRUaW1lb3V0KGUsYi5ib2R5Pzk6OTkpLGc9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9ZnVuY3Rpb24oKXt2YXIgZj1uZXcgRGF0ZS1kO2I+Zj9jPXNldFRpbWVvdXQoZSxiLWYpOihjPW51bGwsYSgpKX07cmV0dXJuIGZ1bmN0aW9uKCl7ZD1uZXcgRGF0ZSxjfHwoYz1zZXRUaW1lb3V0KGUsYikpfX0saD16LmNsaWVudEhlaWdodCxpPWZ1bmN0aW9uKCl7TT1NYXRoLm1heChhLmlubmVyV2lkdGh8fDAsei5jbGllbnRXaWR0aCkhPT1RLndpZHRofHx6LmNsaWVudEhlaWdodCE9PWgsaD16LmNsaWVudEhlaWdodCxNJiZzLmZpbGxJbWdzKCl9O1ooYSxcInJlc2l6ZVwiLGcoaSw5OSkpLFooYixcInJlYWR5c3RhdGVjaGFuZ2VcIixlKX0oKSxzLnBpY3R1cmVmaWxsPWJhLHMuZmlsbEltZ3M9YmEscy50ZWFyZG93blJ1bj11LGJhLl89cyxhLnBpY3R1cmVmaWxsQ0ZHPXtwZjpzLHB1c2g6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zaGlmdCgpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHNbYl0/c1tiXS5hcHBseShzLGEpOihCW2JdPWFbMF0sUyYmcy5maWxsSW1ncyh7cmVzZWxlY3Q6ITB9KSl9fTtmb3IoO0omJkoubGVuZ3RoOylhLnBpY3R1cmVmaWxsQ0ZHLnB1c2goSi5zaGlmdCgpKTthLnBpY3R1cmVmaWxsPWJhLFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iYTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcInBpY3R1cmVmaWxsXCIsZnVuY3Rpb24oKXtyZXR1cm4gYmF9KSxzLnN1cFBpY3R1cmV8fChBW1wiaW1hZ2Uvd2VicFwiXT1lKFwiaW1hZ2Uvd2VicFwiLFwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBd0FBQUFCQnhBUi9ROUVSUDhEQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBREFEUWxwQUFEY0FEKysvMVFBQT09XCIpKX0od2luZG93LGRvY3VtZW50KTsvKiEgcGljdHVyZWZpbGwgLSB2My4wLjIgLSAyMDE2LTAyLTEyXG4gKiBodHRwczovL3Njb3R0amVobC5naXRodWIuaW8vcGljdHVyZWZpbGwvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDsgTGljZW5zZWQgTUlUXG4gKi9cblx0XHQhZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGIsYz0wLGQ9ZnVuY3Rpb24oKXt3aW5kb3cucGljdHVyZWZpbGwmJmEod2luZG93LnBpY3R1cmVmaWxsKSwod2luZG93LnBpY3R1cmVmaWxsfHxjPjk5OTkpJiZjbGVhckludGVydmFsKGIpLGMrK307Yj1zZXRJbnRlcnZhbChkLDgpLGQoKX0oZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9d2luZG93LmRvY3VtZW50LGM9d2luZG93LkVsZW1lbnQsZD13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixlPWZ1bmN0aW9uKCl7fSxmPXtkaXNjb25uZWN0OmUsdGFrZTplLG9ic2VydmU6ZSxzdGFydDplLHN0b3A6ZSxjb25uZWN0ZWQ6ITF9LGc9L15sb2FkZXxeY3xeaS8udGVzdChiLnJlYWR5U3RhdGV8fFwiXCIpLGg9YS5fO2lmKGgubXV0YXRpb25TdXBwb3J0PSExLGgub2JzZXJ2ZXI9ZixPYmplY3Qua2V5cyYmd2luZG93LkhUTUxTb3VyY2VFbGVtZW50JiZiLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBpLGosayxsLG09e3NyYzoxLHNyY3NldDoxLHNpemVzOjEsbWVkaWE6MX0sbj1PYmplY3Qua2V5cyhtKSxvPXthdHRyaWJ1dGVzOiEwLGNoaWxkTGlzdDohMCxzdWJ0cmVlOiEwLGF0dHJpYnV0ZUZpbHRlcjpufSxwPWMmJmMucHJvdG90eXBlLHE9e30scj1mdW5jdGlvbihhLGIpe3FbYV09aFthXSxoW2FdPWJ9O3AmJiFwLm1hdGNoZXMmJihwLm1hdGNoZXM9cC5tYXRjaGVzU2VsZWN0b3J8fHAubW96TWF0Y2hlc1NlbGVjdG9yfHxwLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cC5tc01hdGNoZXNTZWxlY3RvcikscCYmcC5tYXRjaGVzJiYoaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLm1hdGNoZXMoYil9LGgubXV0YXRpb25TdXBwb3J0PSEoIU9iamVjdC5jcmVhdGV8fCFPYmplY3QuZGVmaW5lUHJvcGVydGllcykpLGgubXV0YXRpb25TdXBwb3J0JiYoZi5vYnNlcnZlPWZ1bmN0aW9uKCl7ayYmKGYuY29ubmVjdGVkPSEwLGomJmoub2JzZXJ2ZShiLmRvY3VtZW50RWxlbWVudCxvKSl9LGYuZGlzY29ubmVjdD1mdW5jdGlvbigpe2YuY29ubmVjdGVkPSExLGomJmouZGlzY29ubmVjdCgpfSxmLnRha2U9ZnVuY3Rpb24oKXtqP2gub25NdXRhdGlvbnMoai50YWtlUmVjb3JkcygpKTpsJiZsLnRha2UoKX0sZi5zdGFydD1mdW5jdGlvbigpe2s9ITAsZi5vYnNlcnZlKCl9LGYuc3RvcD1mdW5jdGlvbigpe2s9ITEsZi5kaXNjb25uZWN0KCl9LHIoXCJzZXR1cFJ1blwiLGZ1bmN0aW9uKCl7cmV0dXJuIGYuZGlzY29ubmVjdCgpLHEuc2V0dXBSdW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSkscihcInRlYXJkb3duUnVuXCIsZnVuY3Rpb24oKXt2YXIgYT1xLnNldHVwUnVuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZi5vYnNlcnZlKCksYX0pLHIoXCJzZXRTcmNcIixmdW5jdGlvbigpe3ZhciBhLGI9Zi5jb25uZWN0ZWQ7cmV0dXJuIGYuZGlzY29ubmVjdCgpLGE9cS5zZXRTcmMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGImJmYub2JzZXJ2ZSgpLGF9KSxoLm9uTXV0YXRpb25zPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1bXTtmb3IoYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKylnJiZcImNoaWxkTGlzdFwiPT09YVtiXS50eXBlP2gub25TdWJ0cmVlQ2hhbmdlKGFbYl0sZCk6XCJhdHRyaWJ1dGVzXCI9PT1hW2JdLnR5cGUmJmgub25BdHRyQ2hhbmdlKGFbYl0sZCk7ZC5sZW5ndGgmJmguZmlsbEltZ3Moe2VsZW1lbnRzOmQscmVldmFsdWF0ZTohMH0pfSxoLm9uU3VidHJlZUNoYW5nZT1mdW5jdGlvbihhLGIpe2guZmluZEFkZGVkTXV0YXRpb25zKGEuYWRkZWROb2RlcyxiKSxoLmZpbmRSZW1vdmVkTXV0YXRpb25zKGEucmVtb3ZlZE5vZGVzLGEudGFyZ2V0LGIpfSxoLmZpbmRBZGRlZE11dGF0aW9ucz1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2ZvcihjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWU9YVtjXSwxPT09ZS5ub2RlVHlwZSYmKGY9ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLFwiUElDVFVSRVwiPT09Zj9oLmFkZFRvRWxlbWVudHMoZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKVswXSxiKTpcIklNR1wiPT09ZiYmaShlLGguc2VsU2hvcnQpP2guYWRkVG9FbGVtZW50cyhlLGIpOlwiU09VUkNFXCI9PT1mP2guYWRkSW1nRm9yU291cmNlKGUsZS5wYXJlbnROb2RlLGIpOmguYWRkVG9FbGVtZW50cyhoLnFzYShlLGguc2VsU2hvcnQpLGIpKX0saC5maW5kUmVtb3ZlZE11dGF0aW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmO2ZvcihkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWY9YVtkXSwxPT09Zi5ub2RlVHlwZSYmXCJTT1VSQ0VcIj09PWYubm9kZU5hbWUudG9VcHBlckNhc2UoKSYmaC5hZGRJbWdGb3JTb3VyY2UoZixiLGMpfSxoLmFkZEltZ0ZvclNvdXJjZT1mdW5jdGlvbihhLGIsYyl7YiYmXCJQSUNUVVJFXCIhPT0oYi5ub2RlTmFtZXx8XCJcIikudG9VcHBlckNhc2UoKSYmKGI9Yi5wYXJlbnROb2RlLGImJlwiUElDVFVSRVwiPT09KGIubm9kZU5hbWV8fFwiXCIpLnRvVXBwZXJDYXNlKCl8fChiPW51bGwpKSxiJiZoLmFkZFRvRWxlbWVudHMoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKVswXSxjKX0saC5hZGRUb0VsZW1lbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZihhKWlmKFwibGVuZ3RoXCJpbiBhJiYhYS5ub2RlVHlwZSlmb3IoYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyloLmFkZFRvRWxlbWVudHMoYVtjXSxiKTtlbHNlIGEucGFyZW50Tm9kZSYmLTE9PT1iLmluZGV4T2YoYSkmJmIucHVzaChhKX0saC5vbkF0dHJDaGFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEudGFyZ2V0W2gubnNdO2R8fFwic3Jjc2V0XCIhPT1hLmF0dHJpYnV0ZU5hbWV8fFwiSU1HXCIhPT0oYz1hLnRhcmdldC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKT9kJiYoY3x8KGM9YS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSksXCJJTUdcIj09PWM/KGEuYXR0cmlidXRlTmFtZSBpbiBkJiYoZFthLmF0dHJpYnV0ZU5hbWVdPXZvaWQgMCksaC5hZGRUb0VsZW1lbnRzKGEudGFyZ2V0LGIpKTpcIlNPVVJDRVwiPT09YyYmaC5hZGRJbWdGb3JTb3VyY2UoYS50YXJnZXQsYS50YXJnZXQucGFyZW50Tm9kZSxiKSk6aC5hZGRUb0VsZW1lbnRzKGEudGFyZ2V0LGIpfSxoLnN1cFBpY3R1cmV8fChkJiYhaC50ZXN0TXV0YXRpb25FdmVudHM/aj1uZXcgZChoLm9uTXV0YXRpb25zKToobD1mdW5jdGlvbigpe3ZhciBhPSExLGI9W10sYz13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDtyZXR1cm4gZnVuY3Rpb24oZCl7YXx8KGE9ITAsbC50YWtlfHwobC50YWtlPWZ1bmN0aW9uKCl7Yi5sZW5ndGgmJihoLm9uTXV0YXRpb25zKGIpLGI9W10pLGE9ITF9KSxjKGwudGFrZSkpLGIucHVzaChkKX19KCksYi5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZFwiLGZ1bmN0aW9uKGEpe2YuY29ubmVjdGVkJiZnJiZsKHt0eXBlOlwiY2hpbGRMaXN0XCIsYWRkZWROb2RlczpbYS50YXJnZXRdLHJlbW92ZWROb2RlczpbXX0pfSwhMCksYi5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkXCIsZnVuY3Rpb24oYSl7Zi5jb25uZWN0ZWQmJmcmJlwiU09VUkNFXCI9PT0oYS50YXJnZXR8fHt9KS5ub2RlTmFtZSYmbCh7dHlwZTpcImNoaWxkTGlzdFwiLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOlthLnRhcmdldF0sdGFyZ2V0OmEudGFyZ2V0LnBhcmVudE5vZGV9KX0sITApLGIuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01BdHRyTW9kaWZpZWRcIixmdW5jdGlvbihhKXtmLmNvbm5lY3RlZCYmbVthLmF0dHJOYW1lXSYmbCh7dHlwZTpcImF0dHJpYnV0ZXNcIix0YXJnZXQ6YS50YXJnZXQsYXR0cmlidXRlTmFtZTphLmF0dHJOYW1lfSl9LCEwKSksd2luZG93LkhUTUxJbWFnZUVsZW1lbnQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJiYhZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksYz1bXSxkPWEuZ2V0QXR0cmlidXRlLGU9YS5zZXRBdHRyaWJ1dGUsZj17c3JjOjF9O2guc3VwU3Jjc2V0JiYhaC5zdXBTaXplcyYmKGYuc3Jjc2V0PTEpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEhUTUxJbWFnZUVsZW1lbnQucHJvdG90eXBlLHtnZXRBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBmW2FdJiYoYj10aGlzW2gubnNdKSYmdm9pZCAwIT09YlthXT9iW2FdOmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3cml0ZWFibGU6ITAsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksaC5zdXBTcmNzZXR8fGMucHVzaChcInNyY3NldFwiKSxoLnN1cFNpemVzfHxjLnB1c2goXCJzaXplc1wiKSxjLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxJbWFnZUVsZW1lbnQucHJvdG90eXBlLGEse3NldDpmdW5jdGlvbihiKXtlLmNhbGwodGhpcyxhLGIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMsYSl8fFwiXCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KSxcImN1cnJlbnRTcmNcImluIGF8fCFmdW5jdGlvbigpe3ZhciBhLGM9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1hLnNyY3x8XCJcIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJwZkN1cnJlbnRTcmNcIix7dmFsdWU6Yix3cml0YWJsZTohMH0pfSxkPWM7aC5zdXBTcmNzZXQmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvJiYoYT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZHx8YS53fHxhLnJlcyxkPWIuZHx8Yi53fHxiLnJlcztyZXR1cm4gYy1kfSxjPWZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGk9YltoLm5zXTtpZihpJiZpLnN1cHBvcnRlZCYmaS5zcmNzZXQmJmkuc2V0cyYmKGU9aC5wYXJzZVNldChpLnNldHNbMF0pKSYmZS5zb3J0KXtmb3IoZS5zb3J0KGEpLGY9ZS5sZW5ndGgsZz1lW2YtMV0sYz0wO2Y+YztjKyspaWYoZVtjXS5kPj13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyl7Zz1lW2NdO2JyZWFrfWcmJihnPWgubWFrZVVybChnLnVybCkpfWQoYixnKX0pLGIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihhKXtcIklNR1wiPT09YS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSYmYyhhLnRhcmdldCl9LCEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTEltYWdlRWxlbWVudC5wcm90b3R5cGUsXCJjdXJyZW50U3JjXCIse3NldDpmdW5jdGlvbigpe3dpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcImN1cnJlbnRTcmMgY2FuJ3QgYmUgc2V0IG9uIGltZyBlbGVtZW50XCIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wbGV0ZSYmYyh0aGlzKSx0aGlzLnNyY3x8dGhpcy5zcmNzZXQ/dGhpcy5wZkN1cnJlbnRTcmN8fFwiXCI6XCJcIn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0oKSwhd2luZG93LkhUTUxTb3VyY2VFbGVtZW50fHxcInNyY3NldFwiaW4gYi5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpfHxbXCJzcmNzZXRcIixcInNpemVzXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MU291cmNlRWxlbWVudC5wcm90b3R5cGUsYSx7c2V0OmZ1bmN0aW9uKGIpe3RoaXMuc2V0QXR0cmlidXRlKGEsYil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKXx8XCJcIn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0pfSgpLGYuc3RhcnQoKSksZ3x8Yi5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7Zz0hMH0pKX19KTtcblx0fVxuXG5cdGlmICghKFwiZGVmaW5lUHJvcGVydHlcImluIE9iamVjdCYmZnVuY3Rpb24oKXt0cnl7dmFyIGU9e31cblx0XHRcdHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInRlc3RcIix7dmFsdWU6NDJ9KSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KClcblx0KSkge1xuXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHlcblx0XHQoZnVuY3Rpb24gKG5hdGl2ZURlZmluZVByb3BlcnR5KSB7XG5cblx0XHRcdHZhciBzdXBwb3J0c0FjY2Vzc29ycyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ19fZGVmaW5lR2V0dGVyX18nKTtcblx0XHRcdHZhciBFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQgPSAnR2V0dGVycyAmIHNldHRlcnMgY2Fubm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZSc7XG5cdFx0XHR2YXIgRVJSX1ZBTFVFX0FDQ0VTU09SUyA9ICdBIHByb3BlcnR5IGNhbm5vdCBib3RoIGhhdmUgYWNjZXNzb3JzIGFuZCBiZSB3cml0YWJsZSBvciBoYXZlIGEgdmFsdWUnO1xuXG5cdFx0XHQvLyBQb2x5ZmlsbC5pbyAtIFRoaXMgZG9lcyBub3QgdXNlIENyZWF0ZU1ldGhvZFByb3BlcnR5IGJlY2F1c2Ugb3VyIENyZWF0ZU1ldGhvZFByb3BlcnR5IGZ1bmN0aW9uIHVzZXMgT2JqZWN0LmRlZmluZVByb3BlcnR5LlxuXHRcdFx0T2JqZWN0WydkZWZpbmVQcm9wZXJ0eSddID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuXG5cdFx0XHRcdC8vIFdoZXJlIG5hdGl2ZSBzdXBwb3J0IGV4aXN0cywgYXNzdW1lIGl0XG5cdFx0XHRcdGlmIChuYXRpdmVEZWZpbmVQcm9wZXJ0eSAmJiAob2JqZWN0ID09PSB3aW5kb3cgfHwgb2JqZWN0ID09PSBkb2N1bWVudCB8fCBvYmplY3QgPT09IEVsZW1lbnQucHJvdG90eXBlIHx8IG9iamVjdCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG9iamVjdCA9PT0gbnVsbCB8fCAhKG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JykpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKGRlc2NyaXB0b3IgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBwcm9wZXJ0eVN0cmluZyA9IFN0cmluZyhwcm9wZXJ0eSk7XG5cdFx0XHRcdHZhciBoYXNWYWx1ZU9yV3JpdGFibGUgPSAndmFsdWUnIGluIGRlc2NyaXB0b3IgfHwgJ3dyaXRhYmxlJyBpbiBkZXNjcmlwdG9yO1xuXHRcdFx0XHR2YXIgZ2V0dGVyVHlwZSA9ICdnZXQnIGluIGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0O1xuXHRcdFx0XHR2YXIgc2V0dGVyVHlwZSA9ICdzZXQnIGluIGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3Iuc2V0O1xuXG5cdFx0XHRcdC8vIGhhbmRsZSBkZXNjcmlwdG9yLmdldFxuXHRcdFx0XHRpZiAoZ2V0dGVyVHlwZSkge1xuXHRcdFx0XHRcdGlmIChnZXR0ZXJUeXBlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdHZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghc3VwcG9ydHNBY2Nlc3NvcnMpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGhhc1ZhbHVlT3JXcml0YWJsZSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfVkFMVUVfQUNDRVNTT1JTKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0T2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18uY2FsbChvYmplY3QsIHByb3BlcnR5U3RyaW5nLCBkZXNjcmlwdG9yLmdldCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b2JqZWN0W3Byb3BlcnR5U3RyaW5nXSA9IGRlc2NyaXB0b3IudmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgZGVzY3JpcHRvci5zZXRcblx0XHRcdFx0aWYgKHNldHRlclR5cGUpIHtcblx0XHRcdFx0XHRpZiAoc2V0dGVyVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignU2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIXN1cHBvcnRzQWNjZXNzb3JzKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChoYXNWYWx1ZU9yV3JpdGFibGUpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX1ZBTFVFX0FDQ0VTU09SUyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdE9iamVjdC5fX2RlZmluZVNldHRlcl9fLmNhbGwob2JqZWN0LCBwcm9wZXJ0eVN0cmluZywgZGVzY3JpcHRvci5zZXQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT0sgdG8gZGVmaW5lIHZhbHVlIHVuY29uZGl0aW9uYWxseSAtIGlmIGEgZ2V0dGVyIGhhcyBiZWVuIHNwZWNpZmllZCBhcyB3ZWxsLCBhbiBlcnJvciB3b3VsZCBiZSB0aHJvd24gYWJvdmVcblx0XHRcdFx0aWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdG9iamVjdFtwcm9wZXJ0eVN0cmluZ10gPSBkZXNjcmlwdG9yLnZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG9iamVjdDtcblx0XHRcdH07XG5cdFx0fShPYmplY3QuZGVmaW5lUHJvcGVydHkpKTtcblxuXHR9XG5cblxuLy8gX0VTQWJzdHJhY3QuQ3JlYXRlRGF0YVByb3BlcnR5XG4vLyA3LjMuNC4gQ3JlYXRlRGF0YVByb3BlcnR5ICggTywgUCwgViApXG4vLyBOT1RFXG4vLyBUaGlzIGFic3RyYWN0IG9wZXJhdGlvbiBjcmVhdGVzIGEgcHJvcGVydHkgd2hvc2UgYXR0cmlidXRlcyBhcmUgc2V0IHRvIHRoZSBzYW1lIGRlZmF1bHRzIHVzZWQgZm9yIHByb3BlcnRpZXMgY3JlYXRlZCBieSB0aGUgRUNNQVNjcmlwdCBsYW5ndWFnZSBhc3NpZ25tZW50IG9wZXJhdG9yLlxuLy8gTm9ybWFsbHksIHRoZSBwcm9wZXJ0eSB3aWxsIG5vdCBhbHJlYWR5IGV4aXN0LiBJZiBpdCBkb2VzIGV4aXN0IGFuZCBpcyBub3QgY29uZmlndXJhYmxlIG9yIGlmIE8gaXMgbm90IGV4dGVuc2libGUsIFtbRGVmaW5lT3duUHJvcGVydHldXSB3aWxsIHJldHVybiBmYWxzZS5cblx0ZnVuY3Rpb24gQ3JlYXRlRGF0YVByb3BlcnR5KE8sIFAsIFYpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBBc3NlcnQ6IFR5cGUoTykgaXMgT2JqZWN0LlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBBc3NlcnQ6IElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMy4gTGV0IG5ld0Rlc2MgYmUgdGhlIFByb3BlcnR5RGVzY3JpcHRvcnsgW1tWYWx1ZV1dOiBWLCBbW1dyaXRhYmxlXV06IHRydWUsIFtbRW51bWVyYWJsZV1dOiB0cnVlLCBbW0NvbmZpZ3VyYWJsZV1dOiB0cnVlIH0uXG5cdFx0dmFyIG5ld0Rlc2MgPSB7XG5cdFx0XHR2YWx1ZTogVixcblx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH07XG5cdFx0Ly8gNC4gUmV0dXJuID8gTy5bW0RlZmluZU93blByb3BlcnR5XV0oUCwgbmV3RGVzYykuXG5cdFx0dHJ5IHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBuZXdEZXNjKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvd1xuXHQvKiBnbG9iYWwgQ3JlYXRlRGF0YVByb3BlcnR5ICovXG4vLyA3LjMuNi4gQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyAoIE8sIFAsIFYgKVxuXHRmdW5jdGlvbiBDcmVhdGVEYXRhUHJvcGVydHlPclRocm93KE8sIFAsIFYpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDIuIEFzc2VydDogSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMy4gTGV0IHN1Y2Nlc3MgYmUgPyBDcmVhdGVEYXRhUHJvcGVydHkoTywgUCwgVikuXG5cdFx0dmFyIHN1Y2Nlc3MgPSBDcmVhdGVEYXRhUHJvcGVydHkoTywgUCwgVik7XG5cdFx0Ly8gNC4gSWYgc3VjY2VzcyBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdGlmICghc3VjY2Vzcykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFzc2lnbiB2YWx1ZSBgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChWKSArICdgIHRvIHByb3BlcnR5IGAnICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFApICsgJ2Agb24gb2JqZWN0IGAnICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKE8pICsgJ2AnKTtcblx0XHR9XG5cdFx0Ly8gNS4gUmV0dXJuIHN1Y2Nlc3MuXG5cdFx0cmV0dXJuIHN1Y2Nlc3M7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuQ3JlYXRlTWV0aG9kUHJvcGVydHlcbi8vIDcuMy41LiBDcmVhdGVNZXRob2RQcm9wZXJ0eSAoIE8sIFAsIFYgKVxuXHRmdW5jdGlvbiBDcmVhdGVNZXRob2RQcm9wZXJ0eShPLCBQLCBWKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBBc3NlcnQ6IFR5cGUoTykgaXMgT2JqZWN0LlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDIuIEFzc2VydDogSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDMuIExldCBuZXdEZXNjIGJlIHRoZSBQcm9wZXJ0eURlc2NyaXB0b3J7W1tWYWx1ZV1dOiBWLCBbW1dyaXRhYmxlXV06IHRydWUsIFtbRW51bWVyYWJsZV1dOiBmYWxzZSwgW1tDb25maWd1cmFibGVdXTogdHJ1ZX0uXG5cdFx0dmFyIG5ld0Rlc2MgPSB7XG5cdFx0XHR2YWx1ZTogVixcblx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9O1xuXHRcdC8vIDQuIFJldHVybiA/IE8uW1tEZWZpbmVPd25Qcm9wZXJ0eV1dKFAsIG5ld0Rlc2MpLlxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBuZXdEZXNjKTtcblx0fVxuXHRpZiAoIShcImlzQXJyYXlcImluIEFycmF5XG5cdCkpIHtcblxuLy8gQXJyYXkuaXNBcnJheVxuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgSXNBcnJheSAqL1xuLy8gMjIuMS4yLjIuIEFycmF5LmlzQXJyYXkgKCBhcmcgKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KEFycmF5LCAnaXNBcnJheScsIGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG5cdFx0XHQvLyAxLiBSZXR1cm4gPyBJc0FycmF5KGFyZykuXG5cdFx0XHRyZXR1cm4gSXNBcnJheShhcmcpO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImZvckVhY2hcImluIEFycmF5LnByb3RvdHlwZVxuXHQpKSB7XG5cbi8vIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoXG5cdFx0LyogZ2xvYmFsIENhbGwsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBHZXQsIEhhc1Byb3BlcnR5LCBJc0NhbGxhYmxlLCBUb0xlbmd0aCwgVG9PYmplY3QsIFRvU3RyaW5nICovXG4vLyAyMi4xLjMuMTAuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmb3JFYWNoJywgZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFja2ZuIC8qIFsgLCB0aGlzQXJnIF0gKi8pIHtcblx0XHRcdC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG5cdFx0XHR2YXIgTyA9IFRvT2JqZWN0KHRoaXMpO1xuXHRcdFx0Ly8gUG9seWZpbGwuaW8gLSBJZiBPIGlzIGEgU3RyaW5nIG9iamVjdCwgc3BsaXQgaXQgaW50byBhbiBhcnJheSBpbiBvcmRlciB0byBpdGVyYXRlIGNvcnJlY3RseS5cblx0XHRcdC8vIFdlIHdpbGwgdXNlIGFycmF5TGlrZSBpbiBwbGFjZSBvZiBPIHdoZW4gd2UgYXJlIGl0ZXJhdGluZyB0aHJvdWdoIHRoZSBsaXN0LlxuXHRcdFx0dmFyIGFycmF5bGlrZSA9IE8gaW5zdGFuY2VvZiBTdHJpbmcgPyBPLnNwbGl0KCcnKSA6IE87XG5cdFx0XHQvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuXHRcdFx0dmFyIGxlbiA9IFRvTGVuZ3RoKEdldChPLCBcImxlbmd0aFwiKSk7XG5cdFx0XHQvLyAzLiBJZiBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoSXNDYWxsYWJsZShjYWxsYmFja2ZuKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFja2ZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gNC4gSWYgdGhpc0FyZyBpcyBwcmVzZW50LCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cblx0XHRcdHZhciBUID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyA1LiBMZXQgayBiZSAwLlxuXHRcdFx0dmFyIGsgPSAwO1xuXHRcdFx0Ly8gNi4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG5cdFx0XHR3aGlsZSAoayA8IGxlbikge1xuXHRcdFx0XHQvLyBhLiBMZXQgUGsgYmUgISBUb1N0cmluZyhrKS5cblx0XHRcdFx0dmFyIFBrID0gVG9TdHJpbmcoayk7XG5cdFx0XHRcdC8vIGIuIExldCBrUHJlc2VudCBiZSA/IEhhc1Byb3BlcnR5KE8sIFBrKS5cblx0XHRcdFx0dmFyIGtQcmVzZW50ID0gSGFzUHJvcGVydHkoYXJyYXlsaWtlLCBQayk7XG5cdFx0XHRcdC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW5cblx0XHRcdFx0aWYgKGtQcmVzZW50KSB7XG5cdFx0XHRcdFx0Ly8gaS4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXG5cdFx0XHRcdFx0dmFyIGtWYWx1ZSA9IEdldChhcnJheWxpa2UsIFBrKTtcblx0XHRcdFx0XHQvLyBpaS4gUGVyZm9ybSA/IENhbGwoY2FsbGJhY2tmbiwgVCwgwqsga1ZhbHVlLCBrLCBPIMK7KS5cblx0XHRcdFx0XHRDYWxsKGNhbGxiYWNrZm4sIFQsIFtrVmFsdWUsIGssIE9dKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkLiBJbmNyZWFzZSBrIGJ5IDEuXG5cdFx0XHRcdGsgPSBrICsgMTtcblx0XHRcdH1cblx0XHRcdC8vIDcuIFJldHVybiB1bmRlZmluZWQuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImJpbmRcImluIEZ1bmN0aW9uLnByb3RvdHlwZVxuXHQpKSB7XG5cbi8vIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBJc0NhbGxhYmxlICovXG4vLyAxOS4yLjMuMi4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgKCB0aGlzQXJnLCAuLi5hcmdzIClcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9ibG9iL2Q2ZDdmZjFiMTMxYzdiYTE0Yzc5OGNhZmM1OThiYjY3ODBkMzdkM2IvZXM1LXNoaW0uanMjTDE4MlxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ2JpbmQnLCBmdW5jdGlvbiBiaW5kKHRoYXQpIHsgLy8gLmxlbmd0aCBpcyAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyBhZGQgbmVjZXNzYXJ5IGVzNS1zaGltIHV0aWxpdGllc1xuXHRcdFx0dmFyICRBcnJheSA9IEFycmF5O1xuXHRcdFx0dmFyICRPYmplY3QgPSBPYmplY3Q7XG5cdFx0XHR2YXIgQXJyYXlQcm90b3R5cGUgPSAkQXJyYXkucHJvdG90eXBlO1xuXHRcdFx0dmFyIEVtcHR5ID0gZnVuY3Rpb24gRW1wdHkoKSB7IH07XG5cdFx0XHR2YXIgYXJyYXlfc2xpY2UgPSBBcnJheVByb3RvdHlwZS5zbGljZTtcblx0XHRcdHZhciBhcnJheV9jb25jYXQgPSBBcnJheVByb3RvdHlwZS5jb25jYXQ7XG5cdFx0XHR2YXIgYXJyYXlfcHVzaCA9IEFycmF5UHJvdG90eXBlLnB1c2g7XG5cdFx0XHR2YXIgbWF4ID0gTWF0aC5tYXg7XG5cdFx0XHQvLyAvYWRkIG5lY2Vzc2FyeSBlczUtc2hpbSB1dGlsaXRpZXNcblxuXHRcdFx0Ly8gMS4gTGV0IFRhcmdldCBiZSB0aGUgdGhpcyB2YWx1ZS5cblx0XHRcdHZhciB0YXJnZXQgPSB0aGlzO1xuXHRcdFx0Ly8gMi4gSWYgSXNDYWxsYWJsZShUYXJnZXQpIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoIUlzQ2FsbGFibGUodGFyZ2V0KSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICcgKyB0YXJnZXQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gMy4gTGV0IEEgYmUgYSBuZXcgKHBvc3NpYmx5IGVtcHR5KSBpbnRlcm5hbCBsaXN0IG9mIGFsbCBvZiB0aGVcblx0XHRcdC8vICAgYXJndW1lbnQgdmFsdWVzIHByb3ZpZGVkIGFmdGVyIHRoaXNBcmcgKGFyZzEsIGFyZzIgZXRjKSwgaW4gb3JkZXIuXG5cdFx0XHQvLyBYWFggc2xpY2VkQXJncyB3aWxsIHN0YW5kIGluIGZvciBcIkFcIiBpZiB1c2VkXG5cdFx0XHR2YXIgYXJncyA9IGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgLy8gZm9yIG5vcm1hbCBjYWxsXG5cdFx0XHQvLyA0LiBMZXQgRiBiZSBhIG5ldyBuYXRpdmUgRUNNQVNjcmlwdCBvYmplY3QuXG5cdFx0XHQvLyAxMS4gU2V0IHRoZSBbW1Byb3RvdHlwZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdGhlIHN0YW5kYXJkXG5cdFx0XHQvLyAgIGJ1aWx0LWluIEZ1bmN0aW9uIHByb3RvdHlwZSBvYmplY3QgYXMgc3BlY2lmaWVkIGluIDE1LjMuMy4xLlxuXHRcdFx0Ly8gMTIuIFNldCB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cblx0XHRcdC8vICAgMTUuMy40LjUuMS5cblx0XHRcdC8vIDEzLiBTZXQgdGhlIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cblx0XHRcdC8vICAgMTUuMy40LjUuMi5cblx0XHRcdC8vIDE0LiBTZXQgdGhlIFtbSGFzSW5zdGFuY2VdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxuXHRcdFx0Ly8gICAxNS4zLjQuNS4zLlxuXHRcdFx0dmFyIGJvdW5kO1xuXHRcdFx0dmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG5cdFx0XHRcdFx0Ly8gMTUuMy40LjUuMiBbW0NvbnN0cnVjdF1dXG5cdFx0XHRcdFx0Ly8gV2hlbiB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2Qgb2YgYSBmdW5jdGlvbiBvYmplY3QsXG5cdFx0XHRcdFx0Ly8gRiB0aGF0IHdhcyBjcmVhdGVkIHVzaW5nIHRoZSBiaW5kIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcblx0XHRcdFx0XHQvLyBsaXN0IG9mIGFyZ3VtZW50cyBFeHRyYUFyZ3MsIHRoZSBmb2xsb3dpbmcgc3RlcHMgYXJlIHRha2VuOlxuXHRcdFx0XHRcdC8vIDEuIExldCB0YXJnZXQgYmUgdGhlIHZhbHVlIG9mIEYncyBbW1RhcmdldEZ1bmN0aW9uXV1cblx0XHRcdFx0XHQvLyAgIGludGVybmFsIHByb3BlcnR5LlxuXHRcdFx0XHRcdC8vIDIuIElmIHRhcmdldCBoYXMgbm8gW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QsIGFcblx0XHRcdFx0XHQvLyAgIFR5cGVFcnJvciBleGNlcHRpb24gaXMgdGhyb3duLlxuXHRcdFx0XHRcdC8vIDMuIExldCBib3VuZEFyZ3MgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kQXJnc11dIGludGVybmFsXG5cdFx0XHRcdFx0Ly8gICBwcm9wZXJ0eS5cblx0XHRcdFx0XHQvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxuXHRcdFx0XHRcdC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcblx0XHRcdFx0XHQvLyAgIHZhbHVlcyBhcyB0aGUgbGlzdCBFeHRyYUFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIuXG5cdFx0XHRcdFx0Ly8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbFxuXHRcdFx0XHRcdC8vICAgbWV0aG9kIG9mIHRhcmdldCBwcm92aWRpbmcgYXJncyBhcyB0aGUgYXJndW1lbnRzLlxuXG5cdFx0XHRcdFx0dmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcblx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRhcnJheV9jb25jYXQuY2FsbChhcmdzLCBhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cykpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRpZiAoJE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gMTUuMy40LjUuMSBbW0NhbGxdXVxuXHRcdFx0XHRcdC8vIFdoZW4gdGhlIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZCBvZiBhIGZ1bmN0aW9uIG9iamVjdCwgRixcblx0XHRcdFx0XHQvLyB3aGljaCB3YXMgY3JlYXRlZCB1c2luZyB0aGUgYmluZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXG5cdFx0XHRcdFx0Ly8gdGhpcyB2YWx1ZSBhbmQgYSBsaXN0IG9mIGFyZ3VtZW50cyBFeHRyYUFyZ3MsIHRoZSBmb2xsb3dpbmdcblx0XHRcdFx0XHQvLyBzdGVwcyBhcmUgdGFrZW46XG5cdFx0XHRcdFx0Ly8gMS4gTGV0IGJvdW5kQXJncyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRBcmdzXV0gaW50ZXJuYWxcblx0XHRcdFx0XHQvLyAgIHByb3BlcnR5LlxuXHRcdFx0XHRcdC8vIDIuIExldCBib3VuZFRoaXMgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kVGhpc11dIGludGVybmFsXG5cdFx0XHRcdFx0Ly8gICBwcm9wZXJ0eS5cblx0XHRcdFx0XHQvLyAzLiBMZXQgdGFyZ2V0IGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tUYXJnZXRGdW5jdGlvbl1dIGludGVybmFsXG5cdFx0XHRcdFx0Ly8gICBwcm9wZXJ0eS5cblx0XHRcdFx0XHQvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxuXHRcdFx0XHRcdC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcblx0XHRcdFx0XHQvLyAgIHZhbHVlcyBhcyB0aGUgbGlzdCBFeHRyYUFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIuXG5cdFx0XHRcdFx0Ly8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kXG5cdFx0XHRcdFx0Ly8gICBvZiB0YXJnZXQgcHJvdmlkaW5nIGJvdW5kVGhpcyBhcyB0aGUgdGhpcyB2YWx1ZSBhbmRcblx0XHRcdFx0XHQvLyAgIHByb3ZpZGluZyBhcmdzIGFzIHRoZSBhcmd1bWVudHMuXG5cblx0XHRcdFx0XHQvLyBlcXVpdjogdGFyZ2V0LmNhbGwodGhpcywgLi4uYm91bmRBcmdzLCAuLi5hcmdzKVxuXHRcdFx0XHRcdHJldHVybiB0YXJnZXQuYXBwbHkoXG5cdFx0XHRcdFx0XHR0aGF0LFxuXHRcdFx0XHRcdFx0YXJyYXlfY29uY2F0LmNhbGwoYXJncywgYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyAxNS4gSWYgdGhlIFtbQ2xhc3NdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBUYXJnZXQgaXMgXCJGdW5jdGlvblwiLCB0aGVuXG5cdFx0XHQvLyAgICAgYS4gTGV0IEwgYmUgdGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiBUYXJnZXQgbWludXMgdGhlIGxlbmd0aCBvZiBBLlxuXHRcdFx0Ly8gICAgIGIuIFNldCB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIGVpdGhlciAwIG9yIEwsIHdoaWNoZXZlciBpc1xuXHRcdFx0Ly8gICAgICAgbGFyZ2VyLlxuXHRcdFx0Ly8gMTYuIEVsc2Ugc2V0IHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gMC5cblxuXHRcdFx0dmFyIGJvdW5kTGVuZ3RoID0gbWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG5cblx0XHRcdC8vIDE3LiBTZXQgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byB0aGUgdmFsdWVzXG5cdFx0XHQvLyAgIHNwZWNpZmllZCBpbiAxNS4zLjUuMS5cblx0XHRcdHZhciBib3VuZEFyZ3MgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuXHRcdFx0XHRhcnJheV9wdXNoLmNhbGwoYm91bmRBcmdzLCAnJCcgKyBpKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gWFhYIEJ1aWxkIGEgZHluYW1pYyBmdW5jdGlvbiB3aXRoIGRlc2lyZWQgYW1vdW50IG9mIGFyZ3VtZW50cyBpcyB0aGUgb25seVxuXHRcdFx0Ly8gd2F5IHRvIHNldCB0aGUgbGVuZ3RoIHByb3BlcnR5IG9mIGEgZnVuY3Rpb24uXG5cdFx0XHQvLyBJbiBlbnZpcm9ubWVudHMgd2hlcmUgQ29udGVudCBTZWN1cml0eSBQb2xpY2llcyBlbmFibGVkIChDaHJvbWUgZXh0ZW5zaW9ucyxcblx0XHRcdC8vIGZvciBleC4pIGFsbCB1c2Ugb2YgZXZhbCBvciBGdW5jdGlvbiBjb3N0cnVjdG9yIHRocm93cyBhbiBleGNlcHRpb24uXG5cdFx0XHQvLyBIb3dldmVyIGluIGFsbCBvZiB0aGVzZSBlbnZpcm9ubWVudHMgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgZXhpc3RzXG5cdFx0XHQvLyBhbmQgc28gdGhpcyBjb2RlIHdpbGwgbmV2ZXIgYmUgZXhlY3V0ZWQuXG5cdFx0XHRib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0nKShiaW5kZXIpO1xuXG5cdFx0XHRpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuXHRcdFx0XHRFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuXHRcdFx0XHRib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcblx0XHRcdFx0Ly8gQ2xlYW4gdXAgZGFuZ2xpbmcgcmVmZXJlbmNlcy5cblx0XHRcdFx0RW1wdHkucHJvdG90eXBlID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVE9ET1xuXHRcdFx0Ly8gMTguIFNldCB0aGUgW1tFeHRlbnNpYmxlXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiB0byB0cnVlLlxuXG5cdFx0XHQvLyBUT0RPXG5cdFx0XHQvLyAxOS4gTGV0IHRocm93ZXIgYmUgdGhlIFtbVGhyb3dUeXBlRXJyb3JdXSBmdW5jdGlvbiBPYmplY3QgKDEzLjIuMykuXG5cdFx0XHQvLyAyMC4gQ2FsbCB0aGUgW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGludGVybmFsIG1ldGhvZCBvZiBGIHdpdGhcblx0XHRcdC8vICAgYXJndW1lbnRzIFwiY2FsbGVyXCIsIFByb3BlcnR5RGVzY3JpcHRvciB7W1tHZXRdXTogdGhyb3dlciwgW1tTZXRdXTpcblx0XHRcdC8vICAgdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sIGFuZFxuXHRcdFx0Ly8gICBmYWxzZS5cblx0XHRcdC8vIDIxLiBDYWxsIHRoZSBbW0RlZmluZU93blByb3BlcnR5XV0gaW50ZXJuYWwgbWV0aG9kIG9mIEYgd2l0aFxuXHRcdFx0Ly8gICBhcmd1bWVudHMgXCJhcmd1bWVudHNcIiwgUHJvcGVydHlEZXNjcmlwdG9yIHtbW0dldF1dOiB0aHJvd2VyLFxuXHRcdFx0Ly8gICBbW1NldF1dOiB0aHJvd2VyLCBbW0VudW1lcmFibGVdXTogZmFsc2UsIFtbQ29uZmlndXJhYmxlXV06IGZhbHNlfSxcblx0XHRcdC8vICAgYW5kIGZhbHNlLlxuXG5cdFx0XHQvLyBUT0RPXG5cdFx0XHQvLyBOT1RFIEZ1bmN0aW9uIG9iamVjdHMgY3JlYXRlZCB1c2luZyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBkbyBub3Rcblx0XHRcdC8vIGhhdmUgYSBwcm90b3R5cGUgcHJvcGVydHkgb3IgdGhlIFtbQ29kZV1dLCBbW0Zvcm1hbFBhcmFtZXRlcnNdXSwgYW5kXG5cdFx0XHQvLyBbW1Njb3BlXV0gaW50ZXJuYWwgcHJvcGVydGllcy5cblx0XHRcdC8vIFhYWCBjYW4ndCBkZWxldGUgcHJvdG90eXBlIGluIHB1cmUtanMuXG5cblx0XHRcdC8vIDIyLiBSZXR1cm4gRi5cblx0XHRcdHJldHVybiBib3VuZDtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJmcmVlemVcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5mcmVlemVcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHkgKi9cbi8vIDE5LjEuMi42LiBPYmplY3QuZnJlZXplICggTyApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZnJlZXplJywgZnVuY3Rpb24gZnJlZXplKE8pIHtcblx0XHRcdC8vIFRoaXMgZmVhdHVyZSBjYW5ub3QgYmUgaW1wbGVtZW50ZWQgZnVsbHkgYXMgYSBwb2x5ZmlsbC5cblx0XHRcdC8vIFdlIGNob29zZSB0byBzaWxlbnRseSBmYWlsIHdoaWNoIGFsbG93cyBcInNlY3VyYWJsZVwiIGNvZGVcblx0XHRcdC8vIHRvIFwiZ3JhY2VmdWxseVwiIGRlZ3JhZGUgdG8gd29ya2luZyBidXQgaW5zZWN1cmUgY29kZS5cblx0XHRcdHJldHVybiBPO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiaW4gT2JqZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZmdW5jdGlvbigpe3RyeXt2YXIgdD17fVxuXHRcdFx0cmV0dXJuIHQudGVzdD0wLDA9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsXCJ0ZXN0XCIpLnZhbHVlfWNhdGNoKGUpe3JldHVybiExfX0oKVxuXHQpKSB7XG5cbi8vIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHkgKi9cblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcblx0XHRcdHZhciBwcm90b3R5cGVPZk9iamVjdCA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFx0XHR2YXIgb3ducyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7XG5cblx0XHRcdHZhciBsb29rdXBHZXR0ZXI7XG5cdFx0XHR2YXIgbG9va3VwU2V0dGVyO1xuXHRcdFx0dmFyIHN1cHBvcnRzQWNjZXNzb3JzO1xuXHRcdFx0aWYgKChzdXBwb3J0c0FjY2Vzc29ycyA9IG93bnMocHJvdG90eXBlT2ZPYmplY3QsIFwiX19kZWZpbmVHZXR0ZXJfX1wiKSkpIHtcblx0XHRcdFx0bG9va3VwR2V0dGVyID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18pO1xuXHRcdFx0XHRsb29rdXBTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXyk7XG5cdFx0XHR9XG5cdFx0XHRmdW5jdGlvbiBkb2VzR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29yayhvYmplY3QpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRvYmplY3Quc2VudGluZWwgPSAwO1xuXHRcdFx0XHRcdHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuXHRcdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdFx0XCJzZW50aW5lbFwiXG5cdFx0XHRcdFx0KS52YWx1ZSA9PT0gMDtcblx0XHRcdFx0fSBjYXRjaCAoZXhjZXB0aW9uKSB7XG5cdFx0XHRcdFx0Ly8gcmV0dXJucyBmYWxzeVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBjaGVjayB3aGV0aGVyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciB3b3JrcyBpZiBpdCdzIGdpdmVuLiBPdGhlcndpc2UsXG5cdFx0XHQvLyBzaGltIHBhcnRpYWxseS5cblx0XHRcdGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcblx0XHRcdFx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25PYmplY3QgPVxuXHRcdFx0XHRcdGRvZXNHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JXb3JrKHt9KTtcblx0XHRcdFx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25Eb20gPSB0eXBlb2YgZG9jdW1lbnQgPT0gXCJ1bmRlZmluZWRcIiB8fFxuXHRcdFx0XHRcdGRvZXNHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuXHRcdFx0XHRpZiAoIWdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25Eb20gfHxcblx0XHRcdFx0XHQhZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29ya3NPbk9iamVjdFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHR2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRmFsbGJhY2sgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciB8fCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JGYWxsYmFjaykge1xuXHRcdFx0XHR2YXIgRVJSX05PTl9PQkpFQ1QgPSBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogXCI7XG5cblx0XHRcdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpIHtcblx0XHRcdFx0XHRpZiAoKHR5cGVvZiBvYmplY3QgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9IFwiZnVuY3Rpb25cIikgfHwgb2JqZWN0ID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUICsgb2JqZWN0KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBtYWtlIGEgdmFsaWFudCBhdHRlbXB0IHRvIHVzZSB0aGUgcmVhbCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcblx0XHRcdFx0XHQvLyBmb3IgSTgncyBET00gZWxlbWVudHMuXG5cdFx0XHRcdFx0aWYgKGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRmFsbGJhY2suY2FsbChPYmplY3QsIG9iamVjdCwgcHJvcGVydHkpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXhjZXB0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHRyeSB0aGUgc2hpbSBpZiB0aGUgcmVhbCBvbmUgZG9lc24ndCB3b3JrXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgb2JqZWN0IGRvZXMgbm90IG93bnMgcHJvcGVydHkgcmV0dXJuIHVuZGVmaW5lZCBpbW1lZGlhdGVseS5cblx0XHRcdFx0XHRpZiAoIW93bnMob2JqZWN0LCBwcm9wZXJ0eSkpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBJZiBvYmplY3QgaGFzIGEgcHJvcGVydHkgdGhlbiBpdCdzIGZvciBzdXJlIGJvdGggYGVudW1lcmFibGVgIGFuZFxuXHRcdFx0XHRcdC8vIGBjb25maWd1cmFibGVgLlxuXHRcdFx0XHRcdHZhciBkZXNjcmlwdG9yID0geyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfTtcblxuXHRcdFx0XHRcdC8vIElmIEpTIGVuZ2luZSBzdXBwb3J0cyBhY2Nlc3NvciBwcm9wZXJ0aWVzIHRoZW4gcHJvcGVydHkgbWF5IGJlIGFcblx0XHRcdFx0XHQvLyBnZXR0ZXIgb3Igc2V0dGVyLlxuXHRcdFx0XHRcdGlmIChzdXBwb3J0c0FjY2Vzc29ycykge1xuXHRcdFx0XHRcdFx0Ly8gVW5mb3J0dW5hdGVseSBgX19sb29rdXBHZXR0ZXJfX2Agd2lsbCByZXR1cm4gYSBnZXR0ZXIgZXZlblxuXHRcdFx0XHRcdFx0Ly8gaWYgb2JqZWN0IGhhcyBvd24gbm9uIGdldHRlciBwcm9wZXJ0eSBhbG9uZyB3aXRoIGEgc2FtZSBuYW1lZFxuXHRcdFx0XHRcdFx0Ly8gaW5oZXJpdGVkIGdldHRlci4gVG8gYXZvaWQgbWlzYmVoYXZpb3Igd2UgdGVtcG9yYXJ5IHJlbW92ZVxuXHRcdFx0XHRcdFx0Ly8gYF9fcHJvdG9fX2Agc28gdGhhdCBgX19sb29rdXBHZXR0ZXJfX2Agd2lsbCByZXR1cm4gZ2V0dGVyIG9ubHlcblx0XHRcdFx0XHRcdC8vIGlmIGl0J3Mgb3duZWQgYnkgYW4gb2JqZWN0LlxuXHRcdFx0XHRcdFx0dmFyIHByb3RvdHlwZSA9IG9iamVjdC5fX3Byb3RvX187XG5cdFx0XHRcdFx0XHRvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlT2ZPYmplY3Q7XG5cblx0XHRcdFx0XHRcdHZhciBnZXR0ZXIgPSBsb29rdXBHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSk7XG5cdFx0XHRcdFx0XHR2YXIgc2V0dGVyID0gbG9va3VwU2V0dGVyKG9iamVjdCwgcHJvcGVydHkpO1xuXG5cdFx0XHRcdFx0XHQvLyBPbmNlIHdlIGhhdmUgZ2V0dGVyIGFuZCBzZXR0ZXIgd2UgY2FuIHB1dCB2YWx1ZXMgYmFjay5cblx0XHRcdFx0XHRcdG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG5cblx0XHRcdFx0XHRcdGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChnZXR0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yLmdldCA9IGdldHRlcjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoc2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvci5zZXQgPSBzZXR0ZXI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Ly8gSWYgaXQgd2FzIGFjY2Vzc29yIHByb3BlcnR5IHdlJ3JlIGRvbmUgYW5kIHJldHVybiBoZXJlXG5cdFx0XHRcdFx0XHRcdC8vIGluIG9yZGVyIHRvIGF2b2lkIGFkZGluZyBgdmFsdWVgIHRvIHRoZSBkZXNjcmlwdG9yLlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZGVzY3JpcHRvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBnb3QgdGhpcyBmYXIgd2Uga25vdyB0aGF0IG9iamVjdCBoYXMgYW4gb3duIHByb3BlcnR5IHRoYXQgaXNcblx0XHRcdFx0XHQvLyBub3QgYW4gYWNjZXNzb3Igc28gd2Ugc2V0IGl0IGFzIGEgdmFsdWUgYW5kIHJldHVybiBkZXNjcmlwdG9yLlxuXHRcdFx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuXHRcdFx0XHRcdGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHRcdFx0XHRcdHJldHVybiBkZXNjcmlwdG9yO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KCkpO1xuXG5cdH1cblxuXHRpZiAoIShcImdldE93blByb3BlcnR5TmFtZXNcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5ICovXG5cblx0XHR2YXIgdG9TdHJpbmcgPSAoe30pLnRvU3RyaW5nO1xuXHRcdHZhciBzcGxpdCA9ICcnLnNwbGl0O1xuXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZ2V0T3duUHJvcGVydHlOYW1lcycsIGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMob2JqZWN0KSB7XG5cdFx0XHR2YXIgYnVmZmVyID0gW107XG5cdFx0XHR2YXIga2V5O1xuXG5cdFx0XHQvLyBOb24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBkaXNjb3ZlcmVkIGJ1dCBjYW4gYmUgY2hlY2tlZCBmb3IgYnkgbmFtZS5cblx0XHRcdC8vIERlZmluZSB0aG9zZSB1c2VkIGludGVybmFsbHkgYnkgSlMgdG8gYWxsb3cgYW4gaW5jb21wbGV0ZSBzb2x1dGlvblxuXHRcdFx0dmFyIGNvbW1vblByb3BzID0gWydsZW5ndGgnLCBcIm5hbWVcIiwgXCJhcmd1bWVudHNcIiwgXCJjYWxsZXJcIiwgXCJwcm90b3R5cGVcIiwgXCJvYnNlcnZlXCIsIFwidW5vYnNlcnZlXCJdO1xuXG5cdFx0XHRpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3VuZGVmaW5lZCcgfHwgb2JqZWN0ID09PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQb2x5ZmlsbC5pbyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2Ugc3RyaW5ncyB3aGljaCBleGlzdCBpbiBzb21lIEVTMyB1c2VyLWFnZW50cyAoSUUgOClcblx0XHRcdG9iamVjdCA9IHRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBTdHJpbmddJyA/IHNwbGl0LmNhbGwob2JqZWN0LCAnJykgOiBPYmplY3Qob2JqZWN0KTtcblxuXHRcdFx0Ly8gRW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9ubHlcblx0XHRcdGZvciAoa2V5IGluIG9iamVjdCkge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuXHRcdFx0XHRcdGJ1ZmZlci5wdXNoKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGFuZCBhZGQgdGhlIGNvbW1vbiBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG5cdFx0XHRmb3IgKHZhciBpPTAsIHM9Y29tbW9uUHJvcHMubGVuZ3RoOyBpPHM7IGkrKykge1xuXHRcdFx0XHRpZiAoY29tbW9uUHJvcHNbaV0gaW4gb2JqZWN0KSBidWZmZXIucHVzaChjb21tb25Qcm9wc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBidWZmZXI7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKFwiZ2V0UHJvdG90eXBlT2ZcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5nZXRQcm90b3R5cGVPZlxuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSAqL1xuLy8gQmFzZWQgb246IGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9ibG9iL21hc3Rlci9lczUtc2hhbS5qc1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzI2lzc3VlLzJcbi8vIGh0dHA6Ly9lam9obi5vcmcvYmxvZy9vYmplY3RnZXRwcm90b3R5cGVvZi9cbi8vIHJlY29tbWVuZGVkIGJ5IGZzY2hhZWZlciBvbiBnaXRodWJcbi8vXG4vLyBzdXJlLCBhbmQgd2VicmVmbGVjdGlvbiBzYXlzIF5fXlxuLy8gLi4uIHRoaXMgd2lsbCBuZXJldmVyIHBvc3NpYmx5IHJldHVybiBudWxsXG4vLyAuLi4gT3BlcmEgTWluaSBicmVha3MgaGVyZSB3aXRoIGluZmluaXRlIGxvb3BzXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihvYmplY3QpIHtcblx0XHRcdGlmIChvYmplY3QgIT09IE9iamVjdChvYmplY3QpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5nZXRQcm90b3R5cGVPZiBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHByb3RvID0gb2JqZWN0Ll9fcHJvdG9fXztcblx0XHRcdGlmIChwcm90byB8fCBwcm90byA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gcHJvdG87XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBvYmplY3QuY29uc3RydWN0b3IpIHtcblx0XHRcdFx0cmV0dXJuIG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdFx0XHR9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIENvcnJlY3RseSByZXR1cm4gbnVsbCBmb3IgT2JqZWN0cyBjcmVhdGVkIHdpdGggYE9iamVjdC5jcmVhdGUobnVsbClgXG5cdFx0XHRcdC8vIChzaGFtbWVkIG9yIG5hdGl2ZSkgb3IgYHsgX19wcm90b19fOiBudWxsfWAuICBBbHNvIHJldHVybnMgbnVsbCBmb3Jcblx0XHRcdFx0Ly8gY3Jvc3MtcmVhbG0gb2JqZWN0cyBvbiBicm93c2VycyB0aGF0IGxhY2sgYF9fcHJvdG9fX2Agc3VwcG9ydCAobGlrZVxuXHRcdFx0XHQvLyBJRSA8MTEpLCBidXQgdGhhdCdzIHRoZSBiZXN0IHdlIGNhbiBkby5cblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKFwia2V5c1wiaW4gT2JqZWN0JiZmdW5jdGlvbigpe3JldHVybiAyPT09T2JqZWN0LmtleXMoYXJndW1lbnRzKS5sZW5ndGh9KDEsMikmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qua2V5cyhcIlwiKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KClcblx0KSkge1xuXG4vLyBPYmplY3Qua2V5c1xuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSAqL1xuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgXCJrZXlzXCIsIChmdW5jdGlvbigpIHtcblx0XHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdFx0Ly8gbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvb2JqZWN0LWtleXNcblxuXHRcdFx0dmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFx0XHR2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcdFx0dmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdFx0XHR2YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoeyB0b1N0cmluZzogbnVsbCB9LCAndG9TdHJpbmcnKTtcblx0XHRcdHZhciBoYXNQcm90b0VudW1CdWcgPSBpc0VudW1lcmFibGUuY2FsbChmdW5jdGlvbiAoKSB7fSwgJ3Byb3RvdHlwZScpO1xuXHRcdFx0dmFyIGRvbnRFbnVtcyA9IFtcblx0XHRcdFx0J3RvU3RyaW5nJyxcblx0XHRcdFx0J3RvTG9jYWxlU3RyaW5nJyxcblx0XHRcdFx0J3ZhbHVlT2YnLFxuXHRcdFx0XHQnaGFzT3duUHJvcGVydHknLFxuXHRcdFx0XHQnaXNQcm90b3R5cGVPZicsXG5cdFx0XHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdFx0XHRcdCdjb25zdHJ1Y3Rvcidcblx0XHRcdF07XG5cdFx0XHR2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAobykge1xuXHRcdFx0XHR2YXIgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cdFx0XHRcdHJldHVybiBjdG9yICYmIGN0b3IucHJvdG90eXBlID09PSBvO1xuXHRcdFx0fTtcblx0XHRcdHZhciBleGNsdWRlZEtleXMgPSB7XG5cdFx0XHRcdCRjb25zb2xlOiB0cnVlLFxuXHRcdFx0XHQkZXh0ZXJuYWw6IHRydWUsXG5cdFx0XHRcdCRmcmFtZTogdHJ1ZSxcblx0XHRcdFx0JGZyYW1lRWxlbWVudDogdHJ1ZSxcblx0XHRcdFx0JGZyYW1lczogdHJ1ZSxcblx0XHRcdFx0JGlubmVySGVpZ2h0OiB0cnVlLFxuXHRcdFx0XHQkaW5uZXJXaWR0aDogdHJ1ZSxcblx0XHRcdFx0JG91dGVySGVpZ2h0OiB0cnVlLFxuXHRcdFx0XHQkb3V0ZXJXaWR0aDogdHJ1ZSxcblx0XHRcdFx0JHBhZ2VYT2Zmc2V0OiB0cnVlLFxuXHRcdFx0XHQkcGFnZVlPZmZzZXQ6IHRydWUsXG5cdFx0XHRcdCRwYXJlbnQ6IHRydWUsXG5cdFx0XHRcdCRzY3JvbGxMZWZ0OiB0cnVlLFxuXHRcdFx0XHQkc2Nyb2xsVG9wOiB0cnVlLFxuXHRcdFx0XHQkc2Nyb2xsWDogdHJ1ZSxcblx0XHRcdFx0JHNjcm9sbFk6IHRydWUsXG5cdFx0XHRcdCRzZWxmOiB0cnVlLFxuXHRcdFx0XHQkd2Via2l0SW5kZXhlZERCOiB0cnVlLFxuXHRcdFx0XHQkd2Via2l0U3RvcmFnZUluZm86IHRydWUsXG5cdFx0XHRcdCR3aW5kb3c6IHRydWVcblx0XHRcdH07XG5cdFx0XHR2YXIgaGFzQXV0b21hdGlvbkVxdWFsaXR5QnVnID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdFx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHRcdGZvciAodmFyIGsgaW4gd2luZG93KSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGlmICghZXhjbHVkZWRLZXlzWyckJyArIGtdICYmIGhhcy5jYWxsKHdpbmRvdywgaykgJiYgd2luZG93W2tdICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3dba10gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUod2luZG93W2tdKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0oKSk7XG5cdFx0XHR2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5ID0gZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdFx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1Zykge1xuXHRcdFx0XHRcdHJldHVybiBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZShvKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJldHVybiBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZShvKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0ZnVuY3Rpb24gaXNBcmd1bWVudHNPYmplY3QodmFsdWUpIHtcblx0XHRcdFx0dmFyIHN0ciA9IHRvU3RyLmNhbGwodmFsdWUpO1xuXHRcdFx0XHR2YXIgaXNBcmdzID0gc3RyID09PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0XHRcdFx0aWYgKCFpc0FyZ3MpIHtcblx0XHRcdFx0XHRpc0FyZ3MgPSBzdHIgIT09ICdbb2JqZWN0IEFycmF5XScgJiZcblx0XHRcdFx0XHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0XHRcdFx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0XHRcdFx0XHR0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJlxuXHRcdFx0XHRcdFx0dmFsdWUubGVuZ3RoID49IDAgJiZcblx0XHRcdFx0XHRcdHRvU3RyLmNhbGwodmFsdWUuY2FsbGVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gaXNBcmdzO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcblx0XHRcdFx0dmFyIGlzRnVuY3Rpb24gPSB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdFx0XHRcdHZhciBpc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzT2JqZWN0KG9iamVjdCk7XG5cdFx0XHRcdHZhciBpc1N0cmluZyA9IHRvU3RyLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdFx0XHRcdHZhciB0aGVLZXlzID0gW107XG5cblx0XHRcdFx0aWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uO1xuXHRcdFx0XHRpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlzQXJndW1lbnRzICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBvYmplY3QubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaikpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuXHRcdFx0XHRcdFx0aWYgKCEoc2tpcFByb3RvICYmIG5hbWUgPT09ICdwcm90b3R5cGUnKSAmJiBoYXMuY2FsbChvYmplY3QsIG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChoYXNEb250RW51bUJ1Zykge1xuXHRcdFx0XHRcdHZhciBza2lwQ29uc3RydWN0b3IgPSBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kob2JqZWN0KTtcblxuXHRcdFx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7XG5cdFx0XHRcdFx0XHRpZiAoIShza2lwQ29uc3RydWN0b3IgJiYgZG9udEVudW1zW2tdID09PSAnY29uc3RydWN0b3InKSAmJiBoYXMuY2FsbChvYmplY3QsIGRvbnRFbnVtc1trXSkpIHtcblx0XHRcdFx0XHRcdFx0dGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGVLZXlzO1xuXHRcdFx0fTtcblx0XHR9KCkpKTtcblxuXHR9XG5cblxuLy8gX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXNcblx0LyogZ2xvYmFscyBUeXBlLCBHZXQgKi9cbi8vIDcuMy4yMS4gRW51bWVyYWJsZU93blByb3BlcnRpZXMgKCBPLCBraW5kIClcblx0ZnVuY3Rpb24gRW51bWVyYWJsZU93blByb3BlcnRpZXMoTywga2luZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAyLiBMZXQgb3duS2V5cyBiZSA/IE8uW1tPd25Qcm9wZXJ0eUtleXNdXSgpLlxuXHRcdHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoTyk7XG5cdFx0Ly8gMy4gTGV0IHByb3BlcnRpZXMgYmUgYSBuZXcgZW1wdHkgTGlzdC5cblx0XHR2YXIgcHJvcGVydGllcyA9IFtdO1xuXHRcdC8vIDQuIEZvciBlYWNoIGVsZW1lbnQga2V5IG9mIG93bktleXMgaW4gTGlzdCBvcmRlciwgZG9cblx0XHR2YXIgbGVuZ3RoID0gb3duS2V5cy5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGtleSA9IG93bktleXNbaV07XG5cdFx0XHQvLyBhLiBJZiBUeXBlKGtleSkgaXMgU3RyaW5nLCB0aGVuXG5cdFx0XHRpZiAoVHlwZShrZXkpID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBpLiBMZXQgZGVzYyBiZSA/IE8uW1tHZXRPd25Qcm9wZXJ0eV1dKGtleSkuXG5cdFx0XHRcdHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBrZXkpO1xuXHRcdFx0XHQvLyBpaS4gSWYgZGVzYyBpcyBub3QgdW5kZWZpbmVkIGFuZCBkZXNjLltbRW51bWVyYWJsZV1dIGlzIHRydWUsIHRoZW5cblx0XHRcdFx0aWYgKGRlc2MgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0Ly8gMS4gSWYga2luZCBpcyBcImtleVwiLCBhcHBlbmQga2V5IHRvIHByb3BlcnRpZXMuXG5cdFx0XHRcdFx0aWYgKGtpbmQgPT09ICdrZXknKSB7XG5cdFx0XHRcdFx0XHRwcm9wZXJ0aWVzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdC8vIDIuIEVsc2UsXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGEuIExldCB2YWx1ZSBiZSA/IEdldChPLCBrZXkpLlxuXHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gR2V0KE8sIGtleSk7XG5cdFx0XHRcdFx0XHQvLyBiLiBJZiBraW5kIGlzIFwidmFsdWVcIiwgYXBwZW5kIHZhbHVlIHRvIHByb3BlcnRpZXMuXG5cdFx0XHRcdFx0XHRpZiAoa2luZCA9PT0gJ3ZhbHVlJykge1xuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0aWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdFx0XHQvLyBjLiBFbHNlLFxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gaS4gQXNzZXJ0OiBraW5kIGlzIFwia2V5K3ZhbHVlXCIuXG5cdFx0XHRcdFx0XHRcdC8vIGlpLiBMZXQgZW50cnkgYmUgQ3JlYXRlQXJyYXlGcm9tTGlzdCjCqyBrZXksIHZhbHVlIMK7KS5cblx0XHRcdFx0XHRcdFx0dmFyIGVudHJ5ID0gW2tleSwgdmFsdWVdO1xuXHRcdFx0XHRcdFx0XHQvLyBpaWkuIEFwcGVuZCBlbnRyeSB0byBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0aWVzLnB1c2goZW50cnkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyA1LiBPcmRlciB0aGUgZWxlbWVudHMgb2YgcHJvcGVydGllcyBzbyB0aGV5IGFyZSBpbiB0aGUgc2FtZSByZWxhdGl2ZSBvcmRlciBhcyB3b3VsZCBiZSBwcm9kdWNlZCBieSB0aGUgSXRlcmF0b3IgdGhhdCB3b3VsZCBiZSByZXR1cm5lZCBpZiB0aGUgRW51bWVyYXRlT2JqZWN0UHJvcGVydGllcyBpbnRlcm5hbCBtZXRob2Qgd2VyZSBpbnZva2VkIHdpdGggTy5cblx0XHQvLyA2LiBSZXR1cm4gcHJvcGVydGllcy5cblx0XHRyZXR1cm4gcHJvcGVydGllcztcblx0fVxuXHRpZiAoIShcImVudHJpZXNcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5lbnRyaWVzXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBFbnVtZXJhYmxlT3duUHJvcGVydGllcywgVG9PYmplY3QgKi9cblxuXHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgdG9TdHJpbmcgPSAoe30pLnRvU3RyaW5nO1xuXHRcdFx0dmFyIHNwbGl0ID0gJycuc3BsaXQ7XG5cblx0XHRcdC8vIDE5LjEuMi41LiBPYmplY3QuZW50cmllcyAoIE8gKVxuXHRcdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZW50cmllcycsIGZ1bmN0aW9uIGVudHJpZXMoTykge1xuXHRcdFx0XHQvLyAxLiBMZXQgb2JqIGJlID8gVG9PYmplY3QoTykuXG5cdFx0XHRcdHZhciBvYmogPSBUb09iamVjdChPKTtcblx0XHRcdFx0Ly8gUG9seWZpbGwuaW8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIHN0cmluZ3Mgd2hpY2ggZXhpc3QgaW4gc29tZSBFUzMgdXNlci1hZ2VudHMgKElFIDgpXG5cdFx0XHRcdHZhciBvYmogPSB0b1N0cmluZy5jYWxsKE8pID09ICdbb2JqZWN0IFN0cmluZ10nID8gc3BsaXQuY2FsbChPLCAnJykgOiBPYmplY3QoTyk7XG5cdFx0XHRcdC8vIDIuIExldCBuYW1lTGlzdCBiZSA/IEVudW1lcmFibGVPd25Qcm9wZXJ0aWVzKG9iaiwgXCJrZXkrdmFsdWVcIikuXG5cdFx0XHRcdHZhciBuYW1lTGlzdCA9IEVudW1lcmFibGVPd25Qcm9wZXJ0aWVzKG9iaiwgXCJrZXkrdmFsdWVcIik7XG5cdFx0XHRcdC8vIDMuIFJldHVybiBDcmVhdGVBcnJheUZyb21MaXN0KG5hbWVMaXN0KS5cblx0XHRcdFx0Ly8gUG9seWZpbGwuaW8gLSBuYW1lTGlzdCBpcyBhbHJlYWR5IGFuIGFycmF5LlxuXHRcdFx0XHRyZXR1cm4gbmFtZUxpc3Q7XG5cdFx0XHR9KTtcblx0XHR9KCkpO1xuXHR9XG5cblx0aWYgKCEoXCJhc3NpZ25cImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5hc3NpZ25cblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIEdldCwgVG9PYmplY3QgKi9cbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24gKCB0YXJnZXQsIC4uLnNvdXJjZXMgKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2Fzc2lnbicsIGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIExldCB0byBiZSA/IFRvT2JqZWN0KHRhcmdldCkuXG5cdFx0XHR2YXIgdG8gPSBUb09iamVjdCh0YXJnZXQpO1xuXG5cdFx0XHQvLyAyLiBJZiBvbmx5IG9uZSBhcmd1bWVudCB3YXMgcGFzc2VkLCByZXR1cm4gdG8uXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRyZXR1cm4gdG87XG5cdFx0XHR9XG5cblx0XHRcdC8vIDMuIExldCBzb3VyY2VzIGJlIHRoZSBMaXN0IG9mIGFyZ3VtZW50IHZhbHVlcyBzdGFydGluZyB3aXRoIHRoZSBzZWNvbmQgYXJndW1lbnRcblx0XHRcdHZhciBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuXHRcdFx0Ly8gNC4gRm9yIGVhY2ggZWxlbWVudCBuZXh0U291cmNlIG9mIHNvdXJjZXMsIGluIGFzY2VuZGluZyBpbmRleCBvcmRlciwgZG9cblx0XHRcdHZhciBpbmRleDE7XG5cdFx0XHR2YXIgaW5kZXgyO1xuXHRcdFx0dmFyIGtleXM7XG5cdFx0XHR2YXIgZnJvbTtcblx0XHRcdGZvciAoaW5kZXgxID0gMDsgaW5kZXgxIDwgc291cmNlcy5sZW5ndGg7IGluZGV4MSsrKSB7XG5cdFx0XHRcdHZhciBuZXh0U291cmNlID0gc291cmNlc1tpbmRleDFdO1xuXHRcdFx0XHQvLyBhLiBJZiBuZXh0U291cmNlIGlzIHVuZGVmaW5lZCBvciBudWxsLCBsZXQga2V5cyBiZSBhIG5ldyBlbXB0eSBMaXN0LlxuXHRcdFx0XHRpZiAobmV4dFNvdXJjZSA9PT0gdW5kZWZpbmVkIHx8IG5leHRTb3VyY2UgPT09IG51bGwpIHtcblx0XHRcdFx0XHRrZXlzID0gW107XG5cdFx0XHRcdFx0Ly8gYi4gRWxzZSxcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBpLiBMZXQgZnJvbSBiZSAhIFRvT2JqZWN0KG5leHRTb3VyY2UpLlxuXHRcdFx0XHRcdGZyb20gPSBUb09iamVjdChuZXh0U291cmNlKTtcblx0XHRcdFx0XHQvLyBpaS4gTGV0IGtleXMgYmUgPyBmcm9tLltbT3duUHJvcGVydHlLZXlzXV0oKS5cblx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdFx0VGhpcyBzdGVwIGluIG91ciBwb2x5ZmlsbCBpcyBub3QgY29tcGx5aW5nIHdpdGggdGhlIHNwZWNpZmljYXRpb24uXG5cdFx0XHRcdFx0XHRbW093blByb3BlcnR5S2V5c11dIGlzIG1lYW50IHRvIHJldHVybiBBTEwga2V5cywgaW5jbHVkaW5nIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzLlxuXHRcdFx0XHRcdFx0VE9ETzogV2hlbiB3ZSBoYXZlIFJlZmxlY3Qub3duS2V5cywgdXNlIHRoYXQgaW5zdGVhZCBhcyBpdCBpcyB0aGUgdXNlcmxhbmQgZXF1aXZhbGVudCBvZiBbW093blByb3BlcnR5S2V5c11dLlxuXHRcdFx0XHRcdCovXG5cdFx0XHRcdFx0a2V5cyA9IE9iamVjdC5rZXlzKGZyb20pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYy4gRm9yIGVhY2ggZWxlbWVudCBuZXh0S2V5IG9mIGtleXMgaW4gTGlzdCBvcmRlciwgZG9cblx0XHRcdFx0Zm9yIChpbmRleDIgPSAwOyBpbmRleDIgPCBrZXlzLmxlbmd0aDsgaW5kZXgyKyspIHtcblx0XHRcdFx0XHR2YXIgbmV4dEtleSA9IGtleXNbaW5kZXgyXTtcblx0XHRcdFx0XHR2YXIgZW51bWVyYWJsZTtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Ly8gaS4gTGV0IGRlc2MgYmUgPyBmcm9tLltbR2V0T3duUHJvcGVydHldXShuZXh0S2V5KS5cblx0XHRcdFx0XHRcdHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmcm9tLCBuZXh0S2V5KTtcblx0XHRcdFx0XHRcdC8vIGlpLiBJZiBkZXNjIGlzIG5vdCB1bmRlZmluZWQgYW5kIGRlc2MuW1tFbnVtZXJhYmxlXV0gaXMgdHJ1ZSwgdGhlblxuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZSA9IGRlc2MgIT09IHVuZGVmaW5lZCAmJiBkZXNjLmVudW1lcmFibGUgPT09IHRydWU7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gUG9seWZpbGwuaW8gLSBXZSB1c2UgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSBhcyBhIGZhbGxiYWNrXG5cdFx0XHRcdFx0XHQvLyBiZWNhdXNlIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5sb2NhdGlvbiwgJ2hhc2gnKWAgY2F1c2VzIEludGVybmV0IEV4cGxvcmVyIDExIHRvIGNyYXNoLlxuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChmcm9tLCBuZXh0S2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdC8vIDEuIExldCBwcm9wVmFsdWUgYmUgPyBHZXQoZnJvbSwgbmV4dEtleSkuXG5cdFx0XHRcdFx0XHR2YXIgcHJvcFZhbHVlID0gR2V0KGZyb20sIG5leHRLZXkpO1xuXHRcdFx0XHRcdFx0Ly8gMi4gUGVyZm9ybSA/IFNldCh0bywgbmV4dEtleSwgcHJvcFZhbHVlLCB0cnVlKS5cblx0XHRcdFx0XHRcdHRvW25leHRLZXldID0gcHJvcFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gNS4gUmV0dXJuIHRvLlxuXHRcdFx0cmV0dXJuIHRvO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImRlZmluZVByb3BlcnRpZXNcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBHZXQsIFRvT2JqZWN0LCBUeXBlICovXG4vLyAxOS4xLjIuMy4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgKCBPLCBQcm9wZXJ0aWVzIClcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShPYmplY3QsICdkZWZpbmVQcm9wZXJ0aWVzJywgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG5cdFx0XHQvLyAxLiBJZiBUeXBlKE8pIGlzIG5vdCBPYmplY3QsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRcdGlmIChUeXBlKE8pICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuZGVmaW5lUHJvcGVydGllcyBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gMi4gTGV0IHByb3BzIGJlID8gVG9PYmplY3QoUHJvcGVydGllcykuXG5cdFx0XHR2YXIgcHJvcHMgPSBUb09iamVjdChQcm9wZXJ0aWVzKTtcblx0XHRcdC8vIDMuIExldCBrZXlzIGJlID8gcHJvcHMuW1tPd25Qcm9wZXJ0eUtleXNdXSgpLlxuXHRcdFx0Lypcblx0XHRcdFx0UG9seWZpbGwuaW8gLSBUaGlzIHN0ZXAgaW4gb3VyIHBvbHlmaWxsIGlzIG5vdCBjb21wbHlpbmcgd2l0aCB0aGUgc3BlY2lmaWNhdGlvbi5cblx0XHRcdFx0W1tPd25Qcm9wZXJ0eUtleXNdXSBpcyBtZWFudCB0byByZXR1cm4gQUxMIGtleXMsIGluY2x1ZGluZyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9scy5cblx0XHRcdFx0VE9ETzogV2hlbiB3ZSBoYXZlIFJlZmxlY3Qub3duS2V5cywgdXNlIHRoYXQgaW5zdGVhZCBhcyBpdCBpcyB0aGUgdXNlcmxhbmQgZXF1aXZhbGVudCBvZiBbW093blByb3BlcnR5S2V5c11dLlxuXHRcdFx0Ki9cblx0XHRcdHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuXHRcdFx0Ly8gNC4gTGV0IGRlc2NyaXB0b3JzIGJlIGEgbmV3IGVtcHR5IExpc3QuXG5cdFx0XHR2YXIgZGVzY3JpcHRvcnMgPSBbXTtcblx0XHRcdC8vIDUuIEZvciBlYWNoIGVsZW1lbnQgbmV4dEtleSBvZiBrZXlzIGluIExpc3Qgb3JkZXIsIGRvXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIG5leHRLZXkgPSBrZXlzW2ldO1xuXHRcdFx0XHQvLyBhLiBMZXQgcHJvcERlc2MgYmUgPyBwcm9wcy5bW0dldE93blByb3BlcnR5XV0obmV4dEtleSkuXG5cdFx0XHRcdHZhciBwcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvcHMsIG5leHRLZXkpO1xuXHRcdFx0XHQvLyBiLiBJZiBwcm9wRGVzYyBpcyBub3QgdW5kZWZpbmVkIGFuZCBwcm9wRGVzYy5bW0VudW1lcmFibGVdXSBpcyB0cnVlLCB0aGVuXG5cdFx0XHRcdGlmIChwcm9wRGVzYyAhPT0gdW5kZWZpbmVkICYmIHByb3BEZXNjLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHQvLyBpLiBMZXQgZGVzY09iaiBiZSA/IEdldChwcm9wcywgbmV4dEtleSkuXG5cdFx0XHRcdFx0dmFyIGRlc2NPYmogPSBHZXQocHJvcHMsIG5leHRLZXkpO1xuXHRcdFx0XHRcdC8vIGlpLiBMZXQgZGVzYyBiZSA/IFRvUHJvcGVydHlEZXNjcmlwdG9yKGRlc2NPYmopLlxuXHRcdFx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gV2Ugc2tpcCB0aGlzIHN0ZXAgYmVjYXVzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkgZGVhbHMgd2l0aCBpdC5cblx0XHRcdFx0XHQvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyBzdGVwP1xuXHRcdFx0XHRcdHZhciBkZXNjID0gZGVzY09iajtcblx0XHRcdFx0XHQvLyBpaWkuIEFwcGVuZCB0aGUgcGFpciAoYSB0d28gZWxlbWVudCBMaXN0KSBjb25zaXN0aW5nIG9mIG5leHRLZXkgYW5kIGRlc2MgdG8gdGhlIGVuZCBvZiBkZXNjcmlwdG9ycy5cblx0XHRcdFx0XHRkZXNjcmlwdG9ycy5wdXNoKFtuZXh0S2V5LCBkZXNjXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIDYuIEZvciBlYWNoIHBhaXIgZnJvbSBkZXNjcmlwdG9ycyBpbiBsaXN0IG9yZGVyLCBkb1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXNjcmlwdG9ycy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdC8vIGEuIExldCBQIGJlIHRoZSBmaXJzdCBlbGVtZW50IG9mIHBhaXIuXG5cdFx0XHRcdHZhciBQID0gZGVzY3JpcHRvcnNbaV1bMF07XG5cdFx0XHRcdC8vIGIuIExldCBkZXNjIGJlIHRoZSBzZWNvbmQgZWxlbWVudCBvZiBwYWlyLlxuXHRcdFx0XHR2YXIgZGVzYyA9IGRlc2NyaXB0b3JzW2ldWzFdO1xuXHRcdFx0XHQvLyBjLiBQZXJmb3JtID8gRGVmaW5lUHJvcGVydHlPclRocm93KE8sIFAsIGRlc2MpLlxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgZGVzYyk7XG5cdFx0XHR9XG5cdFx0XHQvLyA3LiBSZXR1cm4gTy5cblx0XHRcdHJldHVybiBPO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImNyZWF0ZVwiaW4gT2JqZWN0XG5cdCkpIHtcblxuLy8gT2JqZWN0LmNyZWF0ZVxuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgVHlwZSAqL1xuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2NyZWF0ZScsIGZ1bmN0aW9uIGNyZWF0ZShPLCBwcm9wZXJ0aWVzKSB7XG5cdFx0XHQvLyAxLiBJZiBUeXBlKE8pIGlzIG5laXRoZXIgT2JqZWN0IG5vciBOdWxsLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoVHlwZShPKSAhPT0gJ29iamVjdCcgJiYgVHlwZShPKSAhPT0gJ251bGwnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBwcm90b3R5cGUgbWF5IG9ubHkgYmUgYW4gT2JqZWN0IG9yIG51bGwnKTtcblx0XHRcdH1cblx0XHRcdC8vIDIuIExldCBvYmogYmUgT2JqZWN0Q3JlYXRlKE8pLlxuXHRcdFx0dmFyIG9iaiA9IG5ldyBGdW5jdGlvbignZScsICdmdW5jdGlvbiBPYmplY3QoKSB7fU9iamVjdC5wcm90b3R5cGU9ZTtyZXR1cm4gbmV3IE9iamVjdCcpKE8pO1xuXG5cdFx0XHRvYmouY29uc3RydWN0b3IucHJvdG90eXBlID0gTztcblxuXHRcdFx0Ly8gMy4gSWYgUHJvcGVydGllcyBpcyBub3QgdW5kZWZpbmVkLCB0aGVuXG5cdFx0XHRpZiAoMSBpbiBhcmd1bWVudHMpIHtcblx0XHRcdFx0Ly8gYS4gUmV0dXJuID8gT2JqZWN0RGVmaW5lUHJvcGVydGllcyhvYmosIFByb3BlcnRpZXMpLlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBwcm9wZXJ0aWVzKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9KTtcblxuXHR9XG5cblxuLy8gX0VTQWJzdHJhY3QuT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3Jcblx0LyogZ2xvYmFsIEdldFByb3RvdHlwZUZyb21Db25zdHJ1Y3RvciAqL1xuLy8gOS4xLjEzLiBPcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvciAoIGNvbnN0cnVjdG9yLCBpbnRyaW5zaWNEZWZhdWx0UHJvdG8gWyAsIGludGVybmFsU2xvdHNMaXN0IF0gKVxuXHRmdW5jdGlvbiBPcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3Rvcihjb25zdHJ1Y3RvciwgaW50cmluc2ljRGVmYXVsdFByb3RvKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHR2YXIgaW50ZXJuYWxTbG90c0xpc3QgPSBhcmd1bWVudHNbMl0gfHwge307XG5cdFx0Ly8gMS4gQXNzZXJ0OiBpbnRyaW5zaWNEZWZhdWx0UHJvdG8gaXMgYSBTdHJpbmcgdmFsdWUgdGhhdCBpcyB0aGlzIHNwZWNpZmljYXRpb24ncyBuYW1lIG9mIGFuIGludHJpbnNpYyBvYmplY3QuXG5cdFx0Ly8gVGhlIGNvcnJlc3BvbmRpbmcgb2JqZWN0IG11c3QgYmUgYW4gaW50cmluc2ljIHRoYXQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyB0aGVbW1Byb3RvdHlwZV1dIHZhbHVlIG9mIGFuIG9iamVjdC5cblxuXHRcdC8vIDIuIExldCBwcm90byBiZSA/IEdldFByb3RvdHlwZUZyb21Db25zdHJ1Y3Rvcihjb25zdHJ1Y3RvciwgaW50cmluc2ljRGVmYXVsdFByb3RvKS5cblx0XHR2YXIgcHJvdG8gPSBHZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3IoY29uc3RydWN0b3IsIGludHJpbnNpY0RlZmF1bHRQcm90byk7XG5cblx0XHQvLyAzLiBSZXR1cm4gT2JqZWN0Q3JlYXRlKHByb3RvLCBpbnRlcm5hbFNsb3RzTGlzdCkuXG5cdFx0Ly8gUG9seWZpbGwuaW8gLSBXZSBkbyBub3QgcGFzcyBpbnRlcm5hbFNsb3RzTGlzdCB0byBPYmplY3QuY3JlYXRlIGJlY2F1c2UgT2JqZWN0LmNyZWF0ZSBkb2VzIG5vdCB1c2UgdGhlIGRlZmF1bHQgb3JkaW5hcnkgb2JqZWN0IGRlZmluaXRpb25zIHNwZWNpZmllZCBpbiA5LjEuXG5cdFx0dmFyIG9iaiA9IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuXHRcdGZvciAodmFyIG5hbWUgaW4gaW50ZXJuYWxTbG90c0xpc3QpIHtcblx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW50ZXJuYWxTbG90c0xpc3QsIG5hbWUpKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHtcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IGludGVybmFsU2xvdHNMaXN0W25hbWVdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb2JqO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkNvbnN0cnVjdFxuXHQvKiBnbG9iYWwgSXNDb25zdHJ1Y3RvciwgT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3IsIENhbGwgKi9cbi8vIDcuMy4xMy4gQ29uc3RydWN0ICggRiBbICwgYXJndW1lbnRzTGlzdCBbICwgbmV3VGFyZ2V0IF1dIClcblx0ZnVuY3Rpb24gQ29uc3RydWN0KEYgLyogWyAsIGFyZ3VtZW50c0xpc3QgWyAsIG5ld1RhcmdldCBdXSAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gSWYgbmV3VGFyZ2V0IGlzIG5vdCBwcmVzZW50LCBzZXQgbmV3VGFyZ2V0IHRvIEYuXG5cdFx0dmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogRjtcblxuXHRcdC8vIDIuIElmIGFyZ3VtZW50c0xpc3QgaXMgbm90IHByZXNlbnQsIHNldCBhcmd1bWVudHNMaXN0IHRvIGEgbmV3IGVtcHR5IExpc3QuXG5cdFx0dmFyIGFyZ3VtZW50c0xpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG5cdFx0Ly8gMy4gQXNzZXJ0OiBJc0NvbnN0cnVjdG9yKEYpIGlzIHRydWUuXG5cdFx0aWYgKCFJc0NvbnN0cnVjdG9yKEYpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdGIG11c3QgYmUgYSBjb25zdHJ1Y3Rvci4nKTtcblx0XHR9XG5cblx0XHQvLyA0LiBBc3NlcnQ6IElzQ29uc3RydWN0b3IobmV3VGFyZ2V0KSBpcyB0cnVlLlxuXHRcdGlmICghSXNDb25zdHJ1Y3RvcihuZXdUYXJnZXQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCduZXdUYXJnZXQgbXVzdCBiZSBhIGNvbnN0cnVjdG9yLicpO1xuXHRcdH1cblxuXHRcdC8vIDUuIFJldHVybiA/IEYuW1tDb25zdHJ1Y3RdXShhcmd1bWVudHNMaXN0LCBuZXdUYXJnZXQpLlxuXHRcdC8vIFBvbHlmaWxsLmlvIC0gSWYgbmV3VGFyZ2V0IGlzIHRoZSBzYW1lIGFzIEYsIGl0IGlzIGVxdWl2YWxlbnQgdG8gbmV3IEYoLi4uYXJndW1lbnRzTGlzdCkuXG5cdFx0aWYgKG5ld1RhcmdldCA9PT0gRikge1xuXHRcdFx0cmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoRiwgW251bGxdLmNvbmNhdChhcmd1bWVudHNMaXN0KSkpKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gVGhpcyBpcyBtaW1pY2tpbmcgc2VjdGlvbiA5LjIuMiBzdGVwIDUuYS5cblx0XHRcdHZhciBvYmogPSBPcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvcihuZXdUYXJnZXQsIE9iamVjdC5wcm90b3R5cGUpO1xuXHRcdFx0cmV0dXJuIENhbGwoRiwgb2JqLCBhcmd1bWVudHNMaXN0KTtcblx0XHR9XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXG5cdC8qIGdsb2JhbCBJc0FycmF5LCBBcnJheUNyZWF0ZSwgR2V0LCBUeXBlLCBJc0NvbnN0cnVjdG9yLCBDb25zdHJ1Y3QgKi9cbi8vIDkuNC4yLjMuIEFycmF5U3BlY2llc0NyZWF0ZSAoIG9yaWdpbmFsQXJyYXksIGxlbmd0aCApXG5cdGZ1bmN0aW9uIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIEFzc2VydDogbGVuZ3RoIGlzIGFuIGludGVnZXIgTnVtYmVyIOKJpSAwLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDIuIElmIGxlbmd0aCBpcyAtMCwgc2V0IGxlbmd0aCB0byArMC5cblx0XHRpZiAoMS9sZW5ndGggPT09IC1JbmZpbml0eSkge1xuXHRcdFx0bGVuZ3RoID0gMDtcblx0XHR9XG5cblx0XHQvLyAzLiBMZXQgaXNBcnJheSBiZSA/IElzQXJyYXkob3JpZ2luYWxBcnJheSkuXG5cdFx0dmFyIGlzQXJyYXkgPSBJc0FycmF5KG9yaWdpbmFsQXJyYXkpO1xuXG5cdFx0Ly8gNC4gSWYgaXNBcnJheSBpcyBmYWxzZSwgcmV0dXJuID8gQXJyYXlDcmVhdGUobGVuZ3RoKS5cblx0XHRpZiAoaXNBcnJheSA9PT0gZmFsc2UpIHtcblx0XHRcdHJldHVybiBBcnJheUNyZWF0ZShsZW5ndGgpO1xuXHRcdH1cblxuXHRcdC8vIDUuIExldCBDIGJlID8gR2V0KG9yaWdpbmFsQXJyYXksIFwiY29uc3RydWN0b3JcIikuXG5cdFx0dmFyIEMgPSBHZXQob3JpZ2luYWxBcnJheSwgJ2NvbnN0cnVjdG9yJyk7XG5cblx0XHQvLyBQb2x5ZmlsbC5pbyAtIFdlIHNraXAgdGhpcyBzZWN0aW9uIGFzIG5vdCBzdXJlIGhvdyB0byBtYWtlIGEgY3Jvc3MtcmVhbG0gbm9ybWFsIEFycmF5LCBhIHNhbWUtcmVhbG0gQXJyYXkuXG5cdFx0Ly8gNi4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyB0cnVlLCB0aGVuXG5cdFx0Ly8gaWYgKElzQ29uc3RydWN0b3IoQykpIHtcblx0XHQvLyBhLiBMZXQgdGhpc1JlYWxtIGJlIHRoZSBjdXJyZW50IFJlYWxtIFJlY29yZC5cblx0XHQvLyBiLiBMZXQgcmVhbG1DIGJlID8gR2V0RnVuY3Rpb25SZWFsbShDKS5cblx0XHQvLyBjLiBJZiB0aGlzUmVhbG0gYW5kIHJlYWxtQyBhcmUgbm90IHRoZSBzYW1lIFJlYWxtIFJlY29yZCwgdGhlblxuXHRcdC8vIGkuIElmIFNhbWVWYWx1ZShDLCByZWFsbUMuW1tJbnRyaW5zaWNzXV0uW1slQXJyYXklXV0pIGlzIHRydWUsIHNldCBDIHRvIHVuZGVmaW5lZC5cblx0XHQvLyB9XG5cdFx0Ly8gNy4gSWYgVHlwZShDKSBpcyBPYmplY3QsIHRoZW5cblx0XHRpZiAoVHlwZShDKSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdC8vIGEuIFNldCBDIHRvID8gR2V0KEMsIEBAc3BlY2llcykuXG5cdFx0XHRDID0gJ1N5bWJvbCcgaW4gdGhpcyAmJiAnc3BlY2llcycgaW4gdGhpcy5TeW1ib2wgPyBHZXQoQywgdGhpcy5TeW1ib2wuc3BlY2llcykgOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyBiLiBJZiBDIGlzIG51bGwsIHNldCBDIHRvIHVuZGVmaW5lZC5cblx0XHRcdGlmIChDID09PSBudWxsKSB7XG5cdFx0XHRcdEMgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIDguIElmIEMgaXMgdW5kZWZpbmVkLCByZXR1cm4gPyBBcnJheUNyZWF0ZShsZW5ndGgpLlxuXHRcdGlmIChDID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBBcnJheUNyZWF0ZShsZW5ndGgpO1xuXHRcdH1cblx0XHQvLyA5LiBJZiBJc0NvbnN0cnVjdG9yKEMpIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0aWYgKCFJc0NvbnN0cnVjdG9yKEMpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdDIG11c3QgYmUgYSBjb25zdHJ1Y3RvcicpO1xuXHRcdH1cblx0XHQvLyAxMC4gUmV0dXJuID8gQ29uc3RydWN0KEMsIMKrIGxlbmd0aCDCuykuXG5cdFx0cmV0dXJuIENvbnN0cnVjdChDLCBbbGVuZ3RoXSk7XG5cdH1cblx0aWYgKCEoXCJmaWx0ZXJcImluIEFycmF5LnByb3RvdHlwZVxuXHQpKSB7XG5cbi8vIEFycmF5LnByb3RvdHlwZS5maWx0ZXJcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIFRvT2JqZWN0LCBUb0xlbmd0aCwgR2V0LCBJc0NhbGxhYmxlLCBBcnJheVNwZWNpZXNDcmVhdGUsIFRvU3RyaW5nLCBIYXNQcm9wZXJ0eSwgVG9Cb29sZWFuLCBDYWxsLCBDcmVhdGVEYXRhUHJvcGVydHlPclRocm93ICovXG4vLyAyMi4xLjMuNy4gQXJyYXkucHJvdG90eXBlLmZpbHRlciAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZmlsdGVyJywgZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrZm4gLyogWyAsIHRoaXNBcmcgXSAqLykge1xuXHRcdFx0Ly8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cblx0XHRcdHZhciBPID0gVG9PYmplY3QodGhpcyk7XG5cdFx0XHQvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuXHRcdFx0dmFyIGxlbiA9IFRvTGVuZ3RoKEdldChPLCBcImxlbmd0aFwiKSk7XG5cdFx0XHQvLyAzLiBJZiBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoSXNDYWxsYWJsZShjYWxsYmFja2ZuKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFja2ZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gNC4gSWYgdGhpc0FyZyBpcyBwcmVzZW50LCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cblx0XHRcdHZhciBUID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyA1LiBMZXQgQSBiZSA/IEFycmF5U3BlY2llc0NyZWF0ZShPLCAwKS5cblx0XHRcdHZhciBBID0gQXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuXHRcdFx0Ly8gNi4gTGV0IGsgYmUgMC5cblx0XHRcdHZhciBrID0gMDtcblx0XHRcdC8vIDcuIExldCB0byBiZSAwLlxuXHRcdFx0dmFyIHRvID0gMDtcblx0XHRcdC8vIDguIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuXHRcdFx0d2hpbGUgKGsgPCBsZW4pIHtcblx0XHRcdFx0Ly8gYS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXG5cdFx0XHRcdHZhciBQayA9IFRvU3RyaW5nKGspO1xuXHRcdFx0XHQvLyBiLiBMZXQga1ByZXNlbnQgYmUgPyBIYXNQcm9wZXJ0eShPLCBQaykuXG5cdFx0XHRcdHZhciBrUHJlc2VudCA9IEhhc1Byb3BlcnR5KE8sIFBrKTtcblx0XHRcdFx0Ly8gYy4gSWYga1ByZXNlbnQgaXMgdHJ1ZSwgdGhlblxuXHRcdFx0XHRpZiAoa1ByZXNlbnQpIHtcblx0XHRcdFx0XHQvLyBpLiBMZXQga1ZhbHVlIGJlID8gR2V0KE8sIFBrKS5cblx0XHRcdFx0XHR2YXIga1ZhbHVlID0gR2V0KE8sIFBrKTtcblx0XHRcdFx0XHQvLyBpaS4gTGV0IHNlbGVjdGVkIGJlIFRvQm9vbGVhbig/IENhbGwoY2FsbGJhY2tmbiwgVCwgwqsga1ZhbHVlLCBrLCBPIMK7KSkuXG5cdFx0XHRcdFx0dmFyIHNlbGVjdGVkID0gVG9Cb29sZWFuKENhbGwoY2FsbGJhY2tmbiwgVCwgW2tWYWx1ZSwgaywgT10pKTtcblx0XHRcdFx0XHQvLyBpaWkuIElmIHNlbGVjdGVkIGlzIHRydWUsIHRoZW5cblx0XHRcdFx0XHRpZiAoc2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRcdC8vIDEuIFBlcmZvcm0gPyBDcmVhdGVEYXRhUHJvcGVydHlPclRocm93KEEsICEgVG9TdHJpbmcodG8pLCBrVmFsdWUpXG5cdFx0XHRcdFx0XHRDcmVhdGVEYXRhUHJvcGVydHlPclRocm93KEEsIFRvU3RyaW5nKHRvKSwga1ZhbHVlKTtcblx0XHRcdFx0XHRcdC8vIDIuIEluY3JlYXNlIHRvIGJ5IDEuXG5cdFx0XHRcdFx0XHR0byA9IHRvICsgMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkLiBJbmNyZWFzZSBrIGJ5IDEuXG5cdFx0XHRcdGsgPSBrICsgMTtcblx0XHRcdH1cblx0XHRcdC8vIDkuIFJldHVybiBBLlxuXHRcdFx0cmV0dXJuIEE7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKFwibWFwXCJpbiBBcnJheS5wcm90b3R5cGVcblx0KSkge1xuXG4vLyBBcnJheS5wcm90b3R5cGUubWFwXG5cdFx0LyogZ2xvYmFsIEFycmF5U3BlY2llc0NyZWF0ZSwgQ2FsbCwgQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdywgQ3JlYXRlTWV0aG9kUHJvcGVydHksIEdldCwgSGFzUHJvcGVydHksIElzQ2FsbGFibGUsIFRvTGVuZ3RoLCBUb09iamVjdCwgVG9TdHJpbmcgKi9cblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIFRvT2JqZWN0LCBUb0xlbmd0aCwgR2V0LCBBcnJheVNwZWNpZXNDcmVhdGUsIFRvU3RyaW5nLCBIYXNQcm9wZXJ0eSwgQ2FsbCwgQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyAqL1xuLy8gMjIuMS4zLjE2LiBBcnJheS5wcm90b3R5cGUubWFwICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdtYXAnLCBmdW5jdGlvbiBtYXAoY2FsbGJhY2tmbiAvKiBbICwgdGhpc0FyZyBdICovKSB7XG5cdFx0XHQvLyAxLiBMZXQgTyBiZSA/IFRvT2JqZWN0KHRoaXMgdmFsdWUpLlxuXHRcdFx0dmFyIE8gPSBUb09iamVjdCh0aGlzKTtcblx0XHRcdC8vIDIuIExldCBsZW4gYmUgPyBUb0xlbmd0aCg/IEdldChPLCBcImxlbmd0aFwiKSkuXG5cdFx0XHR2YXIgbGVuID0gVG9MZW5ndGgoR2V0KE8sIFwibGVuZ3RoXCIpKTtcblx0XHRcdC8vIDMuIElmIElzQ2FsbGFibGUoY2FsbGJhY2tmbikgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRcdGlmIChJc0NhbGxhYmxlKGNhbGxiYWNrZm4pID09PSBmYWxzZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyA0LiBJZiB0aGlzQXJnIGlzIHByZXNlbnQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0IFQgYmUgdW5kZWZpbmVkLlxuXHRcdFx0dmFyIFQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblx0XHRcdC8vIDUuIExldCBBIGJlID8gQXJyYXlTcGVjaWVzQ3JlYXRlKE8sIGxlbikuXG5cdFx0XHR2YXIgQSA9IEFycmF5U3BlY2llc0NyZWF0ZShPLCBsZW4pO1xuXHRcdFx0Ly8gNi4gTGV0IGsgYmUgMC5cblx0XHRcdHZhciBrID0gMDtcblx0XHRcdC8vIDcuIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuXHRcdFx0d2hpbGUgKGsgPCBsZW4pIHtcblx0XHRcdFx0Ly8gYS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXG5cdFx0XHRcdHZhciBQayA9IFRvU3RyaW5nKGspO1xuXHRcdFx0XHQvLyBiLiBMZXQga1ByZXNlbnQgYmUgPyBIYXNQcm9wZXJ0eShPLCBQaykuXG5cdFx0XHRcdHZhciBrUHJlc2VudCA9IEhhc1Byb3BlcnR5KE8sIFBrKTtcblx0XHRcdFx0Ly8gYy4gSWYga1ByZXNlbnQgaXMgdHJ1ZSwgdGhlblxuXHRcdFx0XHRpZiAoa1ByZXNlbnQpIHtcblx0XHRcdFx0XHQvLyBpLiBMZXQga1ZhbHVlIGJlID8gR2V0KE8sIFBrKS5cblx0XHRcdFx0XHR2YXIga1ZhbHVlID0gR2V0KE8sIFBrKTtcblx0XHRcdFx0XHQvLyBpaS4gTGV0IG1hcHBlZFZhbHVlIGJlID8gQ2FsbChjYWxsYmFja2ZuLCBULCDCqyBrVmFsdWUsIGssIE8gwrspLlxuXHRcdFx0XHRcdHZhciBtYXBwZWRWYWx1ZSA9IENhbGwoY2FsbGJhY2tmbiwgVCwgW2tWYWx1ZSwgaywgT10pO1xuXHRcdFx0XHRcdC8vIGlpaS4gUGVyZm9ybSA/IENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3coQSwgUGssIG1hcHBlZFZhbHVlKS5cblx0XHRcdFx0XHRDcmVhdGVEYXRhUHJvcGVydHlPclRocm93KEEsIFBrLCBtYXBwZWRWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZC4gSW5jcmVhc2UgayBieSAxLlxuXHRcdFx0XHRrID0gayArIDE7XG5cdFx0XHR9XG5cdFx0XHQvLyA4LiBSZXR1cm4gQS5cblx0XHRcdHJldHVybiBBO1xuXHRcdH0pO1xuXG5cdH1cblxuXG4vLyBPYmplY3Quc2V0UHJvdG90eXBlT2Zcblx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5ICovXG4vLyBFUzYtc2hpbSAwLjE2LjAgKGMpIDIwMTMtMjAxNCBQYXVsIE1pbGxlciAoaHR0cDovL3BhdWxtaWxsci5jb20pXG4vLyBFUzYtc2hpbSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbi8vIEZvciBtb3JlIGRldGFpbHMgYW5kIGRvY3VtZW50YXRpb246XG4vLyBodHRwczovL2dpdGh1Yi5jb20vcGF1bG1pbGxyL2VzNi1zaGltL1xuXG5cdC8vIE5PVEU6ICBUaGlzIHZlcnNpb25zIG5lZWRzIG9iamVjdCBvd25lcnNoaXBcblx0Ly8gICAgICAgIGJlY2F1c2UgZXZlcnkgcHJvbW90ZWQgb2JqZWN0IG5lZWRzIHRvIGJlIHJlYXNzaWduZWRcblx0Ly8gICAgICAgIG90aGVyd2lzZSB1bmNvbXBhdGlibGUgYnJvd3NlcnMgY2Fubm90IHdvcmsgYXMgZXhwZWN0ZWRcblx0Ly9cblx0Ly8gTk9URTogIFRoaXMgbWlnaHQgbmVlZCBlczUtc2hpbSBvciBwb2x5ZmlsbHMgdXBmcm9udFxuXHQvLyAgICAgICAgYmVjYXVzZSBpdCdzIGJhc2VkIG9uIEVTNSBBUEkuXG5cdC8vICAgICAgICAocHJvYmFibHkganVzdCBhbiBJRSA8PSA4IHByb2JsZW0pXG5cdC8vXG5cdC8vIE5PVEU6ICBub2RlanMgaXMgZmluZSBpbiB2ZXJzaW9uIDAuOCwgMC4xMCwgYW5kIGZ1dHVyZSB2ZXJzaW9ucy5cblx0KGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7IHJldHVybjsgfVxuXG5cdFx0Lypqc2hpbnQgcHJvdG86IHRydWUgKi9cblx0XHQvLyBAYXV0aG9yICAgIEFuZHJlYSBHaWFtbWFyY2hpIC0gQFdlYlJlZmxlY3Rpb25cblxuXHRcdHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG5cdFx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cdFx0dmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cdFx0dmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRcdHZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblx0XHR2YXIgb2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5cdFx0dmFyIGNvcHlEZXNjcmlwdG9ycyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHRcdFx0Ly8gZGVmaW5lIGludG8gdGFyZ2V0IGRlc2NyaXB0b3JzIGZyb20gc291cmNlXG5cdFx0XHRnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRcdHRhcmdldCxcblx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gdGFyZ2V0O1xuXHRcdH07XG5cdFx0Ly8gdXNlZCBhcyBmYWxsYmFjayB3aGVuIG5vIHByb21vdGlvbiBpcyBwb3NzaWJsZVxuXHRcdHZhciBjcmVhdGVBbmRDb3B5ID0gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob3JpZ2luLCBwcm90bykge1xuXHRcdFx0cmV0dXJuIGNvcHlEZXNjcmlwdG9ycyhjcmVhdGUocHJvdG8pLCBvcmlnaW4pO1xuXHRcdH07XG5cdFx0dmFyIHNldCwgc1BPZjtcblx0XHR0cnkge1xuXHRcdFx0Ly8gdGhpcyBtaWdodCBmYWlsIGZvciB2YXJpb3VzIHJlYXNvbnNcblx0XHRcdC8vIGlnbm9yZSBpZiBDaHJvbWUgY291Z2h0IGl0IGF0IHJ1bnRpbWVcblx0XHRcdHNldCA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmpQcm90bywgJ19fcHJvdG9fXycpLnNldDtcblx0XHRcdHNldC5jYWxsKHt9LCBudWxsKTtcblx0XHRcdC8vIHNldHRlciBub3QgcG9pc29uZWQsIGl0IGNhbiBwcm9tb3RlXG5cdFx0XHQvLyBGaXJlZm94LCBDaHJvbWVcblx0XHRcdHNQT2YgPSBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvcmlnaW4sIHByb3RvKSB7XG5cdFx0XHRcdHNldC5jYWxsKG9yaWdpbiwgcHJvdG8pO1xuXHRcdFx0XHRyZXR1cm4gb3JpZ2luO1xuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBkbyBvbmUgb3IgbW9yZSBmZWF0dXJlIGRldGVjdGlvbnNcblx0XHRcdHNldCA9IHsgX19wcm90b19fOiBudWxsIH07XG5cdFx0XHQvLyBpZiBwcm90byBkb2VzIG5vdCB3b3JrLCBuZWVkcyB0byBmYWxsYmFja1xuXHRcdFx0Ly8gc29tZSBPcGVyYSwgUmhpbm8sIGR1Y2t0YXBlXG5cdFx0XHRpZiAoc2V0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG5cdFx0XHRcdHNQT2YgPSBjcmVhdGVBbmRDb3B5O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gdmVyaWZ5IGlmIG51bGwgb2JqZWN0cyBhcmUgYnVnZ3lcblx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblx0XHRcdFx0c2V0Ll9fcHJvdG9fXyA9IG9ialByb3RvO1xuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdC8vIGlmIG51bGwgb2JqZWN0cyBhcmUgYnVnZ3lcblx0XHRcdFx0Ly8gbm9kZWpzIDAuOCB0byAwLjEwXG5cdFx0XHRcdGlmIChzZXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcblx0XHRcdFx0XHRzUE9mID0gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob3JpZ2luLCBwcm90bykge1xuXHRcdFx0XHRcdFx0Ly8gdXNlIHN1Y2ggYnVnIHRvIHByb21vdGVcblx0XHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdFx0XHRvcmlnaW4uX19wcm90b19fID0gcHJvdG87XG5cdFx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdHJ5IHRvIHVzZSBwcm90byBvciBmYWxsYmFja1xuXHRcdFx0XHRcdC8vIFNhZmFyaSwgb2xkIEZpcmVmb3gsIG1hbnkgb3RoZXJzXG5cdFx0XHRcdFx0c1BPZiA9IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9yaWdpbiwgcHJvdG8pIHtcblx0XHRcdFx0XHRcdC8vIGlmIHByb3RvIGlzIG5vdCBudWxsXG5cdFx0XHRcdFx0XHRpZiAoZ2V0UHJvdG90eXBlT2Yob3JpZ2luKSkge1xuXHRcdFx0XHRcdFx0XHQvLyB1c2UgX19wcm90b19fIHRvIHByb21vdGVcblx0XHRcdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblx0XHRcdFx0XHRcdFx0b3JpZ2luLl9fcHJvdG9fXyA9IHByb3RvO1xuXHRcdFx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdFx0XHRcdHJldHVybiBvcmlnaW47XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBvdGhlcndpc2UgdW5hYmxlIHRvIHByb21vdGU6IGZhbGxiYWNrXG5cdFx0XHRcdFx0XHRcdHJldHVybiBjcmVhdGVBbmRDb3B5KG9yaWdpbiwgcHJvdG8pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnc2V0UHJvdG90eXBlT2YnLCBzUE9mKTtcblx0fSgpKTtcblx0aWYgKCEoXCJQcm9taXNlXCJpbiB0aGlzXG5cdCkpIHtcblxuLy8gUHJvbWlzZVxuXHRcdCFmdW5jdGlvbihuKXtmdW5jdGlvbiB0KHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgbz1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbltyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmw9ITAsby5leHBvcnRzfXZhciBlPXt9O3QubT1uLHQuYz1lLHQuaT1mdW5jdGlvbihuKXtyZXR1cm4gbn0sdC5kPWZ1bmN0aW9uKG4sZSxyKXt0Lm8obixlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sZSx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sdC5uPWZ1bmN0aW9uKG4pe3ZhciBlPW4mJm4uX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBuW1wiZGVmYXVsdFwiXX06ZnVuY3Rpb24oKXtyZXR1cm4gbn07cmV0dXJuIHQuZChlLFwiYVwiLGUpLGV9LHQubz1mdW5jdGlvbihuLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KX0sdC5wPVwiXCIsdCh0LnM9MTAwKX0oezEwMDovKiEqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9nbG9iYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqL1xuXHRcdFx0XHRmdW5jdGlvbihuLHQsZSl7KGZ1bmN0aW9uKG4pe3ZhciB0PWUoLyohIC4veWFrdSAqLzUpO3RyeXtuLlByb21pc2U9dCx3aW5kb3cuUHJvbWlzZT10fWNhdGNoKHIpe319KS5jYWxsKHQsZSgvKiEgLi8uLi9+L3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8yKSl9LDI6LyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0XHRcdFx0ZnVuY3Rpb24obix0KXt2YXIgZTtlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e2U9ZXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2gocil7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKGU9d2luZG93KX1uLmV4cG9ydHM9ZX0sNTovKiEqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMveWFrdS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqL1xuXHRcdFx0XHRmdW5jdGlvbihuLHQsZSl7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoKXtyZXR1cm4gcm5bcV1bQl18fER9ZnVuY3Rpb24gcihuKXtyZXR1cm4gbiYmXCJvYmplY3RcIj09dHlwZW9mIG59ZnVuY3Rpb24gbyhuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBufWZ1bmN0aW9uIGkobix0KXtyZXR1cm4gbiBpbnN0YW5jZW9mIHR9ZnVuY3Rpb24gdShuKXtyZXR1cm4gaShuLE0pfWZ1bmN0aW9uIGMobix0LGUpe2lmKCF0KG4pKXRocm93IGgoZSl9ZnVuY3Rpb24gZigpe3RyeXtyZXR1cm4gUi5hcHBseShTLGFyZ3VtZW50cyl9Y2F0Y2gobil7cmV0dXJuIG5uLmU9bixubn19ZnVuY3Rpb24gcyhuLHQpe3JldHVybiBSPW4sUz10LGZ9ZnVuY3Rpb24gYShuLHQpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGU9MDtlPG87KXQocltlXSxyW2UrMV0pLHJbZSsrXT1QLHJbZSsrXT1QO289MCxyLmxlbmd0aD5uJiYoci5sZW5ndGg9bil9dmFyIHI9QShuKSxvPTA7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7cltvKytdPW4scltvKytdPXQsMj09PW8mJnJuLm5leHRUaWNrKGUpfX1mdW5jdGlvbiBsKG4sdCl7dmFyIGUscix1LGMsZj0wO2lmKCFuKXRocm93IGgoUSk7dmFyIGE9bltybltxXVt6XV07aWYobyhhKSlyPWEuY2FsbChuKTtlbHNle2lmKCFvKG4ubmV4dCkpe2lmKGkobixBKSl7Zm9yKGU9bi5sZW5ndGg7ZjxlOyl0KG5bZl0sZisrKTtyZXR1cm4gZn10aHJvdyBoKFEpfXI9bn1mb3IoOyEodT1yLm5leHQoKSkuZG9uZTspaWYoKGM9cyh0KSh1LnZhbHVlLGYrKykpPT09bm4pdGhyb3cgbyhyW0ddKSYmcltHXSgpLGMuZTtyZXR1cm4gZn1mdW5jdGlvbiBoKG4pe3JldHVybiBuZXcgVHlwZUVycm9yKG4pfWZ1bmN0aW9uIHYobil7cmV0dXJuKG4/XCJcIjpWKSsobmV3IE0pLnN0YWNrfWZ1bmN0aW9uIF8obix0KXt2YXIgZT1cIm9uXCIrbi50b0xvd2VyQ2FzZSgpLHI9T1tlXTtIJiZILmxpc3RlbmVycyhuKS5sZW5ndGg/bj09PVo/SC5lbWl0KG4sdC5fdix0KTpILmVtaXQobix0KTpyP3Ioe3JlYXNvbjp0Ll92LHByb21pc2U6dH0pOnJuW25dKHQuX3YsdCl9ZnVuY3Rpb24gcChuKXtyZXR1cm4gbiYmbi5fc31mdW5jdGlvbiBkKG4pe2lmKHAobikpcmV0dXJuIG5ldyBuKHRuKTt2YXIgdCxlLHI7cmV0dXJuIHQ9bmV3IG4oZnVuY3Rpb24obixvKXtpZih0KXRocm93IGgoKTtlPW4scj1vfSksYyhlLG8pLGMocixvKSx0fWZ1bmN0aW9uIHcobix0KXt2YXIgZT0hMTtyZXR1cm4gZnVuY3Rpb24ocil7ZXx8KGU9ITAsTCYmKG5bTl09dighMCkpLHQ9PT1ZP2sobixyKTp4KG4sdCxyKSl9fWZ1bmN0aW9uIHkobix0LGUscil7cmV0dXJuIG8oZSkmJih0Ll9vbkZ1bGZpbGxlZD1lKSxvKHIpJiYobltKXSYmXyhYLG4pLHQuX29uUmVqZWN0ZWQ9ciksTCYmKHQuX3A9biksbltuLl9jKytdPXQsbi5fcyE9PSQmJm9uKG4sdCksdH1mdW5jdGlvbiBtKG4pe2lmKG4uX3VtYXJrKXJldHVybiEwO24uX3VtYXJrPSEwO2Zvcih2YXIgdCxlPTAscj1uLl9jO2U8cjspaWYodD1uW2UrK10sdC5fb25SZWplY3RlZHx8bSh0KSlyZXR1cm4hMH1mdW5jdGlvbiBqKG4sdCl7ZnVuY3Rpb24gZShuKXtyZXR1cm4gci5wdXNoKG4ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSl9dmFyIHI9W107cmV0dXJuIEwmJih0W05dJiZlKHRbTl0pLGZ1bmN0aW9uIG8obil7biYmSyBpbiBuJiYobyhuLl9uZXh0KSxlKG5bS10rXCJcIiksbyhuLl9wKSl9KHQpKSwobiYmbi5zdGFjaz9uLnN0YWNrOm4pKyhcIlxcblwiK3Iuam9pbihcIlxcblwiKSkucmVwbGFjZShlbixcIlwiKX1mdW5jdGlvbiBnKG4sdCl7cmV0dXJuIG4odCl9ZnVuY3Rpb24geChuLHQsZSl7dmFyIHI9MCxvPW4uX2M7aWYobi5fcz09PSQpZm9yKG4uX3M9dCxuLl92PWUsdD09PVUmJihMJiZ1KGUpJiYoZS5sb25nU3RhY2s9aihlLG4pKSx1bihuKSk7cjxvOylvbihuLG5bcisrXSk7cmV0dXJuIG59ZnVuY3Rpb24gayhuLHQpe2lmKHQ9PT1uJiZ0KXJldHVybiB4KG4sVSxoKFcpKSxuO2lmKHQhPT1DJiYobyh0KXx8cih0KSkpe3ZhciBlPXMoYikodCk7aWYoZT09PW5uKXJldHVybiB4KG4sVSxlLmUpLG47byhlKT8oTCYmcCh0KSYmKG4uX25leHQ9dCkscCh0KT9UKG4sdCxlKTpybi5uZXh0VGljayhmdW5jdGlvbigpe1Qobix0LGUpfSkpOngobixZLHQpfWVsc2UgeChuLFksdCk7cmV0dXJuIG59ZnVuY3Rpb24gYihuKXtyZXR1cm4gbi50aGVufWZ1bmN0aW9uIFQobix0LGUpe3ZhciByPXMoZSx0KShmdW5jdGlvbihlKXt0JiYodD1DLGsobixlKSl9LGZ1bmN0aW9uKGUpe3QmJih0PUMseChuLFUsZSkpfSk7cj09PW5uJiZ0JiYoeChuLFUsci5lKSx0PUMpfXZhciBQLFIsUyxDPW51bGwsRj1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZixPPUY/c2VsZjp0LEU9Ty5Qcm9taXNlLEg9Ty5wcm9jZXNzLEk9Ty5jb25zb2xlLEw9ITEsQT1BcnJheSxNPUVycm9yLFU9MSxZPTIsJD0zLHE9XCJTeW1ib2xcIix6PVwiaXRlcmF0b3JcIixCPVwic3BlY2llc1wiLEQ9cStcIihcIitCK1wiKVwiLEc9XCJyZXR1cm5cIixKPVwiX3VoXCIsSz1cIl9wdFwiLE49XCJfc3RcIixRPVwiSW52YWxpZCBhcmd1bWVudFwiLFY9XCJcXG5Gcm9tIHByZXZpb3VzIFwiLFc9XCJDaGFpbmluZyBjeWNsZSBkZXRlY3RlZCBmb3IgcHJvbWlzZVwiLFg9XCJyZWplY3Rpb25IYW5kbGVkXCIsWj1cInVuaGFuZGxlZFJlamVjdGlvblwiLG5uPXtlOkN9LHRuPWZ1bmN0aW9uKCl7fSxlbj0vXi4rXFwvbm9kZV9tb2R1bGVzXFwveWFrdVxcLy4rXFxuPy9nbSxybj1mdW5jdGlvbihuKXt2YXIgdCxlPXRoaXM7aWYoIXIoZSl8fGUuX3MhPT1QKXRocm93IGgoXCJJbnZhbGlkIHRoaXNcIik7aWYoZS5fcz0kLEwmJihlW0tdPXYoKSksbiE9PXRuKXtpZighbyhuKSl0aHJvdyBoKFEpO3Q9cyhuKSh3KGUsWSksdyhlLFUpKSx0PT09bm4mJngoZSxVLHQuZSl9fTtybltcImRlZmF1bHRcIl09cm4sZnVuY3Rpb24obix0KXtmb3IodmFyIGUgaW4gdCluW2VdPXRbZV19KHJuLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihuLHQpe2lmKHRoaXMuX3M9PT11bmRlZmluZWQpdGhyb3cgaCgpO3JldHVybiB5KHRoaXMsZChybi5zcGVjaWVzQ29uc3RydWN0b3IodGhpcyxybikpLG4sdCl9LFwiY2F0Y2hcIjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50aGVuKFAsbil9LFwiZmluYWxseVwiOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHJuLnJlc29sdmUobigpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0sZnVuY3Rpb24odCl7cmV0dXJuIHJuLnJlc29sdmUobigpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSl9LF9jOjAsX3A6Q30pLHJuLnJlc29sdmU9ZnVuY3Rpb24obil7cmV0dXJuIHAobik/bjprKGQodGhpcyksbil9LHJuLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4geChkKHRoaXMpLFUsbil9LHJuLnJhY2U9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxlPWQodCkscj1mdW5jdGlvbihuKXt4KGUsWSxuKX0sbz1mdW5jdGlvbihuKXt4KGUsVSxuKX0saT1zKGwpKG4sZnVuY3Rpb24obil7dC5yZXNvbHZlKG4pLnRoZW4ocixvKX0pO3JldHVybiBpPT09bm4/dC5yZWplY3QoaS5lKTplfSxybi5hbGw9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdChuKXt4KG8sVSxuKX12YXIgZSxyPXRoaXMsbz1kKHIpLGk9W107cmV0dXJuKGU9cyhsKShuLGZ1bmN0aW9uKG4sdSl7ci5yZXNvbHZlKG4pLnRoZW4oZnVuY3Rpb24obil7aVt1XT1uLC0tZXx8eChvLFksaSl9LHQpfSkpPT09bm4/ci5yZWplY3QoZS5lKTooZXx8eChvLFksW10pLG8pfSxybi5TeW1ib2w9T1txXXx8e30scyhmdW5jdGlvbigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShybixlKCkse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfSkoKSxybi5zcGVjaWVzQ29uc3RydWN0b3I9ZnVuY3Rpb24obix0KXt2YXIgcj1uLmNvbnN0cnVjdG9yO3JldHVybiByP3JbZSgpXXx8dDp0fSxybi51bmhhbmRsZWRSZWplY3Rpb249ZnVuY3Rpb24obix0KXtJJiZJLmVycm9yKFwiVW5jYXVnaHQgKGluIHByb21pc2UpXCIsTD90LmxvbmdTdGFjazpqKG4sdCkpfSxybi5yZWplY3Rpb25IYW5kbGVkPXRuLHJuLmVuYWJsZUxvbmdTdGFja1RyYWNlPWZ1bmN0aW9uKCl7TD0hMH0scm4ubmV4dFRpY2s9Rj9mdW5jdGlvbihuKXtFP25ldyBFKGZ1bmN0aW9uKG4pe24oKX0pLnRoZW4obik6c2V0VGltZW91dChuKX06SC5uZXh0VGljayxybi5fcz0xO3ZhciBvbj1hKDk5OSxmdW5jdGlvbihuLHQpe3ZhciBlLHI7cmV0dXJuKHI9bi5fcyE9PVU/dC5fb25GdWxmaWxsZWQ6dC5fb25SZWplY3RlZCk9PT1QP3ZvaWQgeCh0LG4uX3Msbi5fdik6KGU9cyhnKShyLG4uX3YpKT09PW5uP3ZvaWQgeCh0LFUsZS5lKTp2b2lkIGsodCxlKX0pLHVuPWEoOSxmdW5jdGlvbihuKXttKG4pfHwobltKXT0xLF8oWixuKSl9KTt0cnl7bi5leHBvcnRzPXJufWNhdGNoKGNuKXtPLllha3U9cm59fSgpfSkuY2FsbCh0LGUoLyohIC4vLi4vfi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovMikpfX0pO1xuXHR9XG5cblx0aWYgKCEoXCJpbmNsdWRlc1wiaW4gU3RyaW5nLnByb3RvdHlwZVxuXHQpKSB7XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIElzUmVnRXhwLCBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlLCBUb0ludGVnZXIsIFRvU3RyaW5nICovXG4vLyAyMS4xLjMuNy4gU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyAoIHNlYXJjaFN0cmluZyBbICwgcG9zaXRpb24gXSApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ2luY2x1ZGVzJywgZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoU3RyaW5nIC8qIFsgLCBwb3NpdGlvbiBdICovKSB7XG5cdFx0XHQndXNlIHN0cmljdCc7XG5cdFx0XHR2YXIgcG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblx0XHRcdC8vIDEuIExldCBPIGJlID8gUmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzIHZhbHVlKS5cblx0XHRcdHZhciBPID0gUmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKTtcblx0XHRcdC8vIDIuIExldCBTIGJlID8gVG9TdHJpbmcoTykuXG5cdFx0XHR2YXIgUyA9IFRvU3RyaW5nKE8pO1xuXHRcdFx0Ly8gMy4gTGV0IGlzUmVnRXhwIGJlID8gSXNSZWdFeHAoc2VhcmNoU3RyaW5nKS5cblx0XHRcdHZhciBpc1JlZ0V4cCA9IElzUmVnRXhwKHNlYXJjaFN0cmluZyk7XG5cdFx0XHQvLyA0LiBJZiBpc1JlZ0V4cCBpcyB0cnVlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoaXNSZWdFeHApIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgdG8gU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyBtdXN0IG5vdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbicpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gNS4gTGV0IHNlYXJjaFN0ciBiZSA/IFRvU3RyaW5nKHNlYXJjaFN0cmluZykuXG5cdFx0XHR2YXIgc2VhcmNoU3RyID0gVG9TdHJpbmcoc2VhcmNoU3RyaW5nKTtcblx0XHRcdC8vIDYuIExldCBwb3MgYmUgPyBUb0ludGVnZXIocG9zaXRpb24pLiAoSWYgcG9zaXRpb24gaXMgdW5kZWZpbmVkLCB0aGlzIHN0ZXAgcHJvZHVjZXMgdGhlIHZhbHVlIDAuKVxuXHRcdFx0dmFyIHBvcyA9IFRvSW50ZWdlcihwb3NpdGlvbik7XG5cdFx0XHQvLyA3LiBMZXQgbGVuIGJlIHRoZSBsZW5ndGggb2YgUy5cblx0XHRcdHZhciBsZW4gPSBTLmxlbmd0aDtcblx0XHRcdC8vIDguIExldCBzdGFydCBiZSBtaW4obWF4KHBvcywgMCksIGxlbikuXG5cdFx0XHR2YXIgc3RhcnQgPSBNYXRoLm1pbihNYXRoLm1heChwb3MsIDApLCBsZW4pO1xuXHRcdFx0Ly8gOS4gTGV0IHNlYXJjaExlbiBiZSB0aGUgbGVuZ3RoIG9mIHNlYXJjaFN0ci5cblx0XHRcdC8vIHZhciBzZWFyY2hMZW5ndGggPSBzZWFyY2hTdHIubGVuZ3RoO1xuXHRcdFx0Ly8gMTAuIElmIHRoZXJlIGV4aXN0cyBhbnkgaW50ZWdlciBrIG5vdCBzbWFsbGVyIHRoYW4gc3RhcnQgc3VjaCB0aGF0IGsgKyBzZWFyY2hMZW4gaXMgbm90IGdyZWF0ZXIgdGhhbiBsZW4sIGFuZCBmb3IgYWxsIG5vbm5lZ2F0aXZlIGludGVnZXJzIGogbGVzcyB0aGFuIHNlYXJjaExlbiwgdGhlIGNvZGUgdW5pdCBhdCBpbmRleCBrK2ogd2l0aGluIFMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvZGUgdW5pdCBhdCBpbmRleCBqIHdpdGhpbiBzZWFyY2hTdHIsIHJldHVybiB0cnVlOyBidXQgaWYgdGhlcmUgaXMgbm8gc3VjaCBpbnRlZ2VyIGssIHJldHVybiBmYWxzZS5cblx0XHRcdHJldHVybiBTdHJpbmcucHJvdG90eXBlLmluZGV4T2YuY2FsbChTLCBzZWFyY2hTdHIsIHN0YXJ0KSAhPT0gLTE7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKFwiU3ltYm9sXCJpbiB0aGlzJiYwPT09dGhpcy5TeW1ib2wubGVuZ3RoXG5cdCkpIHtcblxuLy8gU3ltYm9sXG4vLyBBIG1vZGlmaWNhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHNcbi8vIChDKSBBbmRyZWEgR2lhbW1hcmNoaSAtIE1JVCBMaWNlbnNlZFxuXG5cdFx0KGZ1bmN0aW9uIChPYmplY3QsIEdPUFMsIGdsb2JhbCkge1xuXHRcdFx0J3VzZSBzdHJpY3QnOyAvL3NvIHRoYXQgKHt9KS50b1N0cmluZy5jYWxsKG51bGwpIHJldHVybnMgdGhlIGNvcnJlY3QgW29iamVjdCBOdWxsXSByYXRoZXIgdGhhbiBbb2JqZWN0IFdpbmRvd11cblxuXHRcdFx0dmFyXHRzZXREZXNjcmlwdG9yO1xuXHRcdFx0dmFyIGlkID0gMDtcblx0XHRcdHZhciByYW5kb20gPSAnJyArIE1hdGgucmFuZG9tKCk7XG5cdFx0XHR2YXIgcHJlZml4ID0gJ19fXFx4MDFzeW1ib2w6Jztcblx0XHRcdHZhciBwcmVmaXhMZW5ndGggPSBwcmVmaXgubGVuZ3RoO1xuXHRcdFx0dmFyIGludGVybmFsU3ltYm9sID0gJ19fXFx4MDFzeW1ib2xAQCcgKyByYW5kb207XG5cdFx0XHR2YXIgRFAgPSAnZGVmaW5lUHJvcGVydHknO1xuXHRcdFx0dmFyIERQaWVzID0gJ2RlZmluZVByb3BlcnRpZXMnO1xuXHRcdFx0dmFyIEdPUE4gPSAnZ2V0T3duUHJvcGVydHlOYW1lcyc7XG5cdFx0XHR2YXIgR09QRCA9ICdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InO1xuXHRcdFx0dmFyIFBJRSA9ICdwcm9wZXJ0eUlzRW51bWVyYWJsZSc7XG5cdFx0XHR2YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcdFx0dmFyIGhPUCA9IE9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXHRcdFx0dmFyIHBJRSA9IE9iamVjdFByb3RvW1BJRV07XG5cdFx0XHR2YXIgdG9TdHJpbmcgPSBPYmplY3RQcm90by50b1N0cmluZztcblx0XHRcdHZhciBjb25jYXQgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0O1xuXHRcdFx0dmFyIGNhY2hlZFdpbmRvd05hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cdFx0XHR2YXIgbkdPUE4gPSBPYmplY3RbR09QTl07XG5cdFx0XHR2YXIgZ09QTiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMgKG9iaikge1xuXHRcdFx0XHRpZiAodG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBXaW5kb3ddJykge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbkdPUE4ob2JqKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHQvLyBJRSBidWcgd2hlcmUgbGF5b3V0IGVuZ2luZSBjYWxscyB1c2VybGFuZCBnT1BOIGZvciBjcm9zcy1kb21haW4gYHdpbmRvd2Agb2JqZWN0c1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbmNhdC5jYWxsKFtdLCBjYWNoZWRXaW5kb3dOYW1lcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuR09QTihvYmopO1xuXHRcdFx0fTtcblx0XHRcdHZhciBnT1BEID0gT2JqZWN0W0dPUERdO1xuXHRcdFx0dmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cdFx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzO1xuXHRcdFx0dmFyIGZyZWV6ZSA9IE9iamVjdC5mcmVlemUgfHwgT2JqZWN0O1xuXHRcdFx0dmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0W0RQXTtcblx0XHRcdHZhciAkZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdFtEUGllc107XG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IGdPUEQoT2JqZWN0LCBHT1BOKTtcblx0XHRcdHZhciBhZGRJbnRlcm5hbElmTmVlZGVkID0gZnVuY3Rpb24gKG8sIHVpZCwgZW51bWVyYWJsZSkge1xuXHRcdFx0XHRpZiAoIWhPUC5jYWxsKG8sIGludGVybmFsU3ltYm9sKSkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShvLCBpbnRlcm5hbFN5bWJvbCwge1xuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZToge31cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdG9baW50ZXJuYWxTeW1ib2xdID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdG9baW50ZXJuYWxTeW1ib2xdWydAQCcgKyB1aWRdID0gZW51bWVyYWJsZTtcblx0XHRcdH07XG5cdFx0XHR2YXIgY3JlYXRlV2l0aFN5bWJvbHMgPSBmdW5jdGlvbiAocHJvdG8sIGRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdHZhciBzZWxmID0gY3JlYXRlKHByb3RvKTtcblx0XHRcdFx0Z09QTihkZXNjcmlwdG9ycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0aWYgKHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZGVzY3JpcHRvcnMsIGtleSkpIHtcblx0XHRcdFx0XHRcdCRkZWZpbmVQcm9wZXJ0eShzZWxmLCBrZXksIGRlc2NyaXB0b3JzW2tleV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBzZWxmO1xuXHRcdFx0fTtcblx0XHRcdHZhciBjb3B5QXNOb25FbnVtZXJhYmxlID0gZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dmFyIG5ld0Rlc2NyaXB0b3IgPSBjcmVhdGUoZGVzY3JpcHRvcik7XG5cdFx0XHRcdG5ld0Rlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gbmV3RGVzY3JpcHRvcjtcblx0XHRcdH07XG5cdFx0XHR2YXIgZ2V0ID0gZnVuY3Rpb24gZ2V0KCl7fTtcblx0XHRcdHZhciBvbmx5Tm9uU3ltYm9scyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdHJldHVybiBuYW1lICE9IGludGVybmFsU3ltYm9sICYmXG5cdFx0XHRcdFx0IWhPUC5jYWxsKHNvdXJjZSwgbmFtZSk7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIG9ubHlTeW1ib2xzID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIG5hbWUgIT0gaW50ZXJuYWxTeW1ib2wgJiZcblx0XHRcdFx0XHRoT1AuY2FsbChzb3VyY2UsIG5hbWUpO1xuXHRcdFx0fTtcblx0XHRcdHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuXHRcdFx0XHR2YXIgdWlkID0gJycgKyBrZXk7XG5cdFx0XHRcdHJldHVybiBvbmx5U3ltYm9scyh1aWQpID8gKFxuXHRcdFx0XHRcdGhPUC5jYWxsKHRoaXMsIHVpZCkgJiZcblx0XHRcdFx0XHR0aGlzW2ludGVybmFsU3ltYm9sXVsnQEAnICsgdWlkXVxuXHRcdFx0XHQpIDogcElFLmNhbGwodGhpcywga2V5KTtcblx0XHRcdH07XG5cdFx0XHR2YXIgc2V0QW5kR2V0U3ltYm9sID0gZnVuY3Rpb24gKHVpZCkge1xuXHRcdFx0XHR2YXIgZGVzY3JpcHRvciA9IHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBnZXQsXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdHNldERlc2NyaXB0b3IodGhpcywgdWlkLCB7XG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YWRkSW50ZXJuYWxJZk5lZWRlZCh0aGlzLCB1aWQsIHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90bywgdWlkLCBkZXNjcmlwdG9yKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdE9iamVjdFByb3RvW3VpZF0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmcmVlemUoc291cmNlW3VpZF0gPSBkZWZpbmVQcm9wZXJ0eShcblx0XHRcdFx0XHRPYmplY3QodWlkKSxcblx0XHRcdFx0XHQnY29uc3RydWN0b3InLFxuXHRcdFx0XHRcdHNvdXJjZUNvbnN0cnVjdG9yXG5cdFx0XHRcdCkpO1xuXHRcdFx0fTtcblx0XHRcdHZhciBTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG5cdFx0XHRcdHZhciBkZXNjcmlwdGlvbiA9IGFyZ3VtZW50c1swXTtcblx0XHRcdFx0aWYgKHRoaXMgaW5zdGFuY2VvZiBTeW1ib2wpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gc2V0QW5kR2V0U3ltYm9sKFxuXHRcdFx0XHRcdHByZWZpeC5jb25jYXQoZGVzY3JpcHRpb24gfHwgJycsIHJhbmRvbSwgKytpZClcblx0XHRcdFx0KTtcblx0XHRcdH07XG5cdFx0XHR2YXIgc291cmNlID0gY3JlYXRlKG51bGwpO1xuXHRcdFx0dmFyIHNvdXJjZUNvbnN0cnVjdG9yID0ge3ZhbHVlOiBTeW1ib2x9O1xuXHRcdFx0dmFyIHNvdXJjZU1hcCA9IGZ1bmN0aW9uICh1aWQpIHtcblx0XHRcdFx0cmV0dXJuIHNvdXJjZVt1aWRdO1xuXHRcdFx0fTtcblx0XHRcdHZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wKG8sIGtleSwgZGVzY3JpcHRvcikge1xuXHRcdFx0XHR2YXIgdWlkID0gJycgKyBrZXk7XG5cdFx0XHRcdGlmIChvbmx5U3ltYm9scyh1aWQpKSB7XG5cdFx0XHRcdFx0c2V0RGVzY3JpcHRvcihvLCB1aWQsIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA/XG5cdFx0XHRcdFx0XHRjb3B5QXNOb25FbnVtZXJhYmxlKGRlc2NyaXB0b3IpIDogZGVzY3JpcHRvcik7XG5cdFx0XHRcdFx0YWRkSW50ZXJuYWxJZk5lZWRlZChvLCB1aWQsICEhZGVzY3JpcHRvci5lbnVtZXJhYmxlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShvLCBrZXksIGRlc2NyaXB0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvO1xuXHRcdFx0fTtcblxuXHRcdFx0dmFyIG9ubHlJbnRlcm5hbFN5bWJvbHMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiBoT1AuY2FsbChvYmosIGludGVybmFsU3ltYm9sKSAmJiBoT1AuY2FsbChvYmpbaW50ZXJuYWxTeW1ib2xdLCAnQEAnICsgbmFtZSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdFx0dmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMobykge1xuXHRcdFx0XHRcdHJldHVybiBnT1BOKG8pLmZpbHRlcihvID09PSBPYmplY3RQcm90byA/IG9ubHlJbnRlcm5hbFN5bWJvbHMobykgOiBvbmx5U3ltYm9scykubWFwKHNvdXJjZU1hcCk7XG5cdFx0XHRcdH1cblx0XHRcdDtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9ICRkZWZpbmVQcm9wZXJ0eTtcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdCwgRFAsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdCwgR09QUywgZGVzY3JpcHRvcik7XG5cblx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKG8pIHtcblx0XHRcdFx0cmV0dXJuIGdPUE4obykuZmlsdGVyKG9ubHlOb25TeW1ib2xzKTtcblx0XHRcdH07XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3QsIEdPUE4sIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhvLCBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHR2YXIgc3ltYm9scyA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZGVzY3JpcHRvcnMpO1xuXHRcdFx0XHRpZiAoc3ltYm9scy5sZW5ndGgpIHtcblx0XHRcdFx0XHRrZXlzKGRlc2NyaXB0b3JzKS5jb25jYXQoc3ltYm9scykuZm9yRWFjaChmdW5jdGlvbiAodWlkKSB7XG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChkZXNjcmlwdG9ycywgdWlkKSkge1xuXHRcdFx0XHRcdFx0XHQkZGVmaW5lUHJvcGVydHkobywgdWlkLCBkZXNjcmlwdG9yc1t1aWRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkZGVmaW5lUHJvcGVydGllcyhvLCBkZXNjcmlwdG9ycyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG87XG5cdFx0XHR9O1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoT2JqZWN0LCBEUGllcywgZGVzY3JpcHRvcik7XG5cblx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvLCBQSUUsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gU3ltYm9sO1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnU3ltYm9sJywgZGVzY3JpcHRvcik7XG5cblx0XHRcdC8vIGRlZmluaW5nIGBTeW1ib2wuZm9yKGtleSlgXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHR2YXIgdWlkID0gcHJlZml4LmNvbmNhdChwcmVmaXgsIGtleSwgcmFuZG9tKTtcblx0XHRcdFx0cmV0dXJuIHVpZCBpbiBPYmplY3RQcm90byA/IHNvdXJjZVt1aWRdIDogc2V0QW5kR2V0U3ltYm9sKHVpZCk7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoU3ltYm9sLCAnZm9yJywgZGVzY3JpcHRvcik7XG5cblx0XHRcdC8vIGRlZmluaW5nIGBTeW1ib2wua2V5Rm9yKHN5bWJvbClgXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKHN5bWJvbCkge1xuXHRcdFx0XHRpZiAob25seU5vblN5bWJvbHMoc3ltYm9sKSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKHN5bWJvbCArICcgaXMgbm90IGEgc3ltYm9sJyk7XG5cdFx0XHRcdHJldHVybiBoT1AuY2FsbChzb3VyY2UsIHN5bWJvbCkgP1xuXHRcdFx0XHRcdHN5bWJvbC5zbGljZShwcmVmaXhMZW5ndGggKiAyLCAtcmFuZG9tLmxlbmd0aCkgOlxuXHRcdFx0XHRcdHZvaWQgMFxuXHRcdFx0XHRcdDtcblx0XHRcdH07XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShTeW1ib2wsICdrZXlGb3InLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLCBrZXkpIHtcblx0XHRcdFx0dmFyIGRlc2NyaXB0b3IgPSBnT1BEKG8sIGtleSk7XG5cdFx0XHRcdGlmIChkZXNjcmlwdG9yICYmIG9ubHlTeW1ib2xzKGtleSkpIHtcblx0XHRcdFx0XHRkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG8sIGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGRlc2NyaXB0b3I7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoT2JqZWN0LCBHT1BELCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIChwcm90bywgZGVzY3JpcHRvcnMpIHtcblx0XHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgfHwgdHlwZW9mIGRlc2NyaXB0b3JzID09PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0XHRjcmVhdGUocHJvdG8pIDpcblx0XHRcdFx0XHRjcmVhdGVXaXRoU3ltYm9scyhwcm90bywgZGVzY3JpcHRvcnMpO1xuXHRcdFx0fTtcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdCwgJ2NyZWF0ZScsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHR2YXIgc3RyaWN0TW9kZVN1cHBvcnRlZCA9IChmdW5jdGlvbigpeyAndXNlIHN0cmljdCc7IHJldHVybiB0aGlzOyB9KS5jYWxsKG51bGwpID09PSBudWxsO1xuXHRcdFx0aWYgKHN0cmljdE1vZGVTdXBwb3J0ZWQpIHtcblx0XHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHRyZXR1cm4gKHN0ciA9PT0gJ1tvYmplY3QgU3RyaW5nXScgJiYgb25seVN5bWJvbHModGhpcykpID8gJ1tvYmplY3QgU3ltYm9sXScgOiBzdHI7XG5cdFx0XHRcdH07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtbGlicmFyeS9pc3N1ZXMvMTY0I2lzc3VlY29tbWVudC00ODY5NjUzMDBcblx0XHRcdFx0XHQvLyBQb2x5ZmlsbC5pbyB0aGlzIGNvZGUgaXMgaGVyZSBmb3IgdGhlIHNpdHVhdGlvbiB3aGVyZSBhIGJyb3dzZXIgZG9lcyBub3Rcblx0XHRcdFx0XHQvLyBzdXBwb3J0IHN0cmljdCBtb2RlIGFuZCBpcyBleGVjdXRpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChudWxsKWAuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb2RlIGVuc3VyZXMgdGhhdCB3ZSByZXR1cm4gdGhlIGNvcnJlY3QgcmVzdWx0IGluIHRoYXQgc2l0dWF0aW9uIGhvd2V2ZXIsXG5cdFx0XHRcdFx0Ly8gdGhpcyBjb2RlIGFsc28gaW50cm9kdWNlcyBhIGJ1ZyB3aGVyZSBpdCB3aWxsIHJldHVybiB0aGUgaW5jb3JyZWN0IHJlc3VsdCBmb3Jcblx0XHRcdFx0XHQvLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdylgLiBXZSBjYW4ndCBoYXZlIHRoZSBjb3JyZWN0IHJlc3VsdCBmb3Jcblx0XHRcdFx0XHQvLyBib3RoIGB3aW5kb3dgIGFuZCBgbnVsbGAsIHNvIHdlIGhhdmUgb3B0ZWQgZm9yIGBudWxsYCBhcyB3ZSBiZWxpZXZlIHRoaXMgaXMgdGhlIG1vcmVcblx0XHRcdFx0XHQvLyBjb21tb24gc2l0dWF0aW9uLlxuXHRcdFx0XHRcdGlmICh0aGlzID09PSB3aW5kb3cpIHtcblx0XHRcdFx0XHRcdHJldHVybiAnW29iamVjdCBOdWxsXSc7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpcyk7XG5cdFx0XHRcdFx0cmV0dXJuIChzdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmIG9ubHlTeW1ib2xzKHRoaXMpKSA/ICdbb2JqZWN0IFN5bWJvbF0nIDogc3RyO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0ZGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG8sICd0b1N0cmluZycsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRzZXREZXNjcmlwdG9yID0gZnVuY3Rpb24gKG8sIGtleSwgZGVzY3JpcHRvcikge1xuXHRcdFx0XHR2YXIgcHJvdG9EZXNjcmlwdG9yID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcblx0XHRcdFx0ZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KG8sIGtleSwgZGVzY3JpcHRvcik7XG5cdFx0XHRcdGlmIChvICE9PSBPYmplY3RQcm90bykge1xuXHRcdFx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzY3JpcHRvcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHR9KE9iamVjdCwgJ2dldE93blByb3BlcnR5U3ltYm9scycsIHRoaXMpKTtcblxuXHR9XG5cblx0aWYgKCEoXCJTeW1ib2xcImluIHRoaXMmJlwiaXRlcmF0b3JcImluIHRoaXMuU3ltYm9sXG5cdCkpIHtcblxuLy8gU3ltYm9sLml0ZXJhdG9yXG5cdFx0LyogZ2xvYmFsIFN5bWJvbCAqL1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTeW1ib2wsICdpdGVyYXRvcicsIHsgdmFsdWU6IFN5bWJvbCgnaXRlcmF0b3InKSB9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJTeW1ib2xcImluIHRoaXMmJlwidG9TdHJpbmdUYWdcImluIHRoaXMuU3ltYm9sXG5cdCkpIHtcblxuLy8gU3ltYm9sLnRvU3RyaW5nVGFnXG5cdFx0LyogZ2xvYmFsIFN5bWJvbCAqL1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTeW1ib2wsICd0b1N0cmluZ1RhZycsIHtcblx0XHRcdHZhbHVlOiBTeW1ib2woJ3RvU3RyaW5nVGFnJylcblx0XHR9KTtcblxuXHR9XG5cblxuLy8gX0l0ZXJhdG9yXG5cdC8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIEEgbW9kaWZpY2F0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1pdGVyYXRvclxuLy8gQ29weXJpZ2h0IChDKSAyMDEzLTIwMTUgTWFyaXVzeiBOb3dhayAod3d3Lm1lZGlrb28uY29tKVxuXG5cdHZhciBJdGVyYXRvciA9IChmdW5jdGlvbiAoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHR2YXIgY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDA7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9O1xuXHRcdHZhciBjYWxsYWJsZSA9IGZ1bmN0aW9uIChmbikge1xuXHRcdFx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHRcdFx0cmV0dXJuIGZuO1xuXHRcdH07XG5cblx0XHR2YXIgSXRlcmF0b3IgPSBmdW5jdGlvbiAobGlzdCwgY29udGV4dCkge1xuXHRcdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEl0ZXJhdG9yKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEl0ZXJhdG9yKGxpc3QsIGNvbnRleHQpO1xuXHRcdFx0fVxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuXHRcdFx0XHRfX2xpc3RfXzoge1xuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiBsaXN0XG5cdFx0XHRcdH0sXG5cdFx0XHRcdF9fY29udGV4dF9fOiB7XG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IGNvbnRleHRcblx0XHRcdFx0fSxcblx0XHRcdFx0X19uZXh0SW5kZXhfXzoge1xuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiAwXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKCFjb250ZXh0KSByZXR1cm47XG5cdFx0XHRjYWxsYWJsZShjb250ZXh0Lm9uKTtcblx0XHRcdGNvbnRleHQub24oJ19hZGQnLCB0aGlzLl9vbkFkZC5iaW5kKHRoaXMpKTtcblx0XHRcdGNvbnRleHQub24oJ19kZWxldGUnLCB0aGlzLl9vbkRlbGV0ZS5iaW5kKHRoaXMpKTtcblx0XHRcdGNvbnRleHQub24oJ19jbGVhcicsIHRoaXMuX29uQ2xlYXIuYmluZCh0aGlzKSk7XG5cdFx0fTtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEl0ZXJhdG9yLnByb3RvdHlwZSwgT2JqZWN0LmFzc2lnbih7XG5cdFx0XHRjb25zdHJ1Y3Rvcjoge1xuXHRcdFx0XHR2YWx1ZTogSXRlcmF0b3IsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0X25leHQ6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgaTtcblx0XHRcdFx0XHRpZiAoIXRoaXMuX19saXN0X18pIHJldHVybjtcblx0XHRcdFx0XHRpZiAodGhpcy5fX3JlZG9fXykge1xuXHRcdFx0XHRcdFx0aSA9IHRoaXMuX19yZWRvX18uc2hpZnQoKTtcblx0XHRcdFx0XHRcdGlmIChpICE9PSB1bmRlZmluZWQpIHJldHVybiBpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGhpcy5fX25leHRJbmRleF9fIDwgdGhpcy5fX2xpc3RfXy5sZW5ndGgpIHJldHVybiB0aGlzLl9fbmV4dEluZGV4X18rKztcblx0XHRcdFx0XHR0aGlzLl91bkJpbmQoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRuZXh0OiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX2NyZWF0ZVJlc3VsdCh0aGlzLl9uZXh0KCkpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdF9jcmVhdGVSZXN1bHQ6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0aWYgKGkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHtcblx0XHRcdFx0XHRcdGRvbmU6IHRydWUsXG5cdFx0XHRcdFx0XHR2YWx1ZTogdW5kZWZpbmVkXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZG9uZTogZmFsc2UsXG5cdFx0XHRcdFx0XHR2YWx1ZTogdGhpcy5fcmVzb2x2ZShpKVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0X3Jlc29sdmU6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX19saXN0X19baV07XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0X3VuQmluZDoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRoaXMuX19saXN0X18gPSBudWxsO1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9fcmVkb19fO1xuXHRcdFx0XHRcdGlmICghdGhpcy5fX2NvbnRleHRfXykgcmV0dXJuO1xuXHRcdFx0XHRcdHRoaXMuX19jb250ZXh0X18ub2ZmKCdfYWRkJywgdGhpcy5fb25BZGQuYmluZCh0aGlzKSk7XG5cdFx0XHRcdFx0dGhpcy5fX2NvbnRleHRfXy5vZmYoJ19kZWxldGUnLCB0aGlzLl9vbkRlbGV0ZS5iaW5kKHRoaXMpKTtcblx0XHRcdFx0XHR0aGlzLl9fY29udGV4dF9fLm9mZignX2NsZWFyJywgdGhpcy5fb25DbGVhci5iaW5kKHRoaXMpKTtcblx0XHRcdFx0XHR0aGlzLl9fY29udGV4dF9fID0gbnVsbDtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR0b1N0cmluZzoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiAnW29iamVjdCBJdGVyYXRvcl0nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdF9vbkFkZDoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGluZGV4KSB7XG5cdFx0XHRcdFx0aWYgKGluZGV4ID49IHRoaXMuX19uZXh0SW5kZXhfXykgcmV0dXJuO1xuXHRcdFx0XHRcdCsrdGhpcy5fX25leHRJbmRleF9fO1xuXHRcdFx0XHRcdGlmICghdGhpcy5fX3JlZG9fXykge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfX3JlZG9fXycsIHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFtpbmRleF0sXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiBmYWxzZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuX19yZWRvX18uZm9yRWFjaChmdW5jdGlvbiAocmVkbywgaSkge1xuXHRcdFx0XHRcdFx0aWYgKHJlZG8gPj0gaW5kZXgpIHRoaXMuX19yZWRvX19baV0gPSArK3JlZG87XG5cdFx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdFx0dGhpcy5fX3JlZG9fXy5wdXNoKGluZGV4KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRfb25EZWxldGU6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0XHRcdHZhciBpO1xuXHRcdFx0XHRcdGlmIChpbmRleCA+PSB0aGlzLl9fbmV4dEluZGV4X18pIHJldHVybjtcblx0XHRcdFx0XHQtLXRoaXMuX19uZXh0SW5kZXhfXztcblx0XHRcdFx0XHRpZiAoIXRoaXMuX19yZWRvX18pIHJldHVybjtcblx0XHRcdFx0XHRpID0gdGhpcy5fX3JlZG9fXy5pbmRleE9mKGluZGV4KTtcblx0XHRcdFx0XHRpZiAoaSAhPT0gLTEpIHRoaXMuX19yZWRvX18uc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdHRoaXMuX19yZWRvX18uZm9yRWFjaChmdW5jdGlvbiAocmVkbywgaSkge1xuXHRcdFx0XHRcdFx0aWYgKHJlZG8gPiBpbmRleCkgdGhpcy5fX3JlZG9fX1tpXSA9IC0tcmVkbztcblx0XHRcdFx0XHR9LCB0aGlzKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRfb25DbGVhcjoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGlmICh0aGlzLl9fcmVkb19fKSBjbGVhci5jYWxsKHRoaXMuX19yZWRvX18pO1xuXHRcdFx0XHRcdHRoaXMuX19uZXh0SW5kZXhfXyA9IDA7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9XG5cdFx0fSkpO1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KEl0ZXJhdG9yLnByb3RvdHlwZSwgU3ltYm9sLml0ZXJhdG9yLCB7XG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KEl0ZXJhdG9yLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG5cdFx0XHR2YWx1ZTogJ0l0ZXJhdG9yJyxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gSXRlcmF0b3I7XG5cdH0oKSk7XG5cbi8vIF9BcnJheUl0ZXJhdG9yXG5cdC8qIGdsb2JhbCBJdGVyYXRvciAqL1xuLy8gQSBtb2RpZmljYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vZXM2LWl0ZXJhdG9yXG4vLyBDb3B5cmlnaHQgKEMpIDIwMTMtMjAxNSBNYXJpdXN6IE5vd2FrICh3d3cubWVkaWtvby5jb20pXG5cblx0dmFyIEFycmF5SXRlcmF0b3IgPSAoZnVuY3Rpb24oKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuXHRcdHZhciBBcnJheUl0ZXJhdG9yID0gZnVuY3Rpb24oYXJyLCBraW5kKSB7XG5cdFx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJyYXlJdGVyYXRvcikpIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcihhcnIsIGtpbmQpO1xuXHRcdFx0SXRlcmF0b3IuY2FsbCh0aGlzLCBhcnIpO1xuXHRcdFx0aWYgKCFraW5kKSBraW5kID0gJ3ZhbHVlJztcblx0XHRcdGVsc2UgaWYgKFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMuY2FsbChraW5kLCAna2V5K3ZhbHVlJykpIGtpbmQgPSAna2V5K3ZhbHVlJztcblx0XHRcdGVsc2UgaWYgKFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMuY2FsbChraW5kLCAna2V5JykpIGtpbmQgPSAna2V5Jztcblx0XHRcdGVsc2Uga2luZCA9ICd2YWx1ZSc7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19fa2luZF9fJywge1xuXHRcdFx0XHR2YWx1ZToga2luZCxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHRpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YoQXJyYXlJdGVyYXRvciwgSXRlcmF0b3IucHJvdG90eXBlKTtcblxuXHRcdEFycmF5SXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvci5wcm90b3R5cGUsIHtcblx0XHRcdGNvbnN0cnVjdG9yOiB7XG5cdFx0XHRcdHZhbHVlOiBBcnJheUl0ZXJhdG9yLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdF9yZXNvbHZlOiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbihpKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX19raW5kX18gPT09ICd2YWx1ZScpIHJldHVybiB0aGlzLl9fbGlzdF9fW2ldO1xuXHRcdFx0XHRcdGlmICh0aGlzLl9fa2luZF9fID09PSAna2V5K3ZhbHVlJykgcmV0dXJuIFtpLCB0aGlzLl9fbGlzdF9fW2ldXTtcblx0XHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR0b1N0cmluZzoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICdbb2JqZWN0IEFycmF5IEl0ZXJhdG9yXSc7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gQXJyYXlJdGVyYXRvcjtcblx0fSgpKTtcblx0aWYgKCEoXCJTeW1ib2xcImluIHRoaXMmJlwiaXRlcmF0b3JcImluIHRoaXMuU3ltYm9sJiYhIUFycmF5LnByb3RvdHlwZS5lbnRyaWVzXG5cdCkpIHtcblxuLy8gQXJyYXkucHJvdG90eXBlLmVudHJpZXNcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIFRvT2JqZWN0ICovXG4vLyAyMi4xLjMuNC4gQXJyYXkucHJvdG90eXBlLmVudHJpZXMgKCApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZW50cmllcycsIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG5cdFx0XHQvLyAxLiBMZXQgTyBiZSA/IFRvT2JqZWN0KHRoaXMgdmFsdWUpLlxuXHRcdFx0dmFyIE8gPSBUb09iamVjdCh0aGlzKTtcblx0XHRcdC8vIDIuIFJldHVybiBDcmVhdGVBcnJheUl0ZXJhdG9yKE8sIFwia2V5K3ZhbHVlXCIpLlxuXHRcdFx0Ly8gVE9ETzogQWRkIENyZWF0ZUFycmF5SXRlcmF0b3Jcblx0XHRcdHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcihPLCAna2V5K3ZhbHVlJyk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIlxuXHRcdFx0dHJ5e3ZhciBhPW5ldyBlLlVSTChcImh0dHA6Ly9leGFtcGxlLmNvbVwiKVxuXHRcdFx0XHRpZihcImhyZWZcImluIGEmJlwic2VhcmNoUGFyYW1zXCJpbiBhKXt2YXIgcj1uZXcgVVJMKFwiaHR0cDovL2V4YW1wbGUuY29tXCIpXG5cdFx0XHRcdFx0aWYoci5zZWFyY2g9XCJhPTEmYj0yXCIsXCJodHRwOi8vZXhhbXBsZS5jb20vP2E9MSZiPTJcIj09PXIuaHJlZiYmKHIuc2VhcmNoPVwiXCIsXCJodHRwOi8vZXhhbXBsZS5jb20vXCI9PT1yLmhyZWYpKXt2YXIgdD1uZXcgZS5VUkxTZWFyY2hQYXJhbXMoXCJhPTFcIiksaD1uZXcgZS5VUkxTZWFyY2hQYXJhbXModClcblx0XHRcdFx0XHRcdGlmKFwiYT0xXCI9PT1TdHJpbmcoaCkpcmV0dXJuITB9fXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfX0pKHRoaXMpXG5cdCkpIHtcblxuLy8gVVJMXG5cdFx0LyogZ2xvYmFsIFN5bWJvbCAqL1xuLy8gVVJMIFBvbHlmaWxsXG4vLyBEcmFmdCBzcGVjaWZpY2F0aW9uOiBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmdcblxuLy8gTm90ZXM6XG4vLyAtIFByaW1hcmlseSB1c2VmdWwgZm9yIHBhcnNpbmcgVVJMcyBhbmQgbW9kaWZ5aW5nIHF1ZXJ5IHBhcmFtZXRlcnNcbi8vIC0gU2hvdWxkIHdvcmsgaW4gSUU4KyBhbmQgZXZlcnl0aGluZyBtb3JlIG1vZGVybiwgd2l0aCBlczUuanMgcG9seWZpbGxzXG5cblx0XHQoZnVuY3Rpb24gKGdsb2JhbCkge1xuXHRcdFx0J3VzZSBzdHJpY3QnO1xuXG5cdFx0XHRmdW5jdGlvbiBpc1NlcXVlbmNlKG8pIHtcblx0XHRcdFx0aWYgKCFvKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlmICgnU3ltYm9sJyBpbiBnbG9iYWwgJiYgJ2l0ZXJhdG9yJyBpbiBnbG9iYWwuU3ltYm9sICYmXG5cdFx0XHRcdFx0dHlwZW9mIG9bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KG8pKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiB0b0FycmF5KGl0ZXIpIHtcblx0XHRcdFx0cmV0dXJuICgnZnJvbScgaW4gQXJyYXkpID8gQXJyYXkuZnJvbShpdGVyKSA6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGl0ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHQoZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gQnJvd3NlcnMgbWF5IGhhdmU6XG5cdFx0XHRcdC8vICogTm8gZ2xvYmFsIFVSTCBvYmplY3Rcblx0XHRcdFx0Ly8gKiBVUkwgd2l0aCBzdGF0aWMgbWV0aG9kcyBvbmx5IC0gbWF5IGhhdmUgYSBkdW1teSBjb25zdHJ1Y3RvclxuXHRcdFx0XHQvLyAqIFVSTCB3aXRoIG1lbWJlcnMgZXhjZXB0IHNlYXJjaFBhcmFtc1xuXHRcdFx0XHQvLyAqIEZ1bGwgVVJMIEFQSSBzdXBwb3J0XG5cdFx0XHRcdHZhciBvcmlnVVJMID0gZ2xvYmFsLlVSTDtcblx0XHRcdFx0dmFyIG5hdGl2ZVVSTDtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAob3JpZ1VSTCkge1xuXHRcdFx0XHRcdFx0bmF0aXZlVVJMID0gbmV3IGdsb2JhbC5VUkwoJ2h0dHA6Ly9leGFtcGxlLmNvbScpO1xuXHRcdFx0XHRcdFx0aWYgKCdzZWFyY2hQYXJhbXMnIGluIG5hdGl2ZVVSTCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gbmV3IFVSTCgnaHR0cDovL2V4YW1wbGUuY29tJyk7XG5cdFx0XHRcdFx0XHRcdHVybC5zZWFyY2ggPSAnYT0xJmI9Mic7XG5cdFx0XHRcdFx0XHRcdGlmICh1cmwuaHJlZiA9PT0gJ2h0dHA6Ly9leGFtcGxlLmNvbS8/YT0xJmI9MicpIHtcblx0XHRcdFx0XHRcdFx0XHR1cmwuc2VhcmNoID0gJyc7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHVybC5ocmVmID09PSAnaHR0cDovL2V4YW1wbGUuY29tLycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICghKCdocmVmJyBpbiBuYXRpdmVVUkwpKSB7XG5cdFx0XHRcdFx0XHRcdG5hdGl2ZVVSTCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5hdGl2ZVVSTCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKF8pIHt9XG5cblx0XHRcdFx0Ly8gTk9URTogRG9lc24ndCBkbyB0aGUgZW5jb2RpbmcvZGVjb2RpbmcgZGFuY2Vcblx0XHRcdFx0ZnVuY3Rpb24gdXJsZW5jb2RlZF9zZXJpYWxpemUocGFpcnMpIHtcblx0XHRcdFx0XHR2YXIgb3V0cHV0ID0gJycsIGZpcnN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRwYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG5cdFx0XHRcdFx0XHR2YXIgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChwYWlyLm5hbWUpO1xuXHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhaXIudmFsdWUpO1xuXHRcdFx0XHRcdFx0aWYgKCFmaXJzdCkgb3V0cHV0ICs9ICcmJztcblx0XHRcdFx0XHRcdG91dHB1dCArPSBuYW1lICsgJz0nICsgdmFsdWU7XG5cdFx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybiBvdXRwdXQucmVwbGFjZSgvJTIwL2csICcrJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBOT1RFOiBEb2Vzbid0IGRvIHRoZSBlbmNvZGluZy9kZWNvZGluZyBkYW5jZVxuXHRcdFx0XHRmdW5jdGlvbiB1cmxlbmNvZGVkX3BhcnNlKGlucHV0LCBpc2luZGV4KSB7XG5cdFx0XHRcdFx0dmFyIHNlcXVlbmNlcyA9IGlucHV0LnNwbGl0KCcmJyk7XG5cdFx0XHRcdFx0aWYgKGlzaW5kZXggJiYgc2VxdWVuY2VzWzBdLmluZGV4T2YoJz0nKSA9PT0gLTEpXG5cdFx0XHRcdFx0XHRzZXF1ZW5jZXNbMF0gPSAnPScgKyBzZXF1ZW5jZXNbMF07XG5cdFx0XHRcdFx0dmFyIHBhaXJzID0gW107XG5cdFx0XHRcdFx0c2VxdWVuY2VzLmZvckVhY2goZnVuY3Rpb24gKGJ5dGVzKSB7XG5cdFx0XHRcdFx0XHRpZiAoYnl0ZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cdFx0XHRcdFx0XHR2YXIgaW5kZXggPSBieXRlcy5pbmRleE9mKCc9Jyk7XG5cdFx0XHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBuYW1lID0gYnl0ZXMuc3Vic3RyaW5nKDAsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gYnl0ZXMuc3Vic3RyaW5nKGluZGV4ICsgMSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gYnl0ZXM7XG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gJyc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuYW1lID0gbmFtZS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFwrL2csICcgJyk7XG5cdFx0XHRcdFx0XHRwYWlycy5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHZhciBvdXRwdXQgPSBbXTtcblx0XHRcdFx0XHRwYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaCh7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLm5hbWUpLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIudmFsdWUpXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnVuY3Rpb24gVVJMVXRpbHModXJsKSB7XG5cdFx0XHRcdFx0aWYgKG5hdGl2ZVVSTClcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgb3JpZ1VSTCh1cmwpO1xuXHRcdFx0XHRcdHZhciBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRcdFx0YW5jaG9yLmhyZWYgPSB1cmw7XG5cdFx0XHRcdFx0cmV0dXJuIGFuY2hvcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIFVSTFNlYXJjaFBhcmFtcyhpbml0KSB7XG5cdFx0XHRcdFx0dmFyICR0aGlzID0gdGhpcztcblx0XHRcdFx0XHR0aGlzLl9saXN0ID0gW107XG5cblx0XHRcdFx0XHRpZiAoaW5pdCA9PT0gdW5kZWZpbmVkIHx8IGluaXQgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdC8vIG5vLW9wXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbml0IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG5cdFx0XHRcdFx0XHQvLyBJbiBFUzYgaW5pdCB3b3VsZCBiZSBhIHNlcXVlbmNlLCBidXQgc3BlY2lhbCBjYXNlIGZvciBFUzUuXG5cdFx0XHRcdFx0XHR0aGlzLl9saXN0ID0gdXJsZW5jb2RlZF9wYXJzZShTdHJpbmcoaW5pdCkpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGluaXQgPT09ICdvYmplY3QnICYmIGlzU2VxdWVuY2UoaW5pdCkpIHtcblx0XHRcdFx0XHRcdHRvQXJyYXkoaW5pdCkuZm9yRWFjaChmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghaXNTZXF1ZW5jZShlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0XHRcdFx0XHRcdHZhciBudiA9IHRvQXJyYXkoZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChudi5sZW5ndGggIT09IDIpIHRocm93IFR5cGVFcnJvcigpO1xuXHRcdFx0XHRcdFx0XHQkdGhpcy5fbGlzdC5wdXNoKHtuYW1lOiBTdHJpbmcobnZbMF0pLCB2YWx1ZTogU3RyaW5nKG52WzFdKX0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgaW5pdCA9PT0gJ29iamVjdCcgJiYgaW5pdCkge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmtleXMoaW5pdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHRcdFx0JHRoaXMuX2xpc3QucHVzaCh7bmFtZTogU3RyaW5nKGtleSksIHZhbHVlOiBTdHJpbmcoaW5pdFtrZXldKX0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGluaXQgPSBTdHJpbmcoaW5pdCk7XG5cdFx0XHRcdFx0XHRpZiAoaW5pdC5zdWJzdHJpbmcoMCwgMSkgPT09ICc/Jylcblx0XHRcdFx0XHRcdFx0aW5pdCA9IGluaXQuc3Vic3RyaW5nKDEpO1xuXHRcdFx0XHRcdFx0dGhpcy5fbGlzdCA9IHVybGVuY29kZWRfcGFyc2UoaW5pdCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5fdXJsX29iamVjdCA9IG51bGw7XG5cdFx0XHRcdFx0dGhpcy5fc2V0TGlzdCA9IGZ1bmN0aW9uIChsaXN0KSB7IGlmICghdXBkYXRpbmcpICR0aGlzLl9saXN0ID0gbGlzdDsgfTtcblxuXHRcdFx0XHRcdHZhciB1cGRhdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdHRoaXMuX3VwZGF0ZV9zdGVwcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKHVwZGF0aW5nKSByZXR1cm47XG5cdFx0XHRcdFx0XHR1cGRhdGluZyA9IHRydWU7XG5cblx0XHRcdFx0XHRcdGlmICghJHRoaXMuX3VybF9vYmplY3QpIHJldHVybjtcblxuXHRcdFx0XHRcdFx0Ly8gUGFydGlhbCB3b3JrYXJvdW5kIGZvciBJRSBpc3N1ZSB3aXRoICdhYm91dDonXG5cdFx0XHRcdFx0XHRpZiAoJHRoaXMuX3VybF9vYmplY3QucHJvdG9jb2wgPT09ICdhYm91dDonICYmXG5cdFx0XHRcdFx0XHRcdCR0aGlzLl91cmxfb2JqZWN0LnBhdGhuYW1lLmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0JHRoaXMuX3VybF9vYmplY3QucGF0aG5hbWUgPSAkdGhpcy5fdXJsX29iamVjdC5wYXRobmFtZS5zcGxpdCgnPycpWzBdO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQkdGhpcy5fdXJsX29iamVjdC5zZWFyY2ggPSB1cmxlbmNvZGVkX3NlcmlhbGl6ZSgkdGhpcy5fbGlzdCk7XG5cblx0XHRcdFx0XHRcdHVwZGF0aW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZSwge1xuXHRcdFx0XHRcdGFwcGVuZDoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9saXN0LnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX3VwZGF0ZV9zdGVwcygpO1xuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQnZGVsZXRlJzoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGlzdC5sZW5ndGg7KSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX2xpc3RbaV0ubmFtZSA9PT0gbmFtZSlcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX2xpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR0aGlzLl91cGRhdGVfc3RlcHMoKTtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Z2V0OiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9saXN0Lmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX2xpc3RbaV0ubmFtZSA9PT0gbmFtZSlcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLl9saXN0W2ldLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRnZXRBbGw6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGlzdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucHVzaCh0aGlzLl9saXN0W2ldLnZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRoYXM6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5fbGlzdFtpXS5uYW1lID09PSBuYW1lKVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRzZXQ6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGlzdC5sZW5ndGg7KSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX2xpc3RbaV0ubmFtZSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLl9saXN0W2ldLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0KytpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fbGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoIWZvdW5kKVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuX2xpc3QucHVzaCh7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSB9KTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLl91cGRhdGVfc3RlcHMoKTtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0ZW50cmllczoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yKHRoaXMuX2xpc3QsICdrZXkrdmFsdWUnKTsgfSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0a2V5czoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yKHRoaXMuX2xpc3QsICdrZXknKTsgfSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0dmFsdWVzOiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgSXRlcmF0b3IodGhpcy5fbGlzdCwgJ3ZhbHVlJyk7IH0sXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdGZvckVhY2g6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhpc0FyZyA9IChhcmd1bWVudHMubGVuZ3RoID4gMSkgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2xpc3QuZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCh0aGlzQXJnLCBwYWlyLnZhbHVlLCBwYWlyLm5hbWUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHR0b1N0cmluZzoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHVybGVuY29kZWRfc2VyaWFsaXplKHRoaXMuX2xpc3QpO1xuXHRcdFx0XHRcdFx0fSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGZ1bmN0aW9uIEl0ZXJhdG9yKHNvdXJjZSwga2luZCkge1xuXHRcdFx0XHRcdHZhciBpbmRleCA9IDA7XG5cdFx0XHRcdFx0dGhpc1snbmV4dCddID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoaW5kZXggPj0gc291cmNlLmxlbmd0aClcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkfTtcblx0XHRcdFx0XHRcdHZhciBwYWlyID0gc291cmNlW2luZGV4KytdO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtkb25lOiBmYWxzZSwgdmFsdWU6XG5cdFx0XHRcdFx0XHRcdFx0a2luZCA9PT0gJ2tleScgPyBwYWlyLm5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0a2luZCA9PT0gJ3ZhbHVlJyA/IHBhaXIudmFsdWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRbcGFpci5uYW1lLCBwYWlyLnZhbHVlXX07XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICgnU3ltYm9sJyBpbiBnbG9iYWwgJiYgJ2l0ZXJhdG9yJyBpbiBnbG9iYWwuU3ltYm9sKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUsIGdsb2JhbC5TeW1ib2wuaXRlcmF0b3IsIHtcblx0XHRcdFx0XHRcdHZhbHVlOiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmVudHJpZXMsXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KEl0ZXJhdG9yLnByb3RvdHlwZSwgZ2xvYmFsLlN5bWJvbC5pdGVyYXRvciwge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIFVSTCh1cmwsIGJhc2UpIHtcblx0XHRcdFx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgZ2xvYmFsLlVSTCkpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnVVJMJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IuXCIpO1xuXG5cdFx0XHRcdFx0aWYgKGJhc2UpIHtcblx0XHRcdFx0XHRcdHVybCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChuYXRpdmVVUkwpIHJldHVybiBuZXcgb3JpZ1VSTCh1cmwsIGJhc2UpLmhyZWY7XG5cdFx0XHRcdFx0XHRcdHZhciBpZnJhbWU7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGRvYztcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgYW5vdGhlciBkb2N1bWVudC9iYXNlIHRhZy9hbmNob3IgZm9yIHJlbGF0aXZlIFVSTCByZXNvbHV0aW9uLCBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSkgPT09IFwiW29iamVjdCBPcGVyYU1pbmldXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24gJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24gJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJywgJ2h0bWwnLCBudWxsKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRvYy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQoJ2hlYWQnKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KCdib2R5JykpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRvYyA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRvYy53cml0ZSgnPGhlYWQ+PFxcL2hlYWQ+PGJvZHk+PFxcL2JvZHk+Jyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MuY2xvc2UoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIWRvYykgdGhyb3cgRXJyb3IoJ2Jhc2Ugbm90IHN1cHBvcnRlZCcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGJhc2VUYWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnYmFzZScpO1xuXHRcdFx0XHRcdFx0XHRcdGJhc2VUYWcuaHJlZiA9IGJhc2U7XG5cdFx0XHRcdFx0XHRcdFx0ZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoYmFzZVRhZyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGFuY2hvciA9IGRvYy5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRcdFx0XHRcdFx0YW5jaG9yLmhyZWYgPSB1cmw7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFuY2hvci5ocmVmO1xuXHRcdFx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpZnJhbWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KCkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEFuIGlubmVyIG9iamVjdCBpbXBsZW1lbnRpbmcgVVJMVXRpbHMgKGVpdGhlciBhIG5hdGl2ZSBVUkxcblx0XHRcdFx0XHQvLyBvYmplY3Qgb3IgYW4gSFRNTEFuY2hvckVsZW1lbnQgaW5zdGFuY2UpIGlzIHVzZWQgdG8gcGVyZm9ybSB0aGVcblx0XHRcdFx0XHQvLyBVUkwgYWxnb3JpdGhtcy4gV2l0aCBmdWxsIEVTNSBnZXR0ZXIvc2V0dGVyIHN1cHBvcnQsIHJldHVybiBhXG5cdFx0XHRcdFx0Ly8gcmVndWxhciBvYmplY3QgRm9yIElFOCdzIGxpbWl0ZWQgZ2V0dGVyL3NldHRlciBzdXBwb3J0LCBhXG5cdFx0XHRcdFx0Ly8gZGlmZmVyZW50IEhUTUxBbmNob3JFbGVtZW50IGlzIHJldHVybmVkIHdpdGggcHJvcGVydGllc1xuXHRcdFx0XHRcdC8vIG92ZXJyaWRkZW5cblxuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9IFVSTFV0aWxzKHVybCB8fCAnJyk7XG5cblx0XHRcdFx0XHQvLyBEZXRlY3QgZm9yIEVTNSBnZXR0ZXIvc2V0dGVyIHN1cHBvcnRcblx0XHRcdFx0XHQvLyAoYW4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgcG9seWZpbGwgdGhhdCBkb2Vzbid0IHN1cHBvcnQgZ2V0dGVycy9zZXR0ZXJzIG1heSB0aHJvdylcblx0XHRcdFx0XHR2YXIgRVM1X0dFVF9TRVQgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoISgnZGVmaW5lUHJvcGVydGllcycgaW4gT2JqZWN0KSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHsgcHJvcDogeyAnZ2V0JzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSB9IH0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gb2JqLnByb3A7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChfKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KCkpO1xuXG5cdFx0XHRcdFx0dmFyIHNlbGYgPSBFUzVfR0VUX1NFVCA/IHRoaXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cblxuXG5cdFx0XHRcdFx0dmFyIHF1ZXJ5X29iamVjdCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5zZWFyY2ggPyBpbnN0YW5jZS5zZWFyY2guc3Vic3RyaW5nKDEpIDogbnVsbCk7XG5cdFx0XHRcdFx0cXVlcnlfb2JqZWN0Ll91cmxfb2JqZWN0ID0gc2VsZjtcblxuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNlbGYsIHtcblx0XHRcdFx0XHRcdGhyZWY6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5ocmVmOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLmhyZWYgPSB2OyB0aWR5X2luc3RhbmNlKCk7IHVwZGF0ZV9zdGVwcygpOyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvcmlnaW46IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCdvcmlnaW4nIGluIGluc3RhbmNlKSByZXR1cm4gaW5zdGFuY2Uub3JpZ2luO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLnByb3RvY29sICsgJy8vJyArIHRoaXMuaG9zdDtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cHJvdG9jb2w6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5wcm90b2NvbDsgfSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5wcm90b2NvbCA9IHY7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UudXNlcm5hbWU7IH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UudXNlcm5hbWUgPSB2OyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRwYXNzd29yZDoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnBhc3N3b3JkOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLnBhc3N3b3JkID0gdjsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aG9zdDoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBJRSByZXR1cm5zIGRlZmF1bHQgcG9ydCBpbiB8aG9zdHxcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmUgPSB7J2h0dHA6JzogLzo4MCQvLCAnaHR0cHM6JzogLzo0NDMkLywgJ2Z0cDonOiAvOjIxJC99W2luc3RhbmNlLnByb3RvY29sXTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmUgPyBpbnN0YW5jZS5ob3N0LnJlcGxhY2UocmUsICcnKSA6IGluc3RhbmNlLmhvc3Q7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UuaG9zdCA9IHY7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGhvc3RuYW1lOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UuaG9zdG5hbWU7IH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UuaG9zdG5hbWUgPSB2OyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRwb3J0OiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UucG9ydDsgfSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5wb3J0ID0gdjsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cGF0aG5hbWU6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gSUUgZG9lcyBub3QgaW5jbHVkZSBsZWFkaW5nICcvJyBpbiB8cGF0aG5hbWV8XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbmNlLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSByZXR1cm4gJy8nICsgaW5zdGFuY2UucGF0aG5hbWU7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGluc3RhbmNlLnBhdGhuYW1lO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLnBhdGhuYW1lID0gdjsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c2VhcmNoOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2Uuc2VhcmNoOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbmNlLnNlYXJjaCA9PT0gdikgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdGluc3RhbmNlLnNlYXJjaCA9IHY7IHRpZHlfaW5zdGFuY2UoKTsgdXBkYXRlX3N0ZXBzKCk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNlYXJjaFBhcmFtczoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXJ5X29iamVjdDsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aGFzaDoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLmhhc2g7IH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UuaGFzaCA9IHY7IHRpZHlfaW5zdGFuY2UoKTsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0dG9TdHJpbmc6IHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5zdGFuY2UudG9TdHJpbmcoKTsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHZhbHVlT2Y6IHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5zdGFuY2UudmFsdWVPZigpOyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRmdW5jdGlvbiB0aWR5X2luc3RhbmNlKCkge1xuXHRcdFx0XHRcdFx0dmFyIGhyZWYgPSBpbnN0YW5jZS5ocmVmLnJlcGxhY2UoLyMkfFxcPyR8XFw/KD89IykvZywgJycpO1xuXHRcdFx0XHRcdFx0aWYgKGluc3RhbmNlLmhyZWYgIT09IGhyZWYpXG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlLmhyZWYgPSBocmVmO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZ1bmN0aW9uIHVwZGF0ZV9zdGVwcygpIHtcblx0XHRcdFx0XHRcdHF1ZXJ5X29iamVjdC5fc2V0TGlzdChpbnN0YW5jZS5zZWFyY2ggPyB1cmxlbmNvZGVkX3BhcnNlKGluc3RhbmNlLnNlYXJjaC5zdWJzdHJpbmcoMSkpIDogW10pO1xuXHRcdFx0XHRcdFx0cXVlcnlfb2JqZWN0Ll91cGRhdGVfc3RlcHMoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gc2VsZjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChvcmlnVVJMKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSBpbiBvcmlnVVJMKSB7XG5cdFx0XHRcdFx0XHRpZiAob3JpZ1VSTC5oYXNPd25Qcm9wZXJ0eShpKSAmJiB0eXBlb2Ygb3JpZ1VSTFtpXSA9PT0gJ2Z1bmN0aW9uJylcblx0XHRcdFx0XHRcdFx0VVJMW2ldID0gb3JpZ1VSTFtpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRnbG9iYWwuVVJMID0gVVJMO1xuXHRcdFx0XHRnbG9iYWwuVVJMU2VhcmNoUGFyYW1zID0gVVJMU2VhcmNoUGFyYW1zO1xuXHRcdFx0fSgpKTtcblxuXHRcdFx0Ly8gUGF0Y2ggbmF0aXZlIFVSTFNlYXJjaFBhcmFtcyBjb25zdHJ1Y3RvciB0byBoYW5kbGUgc2VxdWVuY2VzL3JlY29yZHNcblx0XHRcdC8vIGlmIG5lY2Vzc2FyeS5cblx0XHRcdChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKG5ldyBnbG9iYWwuVVJMU2VhcmNoUGFyYW1zKFtbJ2EnLCAxXV0pLmdldCgnYScpID09PSAnMScgJiZcblx0XHRcdFx0XHRuZXcgZ2xvYmFsLlVSTFNlYXJjaFBhcmFtcyh7YTogMX0pLmdldCgnYScpID09PSAnMScpXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR2YXIgb3JpZyA9IGdsb2JhbC5VUkxTZWFyY2hQYXJhbXM7XG5cdFx0XHRcdGdsb2JhbC5VUkxTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbihpbml0KSB7XG5cdFx0XHRcdFx0aWYgKGluaXQgJiYgdHlwZW9mIGluaXQgPT09ICdvYmplY3QnICYmIGlzU2VxdWVuY2UoaW5pdCkpIHtcblx0XHRcdFx0XHRcdHZhciBvID0gbmV3IG9yaWcoKTtcblx0XHRcdFx0XHRcdHRvQXJyYXkoaW5pdCkuZm9yRWFjaChmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghaXNTZXF1ZW5jZShlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0XHRcdFx0XHRcdHZhciBudiA9IHRvQXJyYXkoZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChudi5sZW5ndGggIT09IDIpIHRocm93IFR5cGVFcnJvcigpO1xuXHRcdFx0XHRcdFx0XHRvLmFwcGVuZChudlswXSwgbnZbMV0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGluaXQgJiYgdHlwZW9mIGluaXQgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRvID0gbmV3IG9yaWcoKTtcblx0XHRcdFx0XHRcdE9iamVjdC5rZXlzKGluaXQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdFx0XHRcdG8uc2V0KGtleSwgaW5pdFtrZXldKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG87XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgb3JpZyhpbml0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9KCkpO1xuXG5cdFx0fShzZWxmKSk7XG5cblx0fVxuXG5cdGlmICghKFwiV2luZG93XCJpbiB0aGlzXG5cdCkpIHtcblxuLy8gV2luZG93XG5cdFx0aWYgKCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgPT09IFwidW5kZWZpbmVkXCIpICYmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gXCJmdW5jdGlvblwiKSkge1xuXHRcdFx0KGZ1bmN0aW9uIChnbG9iYWwpIHtcblx0XHRcdFx0aWYgKGdsb2JhbC5jb25zdHJ1Y3Rvcikge1xuXHRcdFx0XHRcdGdsb2JhbC5XaW5kb3cgPSBnbG9iYWwuY29uc3RydWN0b3I7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KGdsb2JhbC5XaW5kb3cgPSBnbG9iYWwuY29uc3RydWN0b3IgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiBXaW5kb3coKSB7fScpKCkpLnByb3RvdHlwZSA9IHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH0odGhpcykpO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCEoKGZ1bmN0aW9uKG4pe2lmKCEoXCJFdmVudFwiaW4gbikpcmV0dXJuITFcblx0XHRcdHRyeXtyZXR1cm4gbmV3IEV2ZW50KFwiY2xpY2tcIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fSkodGhpcylcblx0KSkge1xuXG4vLyBFdmVudFxuXHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgdW5saXN0ZW5hYmxlV2luZG93RXZlbnRzID0ge1xuXHRcdFx0XHRjbGljazogMSxcblx0XHRcdFx0ZGJsY2xpY2s6IDEsXG5cdFx0XHRcdGtleXVwOiAxLFxuXHRcdFx0XHRrZXlwcmVzczogMSxcblx0XHRcdFx0a2V5ZG93bjogMSxcblx0XHRcdFx0bW91c2Vkb3duOiAxLFxuXHRcdFx0XHRtb3VzZXVwOiAxLFxuXHRcdFx0XHRtb3VzZW1vdmU6IDEsXG5cdFx0XHRcdG1vdXNlb3ZlcjogMSxcblx0XHRcdFx0bW91c2VlbnRlcjogMSxcblx0XHRcdFx0bW91c2VsZWF2ZTogMSxcblx0XHRcdFx0bW91c2VvdXQ6IDEsXG5cdFx0XHRcdHN0b3JhZ2U6IDEsXG5cdFx0XHRcdHN0b3JhZ2Vjb21taXQ6IDEsXG5cdFx0XHRcdHRleHRpbnB1dDogMVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gVGhpcyBwb2x5ZmlsbCBkZXBlbmRzIG9uIGF2YWlsYWJpbGl0eSBvZiBgZG9jdW1lbnRgIHNvIHdpbGwgbm90IHJ1biBpbiBhIHdvcmtlclxuXHRcdFx0Ly8gSG93ZXZlciwgd2UgYXNzc3VtZSB0aGVyZSBhcmUgbm8gYnJvd3NlcnMgd2l0aCB3b3JrZXIgc3VwcG9ydCB0aGF0IGxhY2sgcHJvcGVyXG5cdFx0XHQvLyBzdXBwb3J0IGZvciBgRXZlbnRgIHdpdGhpbiB0aGUgd29ya2VyXG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG5cdFx0XHRmdW5jdGlvbiBpbmRleE9mKGFycmF5LCBlbGVtZW50KSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0bGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0aWYgKGluZGV4IGluIGFycmF5ICYmIGFycmF5W2luZGV4XSA9PT0gZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGluZGV4O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGV4aXN0aW5nUHJvdG8gPSAod2luZG93LkV2ZW50ICYmIHdpbmRvdy5FdmVudC5wcm90b3R5cGUpIHx8IG51bGw7XG5cdFx0XHRmdW5jdGlvbiBFdmVudCh0eXBlLCBldmVudEluaXREaWN0KSB7XG5cdFx0XHRcdGlmICghdHlwZSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBldmVudDtcblx0XHRcdFx0Ly8gU2hvcnRjdXQgaWYgYnJvd3NlciBzdXBwb3J0cyBjcmVhdGVFdmVudFxuXHRcdFx0XHRpZiAoJ2NyZWF0ZUV2ZW50JyBpbiBkb2N1bWVudCkge1xuXHRcdFx0XHRcdGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRcdFx0dmFyIGJ1YmJsZXMgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuYnViYmxlcyAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5idWJibGVzIDogZmFsc2U7XG5cdFx0XHRcdFx0dmFyIGNhbmNlbGFibGUgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlIDogZmFsc2U7XG5cblx0XHRcdFx0XHRldmVudC5pbml0RXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG5cblx0XHRcdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cdFx0XHRcdGV2ZW50LmJ1YmJsZXMgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuYnViYmxlcyAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5idWJibGVzIDogZmFsc2U7XG5cdFx0XHRcdGV2ZW50LmNhbmNlbGFibGUgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlIDogZmFsc2U7XG5cblx0XHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdFx0fTtcblx0XHRcdEV2ZW50Lk5PTkUgPSAwO1xuXHRcdFx0RXZlbnQuQ0FQVFVSSU5HX1BIQVNFID0gMTtcblx0XHRcdEV2ZW50LkFUX1RBUkdFVCA9IDI7XG5cdFx0XHRFdmVudC5CVUJCTElOR19QSEFTRSA9IDM7XG5cdFx0XHR3aW5kb3cuRXZlbnQgPSBXaW5kb3cucHJvdG90eXBlLkV2ZW50ID0gRXZlbnQ7XG5cdFx0XHRpZiAoZXhpc3RpbmdQcm90bykge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkV2ZW50LCAncHJvdG90eXBlJywge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IGV4aXN0aW5nUHJvdG9cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghKCdjcmVhdGVFdmVudCcgaW4gZG9jdW1lbnQpKSB7XG5cdFx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gV2luZG93LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gRG9jdW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHtcblx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdGVsZW1lbnQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0dHlwZSA9IGFyZ3VtZW50c1swXSxcblx0XHRcdFx0XHRcdGxpc3RlbmVyID0gYXJndW1lbnRzWzFdO1xuXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT09IHdpbmRvdyAmJiB0eXBlIGluIHVubGlzdGVuYWJsZVdpbmRvd0V2ZW50cykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbiBJRTggdGhlIGV2ZW50OiAnICsgdHlwZSArICcgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgd2luZG93IG9iamVjdC4gUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvaXNzdWVzLzMxNyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWVsZW1lbnQuX2V2ZW50cykge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzID0ge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHNbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdFx0XHRsaXN0ID0gZWxlbWVudC5fZXZlbnRzW2V2ZW50LnR5cGVdLmxpc3QsXG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnRzID0gbGlzdC5zbGljZSgpLFxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0XHRcdFx0bGVuZ3RoID0gZXZlbnRzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0XHRldmVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZXZlbnQuY2FuY2VsYWJsZSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LmNhbmNlbEltbWVkaWF0ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IGVsZW1lbnQ7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBldmVudC5mcm9tRWxlbWVudCB8fCBudWxsO1xuXHRcdFx0XHRcdFx0XHRldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBlbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRldmVudC50aW1lU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZXZlbnQuY2xpZW50WCkge1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnBhZ2VYID0gZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnBhZ2VZID0gZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiAhZXZlbnQuY2FuY2VsSW1tZWRpYXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGluZGV4IGluIGV2ZW50cykge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRFbGVtZW50ID0gZXZlbnRzW2luZGV4XTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGluZGV4T2YobGlzdCwgZXZlbnRFbGVtZW50KSAhPT0gLTEgJiYgdHlwZW9mIGV2ZW50RWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudEVsZW1lbnQuY2FsbChlbGVtZW50LCBldmVudCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdCA9IFtdO1xuXG5cdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBlbGVtZW50Ll9ldmVudHNbdHlwZV0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyID0gV2luZG93LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHtcblx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdGVsZW1lbnQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0dHlwZSA9IGFyZ3VtZW50c1swXSxcblx0XHRcdFx0XHRcdGxpc3RlbmVyID0gYXJndW1lbnRzWzFdLFxuXHRcdFx0XHRcdFx0aW5kZXg7XG5cblx0XHRcdFx0XHRpZiAoZWxlbWVudC5fZXZlbnRzICYmIGVsZW1lbnQuX2V2ZW50c1t0eXBlXSAmJiBlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdCkge1xuXHRcdFx0XHRcdFx0aW5kZXggPSBpbmRleE9mKGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LCBsaXN0ZW5lcik7XG5cblx0XHRcdFx0XHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3Quc3BsaWNlKGluZGV4LCAxKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIWVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChlbGVtZW50LmRldGFjaEV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlbGVtZW50LmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBlbGVtZW50Ll9ldmVudHNbdHlwZV0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRkZWxldGUgZWxlbWVudC5fZXZlbnRzW3R5cGVdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHdpbmRvdy5kaXNwYXRjaEV2ZW50ID0gV2luZG93LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gRG9jdW1lbnQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBFbGVtZW50LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCkge1xuXHRcdFx0XHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0RPTSBFdmVudHMgRXhjZXB0aW9uIDAnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IHRoaXMsIHR5cGUgPSBldmVudC50eXBlO1xuXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGlmICghZXZlbnQuYnViYmxlcykge1xuXHRcdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdHZhciBjYW5jZWxCdWJibGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG5cblx0XHRcdFx0XHRcdFx0XHQoZWxlbWVudCB8fCB3aW5kb3cpLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBjYW5jZWxCdWJibGVFdmVudCk7XG5cdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0dGhpcy5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FuY2VsQnViYmxlRXZlbnQpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLmZpcmVFdmVudCgnb24nICsgdHlwZSwgZXZlbnQpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRldmVudC50YXJnZXQgPSBlbGVtZW50O1xuXG5cdFx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50O1xuXG5cdFx0XHRcdFx0XHRcdGlmICgnX2V2ZW50cycgaW4gZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzW3R5cGVdLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBlbGVtZW50WydvbicgKyB0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRbJ29uJyArIHR5cGVdLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ZWxlbWVudCA9IGVsZW1lbnQubm9kZVR5cGUgPT09IDkgPyBlbGVtZW50LnBhcmVudFdpbmRvdyA6IGVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRcdH0gd2hpbGUgKGVsZW1lbnQgJiYgIWV2ZW50LmNhbmNlbEJ1YmJsZSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gQWRkIHRoZSBET01Db250ZW50TG9hZGVkIEV2ZW50XG5cdFx0XHRcdGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ0RPTUNvbnRlbnRMb2FkZWQnLCB7XG5cdFx0XHRcdFx0XHRcdGJ1YmJsZXM6IHRydWVcblx0XHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0oKSk7XG5cblx0fVxuXG5cdGlmICghKFwiQ3VzdG9tRXZlbnRcImluIHRoaXMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLkN1c3RvbUV2ZW50fHx0aGlzLkN1c3RvbUV2ZW50LnRvU3RyaW5nKCkuaW5kZXhPZihcIkN1c3RvbUV2ZW50Q29uc3RydWN0b3JcIik+LTEpXG5cdCkpIHtcblxuLy8gQ3VzdG9tRXZlbnRcblx0XHR0aGlzLkN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gQ3VzdG9tRXZlbnQodHlwZSwgZXZlbnRJbml0RGljdCkge1xuXHRcdFx0aWYgKCF0eXBlKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdUeXBlRXJyb3I6IEZhaWxlZCB0byBjb25zdHJ1Y3QgXCJDdXN0b21FdmVudFwiOiBBbiBldmVudCBuYW1lIG11c3QgYmUgcHJvdmlkZWQuJyk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBldmVudDtcblx0XHRcdGV2ZW50SW5pdERpY3QgPSBldmVudEluaXREaWN0IHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogbnVsbH07XG5cblx0XHRcdGlmICgnY3JlYXRlRXZlbnQnIGluIGRvY3VtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcblx0XHRcdFx0XHRldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgZXZlbnRJbml0RGljdC5idWJibGVzLCBldmVudEluaXREaWN0LmNhbmNlbGFibGUsIGV2ZW50SW5pdERpY3QuZGV0YWlsKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHQvLyBmb3IgYnJvd3NlcnMgd2hpY2ggZG9uJ3Qgc3VwcG9ydCBDdXN0b21FdmVudCBhdCBhbGwsIHdlIHVzZSBhIHJlZ3VsYXIgZXZlbnQgaW5zdGVhZFxuXHRcdFx0XHRcdGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRcdFx0ZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGV2ZW50SW5pdERpY3QuYnViYmxlcywgZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlKTtcblx0XHRcdFx0XHRldmVudC5kZXRhaWwgPSBldmVudEluaXREaWN0LmRldGFpbDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJRThcblx0XHRcdFx0ZXZlbnQgPSBuZXcgRXZlbnQodHlwZSwgZXZlbnRJbml0RGljdCk7XG5cdFx0XHRcdGV2ZW50LmRldGFpbCA9IGV2ZW50SW5pdERpY3QgJiYgZXZlbnRJbml0RGljdC5kZXRhaWwgfHwgbnVsbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9O1xuXG5cdFx0Q3VzdG9tRXZlbnQucHJvdG90eXBlID0gRXZlbnQucHJvdG90eXBlO1xuXG5cdH1cblxuXHRpZiAoIShcIm1hdGNoTWVkaWFcImluIHRoaXMmJlwiTWVkaWFRdWVyeUxpc3RcImluIHRoaXNcblx0KSkge1xuXG4vLyBtYXRjaE1lZGlhXG5cdFx0KGZ1bmN0aW9uIChnbG9iYWwpIHtcblx0XHRcdGZ1bmN0aW9uIGV2YWxRdWVyeShxdWVyeSkge1xuXHRcdFx0XHQvKiBqc2hpbnQgZXZpbDogdHJ1ZSAqL1xuXHRcdFx0XHRxdWVyeSA9IChxdWVyeSB8fCAndHJ1ZScpXG5cdFx0XHRcdC5yZXBsYWNlKC9eb25seVxccysvLCAnJylcblx0XHRcdFx0LnJlcGxhY2UoLyhkZXZpY2UpLShbXFx3Ll0rKS9nLCAnJDEuJDInKVxuXHRcdFx0XHQucmVwbGFjZSgvKFtcXHcuXSspXFxzKjovZywgJ21lZGlhLiQxID09PScpXG5cdFx0XHRcdC5yZXBsYWNlKC9taW4tKFtcXHcuXSspXFxzKj09PS9nLCAnJDEgPj0nKVxuXHRcdFx0XHQucmVwbGFjZSgvbWF4LShbXFx3Ll0rKVxccyo9PT0vZywgJyQxIDw9Jylcblx0XHRcdFx0LnJlcGxhY2UoL2FsbHxzY3JlZW4vZywgJzEnKVxuXHRcdFx0XHQucmVwbGFjZSgvcHJpbnQvZywgJzAnKVxuXHRcdFx0XHQucmVwbGFjZSgvLC9nLCAnfHwnKVxuXHRcdFx0XHQucmVwbGFjZSgvXFxiYW5kXFxiL2csICcmJicpXG5cdFx0XHRcdC5yZXBsYWNlKC9kcGkvZywgJycpXG5cdFx0XHRcdC5yZXBsYWNlKC8oXFxkKykoY218ZW18aW58ZHBweHxtbXxwY3xwdHxweHxyZW0pL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQxICogKFxuXHRcdFx0XHRcdFx0JDIgPT09ICdjbScgPyAwLjM5MzcgKiA5NiA6IChcblx0XHRcdFx0XHRcdFx0JDIgPT09ICdlbScgfHwgJDIgPT09ICdyZW0nID8gMTYgOiAoXG5cdFx0XHRcdFx0XHRcdFx0JDIgPT09ICdpbicgfHwgJDIgPT09ICdkcHB4JyA/IDk2IDogKFxuXHRcdFx0XHRcdFx0XHRcdFx0JDIgPT09ICdtbScgPyAwLjM5MzcgKiA5NiAvIDEwIDogKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkMiA9PT0gJ3BjJyA/IDEyICogOTYgLyA3MiA6IChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkMiA9PT0gJ3B0JyA/IDk2IC8gNzIgOiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuIG5ldyBGdW5jdGlvbignbWVkaWEnLCAndHJ5eyByZXR1cm4gISEoJXMpIH1jYXRjaChlKXsgcmV0dXJuIGZhbHNlIH0nXG5cdFx0XHRcdFx0LnJlcGxhY2UoJyVzJywgcXVlcnkpXG5cdFx0XHRcdCkoe1xuXHRcdFx0XHRcdHdpZHRoOiBnbG9iYWwuaW5uZXJXaWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IGdsb2JhbC5pbm5lckhlaWdodCxcblx0XHRcdFx0XHRvcmllbnRhdGlvbjogZ2xvYmFsLm9yaWVudGF0aW9uIHx8ICdsYW5kc2NhcGUnLFxuXHRcdFx0XHRcdGRldmljZToge1xuXHRcdFx0XHRcdFx0d2lkdGg6IGdsb2JhbC5zY3JlZW4ud2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGdsb2JhbC5zY3JlZW4uaGVpZ2h0LFxuXHRcdFx0XHRcdFx0b3JpZW50YXRpb246IGdsb2JhbC5zY3JlZW4ub3JpZW50YXRpb24gfHwgZ2xvYmFsLm9yaWVudGF0aW9uIHx8ICdsYW5kc2NhcGUnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gTWVkaWFRdWVyeUxpc3QoKSB7XG5cdFx0XHRcdHRoaXMubWF0Y2hlcyA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLm1lZGlhID0gJ2ludmFsaWQnO1xuXHRcdFx0fVxuXG5cdFx0XHRNZWRpYVF1ZXJ5TGlzdC5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuXHRcdFx0XHR2YXIgbGlzdGVuZXJJbmRleCA9IHRoaXMuYWRkTGlzdGVuZXIubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXG5cdFx0XHRcdGlmIChsaXN0ZW5lckluZGV4ID09PSAtMSkge1xuXHRcdFx0XHRcdHRoaXMuYWRkTGlzdGVuZXIubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRNZWRpYVF1ZXJ5TGlzdC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuXHRcdFx0XHR2YXIgbGlzdGVuZXJJbmRleCA9IHRoaXMuYWRkTGlzdGVuZXIubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXG5cdFx0XHRcdGlmIChsaXN0ZW5lckluZGV4ID49IDApIHtcblx0XHRcdFx0XHR0aGlzLmFkZExpc3RlbmVyLmxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGdsb2JhbC5NZWRpYVF1ZXJ5TGlzdCA9IE1lZGlhUXVlcnlMaXN0O1xuXG5cdFx0XHQvLyA8R2xvYmFsPi5tYXRjaE1lZGlhXG5cdFx0XHRnbG9iYWwubWF0Y2hNZWRpYSA9IGZ1bmN0aW9uIG1hdGNoTWVkaWEocXVlcnkpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0bGlzdCA9IG5ldyBNZWRpYVF1ZXJ5TGlzdCgpO1xuXG5cdFx0XHRcdGlmICgwID09PSBhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMgdG8gbWF0Y2hNZWRpYScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGlzdC5tZWRpYSA9IFN0cmluZyhxdWVyeSk7XG5cdFx0XHRcdGxpc3QubWF0Y2hlcyA9IGV2YWxRdWVyeShsaXN0Lm1lZGlhKTtcblx0XHRcdFx0bGlzdC5hZGRMaXN0ZW5lci5saXN0ZW5lcnMgPSBbXTtcblxuXHRcdFx0XHRnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBsaXN0ZW5lcnMgPSBbXS5jb25jYXQobGlzdC5hZGRMaXN0ZW5lci5saXN0ZW5lcnMpLCBtYXRjaGVzID0gZXZhbFF1ZXJ5KGxpc3QubWVkaWEpO1xuXG5cdFx0XHRcdFx0aWYgKG1hdGNoZXMgIT0gbGlzdC5tYXRjaGVzKSB7XG5cdFx0XHRcdFx0XHRsaXN0Lm1hdGNoZXMgPSBtYXRjaGVzO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgKytpbmRleCkge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lcnNbaW5kZXhdLmNhbGwoZ2xvYmFsLCBsaXN0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBsaXN0O1xuXHRcdFx0fTtcblx0XHR9KHRoaXMpKTtcblxuXHR9XG5cbn0pXG4uY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcbiJdfQ==
