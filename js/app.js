(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var DOCUMENT_NODE_TYPE = 9;

/**
 * A polyfill for Element.matches()
 */
if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

/**
 * Finds the closest parent that matches a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @return {Function}
 */
function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;

},{}],2:[function(require,module,exports){
var closest = require('./closest');

/**
 * Delegates event to a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

/**
 * Delegates event to a selector.
 *
 * @param {Element|String|Array} [elements]
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function delegate(elements, selector, type, callback, useCapture) {
    // Handle the regular Element usage
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    // Handle Element-less usage, it defaults to global delegation
    if (typeof type === 'function') {
        // Use `document` as the first parameter, then apply arguments
        // This is a short way to .unshift `arguments` without running into deoptimizations
        return _delegate.bind(null, document).apply(null, arguments);
    }

    // Handle Selector-based usage
    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    // Handle Array-like based usage
    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

/**
 * Finds closest match and invokes callback.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Function}
 */
function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;

},{"./closest":1}],3:[function(require,module,exports){
/**
 * Dom7 3.0.0
 * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API
 * https://framework7.io/docs/dom7.html
 *
 * Copyright 2020, Vladimir Kharlampidi
 *
 * Licensed under MIT
 *
 * Released on: November 9, 2020
 */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var ssrWindow = require('ssr-window');

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _construct(Parent, args, Class) {
  if (_isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) _setPrototypeOf(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}

function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !_isNativeFunction(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return _construct(Class, arguments, _getPrototypeOf(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return _setPrototypeOf(Wrapper, Class);
  };

  return _wrapNativeSuper(Class);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/* eslint-disable no-proto */
function makeReactive(obj) {
  var proto = obj.__proto__;
  Object.defineProperty(obj, '__proto__', {
    get: function get() {
      return proto;
    },
    set: function set(value) {
      proto.__proto__ = value;
    }
  });
}

var Dom7 = /*#__PURE__*/function (_Array) {
  _inheritsLoose(Dom7, _Array);

  function Dom7(items) {
    var _this;

    _this = _Array.call.apply(_Array, [this].concat(items)) || this;
    makeReactive(_assertThisInitialized(_this));
    return _this;
  }

  return Dom7;
}( /*#__PURE__*/_wrapNativeSuper(Array));

function arrayFlat(arr) {
  if (arr === void 0) {
    arr = [];
  }

  var res = [];
  arr.forEach(function (el) {
    if (Array.isArray(el)) {
      res.push.apply(res, arrayFlat(el));
    } else {
      res.push(el);
    }
  });
  return res;
}
function arrayFilter(arr, callback) {
  return Array.prototype.filter.call(arr, callback);
}
function arrayUnique(arr) {
  var uniqueArray = [];

  for (var i = 0; i < arr.length; i += 1) {
    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);
  }

  return uniqueArray;
}
function toCamelCase(string) {
  return string.toLowerCase().replace(/-(.)/g, function (match, group) {
    return group.toUpperCase();
  });
}

function qsa(selector, context) {
  if (typeof selector !== 'string') {
    return [selector];
  }

  var a = [];
  var res = context.querySelectorAll(selector);

  for (var i = 0; i < res.length; i += 1) {
    a.push(res[i]);
  }

  return a;
}

function $(selector, context) {
  var window = ssrWindow.getWindow();
  var document = ssrWindow.getDocument();
  var arr = [];

  if (!context && selector instanceof Dom7) {
    return selector;
  }

  if (!selector) {
    return new Dom7(arr);
  }

  if (typeof selector === 'string') {
    var html = selector.trim();

    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {
      var toCreate = 'div';
      if (html.indexOf('<li') === 0) toCreate = 'ul';
      if (html.indexOf('<tr') === 0) toCreate = 'tbody';
      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';
      if (html.indexOf('<tbody') === 0) toCreate = 'table';
      if (html.indexOf('<option') === 0) toCreate = 'select';
      var tempParent = document.createElement(toCreate);
      tempParent.innerHTML = html;

      for (var i = 0; i < tempParent.childNodes.length; i += 1) {
        arr.push(tempParent.childNodes[i]);
      }
    } else {
      arr = qsa(selector.trim(), context || document);
    } // arr = qsa(selector, document);

  } else if (selector.nodeType || selector === window || selector === document) {
    arr.push(selector);
  } else if (Array.isArray(selector)) {
    if (selector instanceof Dom7) return selector;
    arr = selector;
  }

  return new Dom7(arrayUnique(arr));
}

$.fn = Dom7.prototype;

function addClass() {
  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {
    classes[_key] = arguments[_key];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    var _el$classList;

    (_el$classList = el.classList).add.apply(_el$classList, classNames);
  });
  return this;
}

function removeClass() {
  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    classes[_key2] = arguments[_key2];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    var _el$classList2;

    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);
  });
  return this;
}

function toggleClass() {
  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    classes[_key3] = arguments[_key3];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  this.forEach(function (el) {
    classNames.forEach(function (className) {
      el.classList.toggle(className);
    });
  });
}

function hasClass() {
  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
    classes[_key4] = arguments[_key4];
  }

  var classNames = arrayFlat(classes.map(function (c) {
    return c.split(' ');
  }));
  return arrayFilter(this, function (el) {
    return classNames.filter(function (className) {
      return el.classList.contains(className);
    }).length > 0;
  }).length > 0;
}

function attr(attrs, value) {
  if (arguments.length === 1 && typeof attrs === 'string') {
    // Get attr
    if (this[0]) return this[0].getAttribute(attrs);
    return undefined;
  } // Set attrs


  for (var i = 0; i < this.length; i += 1) {
    if (arguments.length === 2) {
      // String
      this[i].setAttribute(attrs, value);
    } else {
      // Object
      for (var attrName in attrs) {
        this[i][attrName] = attrs[attrName];
        this[i].setAttribute(attrName, attrs[attrName]);
      }
    }
  }

  return this;
}

function removeAttr(attr) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].removeAttribute(attr);
  }

  return this;
}

function prop(props, value) {
  if (arguments.length === 1 && typeof props === 'string') {
    // Get prop
    if (this[0]) return this[0][props];
  } else {
    // Set props
    for (var i = 0; i < this.length; i += 1) {
      if (arguments.length === 2) {
        // String
        this[i][props] = value;
      } else {
        // Object
        for (var propName in props) {
          this[i][propName] = props[propName];
        }
      }
    }

    return this;
  }

  return this;
}

function data(key, value) {
  var el;

  if (typeof value === 'undefined') {
    el = this[0];
    if (!el) return undefined; // Get value

    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {
      return el.dom7ElementDataStorage[key];
    }

    var dataKey = el.getAttribute("data-" + key);

    if (dataKey) {
      return dataKey;
    }

    return undefined;
  } // Set value


  for (var i = 0; i < this.length; i += 1) {
    el = this[i];
    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};
    el.dom7ElementDataStorage[key] = value;
  }

  return this;
}

function removeData(key) {
  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {
      el.dom7ElementDataStorage[key] = null;
      delete el.dom7ElementDataStorage[key];
    }
  }
}

function dataset() {
  var el = this[0];
  if (!el) return undefined;
  var dataset = {}; // eslint-disable-line

  if (el.dataset) {
    for (var dataKey in el.dataset) {
      dataset[dataKey] = el.dataset[dataKey];
    }
  } else {
    for (var i = 0; i < el.attributes.length; i += 1) {
      var _attr = el.attributes[i];

      if (_attr.name.indexOf('data-') >= 0) {
        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;
      }
    }
  }

  for (var key in dataset) {
    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;
  }

  return dataset;
}

function val(value) {
  if (typeof value === 'undefined') {
    // get value
    var el = this[0];
    if (!el) return undefined;

    if (el.multiple && el.nodeName.toLowerCase() === 'select') {
      var values = [];

      for (var i = 0; i < el.selectedOptions.length; i += 1) {
        values.push(el.selectedOptions[i].value);
      }

      return values;
    }

    return el.value;
  } // set value


  for (var _i = 0; _i < this.length; _i += 1) {
    var _el = this[_i];

    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {
      for (var j = 0; j < _el.options.length; j += 1) {
        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;
      }
    } else {
      _el.value = value;
    }
  }

  return this;
}

function value(value) {
  return this.val(value);
}

function transform(transform) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.transform = transform;
  }

  return this;
}

function transition(duration) {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + "ms" : duration;
  }

  return this;
}

function on() {
  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
    args[_key5] = arguments[_key5];
  }

  var eventType = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventType = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  if (!capture) capture = false;

  function handleLiveEvent(e) {
    var target = e.target;
    if (!target) return;
    var eventData = e.target.dom7EventData || [];

    if (eventData.indexOf(e) < 0) {
      eventData.unshift(e);
    }

    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {
      var _parents = $(target).parents(); // eslint-disable-line


      for (var k = 0; k < _parents.length; k += 1) {
        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);
      }
    }
  }

  function handleEvent(e) {
    var eventData = e && e.target ? e.target.dom7EventData || [] : [];

    if (eventData.indexOf(e) < 0) {
      eventData.unshift(e);
    }

    listener.apply(this, eventData);
  }

  var events = eventType.split(' ');
  var j;

  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (!targetSelector) {
      for (j = 0; j < events.length; j += 1) {
        var event = events[j];
        if (!el.dom7Listeners) el.dom7Listeners = {};
        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];
        el.dom7Listeners[event].push({
          listener: listener,
          proxyListener: handleEvent
        });
        el.addEventListener(event, handleEvent, capture);
      }
    } else {
      // Live events
      for (j = 0; j < events.length; j += 1) {
        var _event = events[j];
        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};
        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];

        el.dom7LiveListeners[_event].push({
          listener: listener,
          proxyListener: handleLiveEvent
        });

        el.addEventListener(_event, handleLiveEvent, capture);
      }
    }
  }

  return this;
}

function off() {
  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
    args[_key6] = arguments[_key6];
  }

  var eventType = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventType = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  if (!capture) capture = false;
  var events = eventType.split(' ');

  for (var i = 0; i < events.length; i += 1) {
    var event = events[i];

    for (var j = 0; j < this.length; j += 1) {
      var el = this[j];
      var handlers = void 0;

      if (!targetSelector && el.dom7Listeners) {
        handlers = el.dom7Listeners[event];
      } else if (targetSelector && el.dom7LiveListeners) {
        handlers = el.dom7LiveListeners[event];
      }

      if (handlers && handlers.length) {
        for (var k = handlers.length - 1; k >= 0; k -= 1) {
          var handler = handlers[k];

          if (listener && handler.listener === listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          } else if (!listener) {
            el.removeEventListener(event, handler.proxyListener, capture);
            handlers.splice(k, 1);
          }
        }
      }
    }
  }

  return this;
}

function once() {
  var dom = this;

  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
    args[_key7] = arguments[_key7];
  }

  var eventName = args[0],
      targetSelector = args[1],
      listener = args[2],
      capture = args[3];

  if (typeof args[1] === 'function') {
    eventName = args[0];
    listener = args[1];
    capture = args[2];
    targetSelector = undefined;
  }

  function onceHandler() {
    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      eventArgs[_key8] = arguments[_key8];
    }

    listener.apply(this, eventArgs);
    dom.off(eventName, targetSelector, onceHandler, capture);

    if (onceHandler.dom7proxy) {
      delete onceHandler.dom7proxy;
    }
  }

  onceHandler.dom7proxy = listener;
  return dom.on(eventName, targetSelector, onceHandler, capture);
}

function trigger() {
  var window = ssrWindow.getWindow();

  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
    args[_key9] = arguments[_key9];
  }

  var events = args[0].split(' ');
  var eventData = args[1];

  for (var i = 0; i < events.length; i += 1) {
    var event = events[i];

    for (var j = 0; j < this.length; j += 1) {
      var el = this[j];

      if (window.CustomEvent) {
        var evt = new window.CustomEvent(event, {
          detail: eventData,
          bubbles: true,
          cancelable: true
        });
        el.dom7EventData = args.filter(function (data, dataIndex) {
          return dataIndex > 0;
        });
        el.dispatchEvent(evt);
        el.dom7EventData = [];
        delete el.dom7EventData;
      }
    }
  }

  return this;
}

function transitionEnd(callback) {
  var dom = this;

  function fireCallBack(e) {
    if (e.target !== this) return;
    callback.call(this, e);
    dom.off('transitionend', fireCallBack);
  }

  if (callback) {
    dom.on('transitionend', fireCallBack);
  }

  return this;
}

function animationEnd(callback) {
  var dom = this;

  function fireCallBack(e) {
    if (e.target !== this) return;
    callback.call(this, e);
    dom.off('animationend', fireCallBack);
  }

  if (callback) {
    dom.on('animationend', fireCallBack);
  }

  return this;
}

function width() {
  var window = ssrWindow.getWindow();

  if (this[0] === window) {
    return window.innerWidth;
  }

  if (this.length > 0) {
    return parseFloat(this.css('width'));
  }

  return null;
}

function outerWidth(includeMargins) {
  if (this.length > 0) {
    if (includeMargins) {
      var _styles = this.styles();

      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));
    }

    return this[0].offsetWidth;
  }

  return null;
}

function height() {
  var window = ssrWindow.getWindow();

  if (this[0] === window) {
    return window.innerHeight;
  }

  if (this.length > 0) {
    return parseFloat(this.css('height'));
  }

  return null;
}

function outerHeight(includeMargins) {
  if (this.length > 0) {
    if (includeMargins) {
      var _styles2 = this.styles();

      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));
    }

    return this[0].offsetHeight;
  }

  return null;
}

function offset() {
  if (this.length > 0) {
    var window = ssrWindow.getWindow();
    var document = ssrWindow.getDocument();
    var el = this[0];
    var box = el.getBoundingClientRect();
    var body = document.body;
    var clientTop = el.clientTop || body.clientTop || 0;
    var clientLeft = el.clientLeft || body.clientLeft || 0;
    var scrollTop = el === window ? window.scrollY : el.scrollTop;
    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;
    return {
      top: box.top + scrollTop - clientTop,
      left: box.left + scrollLeft - clientLeft
    };
  }

  return null;
}

function hide() {
  for (var i = 0; i < this.length; i += 1) {
    this[i].style.display = 'none';
  }

  return this;
}

function show() {
  var window = ssrWindow.getWindow();

  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.style.display === 'none') {
      el.style.display = '';
    }

    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {
      // Still not visible
      el.style.display = 'block';
    }
  }

  return this;
}

function styles() {
  var window = ssrWindow.getWindow();
  if (this[0]) return window.getComputedStyle(this[0], null);
  return {};
}

function css(props, value) {
  var window = ssrWindow.getWindow();
  var i;

  if (arguments.length === 1) {
    if (typeof props === 'string') {
      // .css('width')
      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);
    } else {
      // .css({ width: '100px' })
      for (i = 0; i < this.length; i += 1) {
        for (var _prop in props) {
          this[i].style[_prop] = props[_prop];
        }
      }

      return this;
    }
  }

  if (arguments.length === 2 && typeof props === 'string') {
    // .css('width', '100px')
    for (i = 0; i < this.length; i += 1) {
      this[i].style[props] = value;
    }

    return this;
  }

  return this;
}

function each(callback) {
  if (!callback) return this;
  this.forEach(function (el, index) {
    callback.apply(el, [el, index]);
  });
  return this;
}

function filter(callback) {
  var result = arrayFilter(this, callback);
  return $(result);
}

function html(html) {
  if (typeof html === 'undefined') {
    return this[0] ? this[0].innerHTML : null;
  }

  for (var i = 0; i < this.length; i += 1) {
    this[i].innerHTML = html;
  }

  return this;
}

function text(text) {
  if (typeof text === 'undefined') {
    return this[0] ? this[0].textContent.trim() : null;
  }

  for (var i = 0; i < this.length; i += 1) {
    this[i].textContent = text;
  }

  return this;
}

function is(selector) {
  var window = ssrWindow.getWindow();
  var document = ssrWindow.getDocument();
  var el = this[0];
  var compareWith;
  var i;
  if (!el || typeof selector === 'undefined') return false;

  if (typeof selector === 'string') {
    if (el.matches) return el.matches(selector);
    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);
    if (el.msMatchesSelector) return el.msMatchesSelector(selector);
    compareWith = $(selector);

    for (i = 0; i < compareWith.length; i += 1) {
      if (compareWith[i] === el) return true;
    }

    return false;
  }

  if (selector === document) {
    return el === document;
  }

  if (selector === window) {
    return el === window;
  }

  if (selector.nodeType || selector instanceof Dom7) {
    compareWith = selector.nodeType ? [selector] : selector;

    for (i = 0; i < compareWith.length; i += 1) {
      if (compareWith[i] === el) return true;
    }

    return false;
  }

  return false;
}

function index() {
  var child = this[0];
  var i;

  if (child) {
    i = 0; // eslint-disable-next-line

    while ((child = child.previousSibling) !== null) {
      if (child.nodeType === 1) i += 1;
    }

    return i;
  }

  return undefined;
}

function eq(index) {
  if (typeof index === 'undefined') return this;
  var length = this.length;

  if (index > length - 1) {
    return $([]);
  }

  if (index < 0) {
    var returnIndex = length + index;
    if (returnIndex < 0) return $([]);
    return $([this[returnIndex]]);
  }

  return $([this[index]]);
}

function append() {
  var newChild;
  var document = ssrWindow.getDocument();

  for (var k = 0; k < arguments.length; k += 1) {
    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];

    for (var i = 0; i < this.length; i += 1) {
      if (typeof newChild === 'string') {
        var tempDiv = document.createElement('div');
        tempDiv.innerHTML = newChild;

        while (tempDiv.firstChild) {
          this[i].appendChild(tempDiv.firstChild);
        }
      } else if (newChild instanceof Dom7) {
        for (var j = 0; j < newChild.length; j += 1) {
          this[i].appendChild(newChild[j]);
        }
      } else {
        this[i].appendChild(newChild);
      }
    }
  }

  return this;
}

function appendTo(parent) {
  $(parent).append(this);
  return this;
}

function prepend(newChild) {
  var document = ssrWindow.getDocument();
  var i;
  var j;

  for (i = 0; i < this.length; i += 1) {
    if (typeof newChild === 'string') {
      var tempDiv = document.createElement('div');
      tempDiv.innerHTML = newChild;

      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {
        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);
      }
    } else if (newChild instanceof Dom7) {
      for (j = 0; j < newChild.length; j += 1) {
        this[i].insertBefore(newChild[j], this[i].childNodes[0]);
      }
    } else {
      this[i].insertBefore(newChild, this[i].childNodes[0]);
    }
  }

  return this;
}

function prependTo(parent) {
  $(parent).prepend(this);
  return this;
}

function insertBefore(selector) {
  var before = $(selector);

  for (var i = 0; i < this.length; i += 1) {
    if (before.length === 1) {
      before[0].parentNode.insertBefore(this[i], before[0]);
    } else if (before.length > 1) {
      for (var j = 0; j < before.length; j += 1) {
        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);
      }
    }
  }
}

function insertAfter(selector) {
  var after = $(selector);

  for (var i = 0; i < this.length; i += 1) {
    if (after.length === 1) {
      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);
    } else if (after.length > 1) {
      for (var j = 0; j < after.length; j += 1) {
        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);
      }
    }
  }
}

function next(selector) {
  if (this.length > 0) {
    if (selector) {
      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {
        return $([this[0].nextElementSibling]);
      }

      return $([]);
    }

    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);
    return $([]);
  }

  return $([]);
}

function nextAll(selector) {
  var nextEls = [];
  var el = this[0];
  if (!el) return $([]);

  while (el.nextElementSibling) {
    var _next = el.nextElementSibling; // eslint-disable-line

    if (selector) {
      if ($(_next).is(selector)) nextEls.push(_next);
    } else nextEls.push(_next);

    el = _next;
  }

  return $(nextEls);
}

function prev(selector) {
  if (this.length > 0) {
    var el = this[0];

    if (selector) {
      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {
        return $([el.previousElementSibling]);
      }

      return $([]);
    }

    if (el.previousElementSibling) return $([el.previousElementSibling]);
    return $([]);
  }

  return $([]);
}

function prevAll(selector) {
  var prevEls = [];
  var el = this[0];
  if (!el) return $([]);

  while (el.previousElementSibling) {
    var _prev = el.previousElementSibling; // eslint-disable-line

    if (selector) {
      if ($(_prev).is(selector)) prevEls.push(_prev);
    } else prevEls.push(_prev);

    el = _prev;
  }

  return $(prevEls);
}

function siblings(selector) {
  return this.nextAll(selector).add(this.prevAll(selector));
}

function parent(selector) {
  var parents = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    if (this[i].parentNode !== null) {
      if (selector) {
        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);
      } else {
        parents.push(this[i].parentNode);
      }
    }
  }

  return $(parents);
}

function parents(selector) {
  var parents = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    var _parent = this[i].parentNode; // eslint-disable-line

    while (_parent) {
      if (selector) {
        if ($(_parent).is(selector)) parents.push(_parent);
      } else {
        parents.push(_parent);
      }

      _parent = _parent.parentNode;
    }
  }

  return $(parents);
}

function closest(selector) {
  var closest = this; // eslint-disable-line

  if (typeof selector === 'undefined') {
    return $([]);
  }

  if (!closest.is(selector)) {
    closest = closest.parents(selector).eq(0);
  }

  return closest;
}

function find(selector) {
  var foundElements = [];

  for (var i = 0; i < this.length; i += 1) {
    var found = this[i].querySelectorAll(selector);

    for (var j = 0; j < found.length; j += 1) {
      foundElements.push(found[j]);
    }
  }

  return $(foundElements);
}

function children(selector) {
  var children = []; // eslint-disable-line

  for (var i = 0; i < this.length; i += 1) {
    var childNodes = this[i].children;

    for (var j = 0; j < childNodes.length; j += 1) {
      if (!selector || $(childNodes[j]).is(selector)) {
        children.push(childNodes[j]);
      }
    }
  }

  return $(children);
}

function remove() {
  for (var i = 0; i < this.length; i += 1) {
    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);
  }

  return this;
}

function detach() {
  return this.remove();
}

function add() {
  var dom = this;
  var i;
  var j;

  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
    els[_key10] = arguments[_key10];
  }

  for (i = 0; i < els.length; i += 1) {
    var toAdd = $(els[i]);

    for (j = 0; j < toAdd.length; j += 1) {
      dom.push(toAdd[j]);
    }
  }

  return dom;
}

function empty() {
  for (var i = 0; i < this.length; i += 1) {
    var el = this[i];

    if (el.nodeType === 1) {
      for (var j = 0; j < el.childNodes.length; j += 1) {
        if (el.childNodes[j].parentNode) {
          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);
        }
      }

      el.textContent = '';
    }
  }

  return this;
}

function scrollTo() {
  var window = ssrWindow.getWindow();

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var left = args[0],
      top = args[1],
      duration = args[2],
      easing = args[3],
      callback = args[4];

  if (args.length === 4 && typeof easing === 'function') {
    callback = easing;
    left = args[0];
    top = args[1];
    duration = args[2];
    callback = args[3];
    easing = args[4];
  }

  if (typeof easing === 'undefined') easing = 'swing';
  return this.each(function animate() {
    var el = this;
    var currentTop;
    var currentLeft;
    var maxTop;
    var maxLeft;
    var newTop;
    var newLeft;
    var scrollTop; // eslint-disable-line

    var scrollLeft; // eslint-disable-line

    var animateTop = top > 0 || top === 0;
    var animateLeft = left > 0 || left === 0;

    if (typeof easing === 'undefined') {
      easing = 'swing';
    }

    if (animateTop) {
      currentTop = el.scrollTop;

      if (!duration) {
        el.scrollTop = top;
      }
    }

    if (animateLeft) {
      currentLeft = el.scrollLeft;

      if (!duration) {
        el.scrollLeft = left;
      }
    }

    if (!duration) return;

    if (animateTop) {
      maxTop = el.scrollHeight - el.offsetHeight;
      newTop = Math.max(Math.min(top, maxTop), 0);
    }

    if (animateLeft) {
      maxLeft = el.scrollWidth - el.offsetWidth;
      newLeft = Math.max(Math.min(left, maxLeft), 0);
    }

    var startTime = null;
    if (animateTop && newTop === currentTop) animateTop = false;
    if (animateLeft && newLeft === currentLeft) animateLeft = false;

    function render(time) {
      if (time === void 0) {
        time = new Date().getTime();
      }

      if (startTime === null) {
        startTime = time;
      }

      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);
      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;
      var done;
      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);
      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);

      if (animateTop && newTop > currentTop && scrollTop >= newTop) {
        el.scrollTop = newTop;
        done = true;
      }

      if (animateTop && newTop < currentTop && scrollTop <= newTop) {
        el.scrollTop = newTop;
        done = true;
      }

      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {
        el.scrollLeft = newLeft;
        done = true;
      }

      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {
        el.scrollLeft = newLeft;
        done = true;
      }

      if (done) {
        if (callback) callback();
        return;
      }

      if (animateTop) el.scrollTop = scrollTop;
      if (animateLeft) el.scrollLeft = scrollLeft;
      window.requestAnimationFrame(render);
    }

    window.requestAnimationFrame(render);
  });
} // scrollTop(top, duration, easing, callback) {


function scrollTop() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  var top = args[0],
      duration = args[1],
      easing = args[2],
      callback = args[3];

  if (args.length === 3 && typeof easing === 'function') {
    top = args[0];
    duration = args[1];
    callback = args[2];
    easing = args[3];
  }

  var dom = this;

  if (typeof top === 'undefined') {
    if (dom.length > 0) return dom[0].scrollTop;
    return null;
  }

  return dom.scrollTo(undefined, top, duration, easing, callback);
}

function scrollLeft() {
  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    args[_key3] = arguments[_key3];
  }

  var left = args[0],
      duration = args[1],
      easing = args[2],
      callback = args[3];

  if (args.length === 3 && typeof easing === 'function') {
    left = args[0];
    duration = args[1];
    callback = args[2];
    easing = args[3];
  }

  var dom = this;

  if (typeof left === 'undefined') {
    if (dom.length > 0) return dom[0].scrollLeft;
    return null;
  }

  return dom.scrollTo(left, undefined, duration, easing, callback);
}

function animate(initialProps, initialParams) {
  var window = ssrWindow.getWindow();
  var els = this;
  var a = {
    props: Object.assign({}, initialProps),
    params: Object.assign({
      duration: 300,
      easing: 'swing' // or 'linear'

      /* Callbacks
      begin(elements)
      complete(elements)
      progress(elements, complete, remaining, start, tweenValue)
      */

    }, initialParams),
    elements: els,
    animating: false,
    que: [],
    easingProgress: function easingProgress(easing, progress) {
      if (easing === 'swing') {
        return 0.5 - Math.cos(progress * Math.PI) / 2;
      }

      if (typeof easing === 'function') {
        return easing(progress);
      }

      return progress;
    },
    stop: function stop() {
      if (a.frameId) {
        window.cancelAnimationFrame(a.frameId);
      }

      a.animating = false;
      a.elements.each(function (el) {
        var element = el;
        delete element.dom7AnimateInstance;
      });
      a.que = [];
    },
    done: function done(complete) {
      a.animating = false;
      a.elements.each(function (el) {
        var element = el;
        delete element.dom7AnimateInstance;
      });
      if (complete) complete(els);

      if (a.que.length > 0) {
        var que = a.que.shift();
        a.animate(que[0], que[1]);
      }
    },
    animate: function animate(props, params) {
      if (a.animating) {
        a.que.push([props, params]);
        return a;
      }

      var elements = []; // Define & Cache Initials & Units

      a.elements.each(function (el, index) {
        var initialFullValue;
        var initialValue;
        var unit;
        var finalValue;
        var finalFullValue;
        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;
        elements[index] = {
          container: el
        };
        Object.keys(props).forEach(function (prop) {
          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');
          initialValue = parseFloat(initialFullValue);
          unit = initialFullValue.replace(initialValue, '');
          finalValue = parseFloat(props[prop]);
          finalFullValue = props[prop] + unit;
          elements[index][prop] = {
            initialFullValue: initialFullValue,
            initialValue: initialValue,
            unit: unit,
            finalValue: finalValue,
            finalFullValue: finalFullValue,
            currentValue: initialValue
          };
        });
      });
      var startTime = null;
      var time;
      var elementsDone = 0;
      var propsDone = 0;
      var done;
      var began = false;
      a.animating = true;

      function render() {
        time = new Date().getTime();
        var progress;
        var easeProgress; // let el;

        if (!began) {
          began = true;
          if (params.begin) params.begin(els);
        }

        if (startTime === null) {
          startTime = time;
        }

        if (params.progress) {
          // eslint-disable-next-line
          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);
        }

        elements.forEach(function (element) {
          var el = element;
          if (done || el.done) return;
          Object.keys(props).forEach(function (prop) {
            if (done || el.done) return;
            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);
            easeProgress = a.easingProgress(params.easing, progress);
            var _el$prop = el[prop],
                initialValue = _el$prop.initialValue,
                finalValue = _el$prop.finalValue,
                unit = _el$prop.unit;
            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);
            var currentValue = el[prop].currentValue;

            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {
              el.container.style[prop] = finalValue + unit;
              propsDone += 1;

              if (propsDone === Object.keys(props).length) {
                el.done = true;
                elementsDone += 1;
              }

              if (elementsDone === elements.length) {
                done = true;
              }
            }

            if (done) {
              a.done(params.complete);
              return;
            }

            el.container.style[prop] = currentValue + unit;
          });
        });
        if (done) return; // Then call

        a.frameId = window.requestAnimationFrame(render);
      }

      a.frameId = window.requestAnimationFrame(render);
      return a;
    }
  };

  if (a.elements.length === 0) {
    return els;
  }

  var animateInstance;

  for (var i = 0; i < a.elements.length; i += 1) {
    if (a.elements[i].dom7AnimateInstance) {
      animateInstance = a.elements[i].dom7AnimateInstance;
    } else a.elements[i].dom7AnimateInstance = a;
  }

  if (!animateInstance) {
    animateInstance = a;
  }

  if (initialProps === 'stop') {
    animateInstance.stop();
  } else {
    animateInstance.animate(a.props, a.params);
  }

  return els;
}

function stop() {
  var els = this;

  for (var i = 0; i < els.length; i += 1) {
    if (els[i].dom7AnimateInstance) {
      els[i].dom7AnimateInstance.stop();
    }
  }
}

var noTrigger = 'resize scroll'.split(' ');

function shortcut(name) {
  function eventHandler() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (typeof args[0] === 'undefined') {
      for (var i = 0; i < this.length; i += 1) {
        if (noTrigger.indexOf(name) < 0) {
          if (name in this[i]) this[i][name]();else {
            $(this[i]).trigger(name);
          }
        }
      }

      return this;
    }

    return this.on.apply(this, [name].concat(args));
  }

  return eventHandler;
}

var click = shortcut('click');
var blur = shortcut('blur');
var focus = shortcut('focus');
var focusin = shortcut('focusin');
var focusout = shortcut('focusout');
var keyup = shortcut('keyup');
var keydown = shortcut('keydown');
var keypress = shortcut('keypress');
var submit = shortcut('submit');
var change = shortcut('change');
var mousedown = shortcut('mousedown');
var mousemove = shortcut('mousemove');
var mouseup = shortcut('mouseup');
var mouseenter = shortcut('mouseenter');
var mouseleave = shortcut('mouseleave');
var mouseout = shortcut('mouseout');
var mouseover = shortcut('mouseover');
var touchstart = shortcut('touchstart');
var touchend = shortcut('touchend');
var touchmove = shortcut('touchmove');
var resize = shortcut('resize');
var scroll = shortcut('scroll');

exports.$ = $;
exports.add = add;
exports.addClass = addClass;
exports.animate = animate;
exports.animationEnd = animationEnd;
exports.append = append;
exports.appendTo = appendTo;
exports.attr = attr;
exports.blur = blur;
exports.change = change;
exports.children = children;
exports.click = click;
exports.closest = closest;
exports.css = css;
exports.data = data;
exports.dataset = dataset;
exports.default = $;
exports.detach = detach;
exports.each = each;
exports.empty = empty;
exports.eq = eq;
exports.filter = filter;
exports.find = find;
exports.focus = focus;
exports.focusin = focusin;
exports.focusout = focusout;
exports.hasClass = hasClass;
exports.height = height;
exports.hide = hide;
exports.html = html;
exports.index = index;
exports.insertAfter = insertAfter;
exports.insertBefore = insertBefore;
exports.is = is;
exports.keydown = keydown;
exports.keypress = keypress;
exports.keyup = keyup;
exports.mousedown = mousedown;
exports.mouseenter = mouseenter;
exports.mouseleave = mouseleave;
exports.mousemove = mousemove;
exports.mouseout = mouseout;
exports.mouseover = mouseover;
exports.mouseup = mouseup;
exports.next = next;
exports.nextAll = nextAll;
exports.off = off;
exports.offset = offset;
exports.on = on;
exports.once = once;
exports.outerHeight = outerHeight;
exports.outerWidth = outerWidth;
exports.parent = parent;
exports.parents = parents;
exports.prepend = prepend;
exports.prependTo = prependTo;
exports.prev = prev;
exports.prevAll = prevAll;
exports.prop = prop;
exports.remove = remove;
exports.removeAttr = removeAttr;
exports.removeClass = removeClass;
exports.removeData = removeData;
exports.resize = resize;
exports.scroll = scroll;
exports.scrollLeft = scrollLeft;
exports.scrollTo = scrollTo;
exports.scrollTop = scrollTop;
exports.show = show;
exports.siblings = siblings;
exports.stop = stop;
exports.styles = styles;
exports.submit = submit;
exports.text = text;
exports.toggleClass = toggleClass;
exports.touchend = touchend;
exports.touchmove = touchmove;
exports.touchstart = touchstart;
exports.transform = transform;
exports.transition = transition;
exports.transitionEnd = transitionEnd;
exports.trigger = trigger;
exports.val = val;
exports.value = value;
exports.width = width;

},{"ssr-window":9}],4:[function(require,module,exports){
/**
 * lodash 3.0.3 (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/** `Object#toString` result references. */
var boolTag = '[object Boolean]';

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/**
 * Checks if `value` is classified as a boolean primitive or object.
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
 * @example
 *
 * _.isBoolean(false);
 * // => true
 *
 * _.isBoolean(null);
 * // => false
 */
function isBoolean(value) {
  return value === true || value === false ||
    (isObjectLike(value) && objectToString.call(value) == boolTag);
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

module.exports = isBoolean;

},{}],5:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    setTag = '[object Set]',
    weakMapTag = '[object WeakMap]';

var dataViewTag = '[object DataView]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    propertyIsEnumerable = objectProto.propertyIsEnumerable;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeKeys = overArg(Object.keys, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap');

/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */
var nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is an empty object, collection, map, or set.
 *
 * Objects are considered empty if they have no own enumerable string keyed
 * properties.
 *
 * Array-like values such as `arguments` objects, arrays, buffers, strings, or
 * jQuery-like collections are considered empty if they have a `length` of `0`.
 * Similarly, maps and sets are considered empty if they have a `size` of `0`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is empty, else `false`.
 * @example
 *
 * _.isEmpty(null);
 * // => true
 *
 * _.isEmpty(true);
 * // => true
 *
 * _.isEmpty(1);
 * // => true
 *
 * _.isEmpty([1, 2, 3]);
 * // => false
 *
 * _.isEmpty({ 'a': 1 });
 * // => false
 */
function isEmpty(value) {
  if (isArrayLike(value) &&
      (isArray(value) || typeof value == 'string' ||
        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {
    return !value.length;
  }
  var tag = getTag(value);
  if (tag == mapTag || tag == setTag) {
    return !value.size;
  }
  if (nonEnumShadows || isPrototype(value)) {
    return !nativeKeys(value).length;
  }
  for (var key in value) {
    if (hasOwnProperty.call(value, key)) {
      return false;
    }
  }
  return true;
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = isEmpty;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
(function (global){(function (){
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** `Object#toString` result references. */
var asyncTag = '[object AsyncFunction]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    nullTag = '[object Null]',
    proxyTag = '[object Proxy]',
    undefinedTag = '[object Undefined]';

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isFunction;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],7:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.at` without support for individual paths.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {string[]} paths The property paths of elements to pick.
 * @returns {Array} Returns the picked elements.
 */
function baseAt(object, paths) {
  var index = -1,
      isNil = object == null,
      length = paths.length,
      result = Array(length);

  while (++index < length) {
    result[index] = isNil ? undefined : get(object, paths[index]);
  }
  return result;
}

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.pullAt` without support for individual
 * indexes or capturing the removed elements.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {number[]} indexes The indexes of elements to remove.
 * @returns {Array} Returns `array`.
 */
function basePullAt(array, indexes) {
  var length = array ? indexes.length : 0,
      lastIndex = length - 1;

  while (length--) {
    var index = indexes[length];
    if (length == lastIndex || index !== previous) {
      var previous = index;
      if (isIndex(index)) {
        splice.call(array, index, 1);
      }
      else if (!isKey(index, array)) {
        var path = castPath(index),
            object = parent(array, path);

        if (object != null) {
          delete object[toKey(last(path))];
        }
      }
      else {
        delete array[toKey(index)];
      }
    }
  }
  return array;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : (length + start);
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : ((end - start) >>> 0);
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Compares values to sort them in ascending order.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {number} Returns the sort order indicator for `value`.
 */
function compareAscending(value, other) {
  if (value !== other) {
    var valIsDefined = value !== undefined,
        valIsNull = value === null,
        valIsReflexive = value === value,
        valIsSymbol = isSymbol(value);

    var othIsDefined = other !== undefined,
        othIsNull = other === null,
        othIsReflexive = other === other,
        othIsSymbol = isSymbol(other);

    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
        (valIsNull && othIsDefined && othIsReflexive) ||
        (!valIsDefined && othIsReflexive) ||
        !valIsReflexive) {
      return 1;
    }
    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
        (othIsNull && valIsDefined && valIsReflexive) ||
        (!othIsDefined && valIsReflexive) ||
        !othIsReflexive) {
      return -1;
    }
  }
  return 0;
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Gets the parent value at `path` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array} path The path to get the parent value of.
 * @returns {*} Returns the parent value.
 */
function parent(object, path) {
  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Gets the last element of `array`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to query.
 * @returns {*} Returns the last element of `array`.
 * @example
 *
 * _.last([1, 2, 3]);
 * // => 3
 */
function last(array) {
  var length = array ? array.length : 0;
  return length ? array[length - 1] : undefined;
}

/**
 * Removes elements from `array` corresponding to `indexes` and returns an
 * array of removed elements.
 *
 * **Note:** Unlike `_.at`, this method mutates `array`.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Array
 * @param {Array} array The array to modify.
 * @param {...(number|number[])} [indexes] The indexes of elements to remove.
 * @returns {Array} Returns the new array of removed elements.
 * @example
 *
 * var array = ['a', 'b', 'c', 'd'];
 * var pulled = _.pullAt(array, [1, 3]);
 *
 * console.log(array);
 * // => ['a', 'c']
 *
 * console.log(pulled);
 * // => ['b', 'd']
 */
var pullAt = baseRest(function(array, indexes) {
  indexes = baseFlatten(indexes, 1);

  var length = array ? array.length : 0,
      result = baseAt(array, indexes);

  basePullAt(array, arrayMap(indexes, function(index) {
    return isIndex(index, length) ? +index : index;
  }).sort(compareAscending));

  return result;
});

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = pullAt;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){(function (){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = throttle;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
/**
 * SSR Window 3.0.0
 * Better handling for window object in SSR environment
 * https://github.com/nolimits4web/ssr-window
 *
 * Copyright 2020, Vladimir Kharlampidi
 *
 * Licensed under MIT
 *
 * Released on: November 9, 2020
 */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['exports'], factory) :
    (global = global || self, factory(global.ssrWindow = {}));
}(this, (function (exports) { 'use strict';

    /* eslint-disable no-param-reassign */
    function isObject(obj) {
        return (obj !== null &&
            typeof obj === 'object' &&
            'constructor' in obj &&
            obj.constructor === Object);
    }
    function extend(target, src) {
        if (target === void 0) { target = {}; }
        if (src === void 0) { src = {}; }
        Object.keys(src).forEach(function (key) {
            if (typeof target[key] === 'undefined')
                target[key] = src[key];
            else if (isObject(src[key]) &&
                isObject(target[key]) &&
                Object.keys(src[key]).length > 0) {
                extend(target[key], src[key]);
            }
        });
    }

    var ssrDocument = {
        body: {},
        addEventListener: function () { },
        removeEventListener: function () { },
        activeElement: {
            blur: function () { },
            nodeName: '',
        },
        querySelector: function () {
            return null;
        },
        querySelectorAll: function () {
            return [];
        },
        getElementById: function () {
            return null;
        },
        createEvent: function () {
            return {
                initEvent: function () { },
            };
        },
        createElement: function () {
            return {
                children: [],
                childNodes: [],
                style: {},
                setAttribute: function () { },
                getElementsByTagName: function () {
                    return [];
                },
            };
        },
        createElementNS: function () {
            return {};
        },
        importNode: function () {
            return null;
        },
        location: {
            hash: '',
            host: '',
            hostname: '',
            href: '',
            origin: '',
            pathname: '',
            protocol: '',
            search: '',
        },
    };
    function getDocument() {
        var doc = typeof document !== 'undefined' ? document : {};
        extend(doc, ssrDocument);
        return doc;
    }

    var ssrWindow = {
        document: ssrDocument,
        navigator: {
            userAgent: '',
        },
        location: {
            hash: '',
            host: '',
            hostname: '',
            href: '',
            origin: '',
            pathname: '',
            protocol: '',
            search: '',
        },
        history: {
            replaceState: function () { },
            pushState: function () { },
            go: function () { },
            back: function () { },
        },
        CustomEvent: function CustomEvent() {
            return this;
        },
        addEventListener: function () { },
        removeEventListener: function () { },
        getComputedStyle: function () {
            return {
                getPropertyValue: function () {
                    return '';
                },
            };
        },
        Image: function () { },
        Date: function () { },
        screen: {},
        setTimeout: function () { },
        clearTimeout: function () { },
        matchMedia: function () {
            return {};
        },
        requestAnimationFrame: function (callback) {
            if (typeof setTimeout === 'undefined') {
                callback();
                return null;
            }
            return setTimeout(callback, 0);
        },
        cancelAnimationFrame: function (id) {
            if (typeof setTimeout === 'undefined') {
                return;
            }
            clearTimeout(id);
        },
    };
    function getWindow() {
        var win = typeof window !== 'undefined' ? window : {};
        extend(win, ssrWindow);
        return win;
    }

    exports.extend = extend;
    exports.getDocument = getDocument;
    exports.getWindow = getWindow;
    exports.ssrDocument = ssrDocument;
    exports.ssrWindow = ssrWindow;

    Object.defineProperty(exports, '__esModule', { value: true });

})));


},{}],10:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var A11y = {
  getRandomNumber: function getRandomNumber(size) {
    if (size === void 0) {
      size = 16;
    }

    var randomChar = function randomChar() {
      return Math.round(16 * Math.random()).toString(16);
    };

    return 'x'.repeat(size).replace(/x/g, randomChar);
  },
  makeElFocusable: function makeElFocusable($el) {
    $el.attr('tabIndex', '0');
    return $el;
  },
  makeElNotFocusable: function makeElNotFocusable($el) {
    $el.attr('tabIndex', '-1');
    return $el;
  },
  addElRole: function addElRole($el, role) {
    $el.attr('role', role);
    return $el;
  },
  addElRoleDescription: function addElRoleDescription($el, description) {
    $el.attr('aria-roledescription', description);
    return $el;
  },
  addElControls: function addElControls($el, controls) {
    $el.attr('aria-controls', controls);
    return $el;
  },
  addElLabel: function addElLabel($el, label) {
    $el.attr('aria-label', label);
    return $el;
  },
  addElId: function addElId($el, id) {
    $el.attr('id', id);
    return $el;
  },
  addElLive: function addElLive($el, live) {
    $el.attr('aria-live', live);
    return $el;
  },
  disableEl: function disableEl($el) {
    $el.attr('aria-disabled', true);
    return $el;
  },
  enableEl: function enableEl($el) {
    $el.attr('aria-disabled', false);
    return $el;
  },
  onEnterOrSpaceKey: function onEnterOrSpaceKey(e) {
    if (e.keyCode !== 13 && e.keyCode !== 32) return;
    var swiper = this;
    var params = swiper.params.a11y;
    var $targetEl = (0, _dom.default)(e.target);

    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {
      if (!(swiper.isEnd && !swiper.params.loop)) {
        swiper.slideNext();
      }

      if (swiper.isEnd) {
        swiper.a11y.notify(params.lastSlideMessage);
      } else {
        swiper.a11y.notify(params.nextSlideMessage);
      }
    }

    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {
      if (!(swiper.isBeginning && !swiper.params.loop)) {
        swiper.slidePrev();
      }

      if (swiper.isBeginning) {
        swiper.a11y.notify(params.firstSlideMessage);
      } else {
        swiper.a11y.notify(params.prevSlideMessage);
      }
    }

    if (swiper.pagination && $targetEl.is((0, _utils.classesToSelector)(swiper.params.pagination.bulletClass))) {
      $targetEl[0].click();
    }
  },
  notify: function notify(message) {
    var swiper = this;
    var notification = swiper.a11y.liveRegion;
    if (notification.length === 0) return;
    notification.html('');
    notification.html(message);
  },
  updateNavigation: function updateNavigation() {
    var swiper = this;
    if (swiper.params.loop || !swiper.navigation) return;
    var _swiper$navigation = swiper.navigation,
        $nextEl = _swiper$navigation.$nextEl,
        $prevEl = _swiper$navigation.$prevEl;

    if ($prevEl && $prevEl.length > 0) {
      if (swiper.isBeginning) {
        swiper.a11y.disableEl($prevEl);
        swiper.a11y.makeElNotFocusable($prevEl);
      } else {
        swiper.a11y.enableEl($prevEl);
        swiper.a11y.makeElFocusable($prevEl);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      if (swiper.isEnd) {
        swiper.a11y.disableEl($nextEl);
        swiper.a11y.makeElNotFocusable($nextEl);
      } else {
        swiper.a11y.enableEl($nextEl);
        swiper.a11y.makeElFocusable($nextEl);
      }
    }
  },
  updatePagination: function updatePagination() {
    var swiper = this;
    var params = swiper.params.a11y;

    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.bullets.each(function (bulletEl) {
        var $bulletEl = (0, _dom.default)(bulletEl);
        swiper.a11y.makeElFocusable($bulletEl);

        if (!swiper.params.pagination.renderBullet) {
          swiper.a11y.addElRole($bulletEl, 'button');
          swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/\{\{index\}\}/, $bulletEl.index() + 1));
        }
      });
    }
  },
  init: function init() {
    var swiper = this;
    var params = swiper.params.a11y;
    swiper.$el.append(swiper.a11y.liveRegion); // Container

    var $containerEl = swiper.$el;

    if (params.containerRoleDescriptionMessage) {
      swiper.a11y.addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);
    }

    if (params.containerMessage) {
      swiper.a11y.addElLabel($containerEl, params.containerMessage);
    } // Wrapper


    var $wrapperEl = swiper.$wrapperEl;
    var wrapperId = $wrapperEl.attr('id') || "swiper-wrapper-" + swiper.a11y.getRandomNumber(16);
    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';
    swiper.a11y.addElId($wrapperEl, wrapperId);
    swiper.a11y.addElLive($wrapperEl, live); // Slide

    if (params.itemRoleDescriptionMessage) {
      swiper.a11y.addElRoleDescription((0, _dom.default)(swiper.slides), params.itemRoleDescriptionMessage);
    }

    swiper.a11y.addElRole((0, _dom.default)(swiper.slides), params.slideRole);
    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {
      return !el.classList.contains(swiper.params.slideDuplicateClass);
    }).length : swiper.slides.length;
    swiper.slides.each(function (slideEl, index) {
      var $slideEl = (0, _dom.default)(slideEl);
      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;
      var ariaLabelMessage = params.slideLabelMessage.replace(/\{\{index\}\}/, slideIndex + 1).replace(/\{\{slidesLength\}\}/, slidesLength);
      swiper.a11y.addElLabel($slideEl, ariaLabelMessage);
    }); // Navigation

    var $nextEl;
    var $prevEl;

    if (swiper.navigation && swiper.navigation.$nextEl) {
      $nextEl = swiper.navigation.$nextEl;
    }

    if (swiper.navigation && swiper.navigation.$prevEl) {
      $prevEl = swiper.navigation.$prevEl;
    }

    if ($nextEl && $nextEl.length) {
      swiper.a11y.makeElFocusable($nextEl);

      if ($nextEl[0].tagName !== 'BUTTON') {
        swiper.a11y.addElRole($nextEl, 'button');
        $nextEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);
      }

      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);
      swiper.a11y.addElControls($nextEl, wrapperId);
    }

    if ($prevEl && $prevEl.length) {
      swiper.a11y.makeElFocusable($prevEl);

      if ($prevEl[0].tagName !== 'BUTTON') {
        swiper.a11y.addElRole($prevEl, 'button');
        $prevEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);
      }

      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);
      swiper.a11y.addElControls($prevEl, wrapperId);
    } // Pagination


    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.$el.on('keydown', (0, _utils.classesToSelector)(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();
    var $nextEl;
    var $prevEl;

    if (swiper.navigation && swiper.navigation.$nextEl) {
      $nextEl = swiper.navigation.$nextEl;
    }

    if (swiper.navigation && swiper.navigation.$prevEl) {
      $prevEl = swiper.navigation.$prevEl;
    }

    if ($nextEl) {
      $nextEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);
    }

    if ($prevEl) {
      $prevEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);
    } // Pagination


    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
      swiper.pagination.$el.off('keydown', (0, _utils.classesToSelector)(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);
    }
  }
};
var _default = {
  name: 'a11y',
  params: {
    a11y: {
      enabled: true,
      notificationClass: 'swiper-notification',
      prevSlideMessage: 'Previous slide',
      nextSlideMessage: 'Next slide',
      firstSlideMessage: 'This is the first slide',
      lastSlideMessage: 'This is the last slide',
      paginationBulletMessage: 'Go to slide {{index}}',
      slideLabelMessage: '{{index}} / {{slidesLength}}',
      containerMessage: null,
      containerRoleDescriptionMessage: null,
      itemRoleDescriptionMessage: null,
      slideRole: 'group'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      a11y: _extends({}, A11y, {
        liveRegion: (0, _dom.default)("<span class=\"" + swiper.params.a11y.notificationClass + "\" aria-live=\"assertive\" aria-atomic=\"true\"></span>")
      })
    });
  },
  on: {
    afterInit: function afterInit(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.init();
      swiper.a11y.updateNavigation();
    },
    toEdge: function toEdge(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updateNavigation();
    },
    fromEdge: function fromEdge(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updateNavigation();
    },
    paginationUpdate: function paginationUpdate(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.updatePagination();
    },
    destroy: function destroy(swiper) {
      if (!swiper.params.a11y.enabled) return;
      swiper.a11y.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],11:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Autoplay = {
  run: function run() {
    var swiper = this;
    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);
    var delay = swiper.params.autoplay.delay;

    if ($activeSlideEl.attr('data-swiper-autoplay')) {
      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;
    }

    clearTimeout(swiper.autoplay.timeout);
    swiper.autoplay.timeout = (0, _utils.nextTick)(function () {
      var autoplayResult;

      if (swiper.params.autoplay.reverseDirection) {
        if (swiper.params.loop) {
          swiper.loopFix();
          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else if (!swiper.isBeginning) {
          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else if (!swiper.params.autoplay.stopOnLastSlide) {
          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);
          swiper.emit('autoplay');
        } else {
          swiper.autoplay.stop();
        }
      } else if (swiper.params.loop) {
        swiper.loopFix();
        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else if (!swiper.isEnd) {
        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else if (!swiper.params.autoplay.stopOnLastSlide) {
        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);
        swiper.emit('autoplay');
      } else {
        swiper.autoplay.stop();
      }

      if (swiper.params.cssMode && swiper.autoplay.running) swiper.autoplay.run();else if (autoplayResult === false) {
        swiper.autoplay.run();
      }
    }, delay);
  },
  start: function start() {
    var swiper = this;
    if (typeof swiper.autoplay.timeout !== 'undefined') return false;
    if (swiper.autoplay.running) return false;
    swiper.autoplay.running = true;
    swiper.emit('autoplayStart');
    swiper.autoplay.run();
    return true;
  },
  stop: function stop() {
    var swiper = this;
    if (!swiper.autoplay.running) return false;
    if (typeof swiper.autoplay.timeout === 'undefined') return false;

    if (swiper.autoplay.timeout) {
      clearTimeout(swiper.autoplay.timeout);
      swiper.autoplay.timeout = undefined;
    }

    swiper.autoplay.running = false;
    swiper.emit('autoplayStop');
    return true;
  },
  pause: function pause(speed) {
    var swiper = this;
    if (!swiper.autoplay.running) return;
    if (swiper.autoplay.paused) return;
    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);
    swiper.autoplay.paused = true;

    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {
      swiper.autoplay.paused = false;
      swiper.autoplay.run();
    } else {
      ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
        swiper.$wrapperEl[0].addEventListener(event, swiper.autoplay.onTransitionEnd);
      });
    }
  },
  onVisibilityChange: function onVisibilityChange() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();

    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {
      swiper.autoplay.pause();
    }

    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {
      swiper.autoplay.run();
      swiper.autoplay.paused = false;
    }
  },
  onTransitionEnd: function onTransitionEnd(e) {
    var swiper = this;
    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;
    if (e.target !== swiper.$wrapperEl[0]) return;
    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);
    });
    swiper.autoplay.paused = false;

    if (!swiper.autoplay.running) {
      swiper.autoplay.stop();
    } else {
      swiper.autoplay.run();
    }
  },
  onMouseEnter: function onMouseEnter() {
    var swiper = this;

    if (swiper.params.autoplay.disableOnInteraction) {
      swiper.autoplay.stop();
    } else {
      swiper.autoplay.pause();
    }

    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);
    });
  },
  onMouseLeave: function onMouseLeave() {
    var swiper = this;

    if (swiper.params.autoplay.disableOnInteraction) {
      return;
    }

    swiper.autoplay.paused = false;
    swiper.autoplay.run();
  },
  attachMouseEvents: function attachMouseEvents() {
    var swiper = this;

    if (swiper.params.autoplay.pauseOnMouseEnter) {
      swiper.$el.on('mouseenter', swiper.autoplay.onMouseEnter);
      swiper.$el.on('mouseleave', swiper.autoplay.onMouseLeave);
    }
  },
  detachMouseEvents: function detachMouseEvents() {
    var swiper = this;
    swiper.$el.off('mouseenter', swiper.autoplay.onMouseEnter);
    swiper.$el.off('mouseleave', swiper.autoplay.onMouseLeave);
  }
};
var _default = {
  name: 'autoplay',
  params: {
    autoplay: {
      enabled: false,
      delay: 3000,
      waitForTransition: true,
      disableOnInteraction: true,
      stopOnLastSlide: false,
      reverseDirection: false,
      pauseOnMouseEnter: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      autoplay: _extends({}, Autoplay, {
        running: false,
        paused: false
      })
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.autoplay.enabled) {
        swiper.autoplay.start();
        var document = (0, _ssrWindow.getDocument)();
        document.addEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);
        swiper.autoplay.attachMouseEvents();
      }
    },
    beforeTransitionStart: function beforeTransitionStart(swiper, speed, internal) {
      if (swiper.autoplay.running) {
        if (internal || !swiper.params.autoplay.disableOnInteraction) {
          swiper.autoplay.pause(speed);
        } else {
          swiper.autoplay.stop();
        }
      }
    },
    sliderFirstMove: function sliderFirstMove(swiper) {
      if (swiper.autoplay.running) {
        if (swiper.params.autoplay.disableOnInteraction) {
          swiper.autoplay.stop();
        } else {
          swiper.autoplay.pause();
        }
      }
    },
    touchEnd: function touchEnd(swiper) {
      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {
        swiper.autoplay.run();
      }
    },
    destroy: function destroy(swiper) {
      swiper.autoplay.detachMouseEvents();

      if (swiper.autoplay.running) {
        swiper.autoplay.stop();
      }

      var document = (0, _ssrWindow.getDocument)();
      document.removeEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],12:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Controller = {
  LinearSpline: function LinearSpline(x, y) {
    var binarySearch = function search() {
      var maxIndex;
      var minIndex;
      var guess;
      return function (array, val) {
        minIndex = -1;
        maxIndex = array.length;

        while (maxIndex - minIndex > 1) {
          guess = maxIndex + minIndex >> 1;

          if (array[guess] <= val) {
            minIndex = guess;
          } else {
            maxIndex = guess;
          }
        }

        return maxIndex;
      };
    }();

    this.x = x;
    this.y = y;
    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:
    // (x1,y1) is the known point before given value,
    // (x3,y3) is the known point after given value.

    var i1;
    var i3;

    this.interpolate = function interpolate(x2) {
      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):

      i3 = binarySearch(this.x, x2);
      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:
      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1

      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];
    };

    return this;
  },
  // xxx: for now i will just save one spline function to to
  getInterpolateFunction: function getInterpolateFunction(c) {
    var swiper = this;

    if (!swiper.controller.spline) {
      swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);
    }
  },
  setTranslate: function setTranslate(_setTranslate, byController) {
    var swiper = this;
    var controlled = swiper.controller.control;
    var multiplier;
    var controlledTranslate;
    var Swiper = swiper.constructor;

    function setControlledTranslate(c) {
      // this will create an Interpolate function based on the snapGrids
      // x is the Grid of the scrolled scroller and y will be the controlled scroller
      // it makes sense to create this only once and recall it for the interpolation
      // the function does a lot of value caching for performance
      var translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;

      if (swiper.params.controller.by === 'slide') {
        swiper.controller.getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid
        // but it did not work out

        controlledTranslate = -swiper.controller.spline.interpolate(-translate);
      }

      if (!controlledTranslate || swiper.params.controller.by === 'container') {
        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());
        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();
      }

      if (swiper.params.controller.inverse) {
        controlledTranslate = c.maxTranslate() - controlledTranslate;
      }

      c.updateProgress(controlledTranslate);
      c.setTranslate(controlledTranslate, swiper);
      c.updateActiveIndex();
      c.updateSlidesClasses();
    }

    if (Array.isArray(controlled)) {
      for (var i = 0; i < controlled.length; i += 1) {
        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {
          setControlledTranslate(controlled[i]);
        }
      }
    } else if (controlled instanceof Swiper && byController !== controlled) {
      setControlledTranslate(controlled);
    }
  },
  setTransition: function setTransition(duration, byController) {
    var swiper = this;
    var Swiper = swiper.constructor;
    var controlled = swiper.controller.control;
    var i;

    function setControlledTransition(c) {
      c.setTransition(duration, swiper);

      if (duration !== 0) {
        c.transitionStart();

        if (c.params.autoHeight) {
          (0, _utils.nextTick)(function () {
            c.updateAutoHeight();
          });
        }

        c.$wrapperEl.transitionEnd(function () {
          if (!controlled) return;

          if (c.params.loop && swiper.params.controller.by === 'slide') {
            c.loopFix();
          }

          c.transitionEnd();
        });
      }
    }

    if (Array.isArray(controlled)) {
      for (i = 0; i < controlled.length; i += 1) {
        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {
          setControlledTransition(controlled[i]);
        }
      }
    } else if (controlled instanceof Swiper && byController !== controlled) {
      setControlledTransition(controlled);
    }
  }
};
var _default = {
  name: 'controller',
  params: {
    controller: {
      control: undefined,
      inverse: false,
      by: 'slide' // or 'container'

    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      controller: _extends({
        control: swiper.params.controller.control
      }, Controller)
    });
  },
  on: {
    update: function update(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    resize: function resize(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    observerUpdate: function observerUpdate(swiper) {
      if (!swiper.controller.control) return;

      if (swiper.controller.spline) {
        swiper.controller.spline = undefined;
        delete swiper.controller.spline;
      }
    },
    setTranslate: function setTranslate(swiper, translate, byController) {
      if (!swiper.controller.control) return;
      swiper.controller.setTranslate(translate, byController);
    },
    setTransition: function setTransition(swiper, duration, byController) {
      if (!swiper.controller.control) return;
      swiper.controller.setTransition(duration, byController);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97}],13:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = getBreakpoint;

var _ssrWindow = require("ssr-window");

function getBreakpoint(breakpoints, base, containerEl) {
  if (base === void 0) {
    base = 'window';
  }

  if (!breakpoints || base === 'container' && !containerEl) return undefined;
  var breakpoint = false;
  var window = (0, _ssrWindow.getWindow)();
  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;
  var points = Object.keys(breakpoints).map(function (point) {
    if (typeof point === 'string' && point.indexOf('@') === 0) {
      var minRatio = parseFloat(point.substr(1));
      var value = currentHeight * minRatio;
      return {
        value: value,
        point: point
      };
    }

    return {
      value: point,
      point: point
    };
  });
  points.sort(function (a, b) {
    return parseInt(a.value, 10) - parseInt(b.value, 10);
  });

  for (var i = 0; i < points.length; i += 1) {
    var _points$i = points[i],
        point = _points$i.point,
        value = _points$i.value;

    if (base === 'window') {
      if (window.matchMedia("(min-width: " + value + "px)").matches) {
        breakpoint = point;
      }
    } else if (value <= containerEl.clientWidth) {
      breakpoint = point;
    }
  }

  return breakpoint || 'max';
}
},{"ssr-window":9}],14:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setBreakpoint = _interopRequireDefault(require("./setBreakpoint"));

var _getBreakpoint = _interopRequireDefault(require("./getBreakpoint"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setBreakpoint: _setBreakpoint.default,
  getBreakpoint: _getBreakpoint.default
};
exports.default = _default;
},{"./getBreakpoint":13,"./setBreakpoint":15}],15:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setBreakpoint;

var _utils = require("../../../utils/utils");

function setBreakpoint() {
  var swiper = this;
  var activeIndex = swiper.activeIndex,
      initialized = swiper.initialized,
      _swiper$loopedSlides = swiper.loopedSlides,
      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,
      params = swiper.params,
      $el = swiper.$el;
  var breakpoints = params.breakpoints;
  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters

  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);
  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;
  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;

  if (breakpointOnlyParams) {
    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {
      var paramValue = breakpointOnlyParams[param];
      if (typeof paramValue === 'undefined') return;

      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {
        breakpointOnlyParams[param] = 'auto';
      } else if (param === 'slidesPerView') {
        breakpointOnlyParams[param] = parseFloat(paramValue);
      } else {
        breakpointOnlyParams[param] = parseInt(paramValue, 10);
      }
    });
  }

  var breakpointParams = breakpointOnlyParams || swiper.originalParams;
  var wasMultiRow = params.slidesPerColumn > 1;
  var isMultiRow = breakpointParams.slidesPerColumn > 1;
  var wasEnabled = params.enabled;

  if (wasMultiRow && !isMultiRow) {
    $el.removeClass(params.containerModifierClass + "multirow " + params.containerModifierClass + "multirow-column");
    swiper.emitContainerClasses();
  } else if (!wasMultiRow && isMultiRow) {
    $el.addClass(params.containerModifierClass + "multirow");

    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {
      $el.addClass(params.containerModifierClass + "multirow-column");
    }

    swiper.emitContainerClasses();
  }

  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;
  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);

  if (directionChanged && initialized) {
    swiper.changeDirection();
  }

  (0, _utils.extend)(swiper.params, breakpointParams);
  var isEnabled = swiper.params.enabled;
  (0, _utils.extend)(swiper, {
    allowTouchMove: swiper.params.allowTouchMove,
    allowSlideNext: swiper.params.allowSlideNext,
    allowSlidePrev: swiper.params.allowSlidePrev
  });

  if (wasEnabled && !isEnabled) {
    swiper.disable();
  } else if (!wasEnabled && isEnabled) {
    swiper.enable();
  }

  swiper.currentBreakpoint = breakpoint;
  swiper.emit('_beforeBreakpoint', breakpointParams);

  if (needsReLoop && initialized) {
    swiper.loopDestroy();
    swiper.loopCreate();
    swiper.updateSlides();
    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);
  }

  swiper.emit('breakpoint', breakpointParams);
}
},{"../../../utils/utils":97}],16:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

function checkOverflow() {
  var swiper = this;
  var params = swiper.params;
  var wasLocked = swiper.isLocked;
  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;

  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {
    swiper.isLocked = lastSlidePosition <= swiper.size;
  } else {
    swiper.isLocked = swiper.snapGrid.length === 1;
  }

  swiper.allowSlideNext = !swiper.isLocked;
  swiper.allowSlidePrev = !swiper.isLocked; // events

  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');

  if (wasLocked && wasLocked !== swiper.isLocked) {
    swiper.isEnd = false;
    if (swiper.navigation) swiper.navigation.update();
  }
}

var _default = {
  checkOverflow: checkOverflow
};
exports.default = _default;
},{}],17:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = addClasses;

function prepareClasses(entries, prefix) {
  var resultClasses = [];
  entries.forEach(function (item) {
    if (typeof item === 'object') {
      Object.keys(item).forEach(function (classNames) {
        if (item[classNames]) {
          resultClasses.push(prefix + classNames);
        }
      });
    } else if (typeof item === 'string') {
      resultClasses.push(prefix + item);
    }
  });
  return resultClasses;
}

function addClasses() {
  var swiper = this;
  var classNames = swiper.classNames,
      params = swiper.params,
      rtl = swiper.rtl,
      $el = swiper.$el,
      device = swiper.device,
      support = swiper.support; // prettier-ignore

  var suffixes = prepareClasses(['initialized', params.direction, {
    'pointer-events': support.pointerEvents && !support.touch
  }, {
    'free-mode': params.freeMode
  }, {
    'autoheight': params.autoHeight
  }, {
    'rtl': rtl
  }, {
    'multirow': params.slidesPerColumn > 1
  }, {
    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'
  }, {
    'android': device.android
  }, {
    'ios': device.ios
  }, {
    'css-mode': params.cssMode
  }], params.containerModifierClass);
  classNames.push.apply(classNames, suffixes);
  $el.addClass([].concat(classNames).join(' '));
  swiper.emitContainerClasses();
}
},{}],18:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _addClasses = _interopRequireDefault(require("./addClasses"));

var _removeClasses = _interopRequireDefault(require("./removeClasses"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  addClasses: _addClasses.default,
  removeClasses: _removeClasses.default
};
exports.default = _default;
},{"./addClasses":17,"./removeClasses":19}],19:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeClasses;

function removeClasses() {
  var swiper = this;
  var $el = swiper.$el,
      classNames = swiper.classNames;
  $el.removeClass(classNames.join(' '));
  swiper.emitContainerClasses();
}
},{}],20:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

var _getSupport = require("../../utils/get-support");

var _getDevice = require("../../utils/get-device");

var _getBrowser = require("../../utils/get-browser");

var _resize = _interopRequireDefault(require("../../modules/resize/resize"));

var _observer = _interopRequireDefault(require("../../modules/observer/observer"));

var _modular = _interopRequireDefault(require("./modular"));

var _eventsEmitter = _interopRequireDefault(require("./events-emitter"));

var _index = _interopRequireDefault(require("./update/index"));

var _index2 = _interopRequireDefault(require("./translate/index"));

var _index3 = _interopRequireDefault(require("./transition/index"));

var _index4 = _interopRequireDefault(require("./slide/index"));

var _index5 = _interopRequireDefault(require("./loop/index"));

var _index6 = _interopRequireDefault(require("./grab-cursor/index"));

var _index7 = _interopRequireDefault(require("./manipulation/index"));

var _index8 = _interopRequireDefault(require("./events/index"));

var _index9 = _interopRequireDefault(require("./breakpoints/index"));

var _index10 = _interopRequireDefault(require("./classes/index"));

var _index11 = _interopRequireDefault(require("./images/index"));

var _index12 = _interopRequireDefault(require("./check-overflow/index"));

var _defaults = _interopRequireDefault(require("./defaults"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var prototypes = {
  modular: _modular.default,
  eventsEmitter: _eventsEmitter.default,
  update: _index.default,
  translate: _index2.default,
  transition: _index3.default,
  slide: _index4.default,
  loop: _index5.default,
  grabCursor: _index6.default,
  manipulation: _index7.default,
  events: _index8.default,
  breakpoints: _index9.default,
  checkOverflow: _index12.default,
  classes: _index10.default,
  images: _index11.default
};
var extendedDefaults = {};

var Swiper = /*#__PURE__*/function () {
  function Swiper() {
    var el;
    var params;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {
      params = args[0];
    } else {
      el = args[0];
      params = args[1];
    }

    if (!params) params = {};
    params = (0, _utils.extend)({}, params);
    if (el && !params.el) params.el = el;

    if (params.el && (0, _dom.default)(params.el).length > 1) {
      var swipers = [];
      (0, _dom.default)(params.el).each(function (containerEl) {
        var newParams = (0, _utils.extend)({}, params, {
          el: containerEl
        });
        swipers.push(new Swiper(newParams));
      });
      return swipers;
    } // Swiper Instance


    var swiper = this;
    swiper.__swiper__ = true;
    swiper.support = (0, _getSupport.getSupport)();
    swiper.device = (0, _getDevice.getDevice)({
      userAgent: params.userAgent
    });
    swiper.browser = (0, _getBrowser.getBrowser)();
    swiper.eventsListeners = {};
    swiper.eventsAnyListeners = [];

    if (typeof swiper.modules === 'undefined') {
      swiper.modules = {};
    }

    Object.keys(swiper.modules).forEach(function (moduleName) {
      var module = swiper.modules[moduleName];

      if (module.params) {
        var moduleParamName = Object.keys(module.params)[0];
        var moduleParams = module.params[moduleParamName];
        if (typeof moduleParams !== 'object' || moduleParams === null) return;

        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {
          params[moduleParamName] = {
            auto: true
          };
        }

        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;

        if (params[moduleParamName] === true) {
          params[moduleParamName] = {
            enabled: true
          };
        }

        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {
          params[moduleParamName].enabled = true;
        }

        if (!params[moduleParamName]) params[moduleParamName] = {
          enabled: false
        };
      }
    }); // Extend defaults with modules params

    var swiperParams = (0, _utils.extend)({}, _defaults.default);
    swiper.useParams(swiperParams); // Extend defaults with passed params

    swiper.params = (0, _utils.extend)({}, swiperParams, extendedDefaults, params);
    swiper.originalParams = (0, _utils.extend)({}, swiper.params);
    swiper.passedParams = (0, _utils.extend)({}, params); // add event listeners

    if (swiper.params && swiper.params.on) {
      Object.keys(swiper.params.on).forEach(function (eventName) {
        swiper.on(eventName, swiper.params.on[eventName]);
      });
    }

    if (swiper.params && swiper.params.onAny) {
      swiper.onAny(swiper.params.onAny);
    } // Save Dom lib


    swiper.$ = _dom.default; // Extend Swiper

    (0, _utils.extend)(swiper, {
      enabled: swiper.params.enabled,
      el: el,
      // Classes
      classNames: [],
      // Slides
      slides: (0, _dom.default)(),
      slidesGrid: [],
      snapGrid: [],
      slidesSizesGrid: [],
      // isDirection
      isHorizontal: function isHorizontal() {
        return swiper.params.direction === 'horizontal';
      },
      isVertical: function isVertical() {
        return swiper.params.direction === 'vertical';
      },
      // Indexes
      activeIndex: 0,
      realIndex: 0,
      //
      isBeginning: true,
      isEnd: false,
      // Props
      translate: 0,
      previousTranslate: 0,
      progress: 0,
      velocity: 0,
      animating: false,
      // Locks
      allowSlideNext: swiper.params.allowSlideNext,
      allowSlidePrev: swiper.params.allowSlidePrev,
      // Touch Events
      touchEvents: function touchEvents() {
        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];
        var desktop = ['mousedown', 'mousemove', 'mouseup'];

        if (swiper.support.pointerEvents) {
          desktop = ['pointerdown', 'pointermove', 'pointerup'];
        }

        swiper.touchEventsTouch = {
          start: touch[0],
          move: touch[1],
          end: touch[2],
          cancel: touch[3]
        };
        swiper.touchEventsDesktop = {
          start: desktop[0],
          move: desktop[1],
          end: desktop[2]
        };
        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;
      }(),
      touchEventsData: {
        isTouched: undefined,
        isMoved: undefined,
        allowTouchCallbacks: undefined,
        touchStartTime: undefined,
        isScrolling: undefined,
        currentTranslate: undefined,
        startTranslate: undefined,
        allowThresholdMove: undefined,
        // Form elements to match
        focusableElements: swiper.params.focusableElements,
        // Last click time
        lastClickTime: (0, _utils.now)(),
        clickTimeout: undefined,
        // Velocities
        velocities: [],
        allowMomentumBounce: undefined,
        isTouchEvent: undefined,
        startMoving: undefined
      },
      // Clicks
      allowClick: true,
      // Touches
      allowTouchMove: swiper.params.allowTouchMove,
      touches: {
        startX: 0,
        startY: 0,
        currentX: 0,
        currentY: 0,
        diff: 0
      },
      // Images
      imagesToLoad: [],
      imagesLoaded: 0
    }); // Install Modules

    swiper.useModules();
    swiper.emit('_swiper'); // Init

    if (swiper.params.init) {
      swiper.init();
    } // Return app instance


    return swiper;
  }

  var _proto = Swiper.prototype;

  _proto.enable = function enable() {
    var swiper = this;
    if (swiper.enabled) return;
    swiper.enabled = true;

    if (swiper.params.grabCursor) {
      swiper.setGrabCursor();
    }

    swiper.emit('enable');
  };

  _proto.disable = function disable() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.enabled = false;

    if (swiper.params.grabCursor) {
      swiper.unsetGrabCursor();
    }

    swiper.emit('disable');
  };

  _proto.setProgress = function setProgress(progress, speed) {
    var swiper = this;
    progress = Math.min(Math.max(progress, 0), 1);
    var min = swiper.minTranslate();
    var max = swiper.maxTranslate();
    var current = (max - min) * progress + min;
    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  };

  _proto.emitContainerClasses = function emitContainerClasses() {
    var swiper = this;
    if (!swiper.params._emitClasses || !swiper.el) return;
    var classes = swiper.el.className.split(' ').filter(function (className) {
      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;
    });
    swiper.emit('_containerClasses', classes.join(' '));
  };

  _proto.getSlideClasses = function getSlideClasses(slideEl) {
    var swiper = this;
    return slideEl.className.split(' ').filter(function (className) {
      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;
    }).join(' ');
  };

  _proto.emitSlidesClasses = function emitSlidesClasses() {
    var swiper = this;
    if (!swiper.params._emitClasses || !swiper.el) return;
    var updates = [];
    swiper.slides.each(function (slideEl) {
      var classNames = swiper.getSlideClasses(slideEl);
      updates.push({
        slideEl: slideEl,
        classNames: classNames
      });
      swiper.emit('_slideClass', slideEl, classNames);
    });
    swiper.emit('_slideClasses', updates);
  };

  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {
    var swiper = this;
    var params = swiper.params,
        slides = swiper.slides,
        slidesGrid = swiper.slidesGrid,
        swiperSize = swiper.size,
        activeIndex = swiper.activeIndex;
    var spv = 1;

    if (params.centeredSlides) {
      var slideSize = slides[activeIndex].swiperSlideSize;
      var breakLoop;

      for (var i = activeIndex + 1; i < slides.length; i += 1) {
        if (slides[i] && !breakLoop) {
          slideSize += slides[i].swiperSlideSize;
          spv += 1;
          if (slideSize > swiperSize) breakLoop = true;
        }
      }

      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {
        if (slides[_i] && !breakLoop) {
          slideSize += slides[_i].swiperSlideSize;
          spv += 1;
          if (slideSize > swiperSize) breakLoop = true;
        }
      }
    } else {
      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {
        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {
          spv += 1;
        }
      }
    }

    return spv;
  };

  _proto.update = function update() {
    var swiper = this;
    if (!swiper || swiper.destroyed) return;
    var snapGrid = swiper.snapGrid,
        params = swiper.params; // Breakpoints

    if (params.breakpoints) {
      swiper.setBreakpoint();
    }

    swiper.updateSize();
    swiper.updateSlides();
    swiper.updateProgress();
    swiper.updateSlidesClasses();

    function setTranslate() {
      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;
      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());
      swiper.setTranslate(newTranslate);
      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    }

    var translated;

    if (swiper.params.freeMode) {
      setTranslate();

      if (swiper.params.autoHeight) {
        swiper.updateAutoHeight();
      }
    } else {
      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {
        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);
      } else {
        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);
      }

      if (!translated) {
        setTranslate();
      }
    }

    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {
      swiper.checkOverflow();
    }

    swiper.emit('update');
  };

  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {
    if (needUpdate === void 0) {
      needUpdate = true;
    }

    var swiper = this;
    var currentDirection = swiper.params.direction;

    if (!newDirection) {
      // eslint-disable-next-line
      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';
    }

    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {
      return swiper;
    }

    swiper.$el.removeClass("" + swiper.params.containerModifierClass + currentDirection).addClass("" + swiper.params.containerModifierClass + newDirection);
    swiper.emitContainerClasses();
    swiper.params.direction = newDirection;
    swiper.slides.each(function (slideEl) {
      if (newDirection === 'vertical') {
        slideEl.style.width = '';
      } else {
        slideEl.style.height = '';
      }
    });
    swiper.emit('changeDirection');
    if (needUpdate) swiper.update();
    return swiper;
  };

  _proto.mount = function mount(el) {
    var swiper = this;
    if (swiper.mounted) return true; // Find el

    var $el = (0, _dom.default)(el || swiper.params.el);
    el = $el[0];

    if (!el) {
      return false;
    }

    el.swiper = swiper;

    var getWrapperSelector = function getWrapperSelector() {
      return "." + (swiper.params.wrapperClass || '').trim().split(' ').join('.');
    };

    var getWrapper = function getWrapper() {
      if (el && el.shadowRoot && el.shadowRoot.querySelector) {
        var res = (0, _dom.default)(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items

        res.children = function (options) {
          return $el.children(options);
        };

        return res;
      }

      return $el.children(getWrapperSelector());
    }; // Find Wrapper


    var $wrapperEl = getWrapper();

    if ($wrapperEl.length === 0 && swiper.params.createElements) {
      var document = (0, _ssrWindow.getDocument)();
      var wrapper = document.createElement('div');
      $wrapperEl = (0, _dom.default)(wrapper);
      wrapper.className = swiper.params.wrapperClass;
      $el.append(wrapper);
      $el.children("." + swiper.params.slideClass).each(function (slideEl) {
        $wrapperEl.append(slideEl);
      });
    }

    (0, _utils.extend)(swiper, {
      $el: $el,
      el: el,
      $wrapperEl: $wrapperEl,
      wrapperEl: $wrapperEl[0],
      mounted: true,
      // RTL
      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',
      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),
      wrongRTL: $wrapperEl.css('display') === '-webkit-box'
    });
    return true;
  };

  _proto.init = function init(el) {
    var swiper = this;
    if (swiper.initialized) return swiper;
    var mounted = swiper.mount(el);
    if (mounted === false) return swiper;
    swiper.emit('beforeInit'); // Set breakpoint

    if (swiper.params.breakpoints) {
      swiper.setBreakpoint();
    } // Add Classes


    swiper.addClasses(); // Create loop

    if (swiper.params.loop) {
      swiper.loopCreate();
    } // Update size


    swiper.updateSize(); // Update slides

    swiper.updateSlides();

    if (swiper.params.watchOverflow) {
      swiper.checkOverflow();
    } // Set Grab Cursor


    if (swiper.params.grabCursor && swiper.enabled) {
      swiper.setGrabCursor();
    }

    if (swiper.params.preloadImages) {
      swiper.preloadImages();
    } // Slide To Initial Slide


    if (swiper.params.loop) {
      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);
    } else {
      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);
    } // Attach events


    swiper.attachEvents(); // Init Flag

    swiper.initialized = true; // Emit

    swiper.emit('init');
    swiper.emit('afterInit');
    return swiper;
  };

  _proto.destroy = function destroy(deleteInstance, cleanStyles) {
    if (deleteInstance === void 0) {
      deleteInstance = true;
    }

    if (cleanStyles === void 0) {
      cleanStyles = true;
    }

    var swiper = this;
    var params = swiper.params,
        $el = swiper.$el,
        $wrapperEl = swiper.$wrapperEl,
        slides = swiper.slides;

    if (typeof swiper.params === 'undefined' || swiper.destroyed) {
      return null;
    }

    swiper.emit('beforeDestroy'); // Init Flag

    swiper.initialized = false; // Detach events

    swiper.detachEvents(); // Destroy loop

    if (params.loop) {
      swiper.loopDestroy();
    } // Cleanup styles


    if (cleanStyles) {
      swiper.removeClasses();
      $el.removeAttr('style');
      $wrapperEl.removeAttr('style');

      if (slides && slides.length) {
        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');
      }
    }

    swiper.emit('destroy'); // Detach emitter events

    Object.keys(swiper.eventsListeners).forEach(function (eventName) {
      swiper.off(eventName);
    });

    if (deleteInstance !== false) {
      swiper.$el[0].swiper = null;
      (0, _utils.deleteProps)(swiper);
    }

    swiper.destroyed = true;
    return null;
  };

  Swiper.extendDefaults = function extendDefaults(newDefaults) {
    (0, _utils.extend)(extendedDefaults, newDefaults);
  };

  Swiper.installModule = function installModule(module) {
    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};
    var name = module.name || Object.keys(Swiper.prototype.modules).length + "_" + (0, _utils.now)();
    Swiper.prototype.modules[name] = module;
  };

  Swiper.use = function use(module) {
    if (Array.isArray(module)) {
      module.forEach(function (m) {
        return Swiper.installModule(m);
      });
      return Swiper;
    }

    Swiper.installModule(module);
    return Swiper;
  };

  _createClass(Swiper, null, [{
    key: "extendedDefaults",
    get: function get() {
      return extendedDefaults;
    }
  }, {
    key: "defaults",
    get: function get() {
      return _defaults.default;
    }
  }]);

  return Swiper;
}();

Object.keys(prototypes).forEach(function (prototypeGroup) {
  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {
    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];
  });
});
Swiper.use([_resize.default, _observer.default]);
var _default = Swiper;
exports.default = _default;
},{"../../modules/observer/observer":91,"../../modules/resize/resize":92,"../../utils/dom":93,"../../utils/get-browser":94,"../../utils/get-device":95,"../../utils/get-support":96,"../../utils/utils":97,"./breakpoints/index":14,"./check-overflow/index":16,"./classes/index":18,"./defaults":21,"./events-emitter":22,"./events/index":23,"./grab-cursor/index":30,"./images/index":33,"./loop/index":36,"./manipulation/index":42,"./modular":46,"./slide/index":47,"./transition/index":55,"./translate/index":60,"./update/index":65,"ssr-window":9}],21:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _default = {
  init: true,
  direction: 'horizontal',
  touchEventsTarget: 'container',
  initialSlide: 0,
  speed: 300,
  cssMode: false,
  updateOnWindowResize: true,
  resizeObserver: false,
  nested: false,
  createElements: false,
  enabled: true,
  focusableElements: 'input, select, option, textarea, button, video, label',
  // Overrides
  width: null,
  height: null,
  //
  preventInteractionOnTransition: false,
  // ssr
  userAgent: null,
  url: null,
  // To support iOS's swipe-to-go-back gesture (when being used in-app).
  edgeSwipeDetection: false,
  edgeSwipeThreshold: 20,
  // Free mode
  freeMode: false,
  freeModeMomentum: true,
  freeModeMomentumRatio: 1,
  freeModeMomentumBounce: true,
  freeModeMomentumBounceRatio: 1,
  freeModeMomentumVelocityRatio: 1,
  freeModeSticky: false,
  freeModeMinimumVelocity: 0.02,
  // Autoheight
  autoHeight: false,
  // Set wrapper width
  setWrapperSize: false,
  // Virtual Translate
  virtualTranslate: false,
  // Effects
  effect: 'slide',
  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'
  // Breakpoints
  breakpoints: undefined,
  breakpointsBase: 'window',
  // Slides grid
  spaceBetween: 0,
  slidesPerView: 1,
  slidesPerColumn: 1,
  slidesPerColumnFill: 'column',
  slidesPerGroup: 1,
  slidesPerGroupSkip: 0,
  centeredSlides: false,
  centeredSlidesBounds: false,
  slidesOffsetBefore: 0,
  // in px
  slidesOffsetAfter: 0,
  // in px
  normalizeSlideIndex: true,
  centerInsufficientSlides: false,
  // Disable swiper and hide navigation when container not overflow
  watchOverflow: false,
  // Round length
  roundLengths: false,
  // Touches
  touchRatio: 1,
  touchAngle: 45,
  simulateTouch: true,
  shortSwipes: true,
  longSwipes: true,
  longSwipesRatio: 0.5,
  longSwipesMs: 300,
  followFinger: true,
  allowTouchMove: true,
  threshold: 0,
  touchMoveStopPropagation: false,
  touchStartPreventDefault: true,
  touchStartForcePreventDefault: false,
  touchReleaseOnEdges: false,
  // Unique Navigation Elements
  uniqueNavElements: true,
  // Resistance
  resistance: true,
  resistanceRatio: 0.85,
  // Progress
  watchSlidesProgress: false,
  watchSlidesVisibility: false,
  // Cursor
  grabCursor: false,
  // Clicks
  preventClicks: true,
  preventClicksPropagation: true,
  slideToClickedSlide: false,
  // Images
  preloadImages: true,
  updateOnImagesReady: true,
  // loop
  loop: false,
  loopAdditionalSlides: 0,
  loopedSlides: null,
  loopFillGroupWithBlank: false,
  loopPreventsSlide: true,
  // Swiping/no swiping
  allowSlidePrev: true,
  allowSlideNext: true,
  swipeHandler: null,
  // '.swipe-handler',
  noSwiping: true,
  noSwipingClass: 'swiper-no-swiping',
  noSwipingSelector: null,
  // Passive Listeners
  passiveListeners: true,
  // NS
  containerModifierClass: 'swiper-container-',
  // NEW
  slideClass: 'swiper-slide',
  slideBlankClass: 'swiper-slide-invisible-blank',
  slideActiveClass: 'swiper-slide-active',
  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',
  slideVisibleClass: 'swiper-slide-visible',
  slideDuplicateClass: 'swiper-slide-duplicate',
  slideNextClass: 'swiper-slide-next',
  slideDuplicateNextClass: 'swiper-slide-duplicate-next',
  slidePrevClass: 'swiper-slide-prev',
  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',
  wrapperClass: 'swiper-wrapper',
  // Callbacks
  runCallbacksOnInit: true,
  // Internals
  _emitClasses: false
};
exports.default = _default;
},{}],22:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

/* eslint-disable no-underscore-dangle */
var _default = {
  on: function on(events, handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;
    var method = priority ? 'unshift' : 'push';
    events.split(' ').forEach(function (event) {
      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];
      self.eventsListeners[event][method](handler);
    });
    return self;
  },
  once: function once(events, handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;

    function onceHandler() {
      self.off(events, onceHandler);

      if (onceHandler.__emitterProxy) {
        delete onceHandler.__emitterProxy;
      }

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      handler.apply(self, args);
    }

    onceHandler.__emitterProxy = handler;
    return self.on(events, onceHandler, priority);
  },
  onAny: function onAny(handler, priority) {
    var self = this;
    if (typeof handler !== 'function') return self;
    var method = priority ? 'unshift' : 'push';

    if (self.eventsAnyListeners.indexOf(handler) < 0) {
      self.eventsAnyListeners[method](handler);
    }

    return self;
  },
  offAny: function offAny(handler) {
    var self = this;
    if (!self.eventsAnyListeners) return self;
    var index = self.eventsAnyListeners.indexOf(handler);

    if (index >= 0) {
      self.eventsAnyListeners.splice(index, 1);
    }

    return self;
  },
  off: function off(events, handler) {
    var self = this;
    if (!self.eventsListeners) return self;
    events.split(' ').forEach(function (event) {
      if (typeof handler === 'undefined') {
        self.eventsListeners[event] = [];
      } else if (self.eventsListeners[event]) {
        self.eventsListeners[event].forEach(function (eventHandler, index) {
          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {
            self.eventsListeners[event].splice(index, 1);
          }
        });
      }
    });
    return self;
  },
  emit: function emit() {
    var self = this;
    if (!self.eventsListeners) return self;
    var events;
    var data;
    var context;

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    if (typeof args[0] === 'string' || Array.isArray(args[0])) {
      events = args[0];
      data = args.slice(1, args.length);
      context = self;
    } else {
      events = args[0].events;
      data = args[0].data;
      context = args[0].context || self;
    }

    data.unshift(context);
    var eventsArray = Array.isArray(events) ? events : events.split(' ');
    eventsArray.forEach(function (event) {
      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {
        self.eventsAnyListeners.forEach(function (eventHandler) {
          eventHandler.apply(context, [event].concat(data));
        });
      }

      if (self.eventsListeners && self.eventsListeners[event]) {
        self.eventsListeners[event].forEach(function (eventHandler) {
          eventHandler.apply(context, data);
        });
      }
    });
    return self;
  }
};
exports.default = _default;
},{}],23:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _onTouchStart = _interopRequireDefault(require("./onTouchStart"));

var _onTouchMove = _interopRequireDefault(require("./onTouchMove"));

var _onTouchEnd = _interopRequireDefault(require("./onTouchEnd"));

var _onResize = _interopRequireDefault(require("./onResize"));

var _onClick = _interopRequireDefault(require("./onClick"));

var _onScroll = _interopRequireDefault(require("./onScroll"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var dummyEventAttached = false;

function dummyEventListener() {}

function attachEvents() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      touchEvents = swiper.touchEvents,
      el = swiper.el,
      wrapperEl = swiper.wrapperEl,
      device = swiper.device,
      support = swiper.support;
  swiper.onTouchStart = _onTouchStart.default.bind(swiper);
  swiper.onTouchMove = _onTouchMove.default.bind(swiper);
  swiper.onTouchEnd = _onTouchEnd.default.bind(swiper);

  if (params.cssMode) {
    swiper.onScroll = _onScroll.default.bind(swiper);
  }

  swiper.onClick = _onClick.default.bind(swiper);
  var capture = !!params.nested; // Touch Events

  if (!support.touch && support.pointerEvents) {
    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);
    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);
    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);
  } else {
    if (support.touch) {
      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {
        passive: true,
        capture: false
      } : false;
      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {
        passive: false,
        capture: capture
      } : capture);
      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);

      if (touchEvents.cancel) {
        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);
      }

      if (!dummyEventAttached) {
        document.addEventListener('touchstart', dummyEventListener);
        dummyEventAttached = true;
      }
    }

    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {
      el.addEventListener('mousedown', swiper.onTouchStart, false);
      document.addEventListener('mousemove', swiper.onTouchMove, capture);
      document.addEventListener('mouseup', swiper.onTouchEnd, false);
    }
  } // Prevent Links Clicks


  if (params.preventClicks || params.preventClicksPropagation) {
    el.addEventListener('click', swiper.onClick, true);
  }

  if (params.cssMode) {
    wrapperEl.addEventListener('scroll', swiper.onScroll);
  } // Resize handler


  if (params.updateOnWindowResize) {
    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', _onResize.default, true);
  } else {
    swiper.on('observerUpdate', _onResize.default, true);
  }
}

function detachEvents() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      touchEvents = swiper.touchEvents,
      el = swiper.el,
      wrapperEl = swiper.wrapperEl,
      device = swiper.device,
      support = swiper.support;
  var capture = !!params.nested; // Touch Events

  if (!support.touch && support.pointerEvents) {
    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);
    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);
  } else {
    if (support.touch) {
      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {
        passive: true,
        capture: false
      } : false;
      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);

      if (touchEvents.cancel) {
        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);
      }
    }

    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {
      el.removeEventListener('mousedown', swiper.onTouchStart, false);
      document.removeEventListener('mousemove', swiper.onTouchMove, capture);
      document.removeEventListener('mouseup', swiper.onTouchEnd, false);
    }
  } // Prevent Links Clicks


  if (params.preventClicks || params.preventClicksPropagation) {
    el.removeEventListener('click', swiper.onClick, true);
  }

  if (params.cssMode) {
    wrapperEl.removeEventListener('scroll', swiper.onScroll);
  } // Resize handler


  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', _onResize.default);
}

var _default = {
  attachEvents: attachEvents,
  detachEvents: detachEvents
};
exports.default = _default;
},{"./onClick":24,"./onResize":25,"./onScroll":26,"./onTouchEnd":27,"./onTouchMove":28,"./onTouchStart":29,"ssr-window":9}],24:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onClick;

function onClick(e) {
  var swiper = this;
  if (!swiper.enabled) return;

  if (!swiper.allowClick) {
    if (swiper.params.preventClicks) e.preventDefault();

    if (swiper.params.preventClicksPropagation && swiper.animating) {
      e.stopPropagation();
      e.stopImmediatePropagation();
    }
  }
}
},{}],25:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onResize;

function onResize() {
  var swiper = this;
  var params = swiper.params,
      el = swiper.el;
  if (el && el.offsetWidth === 0) return; // Breakpoints

  if (params.breakpoints) {
    swiper.setBreakpoint();
  } // Save locks


  var allowSlideNext = swiper.allowSlideNext,
      allowSlidePrev = swiper.allowSlidePrev,
      snapGrid = swiper.snapGrid; // Disable locks on resize

  swiper.allowSlideNext = true;
  swiper.allowSlidePrev = true;
  swiper.updateSize();
  swiper.updateSlides();
  swiper.updateSlidesClasses();

  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {
    swiper.slideTo(swiper.slides.length - 1, 0, false, true);
  } else {
    swiper.slideTo(swiper.activeIndex, 0, false, true);
  }

  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {
    swiper.autoplay.run();
  } // Return locks after resize


  swiper.allowSlidePrev = allowSlidePrev;
  swiper.allowSlideNext = allowSlideNext;

  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {
    swiper.checkOverflow();
  }
}
},{}],26:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onScroll;

function onScroll() {
  var swiper = this;
  var wrapperEl = swiper.wrapperEl,
      rtlTranslate = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return;
  swiper.previousTranslate = swiper.translate;

  if (swiper.isHorizontal()) {
    if (rtlTranslate) {
      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;
    } else {
      swiper.translate = -wrapperEl.scrollLeft;
    }
  } else {
    swiper.translate = -wrapperEl.scrollTop;
  } // eslint-disable-next-line


  if (swiper.translate === -0) swiper.translate = 0;
  swiper.updateActiveIndex();
  swiper.updateSlidesClasses();
  var newProgress;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();

  if (translatesDiff === 0) {
    newProgress = 0;
  } else {
    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;
  }

  if (newProgress !== swiper.progress) {
    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);
  }

  swiper.emit('setTranslate', swiper.translate, false);
}
},{}],27:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchEnd;

var _utils = require("../../../utils/utils");

function onTouchEnd(event) {
  var swiper = this;
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      rtl = swiper.rtlTranslate,
      $wrapperEl = swiper.$wrapperEl,
      slidesGrid = swiper.slidesGrid,
      snapGrid = swiper.snapGrid,
      enabled = swiper.enabled;
  if (!enabled) return;
  var e = event;
  if (e.originalEvent) e = e.originalEvent;

  if (data.allowTouchCallbacks) {
    swiper.emit('touchEnd', e);
  }

  data.allowTouchCallbacks = false;

  if (!data.isTouched) {
    if (data.isMoved && params.grabCursor) {
      swiper.setGrabCursor(false);
    }

    data.isMoved = false;
    data.startMoving = false;
    return;
  } // Return Grab Cursor


  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
    swiper.setGrabCursor(false);
  } // Time diff


  var touchEndTime = (0, _utils.now)();
  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click

  if (swiper.allowClick) {
    swiper.updateClickedSlide(e);
    swiper.emit('tap click', e);

    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {
      swiper.emit('doubleTap doubleClick', e);
    }
  }

  data.lastClickTime = (0, _utils.now)();
  (0, _utils.nextTick)(function () {
    if (!swiper.destroyed) swiper.allowClick = true;
  });

  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {
    data.isTouched = false;
    data.isMoved = false;
    data.startMoving = false;
    return;
  }

  data.isTouched = false;
  data.isMoved = false;
  data.startMoving = false;
  var currentPos;

  if (params.followFinger) {
    currentPos = rtl ? swiper.translate : -swiper.translate;
  } else {
    currentPos = -data.currentTranslate;
  }

  if (params.cssMode) {
    return;
  }

  if (params.freeMode) {
    if (currentPos < -swiper.minTranslate()) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    if (currentPos > -swiper.maxTranslate()) {
      if (swiper.slides.length < snapGrid.length) {
        swiper.slideTo(snapGrid.length - 1);
      } else {
        swiper.slideTo(swiper.slides.length - 1);
      }

      return;
    }

    if (params.freeModeMomentum) {
      if (data.velocities.length > 1) {
        var lastMoveEvent = data.velocities.pop();
        var velocityEvent = data.velocities.pop();
        var distance = lastMoveEvent.position - velocityEvent.position;
        var time = lastMoveEvent.time - velocityEvent.time;
        swiper.velocity = distance / time;
        swiper.velocity /= 2;

        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {
          swiper.velocity = 0;
        } // this implies that the user stopped moving a finger then released.
        // There would be no events with distance zero, so the last event is stale.


        if (time > 150 || (0, _utils.now)() - lastMoveEvent.time > 300) {
          swiper.velocity = 0;
        }
      } else {
        swiper.velocity = 0;
      }

      swiper.velocity *= params.freeModeMomentumVelocityRatio;
      data.velocities.length = 0;
      var momentumDuration = 1000 * params.freeModeMomentumRatio;
      var momentumDistance = swiper.velocity * momentumDuration;
      var newPosition = swiper.translate + momentumDistance;
      if (rtl) newPosition = -newPosition;
      var doBounce = false;
      var afterBouncePosition;
      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;
      var needsLoopFix;

      if (newPosition < swiper.maxTranslate()) {
        if (params.freeModeMomentumBounce) {
          if (newPosition + swiper.maxTranslate() < -bounceAmount) {
            newPosition = swiper.maxTranslate() - bounceAmount;
          }

          afterBouncePosition = swiper.maxTranslate();
          doBounce = true;
          data.allowMomentumBounce = true;
        } else {
          newPosition = swiper.maxTranslate();
        }

        if (params.loop && params.centeredSlides) needsLoopFix = true;
      } else if (newPosition > swiper.minTranslate()) {
        if (params.freeModeMomentumBounce) {
          if (newPosition - swiper.minTranslate() > bounceAmount) {
            newPosition = swiper.minTranslate() + bounceAmount;
          }

          afterBouncePosition = swiper.minTranslate();
          doBounce = true;
          data.allowMomentumBounce = true;
        } else {
          newPosition = swiper.minTranslate();
        }

        if (params.loop && params.centeredSlides) needsLoopFix = true;
      } else if (params.freeModeSticky) {
        var nextSlide;

        for (var j = 0; j < snapGrid.length; j += 1) {
          if (snapGrid[j] > -newPosition) {
            nextSlide = j;
            break;
          }
        }

        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {
          newPosition = snapGrid[nextSlide];
        } else {
          newPosition = snapGrid[nextSlide - 1];
        }

        newPosition = -newPosition;
      }

      if (needsLoopFix) {
        swiper.once('transitionEnd', function () {
          swiper.loopFix();
        });
      } // Fix duration


      if (swiper.velocity !== 0) {
        if (rtl) {
          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);
        } else {
          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);
        }

        if (params.freeModeSticky) {
          // If freeModeSticky is active and the user ends a swipe with a slow-velocity
          // event, then durations can be 20+ seconds to slide one (or zero!) slides.
          // It's easy to see this when simulating touch with mouse events. To fix this,
          // limit single-slide swipes to the default slide duration. This also has the
          // nice side effect of matching slide speed if the user stopped moving before
          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.
          // For faster swipes, also apply limits (albeit higher ones).
          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);
          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];

          if (moveDistance < currentSlideSize) {
            momentumDuration = params.speed;
          } else if (moveDistance < 2 * currentSlideSize) {
            momentumDuration = params.speed * 1.5;
          } else {
            momentumDuration = params.speed * 2.5;
          }
        }
      } else if (params.freeModeSticky) {
        swiper.slideToClosest();
        return;
      }

      if (params.freeModeMomentumBounce && doBounce) {
        swiper.updateProgress(afterBouncePosition);
        swiper.setTransition(momentumDuration);
        swiper.setTranslate(newPosition);
        swiper.transitionStart(true, swiper.swipeDirection);
        swiper.animating = true;
        $wrapperEl.transitionEnd(function () {
          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;
          swiper.emit('momentumBounce');
          swiper.setTransition(params.speed);
          setTimeout(function () {
            swiper.setTranslate(afterBouncePosition);
            $wrapperEl.transitionEnd(function () {
              if (!swiper || swiper.destroyed) return;
              swiper.transitionEnd();
            });
          }, 0);
        });
      } else if (swiper.velocity) {
        swiper.updateProgress(newPosition);
        swiper.setTransition(momentumDuration);
        swiper.setTranslate(newPosition);
        swiper.transitionStart(true, swiper.swipeDirection);

        if (!swiper.animating) {
          swiper.animating = true;
          $wrapperEl.transitionEnd(function () {
            if (!swiper || swiper.destroyed) return;
            swiper.transitionEnd();
          });
        }
      } else {
        swiper.emit('_freeModeNoMomentumRelease');
        swiper.updateProgress(newPosition);
      }

      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    } else if (params.freeModeSticky) {
      swiper.slideToClosest();
      return;
    } else if (params.freeMode) {
      swiper.emit('_freeModeNoMomentumRelease');
    }

    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {
      swiper.updateProgress();
      swiper.updateActiveIndex();
      swiper.updateSlidesClasses();
    }

    return;
  } // Find current slide


  var stopIndex = 0;
  var groupSize = swiper.slidesSizesGrid[0];

  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {
    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;

    if (typeof slidesGrid[i + _increment] !== 'undefined') {
      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {
        stopIndex = i;
        groupSize = slidesGrid[i + _increment] - slidesGrid[i];
      }
    } else if (currentPos >= slidesGrid[i]) {
      stopIndex = i;
      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];
    }
  } // Find current slide size


  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;
  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;

  if (timeDiff > params.longSwipesMs) {
    // Long touches
    if (!params.longSwipes) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    if (swiper.swipeDirection === 'next') {
      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);
    }

    if (swiper.swipeDirection === 'prev') {
      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);
    }
  } else {
    // Short swipes
    if (!params.shortSwipes) {
      swiper.slideTo(swiper.activeIndex);
      return;
    }

    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);

    if (!isNavButtonTarget) {
      if (swiper.swipeDirection === 'next') {
        swiper.slideTo(stopIndex + increment);
      }

      if (swiper.swipeDirection === 'prev') {
        swiper.slideTo(stopIndex);
      }
    } else if (e.target === swiper.navigation.nextEl) {
      swiper.slideTo(stopIndex + increment);
    } else {
      swiper.slideTo(stopIndex);
    }
  }
}
},{"../../../utils/utils":97}],28:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchMove;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function onTouchMove(event) {
  var document = (0, _ssrWindow.getDocument)();
  var swiper = this;
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      rtl = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return;
  var e = event;
  if (e.originalEvent) e = e.originalEvent;

  if (!data.isTouched) {
    if (data.startMoving && data.isScrolling) {
      swiper.emit('touchMoveOpposite', e);
    }

    return;
  }

  if (data.isTouchEvent && e.type !== 'touchmove') return;
  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);
  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;
  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;

  if (e.preventedByNestedSwiper) {
    touches.startX = pageX;
    touches.startY = pageY;
    return;
  }

  if (!swiper.allowTouchMove) {
    // isMoved = true;
    swiper.allowClick = false;

    if (data.isTouched) {
      (0, _utils.extend)(touches, {
        startX: pageX,
        startY: pageY,
        currentX: pageX,
        currentY: pageY
      });
      data.touchStartTime = (0, _utils.now)();
    }

    return;
  }

  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {
    if (swiper.isVertical()) {
      // Vertical
      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {
        data.isTouched = false;
        data.isMoved = false;
        return;
      }
    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {
      return;
    }
  }

  if (data.isTouchEvent && document.activeElement) {
    if (e.target === document.activeElement && (0, _dom.default)(e.target).is(data.focusableElements)) {
      data.isMoved = true;
      swiper.allowClick = false;
      return;
    }
  }

  if (data.allowTouchCallbacks) {
    swiper.emit('touchMove', e);
  }

  if (e.targetTouches && e.targetTouches.length > 1) return;
  touches.currentX = pageX;
  touches.currentY = pageY;
  var diffX = touches.currentX - touches.startX;
  var diffY = touches.currentY - touches.startY;
  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;

  if (typeof data.isScrolling === 'undefined') {
    var touchAngle;

    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {
      data.isScrolling = false;
    } else {
      // eslint-disable-next-line
      if (diffX * diffX + diffY * diffY >= 25) {
        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;
        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;
      }
    }
  }

  if (data.isScrolling) {
    swiper.emit('touchMoveOpposite', e);
  }

  if (typeof data.startMoving === 'undefined') {
    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {
      data.startMoving = true;
    }
  }

  if (data.isScrolling) {
    data.isTouched = false;
    return;
  }

  if (!data.startMoving) {
    return;
  }

  swiper.allowClick = false;

  if (!params.cssMode && e.cancelable) {
    e.preventDefault();
  }

  if (params.touchMoveStopPropagation && !params.nested) {
    e.stopPropagation();
  }

  if (!data.isMoved) {
    if (params.loop) {
      swiper.loopFix();
    }

    data.startTranslate = swiper.getTranslate();
    swiper.setTransition(0);

    if (swiper.animating) {
      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');
    }

    data.allowMomentumBounce = false; // Grab Cursor

    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
      swiper.setGrabCursor(true);
    }

    swiper.emit('sliderFirstMove', e);
  }

  swiper.emit('sliderMove', e);
  data.isMoved = true;
  var diff = swiper.isHorizontal() ? diffX : diffY;
  touches.diff = diff;
  diff *= params.touchRatio;
  if (rtl) diff = -diff;
  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';
  data.currentTranslate = diff + data.startTranslate;
  var disableParentSwiper = true;
  var resistanceRatio = params.resistanceRatio;

  if (params.touchReleaseOnEdges) {
    resistanceRatio = 0;
  }

  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {
    disableParentSwiper = false;
    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);
  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {
    disableParentSwiper = false;
    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);
  }

  if (disableParentSwiper) {
    e.preventedByNestedSwiper = true;
  } // Directions locks


  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {
    data.currentTranslate = data.startTranslate;
  }

  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {
    data.currentTranslate = data.startTranslate;
  }

  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {
    data.currentTranslate = data.startTranslate;
  } // Threshold


  if (params.threshold > 0) {
    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {
      if (!data.allowThresholdMove) {
        data.allowThresholdMove = true;
        touches.startX = touches.currentX;
        touches.startY = touches.currentY;
        data.currentTranslate = data.startTranslate;
        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;
        return;
      }
    } else {
      data.currentTranslate = data.startTranslate;
      return;
    }
  }

  if (!params.followFinger || params.cssMode) return; // Update active index in free mode

  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  }

  if (params.freeMode) {
    // Velocity
    if (data.velocities.length === 0) {
      data.velocities.push({
        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],
        time: data.touchStartTime
      });
    }

    data.velocities.push({
      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],
      time: (0, _utils.now)()
    });
  } // Update progress


  swiper.updateProgress(data.currentTranslate); // Update translate

  swiper.setTranslate(data.currentTranslate);
}
},{"../../../utils/dom":93,"../../../utils/utils":97,"ssr-window":9}],29:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = onTouchStart;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd
function closestElement(selector, base) {
  if (base === void 0) {
    base = this;
  }

  function __closestFrom(el) {
    if (!el || el === (0, _ssrWindow.getDocument)() || el === (0, _ssrWindow.getWindow)()) return null;
    if (el.assignedSlot) el = el.assignedSlot;
    var found = el.closest(selector);
    return found || __closestFrom(el.getRootNode().host);
  }

  return __closestFrom(base);
}

function onTouchStart(event) {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var window = (0, _ssrWindow.getWindow)();
  var data = swiper.touchEventsData;
  var params = swiper.params,
      touches = swiper.touches,
      enabled = swiper.enabled;
  if (!enabled) return;

  if (swiper.animating && params.preventInteractionOnTransition) {
    return;
  }

  var e = event;
  if (e.originalEvent) e = e.originalEvent;
  var $targetEl = (0, _dom.default)(e.target);

  if (params.touchEventsTarget === 'wrapper') {
    if (!$targetEl.closest(swiper.wrapperEl).length) return;
  }

  data.isTouchEvent = e.type === 'touchstart';
  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;
  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;
  if (data.isTouched && data.isMoved) return; // change target el for shadow root component

  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';

  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {
    $targetEl = (0, _dom.default)(event.path[0]);
  }

  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : "." + params.noSwipingClass;
  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element

  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {
    swiper.allowClick = true;
    return;
  }

  if (params.swipeHandler) {
    if (!$targetEl.closest(params.swipeHandler)[0]) return;
  }

  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
  var startX = touches.currentX;
  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore

  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;
  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;

  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {
    if (edgeSwipeDetection === 'prevent') {
      event.preventDefault();
    } else {
      return;
    }
  }

  (0, _utils.extend)(data, {
    isTouched: true,
    isMoved: false,
    allowTouchCallbacks: true,
    isScrolling: undefined,
    startMoving: undefined
  });
  touches.startX = startX;
  touches.startY = startY;
  data.touchStartTime = (0, _utils.now)();
  swiper.allowClick = true;
  swiper.updateSize();
  swiper.swipeDirection = undefined;
  if (params.threshold > 0) data.allowThresholdMove = false;

  if (e.type !== 'touchstart') {
    var preventDefault = true;
    if ($targetEl.is(data.focusableElements)) preventDefault = false;

    if (document.activeElement && (0, _dom.default)(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {
      document.activeElement.blur();
    }

    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;

    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {
      e.preventDefault();
    }
  }

  swiper.emit('touchStart', e);
}
},{"../../../utils/dom":93,"../../../utils/utils":97,"ssr-window":9}],30:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setGrabCursor = _interopRequireDefault(require("./setGrabCursor"));

var _unsetGrabCursor = _interopRequireDefault(require("./unsetGrabCursor"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setGrabCursor: _setGrabCursor.default,
  unsetGrabCursor: _unsetGrabCursor.default
};
exports.default = _default;
},{"./setGrabCursor":31,"./unsetGrabCursor":32}],31:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setGrabCursor;

function setGrabCursor(moving) {
  var swiper = this;
  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;
  var el = swiper.el;
  el.style.cursor = 'move';
  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';
  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';
  el.style.cursor = moving ? 'grabbing' : 'grab';
}
},{}],32:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = unsetGrabCursor;

function unsetGrabCursor() {
  var swiper = this;

  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {
    return;
  }

  swiper.el.style.cursor = '';
}
},{}],33:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _loadImage = _interopRequireDefault(require("./loadImage"));

var _preloadImages = _interopRequireDefault(require("./preloadImages"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  loadImage: _loadImage.default,
  preloadImages: _preloadImages.default
};
exports.default = _default;
},{"./loadImage":34,"./preloadImages":35}],34:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loadImage;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {
  var window = (0, _ssrWindow.getWindow)();
  var image;

  function onReady() {
    if (callback) callback();
  }

  var isPicture = (0, _dom.default)(imageEl).parent('picture')[0];

  if (!isPicture && (!imageEl.complete || !checkForComplete)) {
    if (src) {
      image = new window.Image();
      image.onload = onReady;
      image.onerror = onReady;

      if (sizes) {
        image.sizes = sizes;
      }

      if (srcset) {
        image.srcset = srcset;
      }

      if (src) {
        image.src = src;
      }
    } else {
      onReady();
    }
  } else {
    // image already loaded...
    onReady();
  }
}
},{"../../../utils/dom":93,"ssr-window":9}],35:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = preloadImages;

function preloadImages() {
  var swiper = this;
  swiper.imagesToLoad = swiper.$el.find('img');

  function onReady() {
    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;
    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;

    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {
      if (swiper.params.updateOnImagesReady) swiper.update();
      swiper.emit('imagesReady');
    }
  }

  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {
    var imageEl = swiper.imagesToLoad[i];
    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);
  }
}
},{}],36:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _loopCreate = _interopRequireDefault(require("./loopCreate"));

var _loopFix = _interopRequireDefault(require("./loopFix"));

var _loopDestroy = _interopRequireDefault(require("./loopDestroy"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  loopCreate: _loopCreate.default,
  loopFix: _loopFix.default,
  loopDestroy: _loopDestroy.default
};
exports.default = _default;
},{"./loopCreate":37,"./loopDestroy":38,"./loopFix":39}],37:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopCreate;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function loopCreate() {
  var swiper = this;
  var document = (0, _ssrWindow.getDocument)();
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides

  $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass).remove();
  var slides = $wrapperEl.children("." + params.slideClass);

  if (params.loopFillGroupWithBlank) {
    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;

    if (blankSlidesNum !== params.slidesPerGroup) {
      for (var i = 0; i < blankSlidesNum; i += 1) {
        var blankNode = (0, _dom.default)(document.createElement('div')).addClass(params.slideClass + " " + params.slideBlankClass);
        $wrapperEl.append(blankNode);
      }

      slides = $wrapperEl.children("." + params.slideClass);
    }
  }

  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;
  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));
  swiper.loopedSlides += params.loopAdditionalSlides;

  if (swiper.loopedSlides > slides.length) {
    swiper.loopedSlides = slides.length;
  }

  var prependSlides = [];
  var appendSlides = [];
  slides.each(function (el, index) {
    var slide = (0, _dom.default)(el);

    if (index < swiper.loopedSlides) {
      appendSlides.push(el);
    }

    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {
      prependSlides.push(el);
    }

    slide.attr('data-swiper-slide-index', index);
  });

  for (var _i = 0; _i < appendSlides.length; _i += 1) {
    $wrapperEl.append((0, _dom.default)(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));
  }

  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {
    $wrapperEl.prepend((0, _dom.default)(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));
  }
}
},{"../../../utils/dom":93,"ssr-window":9}],38:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopDestroy;

function loopDestroy() {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params,
      slides = swiper.slides;
  $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + ",." + params.slideClass + "." + params.slideBlankClass).remove();
  slides.removeAttr('data-swiper-slide-index');
}
},{}],39:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = loopFix;

function loopFix() {
  var swiper = this;
  swiper.emit('beforeLoopFix');
  var activeIndex = swiper.activeIndex,
      slides = swiper.slides,
      loopedSlides = swiper.loopedSlides,
      allowSlidePrev = swiper.allowSlidePrev,
      allowSlideNext = swiper.allowSlideNext,
      snapGrid = swiper.snapGrid,
      rtl = swiper.rtlTranslate;
  var newIndex;
  swiper.allowSlidePrev = true;
  swiper.allowSlideNext = true;
  var snapTranslate = -snapGrid[activeIndex];
  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding

  if (activeIndex < loopedSlides) {
    newIndex = slides.length - loopedSlides * 3 + activeIndex;
    newIndex += loopedSlides;
    var slideChanged = swiper.slideTo(newIndex, 0, false, true);

    if (slideChanged && diff !== 0) {
      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
    }
  } else if (activeIndex >= slides.length - loopedSlides) {
    // Fix For Positive Oversliding
    newIndex = -slides.length + activeIndex + loopedSlides;
    newIndex += loopedSlides;

    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);

    if (_slideChanged && diff !== 0) {
      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
    }
  }

  swiper.allowSlidePrev = allowSlidePrev;
  swiper.allowSlideNext = allowSlideNext;
  swiper.emit('loopFix');
}
},{}],40:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = addSlide;

function addSlide(index, slides) {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params,
      activeIndex = swiper.activeIndex;
  var activeIndexBuffer = activeIndex;

  if (params.loop) {
    activeIndexBuffer -= swiper.loopedSlides;
    swiper.loopDestroy();
    swiper.slides = $wrapperEl.children("." + params.slideClass);
  }

  var baseLength = swiper.slides.length;

  if (index <= 0) {
    swiper.prependSlide(slides);
    return;
  }

  if (index >= baseLength) {
    swiper.appendSlide(slides);
    return;
  }

  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;
  var slidesBuffer = [];

  for (var i = baseLength - 1; i >= index; i -= 1) {
    var currentSlide = swiper.slides.eq(i);
    currentSlide.remove();
    slidesBuffer.unshift(currentSlide);
  }

  if (typeof slides === 'object' && 'length' in slides) {
    for (var _i = 0; _i < slides.length; _i += 1) {
      if (slides[_i]) $wrapperEl.append(slides[_i]);
    }

    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;
  } else {
    $wrapperEl.append(slides);
  }

  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {
    $wrapperEl.append(slidesBuffer[_i2]);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  if (params.loop) {
    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);
  } else {
    swiper.slideTo(newActiveIndex, 0, false);
  }
}
},{}],41:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = appendSlide;

function appendSlide(slides) {
  var swiper = this;
  var $wrapperEl = swiper.$wrapperEl,
      params = swiper.params;

  if (params.loop) {
    swiper.loopDestroy();
  }

  if (typeof slides === 'object' && 'length' in slides) {
    for (var i = 0; i < slides.length; i += 1) {
      if (slides[i]) $wrapperEl.append(slides[i]);
    }
  } else {
    $wrapperEl.append(slides);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }
}
},{}],42:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _appendSlide = _interopRequireDefault(require("./appendSlide"));

var _prependSlide = _interopRequireDefault(require("./prependSlide"));

var _addSlide = _interopRequireDefault(require("./addSlide"));

var _removeSlide = _interopRequireDefault(require("./removeSlide"));

var _removeAllSlides = _interopRequireDefault(require("./removeAllSlides"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  appendSlide: _appendSlide.default,
  prependSlide: _prependSlide.default,
  addSlide: _addSlide.default,
  removeSlide: _removeSlide.default,
  removeAllSlides: _removeAllSlides.default
};
exports.default = _default;
},{"./addSlide":40,"./appendSlide":41,"./prependSlide":43,"./removeAllSlides":44,"./removeSlide":45}],43:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = prependSlide;

function prependSlide(slides) {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex;

  if (params.loop) {
    swiper.loopDestroy();
  }

  var newActiveIndex = activeIndex + 1;

  if (typeof slides === 'object' && 'length' in slides) {
    for (var i = 0; i < slides.length; i += 1) {
      if (slides[i]) $wrapperEl.prepend(slides[i]);
    }

    newActiveIndex = activeIndex + slides.length;
  } else {
    $wrapperEl.prepend(slides);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  swiper.slideTo(newActiveIndex, 0, false);
}
},{}],44:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeAllSlides;

function removeAllSlides() {
  var swiper = this;
  var slidesIndexes = [];

  for (var i = 0; i < swiper.slides.length; i += 1) {
    slidesIndexes.push(i);
  }

  swiper.removeSlide(slidesIndexes);
}
},{}],45:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = removeSlide;

function removeSlide(slidesIndexes) {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex;
  var activeIndexBuffer = activeIndex;

  if (params.loop) {
    activeIndexBuffer -= swiper.loopedSlides;
    swiper.loopDestroy();
    swiper.slides = $wrapperEl.children("." + params.slideClass);
  }

  var newActiveIndex = activeIndexBuffer;
  var indexToRemove;

  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {
    for (var i = 0; i < slidesIndexes.length; i += 1) {
      indexToRemove = slidesIndexes[i];
      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();
      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;
    }

    newActiveIndex = Math.max(newActiveIndex, 0);
  } else {
    indexToRemove = slidesIndexes;
    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();
    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;
    newActiveIndex = Math.max(newActiveIndex, 0);
  }

  if (params.loop) {
    swiper.loopCreate();
  }

  if (!(params.observer && swiper.support.observer)) {
    swiper.update();
  }

  if (params.loop) {
    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);
  } else {
    swiper.slideTo(newActiveIndex, 0, false);
  }
}
},{}],46:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

var _default = {
  useParams: function useParams(instanceParams) {
    var instance = this;
    if (!instance.modules) return;
    Object.keys(instance.modules).forEach(function (moduleName) {
      var module = instance.modules[moduleName]; // Extend params

      if (module.params) {
        (0, _utils.extend)(instanceParams, module.params);
      }
    });
  },
  useModules: function useModules(modulesParams) {
    if (modulesParams === void 0) {
      modulesParams = {};
    }

    var instance = this;
    if (!instance.modules) return;
    Object.keys(instance.modules).forEach(function (moduleName) {
      var module = instance.modules[moduleName];
      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners

      if (module.on && instance.on) {
        Object.keys(module.on).forEach(function (moduleEventName) {
          instance.on(moduleEventName, module.on[moduleEventName]);
        });
      } // Module create callback


      if (module.create) {
        module.create.bind(instance)(moduleParams);
      }
    });
  }
};
exports.default = _default;
},{"../../utils/utils":97}],47:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _slideTo = _interopRequireDefault(require("./slideTo"));

var _slideToLoop = _interopRequireDefault(require("./slideToLoop"));

var _slideNext = _interopRequireDefault(require("./slideNext"));

var _slidePrev = _interopRequireDefault(require("./slidePrev"));

var _slideReset = _interopRequireDefault(require("./slideReset"));

var _slideToClosest = _interopRequireDefault(require("./slideToClosest"));

var _slideToClickedSlide = _interopRequireDefault(require("./slideToClickedSlide"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  slideTo: _slideTo.default,
  slideToLoop: _slideToLoop.default,
  slideNext: _slideNext.default,
  slidePrev: _slidePrev.default,
  slideReset: _slideReset.default,
  slideToClosest: _slideToClosest.default,
  slideToClickedSlide: _slideToClickedSlide.default
};
exports.default = _default;
},{"./slideNext":48,"./slidePrev":49,"./slideReset":50,"./slideTo":51,"./slideToClickedSlide":52,"./slideToClosest":53,"./slideToLoop":54}],48:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideNext;

/* eslint no-unused-vars: "off" */
function slideNext(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var params = swiper.params,
      animating = swiper.animating,
      enabled = swiper.enabled;
  if (!enabled) return swiper;
  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;

  if (params.loop) {
    if (animating && params.loopPreventsSlide) return false;
    swiper.loopFix(); // eslint-disable-next-line

    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
  }

  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);
}
},{}],49:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slidePrev;

/* eslint no-unused-vars: "off" */
function slidePrev(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var params = swiper.params,
      animating = swiper.animating,
      snapGrid = swiper.snapGrid,
      slidesGrid = swiper.slidesGrid,
      rtlTranslate = swiper.rtlTranslate,
      enabled = swiper.enabled;
  if (!enabled) return swiper;

  if (params.loop) {
    if (animating && params.loopPreventsSlide) return false;
    swiper.loopFix(); // eslint-disable-next-line

    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
  }

  var translate = rtlTranslate ? swiper.translate : -swiper.translate;

  function normalize(val) {
    if (val < 0) return -Math.floor(Math.abs(val));
    return Math.floor(val);
  }

  var normalizedTranslate = normalize(translate);
  var normalizedSnapGrid = snapGrid.map(function (val) {
    return normalize(val);
  });
  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];

  if (typeof prevSnap === 'undefined' && params.cssMode) {
    snapGrid.forEach(function (snap) {
      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;
    });
  }

  var prevIndex;

  if (typeof prevSnap !== 'undefined') {
    prevIndex = slidesGrid.indexOf(prevSnap);
    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;
  }

  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);
}
},{}],50:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideReset;

/* eslint no-unused-vars: "off" */
function slideReset(speed, runCallbacks, internal) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);
}
},{}],51:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideTo;

function slideTo(index, speed, runCallbacks, internal, initial) {
  if (index === void 0) {
    index = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (typeof index !== 'number' && typeof index !== 'string') {
    throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [" + typeof index + "] given.");
  }

  if (typeof index === 'string') {
    /**
     * The `index` argument converted from `string` to `number`.
     * @type {number}
     */
    var indexAsNumber = parseInt(index, 10);
    /**
     * Determines whether the `index` argument is a valid `number`
     * after being converted from the `string` type.
     * @type {boolean}
     */

    var isValidNumber = isFinite(indexAsNumber);

    if (!isValidNumber) {
      throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [" + index + "] given.");
    } // Knowing that the converted `index` is a valid number,
    // we can update the original argument's value.


    index = indexAsNumber;
  }

  var swiper = this;
  var slideIndex = index;
  if (slideIndex < 0) slideIndex = 0;
  var params = swiper.params,
      snapGrid = swiper.snapGrid,
      slidesGrid = swiper.slidesGrid,
      previousIndex = swiper.previousIndex,
      activeIndex = swiper.activeIndex,
      rtl = swiper.rtlTranslate,
      wrapperEl = swiper.wrapperEl,
      enabled = swiper.enabled;

  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {
    return false;
  }

  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);
  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);
  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;

  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {
    swiper.emit('beforeSlideChangeStart');
  }

  var translate = -snapGrid[snapIndex]; // Update progress

  swiper.updateProgress(translate); // Normalize slideIndex

  if (params.normalizeSlideIndex) {
    for (var i = 0; i < slidesGrid.length; i += 1) {
      var normalizedTranslate = -Math.floor(translate * 100);
      var normalizedGird = Math.floor(slidesGrid[i] * 100);
      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);

      if (typeof slidesGrid[i + 1] !== 'undefined') {
        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {
          slideIndex = i;
        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {
          slideIndex = i + 1;
        }
      } else if (normalizedTranslate >= normalizedGird) {
        slideIndex = i;
      }
    }
  } // Directions locks


  if (swiper.initialized && slideIndex !== activeIndex) {
    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {
      return false;
    }

    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {
      if ((activeIndex || 0) !== slideIndex) return false;
    }
  }

  var direction;
  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index

  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {
    swiper.updateActiveIndex(slideIndex); // Update Height

    if (params.autoHeight) {
      swiper.updateAutoHeight();
    }

    swiper.updateSlidesClasses();

    if (params.effect !== 'slide') {
      swiper.setTranslate(translate);
    }

    if (direction !== 'reset') {
      swiper.transitionStart(runCallbacks, direction);
      swiper.transitionEnd(runCallbacks, direction);
    }

    return false;
  }

  if (params.cssMode) {
    var isH = swiper.isHorizontal();
    var t = -translate;

    if (rtl) {
      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;
    }

    if (speed === 0) {
      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;
    } else {
      // eslint-disable-next-line
      if (wrapperEl.scrollTo) {
        var _wrapperEl$scrollTo;

        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));
      } else {
        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;
      }
    }

    return true;
  }

  if (speed === 0) {
    swiper.setTransition(0);
    swiper.setTranslate(translate);
    swiper.updateActiveIndex(slideIndex);
    swiper.updateSlidesClasses();
    swiper.emit('beforeTransitionStart', speed, internal);
    swiper.transitionStart(runCallbacks, direction);
    swiper.transitionEnd(runCallbacks, direction);
  } else {
    swiper.setTransition(speed);
    swiper.setTranslate(translate);
    swiper.updateActiveIndex(slideIndex);
    swiper.updateSlidesClasses();
    swiper.emit('beforeTransitionStart', speed, internal);
    swiper.transitionStart(runCallbacks, direction);

    if (!swiper.animating) {
      swiper.animating = true;

      if (!swiper.onSlideToWrapperTransitionEnd) {
        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {
          if (!swiper || swiper.destroyed) return;
          if (e.target !== this) return;
          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);
          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);
          swiper.onSlideToWrapperTransitionEnd = null;
          delete swiper.onSlideToWrapperTransitionEnd;
          swiper.transitionEnd(runCallbacks, direction);
        };
      }

      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);
      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);
    }
  }

  return true;
}
},{}],52:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToClickedSlide;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

var _utils = require("../../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function slideToClickedSlide() {
  var swiper = this;
  var params = swiper.params,
      $wrapperEl = swiper.$wrapperEl;
  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;
  var slideToIndex = swiper.clickedIndex;
  var realIndex;

  if (params.loop) {
    if (swiper.animating) return;
    realIndex = parseInt((0, _dom.default)(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);

    if (params.centeredSlides) {
      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {
        swiper.loopFix();
        slideToIndex = $wrapperEl.children("." + params.slideClass + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + params.slideDuplicateClass + ")").eq(0).index();
        (0, _utils.nextTick)(function () {
          swiper.slideTo(slideToIndex);
        });
      } else {
        swiper.slideTo(slideToIndex);
      }
    } else if (slideToIndex > swiper.slides.length - slidesPerView) {
      swiper.loopFix();
      slideToIndex = $wrapperEl.children("." + params.slideClass + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + params.slideDuplicateClass + ")").eq(0).index();
      (0, _utils.nextTick)(function () {
        swiper.slideTo(slideToIndex);
      });
    } else {
      swiper.slideTo(slideToIndex);
    }
  } else {
    swiper.slideTo(slideToIndex);
  }
}
},{"../../../utils/dom":93,"../../../utils/utils":97}],53:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToClosest;

/* eslint no-unused-vars: "off" */
function slideToClosest(speed, runCallbacks, internal, threshold) {
  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (threshold === void 0) {
    threshold = 0.5;
  }

  var swiper = this;
  var index = swiper.activeIndex;
  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);
  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);
  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;

  if (translate >= swiper.snapGrid[snapIndex]) {
    // The current translate is on or after the current snap index, so the choice
    // is between the current index and the one after it.
    var currentSnap = swiper.snapGrid[snapIndex];
    var nextSnap = swiper.snapGrid[snapIndex + 1];

    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {
      index += swiper.params.slidesPerGroup;
    }
  } else {
    // The current translate is before the current snap index, so the choice
    // is between the current index and the one before it.
    var prevSnap = swiper.snapGrid[snapIndex - 1];
    var _currentSnap = swiper.snapGrid[snapIndex];

    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {
      index -= swiper.params.slidesPerGroup;
    }
  }

  index = Math.max(index, 0);
  index = Math.min(index, swiper.slidesGrid.length - 1);
  return swiper.slideTo(index, speed, runCallbacks, internal);
}
},{}],54:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = slideToLoop;

function slideToLoop(index, speed, runCallbacks, internal) {
  if (index === void 0) {
    index = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var newIndex = index;

  if (swiper.params.loop) {
    newIndex += swiper.loopedSlides;
  }

  return swiper.slideTo(newIndex, speed, runCallbacks, internal);
}
},{}],55:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _setTransition = _interopRequireDefault(require("./setTransition"));

var _transitionStart = _interopRequireDefault(require("./transitionStart"));

var _transitionEnd = _interopRequireDefault(require("./transitionEnd"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  setTransition: _setTransition.default,
  transitionStart: _transitionStart.default,
  transitionEnd: _transitionEnd.default
};
exports.default = _default;
},{"./setTransition":56,"./transitionEnd":57,"./transitionStart":58}],56:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setTransition;

function setTransition(duration, byController) {
  var swiper = this;

  if (!swiper.params.cssMode) {
    swiper.$wrapperEl.transition(duration);
  }

  swiper.emit('setTransition', duration, byController);
}
},{}],57:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = transitionEnd;

function transitionEnd(runCallbacks, direction) {
  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var activeIndex = swiper.activeIndex,
      previousIndex = swiper.previousIndex,
      params = swiper.params;
  swiper.animating = false;
  if (params.cssMode) return;
  swiper.setTransition(0);
  var dir = direction;

  if (!dir) {
    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';
  }

  swiper.emit('transitionEnd');

  if (runCallbacks && activeIndex !== previousIndex) {
    if (dir === 'reset') {
      swiper.emit('slideResetTransitionEnd');
      return;
    }

    swiper.emit('slideChangeTransitionEnd');

    if (dir === 'next') {
      swiper.emit('slideNextTransitionEnd');
    } else {
      swiper.emit('slidePrevTransitionEnd');
    }
  }
}
},{}],58:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = transitionStart;

function transitionStart(runCallbacks, direction) {
  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  var swiper = this;
  var activeIndex = swiper.activeIndex,
      params = swiper.params,
      previousIndex = swiper.previousIndex;
  if (params.cssMode) return;

  if (params.autoHeight) {
    swiper.updateAutoHeight();
  }

  var dir = direction;

  if (!dir) {
    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';
  }

  swiper.emit('transitionStart');

  if (runCallbacks && activeIndex !== previousIndex) {
    if (dir === 'reset') {
      swiper.emit('slideResetTransitionStart');
      return;
    }

    swiper.emit('slideChangeTransitionStart');

    if (dir === 'next') {
      swiper.emit('slideNextTransitionStart');
    } else {
      swiper.emit('slidePrevTransitionStart');
    }
  }
}
},{}],59:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = getSwiperTranslate;

var _utils = require("../../../utils/utils");

function getSwiperTranslate(axis) {
  if (axis === void 0) {
    axis = this.isHorizontal() ? 'x' : 'y';
  }

  var swiper = this;
  var params = swiper.params,
      rtl = swiper.rtlTranslate,
      translate = swiper.translate,
      $wrapperEl = swiper.$wrapperEl;

  if (params.virtualTranslate) {
    return rtl ? -translate : translate;
  }

  if (params.cssMode) {
    return translate;
  }

  var currentTranslate = (0, _utils.getTranslate)($wrapperEl[0], axis);
  if (rtl) currentTranslate = -currentTranslate;
  return currentTranslate || 0;
}
},{"../../../utils/utils":97}],60:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _getTranslate = _interopRequireDefault(require("./getTranslate"));

var _setTranslate = _interopRequireDefault(require("./setTranslate"));

var _minTranslate = _interopRequireDefault(require("./minTranslate"));

var _maxTranslate = _interopRequireDefault(require("./maxTranslate"));

var _translateTo = _interopRequireDefault(require("./translateTo"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  getTranslate: _getTranslate.default,
  setTranslate: _setTranslate.default,
  minTranslate: _minTranslate.default,
  maxTranslate: _maxTranslate.default,
  translateTo: _translateTo.default
};
exports.default = _default;
},{"./getTranslate":59,"./maxTranslate":61,"./minTranslate":62,"./setTranslate":63,"./translateTo":64}],61:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = maxTranslate;

function maxTranslate() {
  return -this.snapGrid[this.snapGrid.length - 1];
}
},{}],62:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = minTranslate;

function minTranslate() {
  return -this.snapGrid[0];
}
},{}],63:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = setTranslate;

function setTranslate(translate, byController) {
  var swiper = this;
  var rtl = swiper.rtlTranslate,
      params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      wrapperEl = swiper.wrapperEl,
      progress = swiper.progress;
  var x = 0;
  var y = 0;
  var z = 0;

  if (swiper.isHorizontal()) {
    x = rtl ? -translate : translate;
  } else {
    y = translate;
  }

  if (params.roundLengths) {
    x = Math.floor(x);
    y = Math.floor(y);
  }

  if (params.cssMode) {
    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;
  } else if (!params.virtualTranslate) {
    $wrapperEl.transform("translate3d(" + x + "px, " + y + "px, " + z + "px)");
  }

  swiper.previousTranslate = swiper.translate;
  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress

  var newProgress;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();

  if (translatesDiff === 0) {
    newProgress = 0;
  } else {
    newProgress = (translate - swiper.minTranslate()) / translatesDiff;
  }

  if (newProgress !== progress) {
    swiper.updateProgress(translate);
  }

  swiper.emit('setTranslate', swiper.translate, byController);
}
},{}],64:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = translateTo;

function translateTo(translate, speed, runCallbacks, translateBounds, internal) {
  if (translate === void 0) {
    translate = 0;
  }

  if (speed === void 0) {
    speed = this.params.speed;
  }

  if (runCallbacks === void 0) {
    runCallbacks = true;
  }

  if (translateBounds === void 0) {
    translateBounds = true;
  }

  var swiper = this;
  var params = swiper.params,
      wrapperEl = swiper.wrapperEl;

  if (swiper.animating && params.preventInteractionOnTransition) {
    return false;
  }

  var minTranslate = swiper.minTranslate();
  var maxTranslate = swiper.maxTranslate();
  var newTranslate;
  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress

  swiper.updateProgress(newTranslate);

  if (params.cssMode) {
    var isH = swiper.isHorizontal();

    if (speed === 0) {
      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;
    } else {
      // eslint-disable-next-line
      if (wrapperEl.scrollTo) {
        var _wrapperEl$scrollTo;

        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));
      } else {
        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;
      }
    }

    return true;
  }

  if (speed === 0) {
    swiper.setTransition(0);
    swiper.setTranslate(newTranslate);

    if (runCallbacks) {
      swiper.emit('beforeTransitionStart', speed, internal);
      swiper.emit('transitionEnd');
    }
  } else {
    swiper.setTransition(speed);
    swiper.setTranslate(newTranslate);

    if (runCallbacks) {
      swiper.emit('beforeTransitionStart', speed, internal);
      swiper.emit('transitionStart');
    }

    if (!swiper.animating) {
      swiper.animating = true;

      if (!swiper.onTranslateToWrapperTransitionEnd) {
        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {
          if (!swiper || swiper.destroyed) return;
          if (e.target !== this) return;
          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);
          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);
          swiper.onTranslateToWrapperTransitionEnd = null;
          delete swiper.onTranslateToWrapperTransitionEnd;

          if (runCallbacks) {
            swiper.emit('transitionEnd');
          }
        };
      }

      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);
      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);
    }
  }

  return true;
}
},{}],65:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _updateSize = _interopRequireDefault(require("./updateSize"));

var _updateSlides = _interopRequireDefault(require("./updateSlides"));

var _updateAutoHeight = _interopRequireDefault(require("./updateAutoHeight"));

var _updateSlidesOffset = _interopRequireDefault(require("./updateSlidesOffset"));

var _updateSlidesProgress = _interopRequireDefault(require("./updateSlidesProgress"));

var _updateProgress = _interopRequireDefault(require("./updateProgress"));

var _updateSlidesClasses = _interopRequireDefault(require("./updateSlidesClasses"));

var _updateActiveIndex = _interopRequireDefault(require("./updateActiveIndex"));

var _updateClickedSlide = _interopRequireDefault(require("./updateClickedSlide"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  updateSize: _updateSize.default,
  updateSlides: _updateSlides.default,
  updateAutoHeight: _updateAutoHeight.default,
  updateSlidesOffset: _updateSlidesOffset.default,
  updateSlidesProgress: _updateSlidesProgress.default,
  updateProgress: _updateProgress.default,
  updateSlidesClasses: _updateSlidesClasses.default,
  updateActiveIndex: _updateActiveIndex.default,
  updateClickedSlide: _updateClickedSlide.default
};
exports.default = _default;
},{"./updateActiveIndex":66,"./updateAutoHeight":67,"./updateClickedSlide":68,"./updateProgress":69,"./updateSize":70,"./updateSlides":71,"./updateSlidesClasses":72,"./updateSlidesOffset":73,"./updateSlidesProgress":74}],66:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateActiveIndex;

var _utils = require("../../../utils/utils");

function updateActiveIndex(newActiveIndex) {
  var swiper = this;
  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;
  var slidesGrid = swiper.slidesGrid,
      snapGrid = swiper.snapGrid,
      params = swiper.params,
      previousIndex = swiper.activeIndex,
      previousRealIndex = swiper.realIndex,
      previousSnapIndex = swiper.snapIndex;
  var activeIndex = newActiveIndex;
  var snapIndex;

  if (typeof activeIndex === 'undefined') {
    for (var i = 0; i < slidesGrid.length; i += 1) {
      if (typeof slidesGrid[i + 1] !== 'undefined') {
        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {
          activeIndex = i;
        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {
          activeIndex = i + 1;
        }
      } else if (translate >= slidesGrid[i]) {
        activeIndex = i;
      }
    } // Normalize slideIndex


    if (params.normalizeSlideIndex) {
      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;
    }
  }

  if (snapGrid.indexOf(translate) >= 0) {
    snapIndex = snapGrid.indexOf(translate);
  } else {
    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);
    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);
  }

  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;

  if (activeIndex === previousIndex) {
    if (snapIndex !== previousSnapIndex) {
      swiper.snapIndex = snapIndex;
      swiper.emit('snapIndexChange');
    }

    return;
  } // Get real index


  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);
  (0, _utils.extend)(swiper, {
    snapIndex: snapIndex,
    realIndex: realIndex,
    previousIndex: previousIndex,
    activeIndex: activeIndex
  });
  swiper.emit('activeIndexChange');
  swiper.emit('snapIndexChange');

  if (previousRealIndex !== realIndex) {
    swiper.emit('realIndexChange');
  }

  if (swiper.initialized || swiper.params.runCallbacksOnInit) {
    swiper.emit('slideChange');
  }
}
},{"../../../utils/utils":97}],67:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateAutoHeight;

function updateAutoHeight(speed) {
  var swiper = this;
  var activeSlides = [];
  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
  var newHeight = 0;
  var i;

  if (typeof speed === 'number') {
    swiper.setTransition(speed);
  } else if (speed === true) {
    swiper.setTransition(swiper.params.speed);
  }

  var getSlideByIndex = function getSlideByIndex(index) {
    if (isVirtual) {
      return swiper.slides.filter(function (el) {
        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;
      })[0];
    }

    return swiper.slides.eq(index)[0];
  }; // Find slides currently in view


  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {
    if (swiper.params.centeredSlides) {
      swiper.visibleSlides.each(function (slide) {
        activeSlides.push(slide);
      });
    } else {
      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {
        var index = swiper.activeIndex + i;
        if (index > swiper.slides.length && !isVirtual) break;
        activeSlides.push(getSlideByIndex(index));
      }
    }
  } else {
    activeSlides.push(getSlideByIndex(swiper.activeIndex));
  } // Find new height from highest slide in view


  for (i = 0; i < activeSlides.length; i += 1) {
    if (typeof activeSlides[i] !== 'undefined') {
      var height = activeSlides[i].offsetHeight;
      newHeight = height > newHeight ? height : newHeight;
    }
  } // Update Height


  if (newHeight) swiper.$wrapperEl.css('height', newHeight + "px");
}
},{}],68:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateClickedSlide;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateClickedSlide(e) {
  var swiper = this;
  var params = swiper.params;
  var slide = (0, _dom.default)(e.target).closest("." + params.slideClass)[0];
  var slideFound = false;
  var slideIndex;

  if (slide) {
    for (var i = 0; i < swiper.slides.length; i += 1) {
      if (swiper.slides[i] === slide) {
        slideFound = true;
        slideIndex = i;
        break;
      }
    }
  }

  if (slide && slideFound) {
    swiper.clickedSlide = slide;

    if (swiper.virtual && swiper.params.virtual.enabled) {
      swiper.clickedIndex = parseInt((0, _dom.default)(slide).attr('data-swiper-slide-index'), 10);
    } else {
      swiper.clickedIndex = slideIndex;
    }
  } else {
    swiper.clickedSlide = undefined;
    swiper.clickedIndex = undefined;
    return;
  }

  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {
    swiper.slideToClickedSlide();
  }
}
},{"../../../utils/dom":93}],69:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateProgress;

var _utils = require("../../../utils/utils");

function updateProgress(translate) {
  var swiper = this;

  if (typeof translate === 'undefined') {
    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line

    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;
  }

  var params = swiper.params;
  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
  var progress = swiper.progress,
      isBeginning = swiper.isBeginning,
      isEnd = swiper.isEnd;
  var wasBeginning = isBeginning;
  var wasEnd = isEnd;

  if (translatesDiff === 0) {
    progress = 0;
    isBeginning = true;
    isEnd = true;
  } else {
    progress = (translate - swiper.minTranslate()) / translatesDiff;
    isBeginning = progress <= 0;
    isEnd = progress >= 1;
  }

  (0, _utils.extend)(swiper, {
    progress: progress,
    isBeginning: isBeginning,
    isEnd: isEnd
  });
  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);

  if (isBeginning && !wasBeginning) {
    swiper.emit('reachBeginning toEdge');
  }

  if (isEnd && !wasEnd) {
    swiper.emit('reachEnd toEdge');
  }

  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {
    swiper.emit('fromEdge');
  }

  swiper.emit('progress', progress);
}
},{"../../../utils/utils":97}],70:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSize;

var _utils = require("../../../utils/utils");

function updateSize() {
  var swiper = this;
  var width;
  var height;
  var $el = swiper.$el;

  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {
    width = swiper.params.width;
  } else {
    width = $el[0].clientWidth;
  }

  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {
    height = swiper.params.height;
  } else {
    height = $el[0].clientHeight;
  }

  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {
    return;
  } // Subtract paddings


  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);
  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);
  if (Number.isNaN(width)) width = 0;
  if (Number.isNaN(height)) height = 0;
  (0, _utils.extend)(swiper, {
    width: width,
    height: height,
    size: swiper.isHorizontal() ? width : height
  });
}
},{"../../../utils/utils":97}],71:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlides;

var _utils = require("../../../utils/utils");

function updateSlides() {
  var swiper = this;

  function getDirectionLabel(property) {
    if (swiper.isHorizontal()) {
      return property;
    } // prettier-ignore


    return {
      'width': 'height',
      'margin-top': 'margin-left',
      'margin-bottom ': 'margin-right',
      'margin-left': 'margin-top',
      'margin-right': 'margin-bottom',
      'padding-left': 'padding-top',
      'padding-right': 'padding-bottom',
      'marginRight': 'marginBottom'
    }[property];
  }

  function getDirectionPropertyValue(node, label) {
    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);
  }

  var params = swiper.params;
  var $wrapperEl = swiper.$wrapperEl,
      swiperSize = swiper.size,
      rtl = swiper.rtlTranslate,
      wrongRTL = swiper.wrongRTL;
  var isVirtual = swiper.virtual && params.virtual.enabled;
  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;
  var slides = $wrapperEl.children("." + swiper.params.slideClass);
  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;
  var snapGrid = [];
  var slidesGrid = [];
  var slidesSizesGrid = [];
  var offsetBefore = params.slidesOffsetBefore;

  if (typeof offsetBefore === 'function') {
    offsetBefore = params.slidesOffsetBefore.call(swiper);
  }

  var offsetAfter = params.slidesOffsetAfter;

  if (typeof offsetAfter === 'function') {
    offsetAfter = params.slidesOffsetAfter.call(swiper);
  }

  var previousSnapGridLength = swiper.snapGrid.length;
  var previousSlidesGridLength = swiper.slidesGrid.length;
  var spaceBetween = params.spaceBetween;
  var slidePosition = -offsetBefore;
  var prevSlideSize = 0;
  var index = 0;

  if (typeof swiperSize === 'undefined') {
    return;
  }

  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {
    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;
  }

  swiper.virtualSize = -spaceBetween; // reset margins

  if (rtl) slides.css({
    marginLeft: '',
    marginBottom: '',
    marginTop: ''
  });else slides.css({
    marginRight: '',
    marginBottom: '',
    marginTop: ''
  });
  var slidesNumberEvenToRows;

  if (params.slidesPerColumn > 1) {
    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {
      slidesNumberEvenToRows = slidesLength;
    } else {
      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;
    }

    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {
      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);
    }
  } // Calc slides


  var slideSize;
  var slidesPerColumn = params.slidesPerColumn;
  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;
  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);

  for (var i = 0; i < slidesLength; i += 1) {
    slideSize = 0;
    var slide = slides.eq(i);

    if (params.slidesPerColumn > 1) {
      // Set slides order
      var newSlideOrderIndex = void 0;
      var column = void 0;
      var row = void 0;

      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {
        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));
        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;
        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);
        row = Math.floor(slideIndexInGroup / columnsInGroup);
        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;
        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;
        slide.css({
          '-webkit-box-ordinal-group': newSlideOrderIndex,
          '-moz-box-ordinal-group': newSlideOrderIndex,
          '-ms-flex-order': newSlideOrderIndex,
          '-webkit-order': newSlideOrderIndex,
          order: newSlideOrderIndex
        });
      } else if (params.slidesPerColumnFill === 'column') {
        column = Math.floor(i / slidesPerColumn);
        row = i - column * slidesPerColumn;

        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {
          row += 1;

          if (row >= slidesPerColumn) {
            row = 0;
            column += 1;
          }
        }
      } else {
        row = Math.floor(i / slidesPerRow);
        column = i - row * slidesPerRow;
      }

      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + "px" : '');
    }

    if (slide.css('display') === 'none') continue; // eslint-disable-line

    if (params.slidesPerView === 'auto') {
      var slideStyles = getComputedStyle(slide[0]);
      var currentTransform = slide[0].style.transform;
      var currentWebKitTransform = slide[0].style.webkitTransform;

      if (currentTransform) {
        slide[0].style.transform = 'none';
      }

      if (currentWebKitTransform) {
        slide[0].style.webkitTransform = 'none';
      }

      if (params.roundLengths) {
        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);
      } else {
        // eslint-disable-next-line
        var width = getDirectionPropertyValue(slideStyles, 'width');
        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');
        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');
        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');
        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');
        var boxSizing = slideStyles.getPropertyValue('box-sizing');

        if (boxSizing && boxSizing === 'border-box') {
          slideSize = width + marginLeft + marginRight;
        } else {
          var _slide$ = slide[0],
              clientWidth = _slide$.clientWidth,
              offsetWidth = _slide$.offsetWidth;
          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);
        }
      }

      if (currentTransform) {
        slide[0].style.transform = currentTransform;
      }

      if (currentWebKitTransform) {
        slide[0].style.webkitTransform = currentWebKitTransform;
      }

      if (params.roundLengths) slideSize = Math.floor(slideSize);
    } else {
      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;
      if (params.roundLengths) slideSize = Math.floor(slideSize);

      if (slides[i]) {
        slides[i].style[getDirectionLabel('width')] = slideSize + "px";
      }
    }

    if (slides[i]) {
      slides[i].swiperSlideSize = slideSize;
    }

    slidesSizesGrid.push(slideSize);

    if (params.centeredSlides) {
      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;
      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;
      if (params.roundLengths) slidePosition = Math.floor(slidePosition);
      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);
      slidesGrid.push(slidePosition);
    } else {
      if (params.roundLengths) slidePosition = Math.floor(slidePosition);
      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);
      slidesGrid.push(slidePosition);
      slidePosition = slidePosition + slideSize + spaceBetween;
    }

    swiper.virtualSize += slideSize + spaceBetween;
    prevSlideSize = slideSize;
    index += 1;
  }

  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;
  var newSlidesGrid;

  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {
    $wrapperEl.css({
      width: swiper.virtualSize + params.spaceBetween + "px"
    });
  }

  if (params.setWrapperSize) {
    var _$wrapperEl$css;

    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + "px", _$wrapperEl$css));
  }

  if (params.slidesPerColumn > 1) {
    var _$wrapperEl$css2;

    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;
    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;
    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + "px", _$wrapperEl$css2));

    if (params.centeredSlides) {
      newSlidesGrid = [];

      for (var _i = 0; _i < snapGrid.length; _i += 1) {
        var slidesGridItem = snapGrid[_i];
        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);
        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);
      }

      snapGrid = newSlidesGrid;
    }
  } // Remove last grid elements depending on width


  if (!params.centeredSlides) {
    newSlidesGrid = [];

    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {
      var _slidesGridItem = snapGrid[_i2];
      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);

      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {
        newSlidesGrid.push(_slidesGridItem);
      }
    }

    snapGrid = newSlidesGrid;

    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {
      snapGrid.push(swiper.virtualSize - swiperSize);
    }
  }

  if (snapGrid.length === 0) snapGrid = [0];

  if (params.spaceBetween !== 0) {
    var _slides$filter$css;

    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');
    slides.filter(function (_, slideIndex) {
      if (!params.cssMode) return true;

      if (slideIndex === slides.length - 1) {
        return false;
      }

      return true;
    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + "px", _slides$filter$css));
  }

  if (params.centeredSlides && params.centeredSlidesBounds) {
    var allSlidesSize = 0;
    slidesSizesGrid.forEach(function (slideSizeValue) {
      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
    });
    allSlidesSize -= params.spaceBetween;
    var maxSnap = allSlidesSize - swiperSize;
    snapGrid = snapGrid.map(function (snap) {
      if (snap < 0) return -offsetBefore;
      if (snap > maxSnap) return maxSnap + offsetAfter;
      return snap;
    });
  }

  if (params.centerInsufficientSlides) {
    var _allSlidesSize = 0;
    slidesSizesGrid.forEach(function (slideSizeValue) {
      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
    });
    _allSlidesSize -= params.spaceBetween;

    if (_allSlidesSize < swiperSize) {
      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;
      snapGrid.forEach(function (snap, snapIndex) {
        snapGrid[snapIndex] = snap - allSlidesOffset;
      });
      slidesGrid.forEach(function (snap, snapIndex) {
        slidesGrid[snapIndex] = snap + allSlidesOffset;
      });
    }
  }

  (0, _utils.extend)(swiper, {
    slides: slides,
    snapGrid: snapGrid,
    slidesGrid: slidesGrid,
    slidesSizesGrid: slidesSizesGrid
  });

  if (slidesLength !== previousSlidesLength) {
    swiper.emit('slidesLengthChange');
  }

  if (snapGrid.length !== previousSnapGridLength) {
    if (swiper.params.watchOverflow) swiper.checkOverflow();
    swiper.emit('snapGridLengthChange');
  }

  if (slidesGrid.length !== previousSlidesGridLength) {
    swiper.emit('slidesGridLengthChange');
  }

  if (params.watchSlidesProgress || params.watchSlidesVisibility) {
    swiper.updateSlidesOffset();
  }
}
},{"../../../utils/utils":97}],72:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesClasses;

function updateSlidesClasses() {
  var swiper = this;
  var slides = swiper.slides,
      params = swiper.params,
      $wrapperEl = swiper.$wrapperEl,
      activeIndex = swiper.activeIndex,
      realIndex = swiper.realIndex;
  var isVirtual = swiper.virtual && params.virtual.enabled;
  slides.removeClass(params.slideActiveClass + " " + params.slideNextClass + " " + params.slidePrevClass + " " + params.slideDuplicateActiveClass + " " + params.slideDuplicateNextClass + " " + params.slideDuplicatePrevClass);
  var activeSlide;

  if (isVirtual) {
    activeSlide = swiper.$wrapperEl.find("." + params.slideClass + "[data-swiper-slide-index=\"" + activeIndex + "\"]");
  } else {
    activeSlide = slides.eq(activeIndex);
  } // Active classes


  activeSlide.addClass(params.slideActiveClass);

  if (params.loop) {
    // Duplicate to all looped slides
    if (activeSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + realIndex + "\"]").addClass(params.slideDuplicateActiveClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + realIndex + "\"]").addClass(params.slideDuplicateActiveClass);
    }
  } // Next Slide


  var nextSlide = activeSlide.nextAll("." + params.slideClass).eq(0).addClass(params.slideNextClass);

  if (params.loop && nextSlide.length === 0) {
    nextSlide = slides.eq(0);
    nextSlide.addClass(params.slideNextClass);
  } // Prev Slide


  var prevSlide = activeSlide.prevAll("." + params.slideClass).eq(0).addClass(params.slidePrevClass);

  if (params.loop && prevSlide.length === 0) {
    prevSlide = slides.eq(-1);
    prevSlide.addClass(params.slidePrevClass);
  }

  if (params.loop) {
    // Duplicate to all looped slides
    if (nextSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + nextSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicateNextClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + nextSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicateNextClass);
    }

    if (prevSlide.hasClass(params.slideDuplicateClass)) {
      $wrapperEl.children("." + params.slideClass + ":not(." + params.slideDuplicateClass + ")[data-swiper-slide-index=\"" + prevSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicatePrevClass);
    } else {
      $wrapperEl.children("." + params.slideClass + "." + params.slideDuplicateClass + "[data-swiper-slide-index=\"" + prevSlide.attr('data-swiper-slide-index') + "\"]").addClass(params.slideDuplicatePrevClass);
    }
  }

  swiper.emitSlidesClasses();
}
},{}],73:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesOffset;

function updateSlidesOffset() {
  var swiper = this;
  var slides = swiper.slides;

  for (var i = 0; i < slides.length; i += 1) {
    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;
  }
}
},{}],74:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = updateSlidesProgress;

var _dom = _interopRequireDefault(require("../../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateSlidesProgress(translate) {
  if (translate === void 0) {
    translate = this && this.translate || 0;
  }

  var swiper = this;
  var params = swiper.params;
  var slides = swiper.slides,
      rtl = swiper.rtlTranslate;
  if (slides.length === 0) return;
  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();
  var offsetCenter = -translate;
  if (rtl) offsetCenter = translate; // Visible Slides

  slides.removeClass(params.slideVisibleClass);
  swiper.visibleSlidesIndexes = [];
  swiper.visibleSlides = [];

  for (var i = 0; i < slides.length; i += 1) {
    var slide = slides[i];
    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);

    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {
      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);
      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];
      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;

      if (isVisible) {
        swiper.visibleSlides.push(slide);
        swiper.visibleSlidesIndexes.push(i);
        slides.eq(i).addClass(params.slideVisibleClass);
      }
    }

    slide.progress = rtl ? -slideProgress : slideProgress;
  }

  swiper.visibleSlides = (0, _dom.default)(swiper.visibleSlides);
}
},{"../../../utils/dom":93}],75:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Coverflow = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var swiperWidth = swiper.width,
        swiperHeight = swiper.height,
        slides = swiper.slides,
        slidesSizesGrid = swiper.slidesSizesGrid;
    var params = swiper.params.coverflowEffect;
    var isHorizontal = swiper.isHorizontal();
    var transform = swiper.translate;
    var center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;
    var rotate = isHorizontal ? params.rotate : -params.rotate;
    var translate = params.depth; // Each slide offset from center

    for (var i = 0, length = slides.length; i < length; i += 1) {
      var $slideEl = slides.eq(i);
      var slideSize = slidesSizesGrid[i];
      var slideOffset = $slideEl[0].swiperSlideOffset;
      var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;
      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;
      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0

      var translateZ = -translate * Math.abs(offsetMultiplier);
      var stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders

      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {
        stretch = parseFloat(params.stretch) / 100 * slideSize;
      }

      var translateY = isHorizontal ? 0 : stretch * offsetMultiplier;
      var translateX = isHorizontal ? stretch * offsetMultiplier : 0;
      var scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values

      if (Math.abs(translateX) < 0.001) translateX = 0;
      if (Math.abs(translateY) < 0.001) translateY = 0;
      if (Math.abs(translateZ) < 0.001) translateZ = 0;
      if (Math.abs(rotateY) < 0.001) rotateY = 0;
      if (Math.abs(rotateX) < 0.001) rotateX = 0;
      if (Math.abs(scale) < 0.001) scale = 0;
      var slideTransform = "translate3d(" + translateX + "px," + translateY + "px," + translateZ + "px)  rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg) scale(" + scale + ")";
      $slideEl.transform(slideTransform);
      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;

      if (params.slideShadows) {
        // Set shadows
        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if ($shadowBeforeEl.length === 0) {
          $shadowBeforeEl = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>");
          $slideEl.append($shadowBeforeEl);
        }

        if ($shadowAfterEl.length === 0) {
          $shadowAfterEl = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append($shadowAfterEl);
        }

        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;
        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;
      }
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
  }
};
var _default = {
  name: 'effect-coverflow',
  params: {
    coverflowEffect: {
      rotate: 50,
      stretch: 0,
      depth: 100,
      scale: 1,
      modifier: 1,
      slideShadows: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      coverflowEffect: _extends({}, Coverflow)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "coverflow");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      swiper.params.watchSlidesProgress = true;
      swiper.originalParams.watchSlidesProgress = true;
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.coverflowEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'coverflow') return;
      swiper.coverflowEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],76:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Cube = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var $el = swiper.$el,
        $wrapperEl = swiper.$wrapperEl,
        slides = swiper.slides,
        swiperWidth = swiper.width,
        swiperHeight = swiper.height,
        rtl = swiper.rtlTranslate,
        swiperSize = swiper.size,
        browser = swiper.browser;
    var params = swiper.params.cubeEffect;
    var isHorizontal = swiper.isHorizontal();
    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
    var wrapperRotate = 0;
    var $cubeShadowEl;

    if (params.shadow) {
      if (isHorizontal) {
        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');

        if ($cubeShadowEl.length === 0) {
          $cubeShadowEl = (0, _dom.default)('<div class="swiper-cube-shadow"></div>');
          $wrapperEl.append($cubeShadowEl);
        }

        $cubeShadowEl.css({
          height: swiperWidth + "px"
        });
      } else {
        $cubeShadowEl = $el.find('.swiper-cube-shadow');

        if ($cubeShadowEl.length === 0) {
          $cubeShadowEl = (0, _dom.default)('<div class="swiper-cube-shadow"></div>');
          $el.append($cubeShadowEl);
        }
      }
    }

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = slides.eq(i);
      var slideIndex = i;

      if (isVirtual) {
        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);
      }

      var slideAngle = slideIndex * 90;
      var round = Math.floor(slideAngle / 360);

      if (rtl) {
        slideAngle = -slideAngle;
        round = Math.floor(-slideAngle / 360);
      }

      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
      var tx = 0;
      var ty = 0;
      var tz = 0;

      if (slideIndex % 4 === 0) {
        tx = -round * 4 * swiperSize;
        tz = 0;
      } else if ((slideIndex - 1) % 4 === 0) {
        tx = 0;
        tz = -round * 4 * swiperSize;
      } else if ((slideIndex - 2) % 4 === 0) {
        tx = swiperSize + round * 4 * swiperSize;
        tz = swiperSize;
      } else if ((slideIndex - 3) % 4 === 0) {
        tx = -swiperSize;
        tz = 3 * swiperSize + swiperSize * 4 * round;
      }

      if (rtl) {
        tx = -tx;
      }

      if (!isHorizontal) {
        ty = tx;
        tx = 0;
      }

      var transform = "rotateX(" + (isHorizontal ? 0 : -slideAngle) + "deg) rotateY(" + (isHorizontal ? slideAngle : 0) + "deg) translate3d(" + tx + "px, " + ty + "px, " + tz + "px)";

      if (progress <= 1 && progress > -1) {
        wrapperRotate = slideIndex * 90 + progress * 90;
        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;
      }

      $slideEl.transform(transform);

      if (params.slideShadows) {
        // Set shadows
        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if (shadowBefore.length === 0) {
          shadowBefore = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>");
          $slideEl.append(shadowBefore);
        }

        if (shadowAfter.length === 0) {
          shadowAfter = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append(shadowAfter);
        }

        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);
        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);
      }
    }

    $wrapperEl.css({
      '-webkit-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      '-moz-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      '-ms-transform-origin': "50% 50% -" + swiperSize / 2 + "px",
      'transform-origin': "50% 50% -" + swiperSize / 2 + "px"
    });

    if (params.shadow) {
      if (isHorizontal) {
        $cubeShadowEl.transform("translate3d(0px, " + (swiperWidth / 2 + params.shadowOffset) + "px, " + -swiperWidth / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + params.shadowScale + ")");
      } else {
        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;
        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);
        var scale1 = params.shadowScale;
        var scale2 = params.shadowScale / multiplier;
        var offset = params.shadowOffset;
        $cubeShadowEl.transform("scale3d(" + scale1 + ", 1, " + scale2 + ") translate3d(0px, " + (swiperHeight / 2 + offset) + "px, " + -swiperHeight / 2 / scale2 + "px) rotateX(-90deg)");
      }
    }

    var zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;
    $wrapperEl.transform("translate3d(0px,0," + zFactor + "px) rotateX(" + (swiper.isHorizontal() ? 0 : wrapperRotate) + "deg) rotateY(" + (swiper.isHorizontal() ? -wrapperRotate : 0) + "deg)");
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var $el = swiper.$el,
        slides = swiper.slides;
    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);

    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {
      $el.find('.swiper-cube-shadow').transition(duration);
    }
  }
};
var _default = {
  name: 'effect-cube',
  params: {
    cubeEffect: {
      slideShadows: true,
      shadow: true,
      shadowOffset: 20,
      shadowScale: 0.94
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      cubeEffect: _extends({}, Cube)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'cube') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "cube");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        resistanceRatio: 0,
        spaceBetween: 0,
        centeredSlides: false,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'cube') return;
      swiper.cubeEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'cube') return;
      swiper.cubeEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],77:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Fade = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var slides = swiper.slides;

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = swiper.slides.eq(i);
      var offset = $slideEl[0].swiperSlideOffset;
      var tx = -offset;
      if (!swiper.params.virtualTranslate) tx -= swiper.translate;
      var ty = 0;

      if (!swiper.isHorizontal()) {
        ty = tx;
        tx = 0;
      }

      var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);
      $slideEl.css({
        opacity: slideOpacity
      }).transform("translate3d(" + tx + "px, " + ty + "px, 0px)");
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var slides = swiper.slides,
        $wrapperEl = swiper.$wrapperEl;
    slides.transition(duration);

    if (swiper.params.virtualTranslate && duration !== 0) {
      var eventTriggered = false;
      slides.transitionEnd(function () {
        if (eventTriggered) return;
        if (!swiper || swiper.destroyed) return;
        eventTriggered = true;
        swiper.animating = false;
        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];

        for (var i = 0; i < triggerEvents.length; i += 1) {
          $wrapperEl.trigger(triggerEvents[i]);
        }
      });
    }
  }
};
var _default = {
  name: 'effect-fade',
  params: {
    fadeEffect: {
      crossFade: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      fadeEffect: _extends({}, Fade)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'fade') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "fade");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        spaceBetween: 0,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'fade') return;
      swiper.fadeEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'fade') return;
      swiper.fadeEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97}],78:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Flip = {
  setTranslate: function setTranslate() {
    var swiper = this;
    var slides = swiper.slides,
        rtl = swiper.rtlTranslate;

    for (var i = 0; i < slides.length; i += 1) {
      var $slideEl = slides.eq(i);
      var progress = $slideEl[0].progress;

      if (swiper.params.flipEffect.limitRotation) {
        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
      }

      var offset = $slideEl[0].swiperSlideOffset;
      var rotate = -180 * progress;
      var rotateY = rotate;
      var rotateX = 0;
      var tx = -offset;
      var ty = 0;

      if (!swiper.isHorizontal()) {
        ty = tx;
        tx = 0;
        rotateX = -rotateY;
        rotateY = 0;
      } else if (rtl) {
        rotateY = -rotateY;
      }

      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;

      if (swiper.params.flipEffect.slideShadows) {
        // Set shadows
        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');

        if (shadowBefore.length === 0) {
          shadowBefore = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'left' : 'top') + "\"></div>");
          $slideEl.append(shadowBefore);
        }

        if (shadowAfter.length === 0) {
          shadowAfter = (0, _dom.default)("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'right' : 'bottom') + "\"></div>");
          $slideEl.append(shadowAfter);
        }

        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);
        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);
      }

      $slideEl.transform("translate3d(" + tx + "px, " + ty + "px, 0px) rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)");
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    var slides = swiper.slides,
        activeIndex = swiper.activeIndex,
        $wrapperEl = swiper.$wrapperEl;
    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);

    if (swiper.params.virtualTranslate && duration !== 0) {
      var eventTriggered = false; // eslint-disable-next-line

      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {
        if (eventTriggered) return;
        if (!swiper || swiper.destroyed) return; // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;

        eventTriggered = true;
        swiper.animating = false;
        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];

        for (var i = 0; i < triggerEvents.length; i += 1) {
          $wrapperEl.trigger(triggerEvents[i]);
        }
      });
    }
  }
};
var _default = {
  name: 'effect-flip',
  params: {
    flipEffect: {
      slideShadows: true,
      limitRotation: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      flipEffect: _extends({}, Flip)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.effect !== 'flip') return;
      swiper.classNames.push(swiper.params.containerModifierClass + "flip");
      swiper.classNames.push(swiper.params.containerModifierClass + "3d");
      var overwriteParams = {
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerGroup: 1,
        watchSlidesProgress: true,
        spaceBetween: 0,
        virtualTranslate: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);
    },
    setTranslate: function setTranslate(swiper) {
      if (swiper.params.effect !== 'flip') return;
      swiper.flipEffect.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (swiper.params.effect !== 'flip') return;
      swiper.flipEffect.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],79:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var HashNavigation = {
  onHashChange: function onHashChange() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    swiper.emit('hashChange');
    var newHash = document.location.hash.replace('#', '');
    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');

    if (newHash !== activeSlideHash) {
      var newIndex = swiper.$wrapperEl.children("." + swiper.params.slideClass + "[data-hash=\"" + newHash + "\"]").index();
      if (typeof newIndex === 'undefined') return;
      swiper.slideTo(newIndex);
    }
  },
  setHash: function setHash() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    var document = (0, _ssrWindow.getDocument)();
    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;

    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {
      window.history.replaceState(null, null, "#" + swiper.slides.eq(swiper.activeIndex).attr('data-hash') || '');
      swiper.emit('hashSet');
    } else {
      var slide = swiper.slides.eq(swiper.activeIndex);
      var hash = slide.attr('data-hash') || slide.attr('data-history');
      document.location.hash = hash || '';
      swiper.emit('hashSet');
    }
  },
  init: function init() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;
    swiper.hashNavigation.initialized = true;
    var hash = document.location.hash.replace('#', '');

    if (hash) {
      var speed = 0;

      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
        var slide = swiper.slides.eq(i);
        var slideHash = slide.attr('data-hash') || slide.attr('data-history');

        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {
          var index = slide.index();
          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);
        }
      }
    }

    if (swiper.params.hashNavigation.watchState) {
      (0, _dom.default)(window).on('hashchange', swiper.hashNavigation.onHashChange);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (swiper.params.hashNavigation.watchState) {
      (0, _dom.default)(window).off('hashchange', swiper.hashNavigation.onHashChange);
    }
  }
};
var _default = {
  name: 'hash-navigation',
  params: {
    hashNavigation: {
      enabled: false,
      replaceState: false,
      watchState: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      hashNavigation: _extends({
        initialized: false
      }, HashNavigation)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.hashNavigation.enabled) {
        swiper.hashNavigation.init();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.params.hashNavigation.enabled) {
        swiper.hashNavigation.destroy();
      }
    },
    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {
      if (swiper.hashNavigation.initialized) {
        swiper.hashNavigation.setHash();
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.hashNavigation.initialized && swiper.params.cssMode) {
        swiper.hashNavigation.setHash();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],80:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var History = {
  init: function init() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.params.history) return;

    if (!window.history || !window.history.pushState) {
      swiper.params.history.enabled = false;
      swiper.params.hashNavigation.enabled = true;
      return;
    }

    var history = swiper.history;
    history.initialized = true;
    history.paths = History.getPathValues(swiper.params.url);
    if (!history.paths.key && !history.paths.value) return;
    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);

    if (!swiper.params.history.replaceState) {
      window.addEventListener('popstate', swiper.history.setHistoryPopState);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (!swiper.params.history.replaceState) {
      window.removeEventListener('popstate', swiper.history.setHistoryPopState);
    }
  },
  setHistoryPopState: function setHistoryPopState() {
    var swiper = this;
    swiper.history.paths = History.getPathValues(swiper.params.url);
    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);
  },
  getPathValues: function getPathValues(urlOverride) {
    var window = (0, _ssrWindow.getWindow)();
    var location;

    if (urlOverride) {
      location = new URL(urlOverride);
    } else {
      location = window.location;
    }

    var pathArray = location.pathname.slice(1).split('/').filter(function (part) {
      return part !== '';
    });
    var total = pathArray.length;
    var key = pathArray[total - 2];
    var value = pathArray[total - 1];
    return {
      key: key,
      value: value
    };
  },
  setHistory: function setHistory(key, index) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    if (!swiper.history.initialized || !swiper.params.history.enabled) return;
    var location;

    if (swiper.params.url) {
      location = new URL(swiper.params.url);
    } else {
      location = window.location;
    }

    var slide = swiper.slides.eq(index);
    var value = History.slugify(slide.attr('data-history'));

    if (swiper.params.history.root.length > 0) {
      var root = swiper.params.history.root;
      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);
      value = root + "/" + key + "/" + value;
    } else if (!location.pathname.includes(key)) {
      value = key + "/" + value;
    }

    var currentState = window.history.state;

    if (currentState && currentState.value === value) {
      return;
    }

    if (swiper.params.history.replaceState) {
      window.history.replaceState({
        value: value
      }, null, value);
    } else {
      window.history.pushState({
        value: value
      }, null, value);
    }
  },
  slugify: function slugify(text) {
    return text.toString().replace(/\s+/g, '-').replace(/[^\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
  },
  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {
    var swiper = this;

    if (value) {
      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
        var slide = swiper.slides.eq(i);
        var slideHistory = History.slugify(slide.attr('data-history'));

        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {
          var index = slide.index();
          swiper.slideTo(index, speed, runCallbacks);
        }
      }
    } else {
      swiper.slideTo(0, speed, runCallbacks);
    }
  }
};
var _default = {
  name: 'history',
  params: {
    history: {
      enabled: false,
      root: '',
      replaceState: false,
      key: 'slides'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      history: _extends({}, History)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.history.enabled) {
        swiper.history.init();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.params.history.enabled) {
        swiper.history.destroy();
      }
    },
    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {
      if (swiper.history.initialized) {
        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.history.initialized && swiper.params.cssMode) {
        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);
      }
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],81:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Keyboard = {
  handle: function handle(event) {
    var swiper = this;
    if (!swiper.enabled) return;
    var window = (0, _ssrWindow.getWindow)();
    var document = (0, _ssrWindow.getDocument)();
    var rtl = swiper.rtlTranslate;
    var e = event;
    if (e.originalEvent) e = e.originalEvent; // jquery fix

    var kc = e.keyCode || e.charCode;
    var pageUpDown = swiper.params.keyboard.pageUpDown;
    var isPageUp = pageUpDown && kc === 33;
    var isPageDown = pageUpDown && kc === 34;
    var isArrowLeft = kc === 37;
    var isArrowRight = kc === 39;
    var isArrowUp = kc === 38;
    var isArrowDown = kc === 40; // Directions locks

    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {
      return false;
    }

    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {
      return false;
    }

    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {
      return undefined;
    }

    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {
      return undefined;
    }

    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {
      var inView = false; // Check that swiper should be inside of visible area of window

      if (swiper.$el.parents("." + swiper.params.slideClass).length > 0 && swiper.$el.parents("." + swiper.params.slideActiveClass).length === 0) {
        return undefined;
      }

      var $el = swiper.$el;
      var swiperWidth = $el[0].clientWidth;
      var swiperHeight = $el[0].clientHeight;
      var windowWidth = window.innerWidth;
      var windowHeight = window.innerHeight;
      var swiperOffset = swiper.$el.offset();
      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;
      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];

      for (var i = 0; i < swiperCoord.length; i += 1) {
        var point = swiperCoord[i];

        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {
          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line

          inView = true;
        }
      }

      if (!inView) return undefined;
    }

    if (swiper.isHorizontal()) {
      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {
        if (e.preventDefault) e.preventDefault();else e.returnValue = false;
      }

      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();
      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();
    } else {
      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {
        if (e.preventDefault) e.preventDefault();else e.returnValue = false;
      }

      if (isPageDown || isArrowDown) swiper.slideNext();
      if (isPageUp || isArrowUp) swiper.slidePrev();
    }

    swiper.emit('keyPress', kc);
    return undefined;
  },
  enable: function enable() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    if (swiper.keyboard.enabled) return;
    (0, _dom.default)(document).on('keydown', swiper.keyboard.handle);
    swiper.keyboard.enabled = true;
  },
  disable: function disable() {
    var swiper = this;
    var document = (0, _ssrWindow.getDocument)();
    if (!swiper.keyboard.enabled) return;
    (0, _dom.default)(document).off('keydown', swiper.keyboard.handle);
    swiper.keyboard.enabled = false;
  }
};
var _default = {
  name: 'keyboard',
  params: {
    keyboard: {
      enabled: false,
      onlyInViewport: true,
      pageUpDown: true
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      keyboard: _extends({
        enabled: false
      }, Keyboard)
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.keyboard.enabled) {
        swiper.keyboard.enable();
      }
    },
    destroy: function destroy(swiper) {
      if (swiper.keyboard.enabled) {
        swiper.keyboard.disable();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],82:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Lazy = {
  loadInSlide: function loadInSlide(index, loadInDuplicate) {
    if (loadInDuplicate === void 0) {
      loadInDuplicate = true;
    }

    var swiper = this;
    var params = swiper.params.lazy;
    if (typeof index === 'undefined') return;
    if (swiper.slides.length === 0) return;
    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
    var $slideEl = isVirtual ? swiper.$wrapperEl.children("." + swiper.params.slideClass + "[data-swiper-slide-index=\"" + index + "\"]") : swiper.slides.eq(index);
    var $images = $slideEl.find("." + params.elementClass + ":not(." + params.loadedClass + "):not(." + params.loadingClass + ")");

    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {
      $images.push($slideEl[0]);
    }

    if ($images.length === 0) return;
    $images.each(function (imageEl) {
      var $imageEl = (0, _dom.default)(imageEl);
      $imageEl.addClass(params.loadingClass);
      var background = $imageEl.attr('data-background');
      var src = $imageEl.attr('data-src');
      var srcset = $imageEl.attr('data-srcset');
      var sizes = $imageEl.attr('data-sizes');
      var $pictureEl = $imageEl.parent('picture');
      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {
        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;

        if (background) {
          $imageEl.css('background-image', "url(\"" + background + "\")");
          $imageEl.removeAttr('data-background');
        } else {
          if (srcset) {
            $imageEl.attr('srcset', srcset);
            $imageEl.removeAttr('data-srcset');
          }

          if (sizes) {
            $imageEl.attr('sizes', sizes);
            $imageEl.removeAttr('data-sizes');
          }

          if ($pictureEl.length) {
            $pictureEl.children('source').each(function (sourceEl) {
              var $source = (0, _dom.default)(sourceEl);

              if ($source.attr('data-srcset')) {
                $source.attr('srcset', $source.attr('data-srcset'));
                $source.removeAttr('data-srcset');
              }
            });
          }

          if (src) {
            $imageEl.attr('src', src);
            $imageEl.removeAttr('data-src');
          }
        }

        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);
        $slideEl.find("." + params.preloaderClass).remove();

        if (swiper.params.loop && loadInDuplicate) {
          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');

          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {
            var originalSlide = swiper.$wrapperEl.children("[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]:not(." + swiper.params.slideDuplicateClass + ")");
            swiper.lazy.loadInSlide(originalSlide.index(), false);
          } else {
            var duplicatedSlide = swiper.$wrapperEl.children("." + swiper.params.slideDuplicateClass + "[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]");
            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);
          }
        }

        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);

        if (swiper.params.autoHeight) {
          swiper.updateAutoHeight();
        }
      });
      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);
    });
  },
  load: function load() {
    var swiper = this;
    var $wrapperEl = swiper.$wrapperEl,
        swiperParams = swiper.params,
        slides = swiper.slides,
        activeIndex = swiper.activeIndex;
    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;
    var params = swiperParams.lazy;
    var slidesPerView = swiperParams.slidesPerView;

    if (slidesPerView === 'auto') {
      slidesPerView = 0;
    }

    function slideExist(index) {
      if (isVirtual) {
        if ($wrapperEl.children("." + swiperParams.slideClass + "[data-swiper-slide-index=\"" + index + "\"]").length) {
          return true;
        }
      } else if (slides[index]) return true;

      return false;
    }

    function slideIndex(slideEl) {
      if (isVirtual) {
        return (0, _dom.default)(slideEl).attr('data-swiper-slide-index');
      }

      return (0, _dom.default)(slideEl).index();
    }

    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;

    if (swiper.params.watchSlidesVisibility) {
      $wrapperEl.children("." + swiperParams.slideVisibleClass).each(function (slideEl) {
        var index = isVirtual ? (0, _dom.default)(slideEl).attr('data-swiper-slide-index') : (0, _dom.default)(slideEl).index();
        swiper.lazy.loadInSlide(index);
      });
    } else if (slidesPerView > 1) {
      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {
        if (slideExist(i)) swiper.lazy.loadInSlide(i);
      }
    } else {
      swiper.lazy.loadInSlide(activeIndex);
    }

    if (params.loadPrevNext) {
      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {
        var amount = params.loadPrevNextAmount;
        var spv = slidesPerView;
        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);
        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides

        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {
          if (slideExist(_i)) swiper.lazy.loadInSlide(_i);
        } // Prev Slides


        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {
          if (slideExist(_i2)) swiper.lazy.loadInSlide(_i2);
        }
      } else {
        var nextSlide = $wrapperEl.children("." + swiperParams.slideNextClass);
        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));
        var prevSlide = $wrapperEl.children("." + swiperParams.slidePrevClass);
        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));
      }
    }
  },
  checkInViewOnLoad: function checkInViewOnLoad() {
    var window = (0, _ssrWindow.getWindow)();
    var swiper = this;
    if (!swiper || swiper.destroyed) return;
    var $scrollElement = swiper.params.lazy.scrollingElement ? (0, _dom.default)(swiper.params.lazy.scrollingElement) : (0, _dom.default)(window);
    var isWindow = $scrollElement[0] === window;
    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;
    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;
    var swiperOffset = swiper.$el.offset();
    var rtl = swiper.rtlTranslate;
    var inView = false;
    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;
    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];

    for (var i = 0; i < swiperCoord.length; i += 1) {
      var point = swiperCoord[i];

      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {
        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line

        inView = true;
      }
    }

    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;

    if (inView) {
      swiper.lazy.load();
      $scrollElement.off('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);
    } else if (!swiper.lazy.scrollHandlerAttached) {
      swiper.lazy.scrollHandlerAttached = true;
      $scrollElement.on('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);
    }
  }
};
var _default = {
  name: 'lazy',
  params: {
    lazy: {
      checkInView: false,
      enabled: false,
      loadPrevNext: false,
      loadPrevNextAmount: 1,
      loadOnTransitionStart: false,
      scrollingElement: '',
      elementClass: 'swiper-lazy',
      loadingClass: 'swiper-lazy-loading',
      loadedClass: 'swiper-lazy-loaded',
      preloaderClass: 'swiper-lazy-preloader'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      lazy: _extends({
        initialImageLoaded: false
      }, Lazy)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {
        swiper.params.preloadImages = false;
      }
    },
    init: function init(swiper) {
      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {
        if (swiper.params.lazy.checkInView) {
          swiper.lazy.checkInViewOnLoad();
        } else {
          swiper.lazy.load();
        }
      }
    },
    scroll: function scroll(swiper) {
      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {
        swiper.lazy.load();
      }
    },
    'scrollbarDragMove resize _freeModeNoMomentumRelease': function lazyLoad(swiper) {
      if (swiper.params.lazy.enabled) {
        swiper.lazy.load();
      }
    },
    transitionStart: function transitionStart(swiper) {
      if (swiper.params.lazy.enabled) {
        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded) {
          swiper.lazy.load();
        }
      }
    },
    transitionEnd: function transitionEnd(swiper) {
      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {
        swiper.lazy.load();
      }
    },
    slideChange: function slideChange(swiper) {
      var _swiper$params = swiper.params,
          lazy = _swiper$params.lazy,
          cssMode = _swiper$params.cssMode,
          watchSlidesVisibility = _swiper$params.watchSlidesVisibility,
          watchSlidesProgress = _swiper$params.watchSlidesProgress,
          touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,
          resistanceRatio = _swiper$params.resistanceRatio;

      if (lazy.enabled && (cssMode || (watchSlidesVisibility || watchSlidesProgress) && (touchReleaseOnEdges || resistanceRatio === 0))) {
        swiper.lazy.load();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],83:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable consistent-return */
function isEventSupported() {
  var document = (0, _ssrWindow.getDocument)();
  var eventName = 'onwheel';
  var isSupported = (eventName in document);

  if (!isSupported) {
    var element = document.createElement('div');
    element.setAttribute(eventName, 'return;');
    isSupported = typeof element[eventName] === 'function';
  }

  if (!isSupported && document.implementation && document.implementation.hasFeature && // always returns true in newer browsers as per the standard.
  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature
  document.implementation.hasFeature('', '') !== true) {
    // This is the only way to test support for the `wheel` event in IE9+.
    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');
  }

  return isSupported;
}

var Mousewheel = {
  lastScrollTime: (0, _utils.now)(),
  lastEventBeforeSnap: undefined,
  recentWheelEvents: [],
  event: function event() {
    var window = (0, _ssrWindow.getWindow)();
    if (window.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';
    return isEventSupported() ? 'wheel' : 'mousewheel';
  },
  normalize: function normalize(e) {
    // Reasonable defaults
    var PIXEL_STEP = 10;
    var LINE_HEIGHT = 40;
    var PAGE_HEIGHT = 800;
    var sX = 0;
    var sY = 0; // spinX, spinY

    var pX = 0;
    var pY = 0; // pixelX, pixelY
    // Legacy

    if ('detail' in e) {
      sY = e.detail;
    }

    if ('wheelDelta' in e) {
      sY = -e.wheelDelta / 120;
    }

    if ('wheelDeltaY' in e) {
      sY = -e.wheelDeltaY / 120;
    }

    if ('wheelDeltaX' in e) {
      sX = -e.wheelDeltaX / 120;
    } // side scrolling on FF with DOMMouseScroll


    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {
      sX = sY;
      sY = 0;
    }

    pX = sX * PIXEL_STEP;
    pY = sY * PIXEL_STEP;

    if ('deltaY' in e) {
      pY = e.deltaY;
    }

    if ('deltaX' in e) {
      pX = e.deltaX;
    }

    if (e.shiftKey && !pX) {
      // if user scrolls with shift he wants horizontal scroll
      pX = pY;
      pY = 0;
    }

    if ((pX || pY) && e.deltaMode) {
      if (e.deltaMode === 1) {
        // delta in LINE units
        pX *= LINE_HEIGHT;
        pY *= LINE_HEIGHT;
      } else {
        // delta in PAGE units
        pX *= PAGE_HEIGHT;
        pY *= PAGE_HEIGHT;
      }
    } // Fall-back if spin cannot be determined


    if (pX && !sX) {
      sX = pX < 1 ? -1 : 1;
    }

    if (pY && !sY) {
      sY = pY < 1 ? -1 : 1;
    }

    return {
      spinX: sX,
      spinY: sY,
      pixelX: pX,
      pixelY: pY
    };
  },
  handleMouseEnter: function handleMouseEnter() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.mouseEntered = true;
  },
  handleMouseLeave: function handleMouseLeave() {
    var swiper = this;
    if (!swiper.enabled) return;
    swiper.mouseEntered = false;
  },
  handle: function handle(event) {
    var e = event;
    var disableParentSwiper = true;
    var swiper = this;
    if (!swiper.enabled) return;
    var params = swiper.params.mousewheel;

    if (swiper.params.cssMode) {
      e.preventDefault();
    }

    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;
    if (e.originalEvent) e = e.originalEvent; // jquery fix

    var delta = 0;
    var rtlFactor = swiper.rtlTranslate ? -1 : 1;
    var data = Mousewheel.normalize(e);

    if (params.forceToAxis) {
      if (swiper.isHorizontal()) {
        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;
      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;
    } else {
      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;
    }

    if (delta === 0) return true;
    if (params.invert) delta = -delta; // Get the scroll positions

    var positions = swiper.getTranslate() + delta * params.sensitivity;
    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();
    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:
    //     the disableParentSwiper will be true.
    // When loop is false:
    //     if the scroll positions is not on edge,
    //     then the disableParentSwiper will be true.
    //     if the scroll on edge positions,
    //     then the disableParentSwiper will be false.

    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());
    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();

    if (!swiper.params.freeMode) {
      // Register the new event in a variable which stores the relevant data
      var newEvent = {
        time: (0, _utils.now)(),
        delta: Math.abs(delta),
        direction: Math.sign(delta),
        raw: event
      }; // Keep the most recent events

      var recentWheelEvents = swiper.mousewheel.recentWheelEvents;

      if (recentWheelEvents.length >= 2) {
        recentWheelEvents.shift(); // only store the last N events
      }

      var prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;
      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:
      //   If direction has changed or
      //   if the scroll is quicker than the previous one:
      //     Animate the slider.
      // Else (this is the first time the wheel is moved):
      //     Animate the slider.

      if (prevEvent) {
        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {
          swiper.mousewheel.animateSlider(newEvent);
        }
      } else {
        swiper.mousewheel.animateSlider(newEvent);
      } // If it's time to release the scroll:
      //   Return now so you don't hit the preventDefault.


      if (swiper.mousewheel.releaseScroll(newEvent)) {
        return true;
      }
    } else {
      // Freemode or scrollContainer:
      // If we recently snapped after a momentum scroll, then ignore wheel events
      // to give time for the deceleration to finish. Stop ignoring after 500 msecs
      // or if it's a new scroll (larger delta or inverse sign as last event before
      // an end-of-momentum snap).
      var _newEvent = {
        time: (0, _utils.now)(),
        delta: Math.abs(delta),
        direction: Math.sign(delta)
      };
      var lastEventBeforeSnap = swiper.mousewheel.lastEventBeforeSnap;
      var ignoreWheelEvents = lastEventBeforeSnap && _newEvent.time < lastEventBeforeSnap.time + 500 && _newEvent.delta <= lastEventBeforeSnap.delta && _newEvent.direction === lastEventBeforeSnap.direction;

      if (!ignoreWheelEvents) {
        swiper.mousewheel.lastEventBeforeSnap = undefined;

        if (swiper.params.loop) {
          swiper.loopFix();
        }

        var position = swiper.getTranslate() + delta * params.sensitivity;
        var wasBeginning = swiper.isBeginning;
        var wasEnd = swiper.isEnd;
        if (position >= swiper.minTranslate()) position = swiper.minTranslate();
        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();
        swiper.setTransition(0);
        swiper.setTranslate(position);
        swiper.updateProgress();
        swiper.updateActiveIndex();
        swiper.updateSlidesClasses();

        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {
          swiper.updateSlidesClasses();
        }

        if (swiper.params.freeModeSticky) {
          // When wheel scrolling starts with sticky (aka snap) enabled, then detect
          // the end of a momentum scroll by storing recent (N=15?) wheel events.
          // 1. do all N events have decreasing or same (absolute value) delta?
          // 2. did all N events arrive in the last M (M=500?) msecs?
          // 3. does the earliest event have an (absolute value) delta that's
          //    at least P (P=1?) larger than the most recent event's delta?
          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?
          // If 1-4 are "yes" then we're near the end of a momentum scroll deceleration.
          // Snap immediately and ignore remaining wheel events in this scroll.
          // See comment above for "remaining wheel events in this scroll" determination.
          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.
          clearTimeout(swiper.mousewheel.timeout);
          swiper.mousewheel.timeout = undefined;
          var _recentWheelEvents = swiper.mousewheel.recentWheelEvents;

          if (_recentWheelEvents.length >= 15) {
            _recentWheelEvents.shift(); // only store the last N events

          }

          var _prevEvent = _recentWheelEvents.length ? _recentWheelEvents[_recentWheelEvents.length - 1] : undefined;

          var firstEvent = _recentWheelEvents[0];

          _recentWheelEvents.push(_newEvent);

          if (_prevEvent && (_newEvent.delta > _prevEvent.delta || _newEvent.direction !== _prevEvent.direction)) {
            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.
            _recentWheelEvents.splice(0);
          } else if (_recentWheelEvents.length >= 15 && _newEvent.time - firstEvent.time < 500 && firstEvent.delta - _newEvent.delta >= 1 && _newEvent.delta <= 6) {
            // We're at the end of the deceleration of a momentum scroll, so there's no need
            // to wait for more events. Snap ASAP on the next tick.
            // Also, because there's some remaining momentum we'll bias the snap in the
            // direction of the ongoing scroll because it's better UX for the scroll to snap
            // in the same direction as the scroll instead of reversing to snap.  Therefore,
            // if it's already scrolled more than 20% in the current direction, keep going.
            var snapToThreshold = delta > 0 ? 0.8 : 0.2;
            swiper.mousewheel.lastEventBeforeSnap = _newEvent;

            _recentWheelEvents.splice(0);

            swiper.mousewheel.timeout = (0, _utils.nextTick)(function () {
              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);
            }, 0); // no delay; move on next tick
          }

          if (!swiper.mousewheel.timeout) {
            // if we get here, then we haven't detected the end of a momentum scroll, so
            // we'll consider a scroll "complete" when there haven't been any wheel events
            // for 500ms.
            swiper.mousewheel.timeout = (0, _utils.nextTick)(function () {
              var snapToThreshold = 0.5;
              swiper.mousewheel.lastEventBeforeSnap = _newEvent;

              _recentWheelEvents.splice(0);

              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);
            }, 500);
          }
        } // Emit event


        if (!ignoreWheelEvents) swiper.emit('scroll', e); // Stop autoplay

        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions

        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;
      }
    }

    if (e.preventDefault) e.preventDefault();else e.returnValue = false;
    return false;
  },
  animateSlider: function animateSlider(newEvent) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();

    if (this.params.mousewheel.thresholdDelta && newEvent.delta < this.params.mousewheel.thresholdDelta) {
      // Prevent if delta of wheel scroll delta is below configured threshold
      return false;
    }

    if (this.params.mousewheel.thresholdTime && (0, _utils.now)() - swiper.mousewheel.lastScrollTime < this.params.mousewheel.thresholdTime) {
      // Prevent if time between scrolls is below configured threshold
      return false;
    } // If the movement is NOT big enough and
    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):
    //   Don't go any further (avoid insignificant scroll movement).


    if (newEvent.delta >= 6 && (0, _utils.now)() - swiper.mousewheel.lastScrollTime < 60) {
      // Return false as a default
      return true;
    } // If user is scrolling towards the end:
    //   If the slider hasn't hit the latest slide or
    //   if the slider is a loop and
    //   if the slider isn't moving right now:
    //     Go to next slide and
    //     emit a scroll event.
    // Else (the user is scrolling towards the beginning) and
    // if the slider hasn't hit the first slide or
    // if the slider is a loop and
    // if the slider isn't moving right now:
    //   Go to prev slide and
    //   emit a scroll event.


    if (newEvent.direction < 0) {
      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {
        swiper.slideNext();
        swiper.emit('scroll', newEvent.raw);
      }
    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {
      swiper.slidePrev();
      swiper.emit('scroll', newEvent.raw);
    } // If you got here is because an animation has been triggered so store the current time


    swiper.mousewheel.lastScrollTime = new window.Date().getTime(); // Return false as a default

    return false;
  },
  releaseScroll: function releaseScroll(newEvent) {
    var swiper = this;
    var params = swiper.params.mousewheel;

    if (newEvent.direction < 0) {
      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {
        // Return true to animate scroll on edges
        return true;
      }
    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {
      // Return true to animate scroll on edges
      return true;
    }

    return false;
  },
  enable: function enable() {
    var swiper = this;
    var event = Mousewheel.event();

    if (swiper.params.cssMode) {
      swiper.wrapperEl.removeEventListener(event, swiper.mousewheel.handle);
      return true;
    }

    if (!event) return false;
    if (swiper.mousewheel.enabled) return false;
    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    target.on('mouseenter', swiper.mousewheel.handleMouseEnter);
    target.on('mouseleave', swiper.mousewheel.handleMouseLeave);
    target.on(event, swiper.mousewheel.handle);
    swiper.mousewheel.enabled = true;
    return true;
  },
  disable: function disable() {
    var swiper = this;
    var event = Mousewheel.event();

    if (swiper.params.cssMode) {
      swiper.wrapperEl.addEventListener(event, swiper.mousewheel.handle);
      return true;
    }

    if (!event) return false;
    if (!swiper.mousewheel.enabled) return false;
    var target = swiper.$el;

    if (swiper.params.mousewheel.eventsTarget !== 'container') {
      target = (0, _dom.default)(swiper.params.mousewheel.eventsTarget);
    }

    target.off(event, swiper.mousewheel.handle);
    swiper.mousewheel.enabled = false;
    return true;
  }
};
var _default = {
  name: 'mousewheel',
  params: {
    mousewheel: {
      enabled: false,
      releaseOnEdges: false,
      invert: false,
      forceToAxis: false,
      sensitivity: 1,
      eventsTarget: 'container',
      thresholdDelta: null,
      thresholdTime: null
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      mousewheel: {
        enabled: false,
        lastScrollTime: (0, _utils.now)(),
        lastEventBeforeSnap: undefined,
        recentWheelEvents: [],
        enable: Mousewheel.enable,
        disable: Mousewheel.disable,
        handle: Mousewheel.handle,
        handleMouseEnter: Mousewheel.handleMouseEnter,
        handleMouseLeave: Mousewheel.handleMouseLeave,
        animateSlider: Mousewheel.animateSlider,
        releaseScroll: Mousewheel.releaseScroll
      }
    });
  },
  on: {
    init: function init(swiper) {
      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {
        swiper.mousewheel.disable();
      }

      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();
    },
    destroy: function destroy(swiper) {
      if (swiper.params.cssMode) {
        swiper.mousewheel.enable();
      }

      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],84:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Navigation = {
  toggleEl: function toggleEl($el, disabled) {
    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);
    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;
  },
  update: function update() {
    // Update Navigation Buttons
    var swiper = this;
    var params = swiper.params.navigation;
    var toggleEl = swiper.navigation.toggleEl;
    if (swiper.params.loop) return;
    var _swiper$navigation = swiper.navigation,
        $nextEl = _swiper$navigation.$nextEl,
        $prevEl = _swiper$navigation.$prevEl;

    if ($prevEl && $prevEl.length > 0) {
      if (swiper.isBeginning) {
        toggleEl($prevEl, true);
      } else {
        toggleEl($prevEl, false);
      }

      if (swiper.params.watchOverflow && swiper.enabled) {
        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      if (swiper.isEnd) {
        toggleEl($nextEl, true);
      } else {
        toggleEl($nextEl, false);
      }

      if (swiper.params.watchOverflow && swiper.enabled) {
        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
      }
    }
  },
  onPrevClick: function onPrevClick(e) {
    var swiper = this;
    e.preventDefault();
    if (swiper.isBeginning && !swiper.params.loop) return;
    swiper.slidePrev();
  },
  onNextClick: function onNextClick(e) {
    var swiper = this;
    e.preventDefault();
    if (swiper.isEnd && !swiper.params.loop) return;
    swiper.slideNext();
  },
  init: function init() {
    var swiper = this;
    var params = swiper.params.navigation;
    swiper.params.navigation = (0, _utils.createElementIfNotDefined)(swiper.$el, swiper.params.navigation, swiper.params.createElements, {
      nextEl: 'swiper-button-next',
      prevEl: 'swiper-button-prev'
    });
    if (!(params.nextEl || params.prevEl)) return;
    var $nextEl;
    var $prevEl;

    if (params.nextEl) {
      $nextEl = (0, _dom.default)(params.nextEl);

      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {
        $nextEl = swiper.$el.find(params.nextEl);
      }
    }

    if (params.prevEl) {
      $prevEl = (0, _dom.default)(params.prevEl);

      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {
        $prevEl = swiper.$el.find(params.prevEl);
      }
    }

    if ($nextEl && $nextEl.length > 0) {
      $nextEl.on('click', swiper.navigation.onNextClick);
    }

    if ($prevEl && $prevEl.length > 0) {
      $prevEl.on('click', swiper.navigation.onPrevClick);
    }

    (0, _utils.extend)(swiper.navigation, {
      $nextEl: $nextEl,
      nextEl: $nextEl && $nextEl[0],
      $prevEl: $prevEl,
      prevEl: $prevEl && $prevEl[0]
    });

    if (!swiper.enabled) {
      if ($nextEl) $nextEl.addClass(params.lockClass);
      if ($prevEl) $prevEl.addClass(params.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var _swiper$navigation2 = swiper.navigation,
        $nextEl = _swiper$navigation2.$nextEl,
        $prevEl = _swiper$navigation2.$prevEl;

    if ($nextEl && $nextEl.length) {
      $nextEl.off('click', swiper.navigation.onNextClick);
      $nextEl.removeClass(swiper.params.navigation.disabledClass);
    }

    if ($prevEl && $prevEl.length) {
      $prevEl.off('click', swiper.navigation.onPrevClick);
      $prevEl.removeClass(swiper.params.navigation.disabledClass);
    }
  }
};
var _default = {
  name: 'navigation',
  params: {
    navigation: {
      nextEl: null,
      prevEl: null,
      hideOnClick: false,
      disabledClass: 'swiper-button-disabled',
      hiddenClass: 'swiper-button-hidden',
      lockClass: 'swiper-button-lock'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      navigation: _extends({}, Navigation)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.navigation.init();
      swiper.navigation.update();
    },
    toEdge: function toEdge(swiper) {
      swiper.navigation.update();
    },
    fromEdge: function fromEdge(swiper) {
      swiper.navigation.update();
    },
    destroy: function destroy(swiper) {
      swiper.navigation.destroy();
    },
    'enable disable': function enableDisable(swiper) {
      var _swiper$navigation3 = swiper.navigation,
          $nextEl = _swiper$navigation3.$nextEl,
          $prevEl = _swiper$navigation3.$prevEl;

      if ($nextEl) {
        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);
      }

      if ($prevEl) {
        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);
      }
    },
    click: function click(swiper, e) {
      var _swiper$navigation4 = swiper.navigation,
          $nextEl = _swiper$navigation4.$nextEl,
          $prevEl = _swiper$navigation4.$prevEl;
      var targetEl = e.target;

      if (swiper.params.navigation.hideOnClick && !(0, _dom.default)(targetEl).is($prevEl) && !(0, _dom.default)(targetEl).is($nextEl)) {
        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;
        var isHidden;

        if ($nextEl) {
          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);
        } else if ($prevEl) {
          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);
        }

        if (isHidden === true) {
          swiper.emit('navigationShow');
        } else {
          swiper.emit('navigationHide');
        }

        if ($nextEl) {
          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);
        }

        if ($prevEl) {
          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);
        }
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],85:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Pagination = {
  update: function update() {
    // Render || Update Pagination bullets/items
    var swiper = this;
    var rtl = swiper.rtl;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
    var $el = swiper.pagination.$el; // Current/Total

    var current;
    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;

    if (swiper.params.loop) {
      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);

      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {
        current -= slidesLength - swiper.loopedSlides * 2;
      }

      if (current > total - 1) current -= total;
      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;
    } else if (typeof swiper.snapIndex !== 'undefined') {
      current = swiper.snapIndex;
    } else {
      current = swiper.activeIndex || 0;
    } // Types


    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {
      var bullets = swiper.pagination.bullets;
      var firstIndex;
      var lastIndex;
      var midIndex;

      if (params.dynamicBullets) {
        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);
        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + "px");

        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {
          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;

          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {
            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;
          } else if (swiper.pagination.dynamicBulletIndex < 0) {
            swiper.pagination.dynamicBulletIndex = 0;
          }
        }

        firstIndex = current - swiper.pagination.dynamicBulletIndex;
        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);
        midIndex = (lastIndex + firstIndex) / 2;
      }

      bullets.removeClass(params.bulletActiveClass + " " + params.bulletActiveClass + "-next " + params.bulletActiveClass + "-next-next " + params.bulletActiveClass + "-prev " + params.bulletActiveClass + "-prev-prev " + params.bulletActiveClass + "-main");

      if ($el.length > 1) {
        bullets.each(function (bullet) {
          var $bullet = (0, _dom.default)(bullet);
          var bulletIndex = $bullet.index();

          if (bulletIndex === current) {
            $bullet.addClass(params.bulletActiveClass);
          }

          if (params.dynamicBullets) {
            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {
              $bullet.addClass(params.bulletActiveClass + "-main");
            }

            if (bulletIndex === firstIndex) {
              $bullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
            }

            if (bulletIndex === lastIndex) {
              $bullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
            }
          }
        });
      } else {
        var $bullet = bullets.eq(current);
        var bulletIndex = $bullet.index();
        $bullet.addClass(params.bulletActiveClass);

        if (params.dynamicBullets) {
          var $firstDisplayedBullet = bullets.eq(firstIndex);
          var $lastDisplayedBullet = bullets.eq(lastIndex);

          for (var i = firstIndex; i <= lastIndex; i += 1) {
            bullets.eq(i).addClass(params.bulletActiveClass + "-main");
          }

          if (swiper.params.loop) {
            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {
              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {
                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + "-main");
              }

              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + "-prev");
            } else {
              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
            }
          } else {
            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + "-prev").prev().addClass(params.bulletActiveClass + "-prev-prev");
            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + "-next").next().addClass(params.bulletActiveClass + "-next-next");
          }
        }
      }

      if (params.dynamicBullets) {
        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);
        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;
        var offsetProp = rtl ? 'right' : 'left';
        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + "px");
      }
    }

    if (params.type === 'fraction') {
      $el.find((0, _utils.classesToSelector)(params.currentClass)).text(params.formatFractionCurrent(current + 1));
      $el.find((0, _utils.classesToSelector)(params.totalClass)).text(params.formatFractionTotal(total));
    }

    if (params.type === 'progressbar') {
      var progressbarDirection;

      if (params.progressbarOpposite) {
        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';
      } else {
        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';
      }

      var scale = (current + 1) / total;
      var scaleX = 1;
      var scaleY = 1;

      if (progressbarDirection === 'horizontal') {
        scaleX = scale;
      } else {
        scaleY = scale;
      }

      $el.find((0, _utils.classesToSelector)(params.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(" + scaleX + ") scaleY(" + scaleY + ")").transition(swiper.params.speed);
    }

    if (params.type === 'custom' && params.renderCustom) {
      $el.html(params.renderCustom(swiper, current + 1, total));
      swiper.emit('paginationRender', $el[0]);
    } else {
      swiper.emit('paginationUpdate', $el[0]);
    }

    if (swiper.params.watchOverflow && swiper.enabled) {
      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
    }
  },
  render: function render() {
    // Render Container
    var swiper = this;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
    var $el = swiper.pagination.$el;
    var paginationHTML = '';

    if (params.type === 'bullets') {
      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;

      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {
        numberOfBullets = slidesLength;
      }

      for (var i = 0; i < numberOfBullets; i += 1) {
        if (params.renderBullet) {
          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);
        } else {
          paginationHTML += "<" + params.bulletElement + " class=\"" + params.bulletClass + "\"></" + params.bulletElement + ">";
        }
      }

      $el.html(paginationHTML);
      swiper.pagination.bullets = $el.find((0, _utils.classesToSelector)(params.bulletClass));
    }

    if (params.type === 'fraction') {
      if (params.renderFraction) {
        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);
      } else {
        paginationHTML = "<span class=\"" + params.currentClass + "\"></span>" + ' / ' + ("<span class=\"" + params.totalClass + "\"></span>");
      }

      $el.html(paginationHTML);
    }

    if (params.type === 'progressbar') {
      if (params.renderProgressbar) {
        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);
      } else {
        paginationHTML = "<span class=\"" + params.progressbarFillClass + "\"></span>";
      }

      $el.html(paginationHTML);
    }

    if (params.type !== 'custom') {
      swiper.emit('paginationRender', swiper.pagination.$el[0]);
    }
  },
  init: function init() {
    var swiper = this;
    swiper.params.pagination = (0, _utils.createElementIfNotDefined)(swiper.$el, swiper.params.pagination, swiper.params.createElements, {
      el: 'swiper-pagination'
    });
    var params = swiper.params.pagination;
    if (!params.el) return;
    var $el = (0, _dom.default)(params.el);
    if ($el.length === 0) return;

    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {
      $el = swiper.$el.find(params.el);
    }

    if (params.type === 'bullets' && params.clickable) {
      $el.addClass(params.clickableClass);
    }

    $el.addClass(params.modifierClass + params.type);

    if (params.type === 'bullets' && params.dynamicBullets) {
      $el.addClass("" + params.modifierClass + params.type + "-dynamic");
      swiper.pagination.dynamicBulletIndex = 0;

      if (params.dynamicMainBullets < 1) {
        params.dynamicMainBullets = 1;
      }
    }

    if (params.type === 'progressbar' && params.progressbarOpposite) {
      $el.addClass(params.progressbarOppositeClass);
    }

    if (params.clickable) {
      $el.on('click', (0, _utils.classesToSelector)(params.bulletClass), function onClick(e) {
        e.preventDefault();
        var index = (0, _dom.default)(this).index() * swiper.params.slidesPerGroup;
        if (swiper.params.loop) index += swiper.loopedSlides;
        swiper.slideTo(index);
      });
    }

    (0, _utils.extend)(swiper.pagination, {
      $el: $el,
      el: $el[0]
    });

    if (!swiper.enabled) {
      $el.addClass(params.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    var params = swiper.params.pagination;
    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;
    var $el = swiper.pagination.$el;
    $el.removeClass(params.hiddenClass);
    $el.removeClass(params.modifierClass + params.type);
    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);

    if (params.clickable) {
      $el.off('click', (0, _utils.classesToSelector)(params.bulletClass));
    }
  }
};
var _default = {
  name: 'pagination',
  params: {
    pagination: {
      el: null,
      bulletElement: 'span',
      clickable: false,
      hideOnClick: false,
      renderBullet: null,
      renderProgressbar: null,
      renderFraction: null,
      renderCustom: null,
      progressbarOpposite: false,
      type: 'bullets',
      // 'bullets' or 'progressbar' or 'fraction' or 'custom'
      dynamicBullets: false,
      dynamicMainBullets: 1,
      formatFractionCurrent: function formatFractionCurrent(number) {
        return number;
      },
      formatFractionTotal: function formatFractionTotal(number) {
        return number;
      },
      bulletClass: 'swiper-pagination-bullet',
      bulletActiveClass: 'swiper-pagination-bullet-active',
      modifierClass: 'swiper-pagination-',
      // NEW
      currentClass: 'swiper-pagination-current',
      totalClass: 'swiper-pagination-total',
      hiddenClass: 'swiper-pagination-hidden',
      progressbarFillClass: 'swiper-pagination-progressbar-fill',
      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',
      clickableClass: 'swiper-pagination-clickable',
      // NEW
      lockClass: 'swiper-pagination-lock'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      pagination: _extends({
        dynamicBulletIndex: 0
      }, Pagination)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.pagination.init();
      swiper.pagination.render();
      swiper.pagination.update();
    },
    activeIndexChange: function activeIndexChange(swiper) {
      if (swiper.params.loop) {
        swiper.pagination.update();
      } else if (typeof swiper.snapIndex === 'undefined') {
        swiper.pagination.update();
      }
    },
    snapIndexChange: function snapIndexChange(swiper) {
      if (!swiper.params.loop) {
        swiper.pagination.update();
      }
    },
    slidesLengthChange: function slidesLengthChange(swiper) {
      if (swiper.params.loop) {
        swiper.pagination.render();
        swiper.pagination.update();
      }
    },
    snapGridLengthChange: function snapGridLengthChange(swiper) {
      if (!swiper.params.loop) {
        swiper.pagination.render();
        swiper.pagination.update();
      }
    },
    destroy: function destroy(swiper) {
      swiper.pagination.destroy();
    },
    'enable disable': function enableDisable(swiper) {
      var $el = swiper.pagination.$el;

      if ($el) {
        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);
      }
    },
    click: function click(swiper, e) {
      var targetEl = e.target;

      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !(0, _dom.default)(targetEl).hasClass(swiper.params.pagination.bulletClass)) {
        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;
        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);

        if (isHidden === true) {
          swiper.emit('paginationShow');
        } else {
          swiper.emit('paginationHide');
        }

        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],86:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Parallax = {
  setTransform: function setTransform(el, progress) {
    var swiper = this;
    var rtl = swiper.rtl;
    var $el = (0, _dom.default)(el);
    var rtlFactor = rtl ? -1 : 1;
    var p = $el.attr('data-swiper-parallax') || '0';
    var x = $el.attr('data-swiper-parallax-x');
    var y = $el.attr('data-swiper-parallax-y');
    var scale = $el.attr('data-swiper-parallax-scale');
    var opacity = $el.attr('data-swiper-parallax-opacity');

    if (x || y) {
      x = x || '0';
      y = y || '0';
    } else if (swiper.isHorizontal()) {
      x = p;
      y = '0';
    } else {
      y = p;
      x = '0';
    }

    if (x.indexOf('%') >= 0) {
      x = parseInt(x, 10) * progress * rtlFactor + "%";
    } else {
      x = x * progress * rtlFactor + "px";
    }

    if (y.indexOf('%') >= 0) {
      y = parseInt(y, 10) * progress + "%";
    } else {
      y = y * progress + "px";
    }

    if (typeof opacity !== 'undefined' && opacity !== null) {
      var currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));
      $el[0].style.opacity = currentOpacity;
    }

    if (typeof scale === 'undefined' || scale === null) {
      $el.transform("translate3d(" + x + ", " + y + ", 0px)");
    } else {
      var currentScale = scale - (scale - 1) * (1 - Math.abs(progress));
      $el.transform("translate3d(" + x + ", " + y + ", 0px) scale(" + currentScale + ")");
    }
  },
  setTranslate: function setTranslate() {
    var swiper = this;
    var $el = swiper.$el,
        slides = swiper.slides,
        progress = swiper.progress,
        snapGrid = swiper.snapGrid;
    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {
      swiper.parallax.setTransform(el, progress);
    });
    slides.each(function (slideEl, slideIndex) {
      var slideProgress = slideEl.progress;

      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {
        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);
      }

      slideProgress = Math.min(Math.max(slideProgress, -1), 1);
      (0, _dom.default)(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {
        swiper.parallax.setTransform(el, slideProgress);
      });
    });
  },
  setTransition: function setTransition(duration) {
    if (duration === void 0) {
      duration = this.params.speed;
    }

    var swiper = this;
    var $el = swiper.$el;
    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (parallaxEl) {
      var $parallaxEl = (0, _dom.default)(parallaxEl);
      var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;
      if (duration === 0) parallaxDuration = 0;
      $parallaxEl.transition(parallaxDuration);
    });
  }
};
var _default = {
  name: 'parallax',
  params: {
    parallax: {
      enabled: false
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      parallax: _extends({}, Parallax)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.params.watchSlidesProgress = true;
      swiper.originalParams.watchSlidesProgress = true;
    },
    init: function init(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTranslate();
    },
    setTranslate: function setTranslate(swiper) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      if (!swiper.params.parallax.enabled) return;
      swiper.parallax.setTransition(duration);
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],87:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Scrollbar = {
  setTranslate: function setTranslate() {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    var scrollbar = swiper.scrollbar,
        rtl = swiper.rtlTranslate,
        progress = swiper.progress;
    var dragSize = scrollbar.dragSize,
        trackSize = scrollbar.trackSize,
        $dragEl = scrollbar.$dragEl,
        $el = scrollbar.$el;
    var params = swiper.params.scrollbar;
    var newSize = dragSize;
    var newPos = (trackSize - dragSize) * progress;

    if (rtl) {
      newPos = -newPos;

      if (newPos > 0) {
        newSize = dragSize - newPos;
        newPos = 0;
      } else if (-newPos + dragSize > trackSize) {
        newSize = trackSize + newPos;
      }
    } else if (newPos < 0) {
      newSize = dragSize + newPos;
      newPos = 0;
    } else if (newPos + dragSize > trackSize) {
      newSize = trackSize - newPos;
    }

    if (swiper.isHorizontal()) {
      $dragEl.transform("translate3d(" + newPos + "px, 0, 0)");
      $dragEl[0].style.width = newSize + "px";
    } else {
      $dragEl.transform("translate3d(0px, " + newPos + "px, 0)");
      $dragEl[0].style.height = newSize + "px";
    }

    if (params.hide) {
      clearTimeout(swiper.scrollbar.timeout);
      $el[0].style.opacity = 1;
      swiper.scrollbar.timeout = setTimeout(function () {
        $el[0].style.opacity = 0;
        $el.transition(400);
      }, 1000);
    }
  },
  setTransition: function setTransition(duration) {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    swiper.scrollbar.$dragEl.transition(duration);
  },
  updateSize: function updateSize() {
    var swiper = this;
    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;
    var scrollbar = swiper.scrollbar;
    var $dragEl = scrollbar.$dragEl,
        $el = scrollbar.$el;
    $dragEl[0].style.width = '';
    $dragEl[0].style.height = '';
    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;
    var divider = swiper.size / swiper.virtualSize;
    var moveDivider = divider * (trackSize / swiper.size);
    var dragSize;

    if (swiper.params.scrollbar.dragSize === 'auto') {
      dragSize = trackSize * divider;
    } else {
      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);
    }

    if (swiper.isHorizontal()) {
      $dragEl[0].style.width = dragSize + "px";
    } else {
      $dragEl[0].style.height = dragSize + "px";
    }

    if (divider >= 1) {
      $el[0].style.display = 'none';
    } else {
      $el[0].style.display = '';
    }

    if (swiper.params.scrollbar.hide) {
      $el[0].style.opacity = 0;
    }

    (0, _utils.extend)(scrollbar, {
      trackSize: trackSize,
      divider: divider,
      moveDivider: moveDivider,
      dragSize: dragSize
    });

    if (swiper.params.watchOverflow && swiper.enabled) {
      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);
    }
  },
  getPointerPosition: function getPointerPosition(e) {
    var swiper = this;

    if (swiper.isHorizontal()) {
      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;
    }

    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;
  },
  setDragPosition: function setDragPosition(e) {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        rtl = swiper.rtlTranslate;
    var $el = scrollbar.$el,
        dragSize = scrollbar.dragSize,
        trackSize = scrollbar.trackSize,
        dragStartPos = scrollbar.dragStartPos;
    var positionRatio;
    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);
    positionRatio = Math.max(Math.min(positionRatio, 1), 0);

    if (rtl) {
      positionRatio = 1 - positionRatio;
    }

    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;
    swiper.updateProgress(position);
    swiper.setTranslate(position);
    swiper.updateActiveIndex();
    swiper.updateSlidesClasses();
  },
  onDragStart: function onDragStart(e) {
    var swiper = this;
    var params = swiper.params.scrollbar;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el,
        $dragEl = scrollbar.$dragEl;
    swiper.scrollbar.isTouched = true;
    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;
    e.preventDefault();
    e.stopPropagation();
    $wrapperEl.transition(100);
    $dragEl.transition(100);
    scrollbar.setDragPosition(e);
    clearTimeout(swiper.scrollbar.dragTimeout);
    $el.transition(0);

    if (params.hide) {
      $el.css('opacity', 1);
    }

    if (swiper.params.cssMode) {
      swiper.$wrapperEl.css('scroll-snap-type', 'none');
    }

    swiper.emit('scrollbarDragStart', e);
  },
  onDragMove: function onDragMove(e) {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el,
        $dragEl = scrollbar.$dragEl;
    if (!swiper.scrollbar.isTouched) return;
    if (e.preventDefault) e.preventDefault();else e.returnValue = false;
    scrollbar.setDragPosition(e);
    $wrapperEl.transition(0);
    $el.transition(0);
    $dragEl.transition(0);
    swiper.emit('scrollbarDragMove', e);
  },
  onDragEnd: function onDragEnd(e) {
    var swiper = this;
    var params = swiper.params.scrollbar;
    var scrollbar = swiper.scrollbar,
        $wrapperEl = swiper.$wrapperEl;
    var $el = scrollbar.$el;
    if (!swiper.scrollbar.isTouched) return;
    swiper.scrollbar.isTouched = false;

    if (swiper.params.cssMode) {
      swiper.$wrapperEl.css('scroll-snap-type', '');
      $wrapperEl.transition('');
    }

    if (params.hide) {
      clearTimeout(swiper.scrollbar.dragTimeout);
      swiper.scrollbar.dragTimeout = (0, _utils.nextTick)(function () {
        $el.css('opacity', 0);
        $el.transition(400);
      }, 1000);
    }

    swiper.emit('scrollbarDragEnd', e);

    if (params.snapOnRelease) {
      swiper.slideToClosest();
    }
  },
  enableDraggable: function enableDraggable() {
    var swiper = this;
    if (!swiper.params.scrollbar.el) return;
    var document = (0, _ssrWindow.getDocument)();
    var scrollbar = swiper.scrollbar,
        touchEventsTouch = swiper.touchEventsTouch,
        touchEventsDesktop = swiper.touchEventsDesktop,
        params = swiper.params,
        support = swiper.support;
    var $el = scrollbar.$el;
    var target = $el[0];
    var activeListener = support.passiveListener && params.passiveListeners ? {
      passive: false,
      capture: false
    } : false;
    var passiveListener = support.passiveListener && params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    if (!target) return;

    if (!support.touch) {
      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
    } else {
      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);
      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);
      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);
    }
  },
  disableDraggable: function disableDraggable() {
    var swiper = this;
    if (!swiper.params.scrollbar.el) return;
    var document = (0, _ssrWindow.getDocument)();
    var scrollbar = swiper.scrollbar,
        touchEventsTouch = swiper.touchEventsTouch,
        touchEventsDesktop = swiper.touchEventsDesktop,
        params = swiper.params,
        support = swiper.support;
    var $el = scrollbar.$el;
    var target = $el[0];
    var activeListener = support.passiveListener && params.passiveListeners ? {
      passive: false,
      capture: false
    } : false;
    var passiveListener = support.passiveListener && params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    if (!target) return;

    if (!support.touch) {
      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
    } else {
      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);
      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);
      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);
    }
  },
  init: function init() {
    var swiper = this;
    var scrollbar = swiper.scrollbar,
        $swiperEl = swiper.$el;
    swiper.params.scrollbar = (0, _utils.createElementIfNotDefined)($swiperEl, swiper.params.scrollbar, swiper.params.createElements, {
      el: 'swiper-scrollbar'
    });
    var params = swiper.params.scrollbar;
    if (!params.el) return;
    var $el = (0, _dom.default)(params.el);

    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {
      $el = $swiperEl.find(params.el);
    }

    var $dragEl = $el.find("." + swiper.params.scrollbar.dragClass);

    if ($dragEl.length === 0) {
      $dragEl = (0, _dom.default)("<div class=\"" + swiper.params.scrollbar.dragClass + "\"></div>");
      $el.append($dragEl);
    }

    (0, _utils.extend)(scrollbar, {
      $el: $el,
      el: $el[0],
      $dragEl: $dragEl,
      dragEl: $dragEl[0]
    });

    if (params.draggable) {
      scrollbar.enableDraggable();
    }

    if ($el) {
      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);
    }
  },
  destroy: function destroy() {
    var swiper = this;
    swiper.scrollbar.disableDraggable();
  }
};
var _default = {
  name: 'scrollbar',
  params: {
    scrollbar: {
      el: null,
      dragSize: 'auto',
      hide: false,
      draggable: false,
      snapOnRelease: true,
      lockClass: 'swiper-scrollbar-lock',
      dragClass: 'swiper-scrollbar-drag'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      scrollbar: _extends({
        isTouched: false,
        timeout: null,
        dragTimeout: null
      }, Scrollbar)
    });
  },
  on: {
    init: function init(swiper) {
      swiper.scrollbar.init();
      swiper.scrollbar.updateSize();
      swiper.scrollbar.setTranslate();
    },
    update: function update(swiper) {
      swiper.scrollbar.updateSize();
    },
    resize: function resize(swiper) {
      swiper.scrollbar.updateSize();
    },
    observerUpdate: function observerUpdate(swiper) {
      swiper.scrollbar.updateSize();
    },
    setTranslate: function setTranslate(swiper) {
      swiper.scrollbar.setTranslate();
    },
    setTransition: function setTransition(swiper, duration) {
      swiper.scrollbar.setTransition(duration);
    },
    'enable disable': function enableDisable(swiper) {
      var $el = swiper.scrollbar.$el;

      if ($el) {
        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);
      }
    },
    destroy: function destroy(swiper) {
      swiper.scrollbar.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],88:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _utils = require("../../utils/utils");

var _dom = _interopRequireDefault(require("../../utils/dom"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Thumbs = {
  init: function init() {
    var swiper = this;
    var thumbsParams = swiper.params.thumbs;
    if (swiper.thumbs.initialized) return false;
    swiper.thumbs.initialized = true;
    var SwiperClass = swiper.constructor;

    if (thumbsParams.swiper instanceof SwiperClass) {
      swiper.thumbs.swiper = thumbsParams.swiper;
      (0, _utils.extend)(swiper.thumbs.swiper.originalParams, {
        watchSlidesProgress: true,
        slideToClickedSlide: false
      });
      (0, _utils.extend)(swiper.thumbs.swiper.params, {
        watchSlidesProgress: true,
        slideToClickedSlide: false
      });
    } else if ((0, _utils.isObject)(thumbsParams.swiper)) {
      swiper.thumbs.swiper = new SwiperClass((0, _utils.extend)({}, thumbsParams.swiper, {
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
        slideToClickedSlide: false
      }));
      swiper.thumbs.swiperCreated = true;
    }

    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);
    swiper.thumbs.swiper.on('tap', swiper.thumbs.onThumbClick);
    return true;
  },
  onThumbClick: function onThumbClick() {
    var swiper = this;
    var thumbsSwiper = swiper.thumbs.swiper;
    if (!thumbsSwiper) return;
    var clickedIndex = thumbsSwiper.clickedIndex;
    var clickedSlide = thumbsSwiper.clickedSlide;
    if (clickedSlide && (0, _dom.default)(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;
    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;
    var slideToIndex;

    if (thumbsSwiper.params.loop) {
      slideToIndex = parseInt((0, _dom.default)(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);
    } else {
      slideToIndex = clickedIndex;
    }

    if (swiper.params.loop) {
      var currentIndex = swiper.activeIndex;

      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {
        swiper.loopFix(); // eslint-disable-next-line

        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
        currentIndex = swiper.activeIndex;
      }

      var prevIndex = swiper.slides.eq(currentIndex).prevAll("[data-swiper-slide-index=\"" + slideToIndex + "\"]").eq(0).index();
      var nextIndex = swiper.slides.eq(currentIndex).nextAll("[data-swiper-slide-index=\"" + slideToIndex + "\"]").eq(0).index();
      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;
    }

    swiper.slideTo(slideToIndex);
  },
  update: function update(initial) {
    var swiper = this;
    var thumbsSwiper = swiper.thumbs.swiper;
    if (!thumbsSwiper) return;
    var slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;
    var autoScrollOffset = swiper.params.thumbs.autoScrollOffset;
    var useOffset = autoScrollOffset && !thumbsSwiper.params.loop;

    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {
      var currentThumbsIndex = thumbsSwiper.activeIndex;
      var newThumbsIndex;
      var direction;

      if (thumbsSwiper.params.loop) {
        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {
          thumbsSwiper.loopFix(); // eslint-disable-next-line

          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;
          currentThumbsIndex = thumbsSwiper.activeIndex;
        } // Find actual thumbs index to slide to


        var prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll("[data-swiper-slide-index=\"" + swiper.realIndex + "\"]").eq(0).index();
        var nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll("[data-swiper-slide-index=\"" + swiper.realIndex + "\"]").eq(0).index();

        if (typeof prevThumbsIndex === 'undefined') {
          newThumbsIndex = nextThumbsIndex;
        } else if (typeof nextThumbsIndex === 'undefined') {
          newThumbsIndex = prevThumbsIndex;
        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {
          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;
        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {
          newThumbsIndex = nextThumbsIndex;
        } else {
          newThumbsIndex = prevThumbsIndex;
        }

        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';
      } else {
        newThumbsIndex = swiper.realIndex;
        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';
      }

      if (useOffset) {
        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;
      }

      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {
        if (thumbsSwiper.params.centeredSlides) {
          if (newThumbsIndex > currentThumbsIndex) {
            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;
          } else {
            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;
          }
        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;
        }

        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);
      }
    } // Activate thumbs


    var thumbsToActivate = 1;
    var thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;

    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {
      thumbsToActivate = swiper.params.slidesPerView;
    }

    if (!swiper.params.thumbs.multipleActiveThumbs) {
      thumbsToActivate = 1;
    }

    thumbsToActivate = Math.floor(thumbsToActivate);
    thumbsSwiper.slides.removeClass(thumbActiveClass);

    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {
      for (var i = 0; i < thumbsToActivate; i += 1) {
        thumbsSwiper.$wrapperEl.children("[data-swiper-slide-index=\"" + (swiper.realIndex + i) + "\"]").addClass(thumbActiveClass);
      }
    } else {
      for (var _i = 0; _i < thumbsToActivate; _i += 1) {
        thumbsSwiper.slides.eq(swiper.realIndex + _i).addClass(thumbActiveClass);
      }
    }
  }
};
var _default = {
  name: 'thumbs',
  params: {
    thumbs: {
      swiper: null,
      multipleActiveThumbs: true,
      autoScrollOffset: 0,
      slideThumbActiveClass: 'swiper-slide-thumb-active',
      thumbsContainerClass: 'swiper-container-thumbs'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      thumbs: _extends({
        swiper: null,
        initialized: false
      }, Thumbs)
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      var thumbs = swiper.params.thumbs;
      if (!thumbs || !thumbs.swiper) return;
      swiper.thumbs.init();
      swiper.thumbs.update(true);
    },
    slideChange: function slideChange(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    update: function update(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    resize: function resize(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    observerUpdate: function observerUpdate(swiper) {
      if (!swiper.thumbs.swiper) return;
      swiper.thumbs.update();
    },
    setTransition: function setTransition(swiper, duration) {
      var thumbsSwiper = swiper.thumbs.swiper;
      if (!thumbsSwiper) return;
      thumbsSwiper.setTransition(duration);
    },
    beforeDestroy: function beforeDestroy(swiper) {
      var thumbsSwiper = swiper.thumbs.swiper;
      if (!thumbsSwiper) return;

      if (swiper.thumbs.swiperCreated && thumbsSwiper) {
        thumbsSwiper.destroy();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],89:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Virtual = {
  update: function update(force) {
    var swiper = this;
    var _swiper$params = swiper.params,
        slidesPerView = _swiper$params.slidesPerView,
        slidesPerGroup = _swiper$params.slidesPerGroup,
        centeredSlides = _swiper$params.centeredSlides;
    var _swiper$params$virtua = swiper.params.virtual,
        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,
        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;
    var _swiper$virtual = swiper.virtual,
        previousFrom = _swiper$virtual.from,
        previousTo = _swiper$virtual.to,
        slides = _swiper$virtual.slides,
        previousSlidesGrid = _swiper$virtual.slidesGrid,
        renderSlide = _swiper$virtual.renderSlide,
        previousOffset = _swiper$virtual.offset;
    swiper.updateActiveIndex();
    var activeIndex = swiper.activeIndex || 0;
    var offsetProp;
    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';
    var slidesAfter;
    var slidesBefore;

    if (centeredSlides) {
      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;
      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;
    } else {
      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;
      slidesBefore = slidesPerGroup + addSlidesBefore;
    }

    var from = Math.max((activeIndex || 0) - slidesBefore, 0);
    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);
    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);
    (0, _utils.extend)(swiper.virtual, {
      from: from,
      to: to,
      offset: offset,
      slidesGrid: swiper.slidesGrid
    });

    function onRendered() {
      swiper.updateSlides();
      swiper.updateProgress();
      swiper.updateSlidesClasses();

      if (swiper.lazy && swiper.params.lazy.enabled) {
        swiper.lazy.load();
      }
    }

    if (previousFrom === from && previousTo === to && !force) {
      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {
        swiper.slides.css(offsetProp, offset + "px");
      }

      swiper.updateProgress();
      return;
    }

    if (swiper.params.virtual.renderExternal) {
      swiper.params.virtual.renderExternal.call(swiper, {
        offset: offset,
        from: from,
        to: to,
        slides: function getSlides() {
          var slidesToRender = [];

          for (var i = from; i <= to; i += 1) {
            slidesToRender.push(slides[i]);
          }

          return slidesToRender;
        }()
      });

      if (swiper.params.virtual.renderExternalUpdate) {
        onRendered();
      }

      return;
    }

    var prependIndexes = [];
    var appendIndexes = [];

    if (force) {
      swiper.$wrapperEl.find("." + swiper.params.slideClass).remove();
    } else {
      for (var i = previousFrom; i <= previousTo; i += 1) {
        if (i < from || i > to) {
          swiper.$wrapperEl.find("." + swiper.params.slideClass + "[data-swiper-slide-index=\"" + i + "\"]").remove();
        }
      }
    }

    for (var _i = 0; _i < slides.length; _i += 1) {
      if (_i >= from && _i <= to) {
        if (typeof previousTo === 'undefined' || force) {
          appendIndexes.push(_i);
        } else {
          if (_i > previousTo) appendIndexes.push(_i);
          if (_i < previousFrom) prependIndexes.push(_i);
        }
      }
    }

    appendIndexes.forEach(function (index) {
      swiper.$wrapperEl.append(renderSlide(slides[index], index));
    });
    prependIndexes.sort(function (a, b) {
      return b - a;
    }).forEach(function (index) {
      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));
    });
    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + "px");
    onRendered();
  },
  renderSlide: function renderSlide(slide, index) {
    var swiper = this;
    var params = swiper.params.virtual;

    if (params.cache && swiper.virtual.cache[index]) {
      return swiper.virtual.cache[index];
    }

    var $slideEl = params.renderSlide ? (0, _dom.default)(params.renderSlide.call(swiper, slide, index)) : (0, _dom.default)("<div class=\"" + swiper.params.slideClass + "\" data-swiper-slide-index=\"" + index + "\">" + slide + "</div>");
    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);
    if (params.cache) swiper.virtual.cache[index] = $slideEl;
    return $slideEl;
  },
  appendSlide: function appendSlide(slides) {
    var swiper = this;

    if (typeof slides === 'object' && 'length' in slides) {
      for (var i = 0; i < slides.length; i += 1) {
        if (slides[i]) swiper.virtual.slides.push(slides[i]);
      }
    } else {
      swiper.virtual.slides.push(slides);
    }

    swiper.virtual.update(true);
  },
  prependSlide: function prependSlide(slides) {
    var swiper = this;
    var activeIndex = swiper.activeIndex;
    var newActiveIndex = activeIndex + 1;
    var numberOfNewSlides = 1;

    if (Array.isArray(slides)) {
      for (var i = 0; i < slides.length; i += 1) {
        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);
      }

      newActiveIndex = activeIndex + slides.length;
      numberOfNewSlides = slides.length;
    } else {
      swiper.virtual.slides.unshift(slides);
    }

    if (swiper.params.virtual.cache) {
      var cache = swiper.virtual.cache;
      var newCache = {};
      Object.keys(cache).forEach(function (cachedIndex) {
        var $cachedEl = cache[cachedIndex];
        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');

        if (cachedElIndex) {
          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);
        }

        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;
      });
      swiper.virtual.cache = newCache;
    }

    swiper.virtual.update(true);
    swiper.slideTo(newActiveIndex, 0);
  },
  removeSlide: function removeSlide(slidesIndexes) {
    var swiper = this;
    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;
    var activeIndex = swiper.activeIndex;

    if (Array.isArray(slidesIndexes)) {
      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {
        swiper.virtual.slides.splice(slidesIndexes[i], 1);

        if (swiper.params.virtual.cache) {
          delete swiper.virtual.cache[slidesIndexes[i]];
        }

        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;
        activeIndex = Math.max(activeIndex, 0);
      }
    } else {
      swiper.virtual.slides.splice(slidesIndexes, 1);

      if (swiper.params.virtual.cache) {
        delete swiper.virtual.cache[slidesIndexes];
      }

      if (slidesIndexes < activeIndex) activeIndex -= 1;
      activeIndex = Math.max(activeIndex, 0);
    }

    swiper.virtual.update(true);
    swiper.slideTo(activeIndex, 0);
  },
  removeAllSlides: function removeAllSlides() {
    var swiper = this;
    swiper.virtual.slides = [];

    if (swiper.params.virtual.cache) {
      swiper.virtual.cache = {};
    }

    swiper.virtual.update(true);
    swiper.slideTo(0, 0);
  }
};
var _default = {
  name: 'virtual',
  params: {
    virtual: {
      enabled: false,
      slides: [],
      cache: true,
      renderSlide: null,
      renderExternal: null,
      renderExternalUpdate: true,
      addSlidesBefore: 0,
      addSlidesAfter: 0
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      virtual: _extends({}, Virtual, {
        slides: swiper.params.virtual.slides,
        cache: {}
      })
    });
  },
  on: {
    beforeInit: function beforeInit(swiper) {
      if (!swiper.params.virtual.enabled) return;
      swiper.classNames.push(swiper.params.containerModifierClass + "virtual");
      var overwriteParams = {
        watchSlidesProgress: true
      };
      (0, _utils.extend)(swiper.params, overwriteParams);
      (0, _utils.extend)(swiper.originalParams, overwriteParams);

      if (!swiper.params.initialSlide) {
        swiper.virtual.update();
      }
    },
    setTranslate: function setTranslate(swiper) {
      if (!swiper.params.virtual.enabled) return;
      swiper.virtual.update();
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97}],90:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _dom = _interopRequireDefault(require("../../utils/dom"));

var _utils = require("../../utils/utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Zoom = {
  // Calc Scale From Multi-touches
  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {
    if (e.targetTouches.length < 2) return 1;
    var x1 = e.targetTouches[0].pageX;
    var y1 = e.targetTouches[0].pageY;
    var x2 = e.targetTouches[1].pageX;
    var y2 = e.targetTouches[1].pageY;
    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
    return distance;
  },
  // Events
  onGestureStart: function onGestureStart(e) {
    var swiper = this;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;
    zoom.fakeGestureTouched = false;
    zoom.fakeGestureMoved = false;

    if (!support.gestures) {
      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {
        return;
      }

      zoom.fakeGestureTouched = true;
      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);
    }

    if (!gesture.$slideEl || !gesture.$slideEl.length) {
      gesture.$slideEl = (0, _dom.default)(e.target).closest("." + swiper.params.slideClass);
      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;

      if (gesture.$imageWrapEl.length === 0) {
        gesture.$imageEl = undefined;
        return;
      }
    }

    if (gesture.$imageEl) {
      gesture.$imageEl.transition(0);
    }

    swiper.zoom.isScaling = true;
  },
  onGestureChange: function onGestureChange(e) {
    var swiper = this;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (!support.gestures) {
      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {
        return;
      }

      zoom.fakeGestureMoved = true;
      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
      if (e.type === 'gesturechange') zoom.onGestureStart(e);
      return;
    }

    if (support.gestures) {
      zoom.scale = e.scale * zoom.currentScale;
    } else {
      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;
    }

    if (zoom.scale > gesture.maxRatio) {
      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);
    }

    if (zoom.scale < params.minRatio) {
      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);
    }

    gesture.$imageEl.transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
  },
  onGestureEnd: function onGestureEnd(e) {
    var swiper = this;
    var device = swiper.device;
    var support = swiper.support;
    var params = swiper.params.zoom;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (!support.gestures) {
      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {
        return;
      }

      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {
        return;
      }

      zoom.fakeGestureTouched = false;
      zoom.fakeGestureMoved = false;
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);
    gesture.$imageEl.transition(swiper.params.speed).transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
    zoom.currentScale = zoom.scale;
    zoom.isScaling = false;
    if (zoom.scale === 1) gesture.$slideEl = undefined;
  },
  onTouchStart: function onTouchStart(e) {
    var swiper = this;
    var device = swiper.device;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    if (image.isTouched) return;
    if (device.android && e.cancelable) e.preventDefault();
    image.isTouched = true;
    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
  },
  onTouchMove: function onTouchMove(e) {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image,
        velocity = zoom.velocity;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;
    swiper.allowClick = false;
    if (!image.isTouched || !gesture.$slideEl) return;

    if (!image.isMoved) {
      image.width = gesture.$imageEl[0].offsetWidth;
      image.height = gesture.$imageEl[0].offsetHeight;
      image.startX = (0, _utils.getTranslate)(gesture.$imageWrapEl[0], 'x') || 0;
      image.startY = (0, _utils.getTranslate)(gesture.$imageWrapEl[0], 'y') || 0;
      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;
      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;
      gesture.$imageWrapEl.transition(0);
    } // Define if we need image drag


    var scaledWidth = image.width * zoom.scale;
    var scaledHeight = image.height * zoom.scale;
    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;
    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);
    image.maxX = -image.minX;
    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);
    image.maxY = -image.minY;
    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;

    if (!image.isMoved && !zoom.isScaling) {
      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {
        image.isTouched = false;
        return;
      }

      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {
        image.isTouched = false;
        return;
      }
    }

    if (e.cancelable) {
      e.preventDefault();
    }

    e.stopPropagation();
    image.isMoved = true;
    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;
    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;

    if (image.currentX < image.minX) {
      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);
    }

    if (image.currentX > image.maxX) {
      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);
    }

    if (image.currentY < image.minY) {
      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);
    }

    if (image.currentY > image.maxY) {
      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);
    } // Velocity


    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;
    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;
    if (!velocity.prevTime) velocity.prevTime = Date.now();
    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;
    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;
    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;
    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;
    velocity.prevPositionX = image.touchesCurrent.x;
    velocity.prevPositionY = image.touchesCurrent.y;
    velocity.prevTime = Date.now();
    gesture.$imageWrapEl.transform("translate3d(" + image.currentX + "px, " + image.currentY + "px,0)");
  },
  onTouchEnd: function onTouchEnd() {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture,
        image = zoom.image,
        velocity = zoom.velocity;
    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;

    if (!image.isTouched || !image.isMoved) {
      image.isTouched = false;
      image.isMoved = false;
      return;
    }

    image.isTouched = false;
    image.isMoved = false;
    var momentumDurationX = 300;
    var momentumDurationY = 300;
    var momentumDistanceX = velocity.x * momentumDurationX;
    var newPositionX = image.currentX + momentumDistanceX;
    var momentumDistanceY = velocity.y * momentumDurationY;
    var newPositionY = image.currentY + momentumDistanceY; // Fix duration

    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);
    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);
    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);
    image.currentX = newPositionX;
    image.currentY = newPositionY; // Define if we need image drag

    var scaledWidth = image.width * zoom.scale;
    var scaledHeight = image.height * zoom.scale;
    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);
    image.maxX = -image.minX;
    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);
    image.maxY = -image.minY;
    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);
    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);
    gesture.$imageWrapEl.transition(momentumDuration).transform("translate3d(" + image.currentX + "px, " + image.currentY + "px,0)");
  },
  onTransitionEnd: function onTransitionEnd() {
    var swiper = this;
    var zoom = swiper.zoom;
    var gesture = zoom.gesture;

    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {
      if (gesture.$imageEl) {
        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');
      }

      if (gesture.$imageWrapEl) {
        gesture.$imageWrapEl.transform('translate3d(0,0,0)');
      }

      zoom.scale = 1;
      zoom.currentScale = 1;
      gesture.$slideEl = undefined;
      gesture.$imageEl = undefined;
      gesture.$imageWrapEl = undefined;
    }
  },
  // Toggle Zoom
  toggle: function toggle(e) {
    var swiper = this;
    var zoom = swiper.zoom;

    if (zoom.scale && zoom.scale !== 1) {
      // Zoom Out
      zoom.out();
    } else {
      // Zoom In
      zoom.in(e);
    }
  },
  in: function _in(e) {
    var swiper = this;
    var window = (0, _ssrWindow.getWindow)();
    var zoom = swiper.zoom;
    var params = swiper.params.zoom;
    var gesture = zoom.gesture,
        image = zoom.image;

    if (!gesture.$slideEl) {
      if (e && e.target) {
        gesture.$slideEl = (0, _dom.default)(e.target).closest("." + swiper.params.slideClass);
      }

      if (!gesture.$slideEl) {
        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {
          gesture.$slideEl = swiper.$wrapperEl.children("." + swiper.params.slideActiveClass);
        } else {
          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
        }
      }

      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;
    gesture.$slideEl.addClass("" + params.zoomedSlideClass);
    var touchX;
    var touchY;
    var offsetX;
    var offsetY;
    var diffX;
    var diffY;
    var translateX;
    var translateY;
    var imageWidth;
    var imageHeight;
    var scaledWidth;
    var scaledHeight;
    var translateMinX;
    var translateMinY;
    var translateMaxX;
    var translateMaxY;
    var slideWidth;
    var slideHeight;

    if (typeof image.touchesStart.x === 'undefined' && e) {
      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;
      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;
    } else {
      touchX = image.touchesStart.x;
      touchY = image.touchesStart.y;
    }

    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;
    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;

    if (e) {
      slideWidth = gesture.$slideEl[0].offsetWidth;
      slideHeight = gesture.$slideEl[0].offsetHeight;
      offsetX = gesture.$slideEl.offset().left + window.scrollX;
      offsetY = gesture.$slideEl.offset().top + window.scrollY;
      diffX = offsetX + slideWidth / 2 - touchX;
      diffY = offsetY + slideHeight / 2 - touchY;
      imageWidth = gesture.$imageEl[0].offsetWidth;
      imageHeight = gesture.$imageEl[0].offsetHeight;
      scaledWidth = imageWidth * zoom.scale;
      scaledHeight = imageHeight * zoom.scale;
      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);
      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);
      translateMaxX = -translateMinX;
      translateMaxY = -translateMinY;
      translateX = diffX * zoom.scale;
      translateY = diffY * zoom.scale;

      if (translateX < translateMinX) {
        translateX = translateMinX;
      }

      if (translateX > translateMaxX) {
        translateX = translateMaxX;
      }

      if (translateY < translateMinY) {
        translateY = translateMinY;
      }

      if (translateY > translateMaxY) {
        translateY = translateMaxY;
      }
    } else {
      translateX = 0;
      translateY = 0;
    }

    gesture.$imageWrapEl.transition(300).transform("translate3d(" + translateX + "px, " + translateY + "px,0)");
    gesture.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + zoom.scale + ")");
  },
  out: function out() {
    var swiper = this;
    var zoom = swiper.zoom;
    var params = swiper.params.zoom;
    var gesture = zoom.gesture;

    if (!gesture.$slideEl) {
      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {
        gesture.$slideEl = swiper.$wrapperEl.children("." + swiper.params.slideActiveClass);
      } else {
        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
      }

      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');
      gesture.$imageWrapEl = gesture.$imageEl.parent("." + params.containerClass);
    }

    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;
    zoom.scale = 1;
    zoom.currentScale = 1;
    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');
    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');
    gesture.$slideEl.removeClass("" + params.zoomedSlideClass);
    gesture.$slideEl = undefined;
  },
  toggleGestures: function toggleGestures(method) {
    var swiper = this;
    var zoom = swiper.zoom;
    var selector = zoom.slideSelector,
        passive = zoom.passiveListener;
    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);
    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);
    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);
  },
  enableGestures: function enableGestures() {
    if (this.zoom.gesturesEnabled) return;
    this.zoom.gesturesEnabled = true;
    this.zoom.toggleGestures('on');
  },
  disableGestures: function disableGestures() {
    if (!this.zoom.gesturesEnabled) return;
    this.zoom.gesturesEnabled = false;
    this.zoom.toggleGestures('off');
  },
  // Attach/Detach Events
  enable: function enable() {
    var swiper = this;
    var support = swiper.support;
    var zoom = swiper.zoom;
    if (zoom.enabled) return;
    zoom.enabled = true;
    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    var activeListenerWithCapture = support.passiveListener ? {
      passive: false,
      capture: true
    } : true;
    var slideSelector = "." + swiper.params.slideClass;
    swiper.zoom.passiveListener = passiveListener;
    swiper.zoom.slideSelector = slideSelector; // Scale image

    if (support.gestures) {
      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);
      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);
    } else if (swiper.touchEvents.start === 'touchstart') {
      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);
      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);
      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);

      if (swiper.touchEvents.cancel) {
        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);
      }
    } // Move image


    swiper.$wrapperEl.on(swiper.touchEvents.move, "." + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);
  },
  disable: function disable() {
    var swiper = this;
    var zoom = swiper.zoom;
    if (!zoom.enabled) return;
    var support = swiper.support;
    swiper.zoom.enabled = false;
    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {
      passive: true,
      capture: false
    } : false;
    var activeListenerWithCapture = support.passiveListener ? {
      passive: false,
      capture: true
    } : true;
    var slideSelector = "." + swiper.params.slideClass; // Scale image

    if (support.gestures) {
      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);
      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);
    } else if (swiper.touchEvents.start === 'touchstart') {
      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);
      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);
      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);

      if (swiper.touchEvents.cancel) {
        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);
      }
    } // Move image


    swiper.$wrapperEl.off(swiper.touchEvents.move, "." + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);
  }
};
var _default = {
  name: 'zoom',
  params: {
    zoom: {
      enabled: false,
      maxRatio: 3,
      minRatio: 1,
      toggle: true,
      containerClass: 'swiper-zoom-container',
      zoomedSlideClass: 'swiper-slide-zoomed'
    }
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      zoom: _extends({
        enabled: false,
        scale: 1,
        currentScale: 1,
        isScaling: false,
        gesture: {
          $slideEl: undefined,
          slideWidth: undefined,
          slideHeight: undefined,
          $imageEl: undefined,
          $imageWrapEl: undefined,
          maxRatio: 3
        },
        image: {
          isTouched: undefined,
          isMoved: undefined,
          currentX: undefined,
          currentY: undefined,
          minX: undefined,
          minY: undefined,
          maxX: undefined,
          maxY: undefined,
          width: undefined,
          height: undefined,
          startX: undefined,
          startY: undefined,
          touchesStart: {},
          touchesCurrent: {}
        },
        velocity: {
          x: undefined,
          y: undefined,
          prevPositionX: undefined,
          prevPositionY: undefined,
          prevTime: undefined
        }
      }, Zoom)
    });
    var scale = 1;
    Object.defineProperty(swiper.zoom, 'scale', {
      get: function get() {
        return scale;
      },
      set: function set(value) {
        if (scale !== value) {
          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;
          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;
          swiper.emit('zoomChange', value, imageEl, slideEl);
        }

        scale = value;
      }
    });
  },
  on: {
    init: function init(swiper) {
      if (swiper.params.zoom.enabled) {
        swiper.zoom.enable();
      }
    },
    destroy: function destroy(swiper) {
      swiper.zoom.disable();
    },
    touchStart: function touchStart(swiper, e) {
      if (!swiper.zoom.enabled) return;
      swiper.zoom.onTouchStart(e);
    },
    touchEnd: function touchEnd(swiper, e) {
      if (!swiper.zoom.enabled) return;
      swiper.zoom.onTouchEnd(e);
    },
    doubleTap: function doubleTap(swiper, e) {
      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {
        swiper.zoom.toggle(e);
      }
    },
    transitionEnd: function transitionEnd(swiper) {
      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {
        swiper.zoom.onTransitionEnd();
      }
    },
    slideChange: function slideChange(swiper) {
      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {
        swiper.zoom.onTransitionEnd();
      }
    }
  }
};
exports.default = _default;
},{"../../utils/dom":93,"../../utils/utils":97,"ssr-window":9}],91:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Observer = {
  attach: function attach(target, options) {
    if (options === void 0) {
      options = {};
    }

    var window = (0, _ssrWindow.getWindow)();
    var swiper = this;
    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;
    var observer = new ObserverFunc(function (mutations) {
      // The observerUpdate event should only be triggered
      // once despite the number of mutations.  Additional
      // triggers are redundant and are very costly
      if (mutations.length === 1) {
        swiper.emit('observerUpdate', mutations[0]);
        return;
      }

      var observerUpdate = function observerUpdate() {
        swiper.emit('observerUpdate', mutations[0]);
      };

      if (window.requestAnimationFrame) {
        window.requestAnimationFrame(observerUpdate);
      } else {
        window.setTimeout(observerUpdate, 0);
      }
    });
    observer.observe(target, {
      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,
      childList: typeof options.childList === 'undefined' ? true : options.childList,
      characterData: typeof options.characterData === 'undefined' ? true : options.characterData
    });
    swiper.observer.observers.push(observer);
  },
  init: function init() {
    var swiper = this;
    if (!swiper.support.observer || !swiper.params.observer) return;

    if (swiper.params.observeParents) {
      var containerParents = swiper.$el.parents();

      for (var i = 0; i < containerParents.length; i += 1) {
        swiper.observer.attach(containerParents[i]);
      }
    } // Observe container


    swiper.observer.attach(swiper.$el[0], {
      childList: swiper.params.observeSlideChildren
    }); // Observe wrapper

    swiper.observer.attach(swiper.$wrapperEl[0], {
      attributes: false
    });
  },
  destroy: function destroy() {
    var swiper = this;
    swiper.observer.observers.forEach(function (observer) {
      observer.disconnect();
    });
    swiper.observer.observers = [];
  }
};
var _default = {
  name: 'observer',
  params: {
    observer: false,
    observeParents: false,
    observeSlideChildren: false
  },
  create: function create() {
    var swiper = this;
    (0, _utils.bindModuleMethods)(swiper, {
      observer: _extends({}, Observer, {
        observers: []
      })
    });
  },
  on: {
    init: function init(swiper) {
      swiper.observer.init();
    },
    destroy: function destroy(swiper) {
      swiper.observer.destroy();
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],92:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _ssrWindow = require("ssr-window");

var _utils = require("../../utils/utils");

var supportsResizeObserver = function supportsResizeObserver() {
  var window = (0, _ssrWindow.getWindow)();
  return typeof window.ResizeObserver !== 'undefined';
};

var _default = {
  name: 'resize',
  create: function create() {
    var swiper = this;
    (0, _utils.extend)(swiper, {
      resize: {
        observer: null,
        createObserver: function createObserver() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.resize.observer = new ResizeObserver(function (entries) {
            var width = swiper.width,
                height = swiper.height;
            var newWidth = width;
            var newHeight = height;
            entries.forEach(function (_ref) {
              var contentBoxSize = _ref.contentBoxSize,
                  contentRect = _ref.contentRect,
                  target = _ref.target;
              if (target && target !== swiper.el) return;
              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;
              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;
            });

            if (newWidth !== width || newHeight !== height) {
              swiper.resize.resizeHandler();
            }
          });
          swiper.resize.observer.observe(swiper.el);
        },
        removeObserver: function removeObserver() {
          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {
            swiper.resize.observer.unobserve(swiper.el);
            swiper.resize.observer = null;
          }
        },
        resizeHandler: function resizeHandler() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.emit('beforeResize');
          swiper.emit('resize');
        },
        orientationChangeHandler: function orientationChangeHandler() {
          if (!swiper || swiper.destroyed || !swiper.initialized) return;
          swiper.emit('orientationchange');
        }
      }
    });
  },
  on: {
    init: function init(swiper) {
      var window = (0, _ssrWindow.getWindow)();

      if (swiper.params.resizeObserver && supportsResizeObserver()) {
        swiper.resize.createObserver();
        return;
      } // Emit resize


      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange

      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);
    },
    destroy: function destroy(swiper) {
      var window = (0, _ssrWindow.getWindow)();
      swiper.resize.removeObserver();
      window.removeEventListener('resize', swiper.resize.resizeHandler);
      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);
    }
  }
};
exports.default = _default;
},{"../../utils/utils":97,"ssr-window":9}],93:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _dom = require("dom7");

var Methods = {
  addClass: _dom.addClass,
  removeClass: _dom.removeClass,
  hasClass: _dom.hasClass,
  toggleClass: _dom.toggleClass,
  attr: _dom.attr,
  removeAttr: _dom.removeAttr,
  transform: _dom.transform,
  transition: _dom.transition,
  on: _dom.on,
  off: _dom.off,
  trigger: _dom.trigger,
  transitionEnd: _dom.transitionEnd,
  outerWidth: _dom.outerWidth,
  outerHeight: _dom.outerHeight,
  styles: _dom.styles,
  offset: _dom.offset,
  css: _dom.css,
  each: _dom.each,
  html: _dom.html,
  text: _dom.text,
  is: _dom.is,
  index: _dom.index,
  eq: _dom.eq,
  append: _dom.append,
  prepend: _dom.prepend,
  next: _dom.next,
  nextAll: _dom.nextAll,
  prev: _dom.prev,
  prevAll: _dom.prevAll,
  parent: _dom.parent,
  parents: _dom.parents,
  closest: _dom.closest,
  find: _dom.find,
  children: _dom.children,
  filter: _dom.filter,
  remove: _dom.remove
};
Object.keys(Methods).forEach(function (methodName) {
  Object.defineProperty(_dom.$.fn, methodName, {
    value: Methods[methodName],
    writable: true
  });
});
var _default = _dom.$;
exports.default = _default;
},{"dom7":3}],94:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getBrowser = getBrowser;

var _ssrWindow = require("ssr-window");

var browser;

function calcBrowser() {
  var window = (0, _ssrWindow.getWindow)();

  function isSafari() {
    var ua = window.navigator.userAgent.toLowerCase();
    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;
  }

  return {
    isEdge: !!window.navigator.userAgent.match(/Edge/g),
    isSafari: isSafari(),
    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)
  };
}

function getBrowser() {
  if (!browser) {
    browser = calcBrowser();
  }

  return browser;
}
},{"ssr-window":9}],95:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getDevice = getDevice;

var _ssrWindow = require("ssr-window");

var _getSupport = require("./get-support");

var device;

function calcDevice(_temp) {
  var _ref = _temp === void 0 ? {} : _temp,
      userAgent = _ref.userAgent;

  var support = (0, _getSupport.getSupport)();
  var window = (0, _ssrWindow.getWindow)();
  var platform = window.navigator.platform;
  var ua = userAgent || window.navigator.userAgent;
  var device = {
    ios: false,
    android: false
  };
  var screenWidth = window.screen.width;
  var screenHeight = window.screen.height;
  var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/); // eslint-disable-line

  var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
  var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
  var iphone = !ipad && ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
  var windows = platform === 'Win32';
  var macos = platform === 'MacIntel'; // iPadOs 13 fix

  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];

  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + "x" + screenHeight) >= 0) {
    ipad = ua.match(/(Version)\/([\d.]+)/);
    if (!ipad) ipad = [0, 1, '13_0_0'];
    macos = false;
  } // Android


  if (android && !windows) {
    device.os = 'android';
    device.android = true;
  }

  if (ipad || iphone || ipod) {
    device.os = 'ios';
    device.ios = true;
  } // Export object


  return device;
}

function getDevice(overrides) {
  if (overrides === void 0) {
    overrides = {};
  }

  if (!device) {
    device = calcDevice(overrides);
  }

  return device;
}
},{"./get-support":96,"ssr-window":9}],96:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.getSupport = getSupport;

var _ssrWindow = require("ssr-window");

var support;

function calcSupport() {
  var window = (0, _ssrWindow.getWindow)();
  var document = (0, _ssrWindow.getDocument)();
  return {
    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),
    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,
    observer: function checkObserver() {
      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;
    }(),
    passiveListener: function checkPassiveListener() {
      var supportsPassive = false;

      try {
        var opts = Object.defineProperty({}, 'passive', {
          // eslint-disable-next-line
          get: function get() {
            supportsPassive = true;
          }
        });
        window.addEventListener('testPassiveListener', null, opts);
      } catch (e) {// No support
      }

      return supportsPassive;
    }(),
    gestures: function checkGestures() {
      return 'ongesturestart' in window;
    }()
  };
}

function getSupport() {
  if (!support) {
    support = calcSupport();
  }

  return support;
}
},{"ssr-window":9}],97:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.deleteProps = deleteProps;
exports.nextTick = nextTick;
exports.now = now;
exports.getTranslate = getTranslate;
exports.isObject = isObject;
exports.extend = extend;
exports.bindModuleMethods = bindModuleMethods;
exports.getComputedStyle = getComputedStyle;
exports.classesToSelector = classesToSelector;
exports.createElementIfNotDefined = createElementIfNotDefined;

var _ssrWindow = require("ssr-window");

function deleteProps(obj) {
  var object = obj;
  Object.keys(object).forEach(function (key) {
    try {
      object[key] = null;
    } catch (e) {// no getter for object
    }

    try {
      delete object[key];
    } catch (e) {// something got wrong
    }
  });
}

function nextTick(callback, delay) {
  if (delay === void 0) {
    delay = 0;
  }

  return setTimeout(callback, delay);
}

function now() {
  return Date.now();
}

function getComputedStyle(el) {
  var window = (0, _ssrWindow.getWindow)();
  var style;

  if (window.getComputedStyle) {
    style = window.getComputedStyle(el, null);
  }

  if (!style && el.currentStyle) {
    style = el.currentStyle;
  }

  if (!style) {
    style = el.style;
  }

  return style;
}

function getTranslate(el, axis) {
  if (axis === void 0) {
    axis = 'x';
  }

  var window = (0, _ssrWindow.getWindow)();
  var matrix;
  var curTransform;
  var transformMatrix;
  var curStyle = getComputedStyle(el, null);

  if (window.WebKitCSSMatrix) {
    curTransform = curStyle.transform || curStyle.webkitTransform;

    if (curTransform.split(',').length > 6) {
      curTransform = curTransform.split(', ').map(function (a) {
        return a.replace(',', '.');
      }).join(', ');
    } // Some old versions of Webkit choke when 'none' is passed; pass
    // empty string instead in this case


    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);
  } else {
    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');
    matrix = transformMatrix.toString().split(',');
  }

  if (axis === 'x') {
    // Latest Chrome and webkits Fix
    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix
    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers
      else curTransform = parseFloat(matrix[4]);
  }

  if (axis === 'y') {
    // Latest Chrome and webkits Fix
    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix
    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers
      else curTransform = parseFloat(matrix[5]);
  }

  return curTransform || 0;
}

function isObject(o) {
  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';
}

function isNode(node) {
  // eslint-disable-next-line
  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {
    return node instanceof HTMLElement;
  }

  return node && (node.nodeType === 1 || node.nodeType === 11);
}

function extend() {
  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);
  var noExtend = ['__proto__', 'constructor', 'prototype'];

  for (var i = 1; i < arguments.length; i += 1) {
    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];

    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {
      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {
        return noExtend.indexOf(key) < 0;
      });

      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {
        var nextKey = keysArray[nextIndex];
        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);

        if (desc !== undefined && desc.enumerable) {
          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {
            if (nextSource[nextKey].__swiper__) {
              to[nextKey] = nextSource[nextKey];
            } else {
              extend(to[nextKey], nextSource[nextKey]);
            }
          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {
            to[nextKey] = {};

            if (nextSource[nextKey].__swiper__) {
              to[nextKey] = nextSource[nextKey];
            } else {
              extend(to[nextKey], nextSource[nextKey]);
            }
          } else {
            to[nextKey] = nextSource[nextKey];
          }
        }
      }
    }
  }

  return to;
}

function bindModuleMethods(instance, obj) {
  Object.keys(obj).forEach(function (key) {
    if (isObject(obj[key])) {
      Object.keys(obj[key]).forEach(function (subKey) {
        if (typeof obj[key][subKey] === 'function') {
          obj[key][subKey] = obj[key][subKey].bind(instance);
        }
      });
    }

    instance[key] = obj[key];
  });
}

function classesToSelector(classes) {
  if (classes === void 0) {
    classes = '';
  }

  return "." + classes.trim().replace(/([\.:!\/])/g, '\\$1') // eslint-disable-line
  .replace(/ /g, '.');
}

function createElementIfNotDefined($container, params, createElements, checkProps) {
  var document = (0, _ssrWindow.getDocument)();

  if (createElements) {
    Object.keys(checkProps).forEach(function (key) {
      if (!params[key] && params.auto === true) {
        var element = document.createElement('div');
        element.className = checkProps[key];
        $container.append(element);
        params[key] = element;
      }
    });
  }

  return params;
}
},{"ssr-window":9}],98:[function(require,module,exports){
/**
 * Swiper 6.8.4
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2021 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: August 23, 2021
 */

"use strict";
exports.__esModule = true;
exports.default = require('./cjs/components/core/core-class').default;
exports.Swiper = require('./cjs/components/core/core-class').default;
exports.Virtual = require('./cjs/components/virtual/virtual').default;
exports.Keyboard = require('./cjs/components/keyboard/keyboard').default;
exports.Mousewheel = require('./cjs/components/mousewheel/mousewheel').default;
exports.Navigation = require('./cjs/components/navigation/navigation').default;
exports.Pagination = require('./cjs/components/pagination/pagination').default;
exports.Scrollbar = require('./cjs/components/scrollbar/scrollbar').default;
exports.Parallax = require('./cjs/components/parallax/parallax').default;
exports.Zoom = require('./cjs/components/zoom/zoom').default;
exports.Lazy = require('./cjs/components/lazy/lazy').default;
exports.Controller = require('./cjs/components/controller/controller').default;
exports.A11y = require('./cjs/components/a11y/a11y').default;
exports.History = require('./cjs/components/history/history').default;
exports.HashNavigation = require('./cjs/components/hash-navigation/hash-navigation').default;
exports.Autoplay = require('./cjs/components/autoplay/autoplay').default;
exports.EffectFade = require('./cjs/components/effect-fade/effect-fade').default;
exports.EffectCube = require('./cjs/components/effect-cube/effect-cube').default;
exports.EffectFlip = require('./cjs/components/effect-flip/effect-flip').default;
exports.EffectCoverflow = require('./cjs/components/effect-coverflow/effect-coverflow').default;
exports.Thumbs = require('./cjs/components/thumbs/thumbs').default;
},{"./cjs/components/a11y/a11y":10,"./cjs/components/autoplay/autoplay":11,"./cjs/components/controller/controller":12,"./cjs/components/core/core-class":20,"./cjs/components/effect-coverflow/effect-coverflow":75,"./cjs/components/effect-cube/effect-cube":76,"./cjs/components/effect-fade/effect-fade":77,"./cjs/components/effect-flip/effect-flip":78,"./cjs/components/hash-navigation/hash-navigation":79,"./cjs/components/history/history":80,"./cjs/components/keyboard/keyboard":81,"./cjs/components/lazy/lazy":82,"./cjs/components/mousewheel/mousewheel":83,"./cjs/components/navigation/navigation":84,"./cjs/components/pagination/pagination":85,"./cjs/components/parallax/parallax":86,"./cjs/components/scrollbar/scrollbar":87,"./cjs/components/thumbs/thumbs":88,"./cjs/components/virtual/virtual":89,"./cjs/components/zoom/zoom":90}],99:[function(require,module,exports){
"use strict";

require("utils/polyfills");

require("utils/classList");

var _componentLoader = _interopRequireDefault(require("./components/_component-loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Polyfills
// Helpers
// Components loader
// Load all the components
(0, _componentLoader.default)(); // Fix top offset for anchor links (fixed top nav)

require('service/anchor.js');

},{"./components/_component-loader":100,"service/anchor.js":124,"utils/classList":127,"utils/polyfills":129}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _elementExist = _interopRequireDefault(require("utils/elementExist"));

var _mMenu = _interopRequireDefault(require("molecules/m-menu/m-menu.js"));

var _aInput = _interopRequireDefault(require("atoms/form-elements/a-input/a-input.js"));

var _aSelect = _interopRequireDefault(require("atoms/form-elements/a-select/a-select.js"));

var _oHeader = _interopRequireDefault(require("./organisms/o-header/o-header"));

var _oCampaign = _interopRequireDefault(require("./organisms/o-campaign/o-campaign"));

var _oPeopleGrid = _interopRequireDefault(require("./organisms/o-people-grid/o-people-grid"));

var _mMap = _interopRequireDefault(require("./molecules/m-map/m-map"));

var _mShare = _interopRequireDefault(require("./molecules/m-share/m-share"));

var _aSearch = _interopRequireDefault(require("./atoms/a-search/a-search"));

var _mPerson = _interopRequireDefault(require("./molecules/m-person/m-person"));

var _aImageLazy = _interopRequireDefault(require("./atoms/a-image/a-image-lazy"));

var _aImageCover = _interopRequireDefault(require("./atoms/a-image/a-image-cover"));

var _mForm = _interopRequireDefault(require("./molecules/m-form/m-form"));

var _aBreadcrumbs = _interopRequireDefault(require("./atoms/a-breadcrumbs/a-breadcrumbs"));

var _aProgress = _interopRequireDefault(require("./atoms/a-progress/a-progress"));

var _page = _interopRequireDefault(require("./templates/page/page"));

var _oFooter = _interopRequireDefault(require("./organisms/o-footer/o-footer"));

var _aSocialIcon = _interopRequireDefault(require("./atoms/a-social-icon/a-social-icon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

// ================= STOP TO ADD HERE

/**
 * Add your component in the COMPONENTS_TO_LOAD array with the tree properties
 * "view", "name" & "selector"
 *
 * Example: where the selector is the DOM selector for querySelector
 *    { view: MyComponent, name: 'MyComponent', selector: '[data-my-component]'
 * }
 */
var COMPONENTS_TO_LOAD = [{
  view: _mMenu.default,
  name: 'MMenu',
  selector: '.m-menu'
}, // load as very first (performance)
{
  view: _oHeader.default,
  name: 'OHeader',
  selector: '.o-header'
}, // load second (performance)
{
  view: _aSearch.default,
  name: 'ASearch',
  selector: '.a-search'
}, {
  view: _oCampaign.default,
  name: 'OCampaign',
  selector: '.o-campaign'
}, {
  view: _aInput.default,
  name: 'AInput',
  selector: '.a-input'
}, {
  view: _aSelect.default,
  name: 'ASelect',
  selector: '.a-select'
}, {
  view: _oPeopleGrid.default,
  name: 'OPeopleGrid',
  selector: '.o-people-grid--horizontal'
}, {
  view: _mMap.default,
  name: 'MMap',
  selector: '.m-map'
}, {
  view: _mShare.default,
  name: 'MShare',
  selector: '.m-share'
}, {
  view: _mPerson.default,
  name: 'MPerson',
  selector: '.m-person--expandable'
}, {
  view: _aImageLazy.default,
  name: 'AImageLazy',
  selector: '.a-image__image--lazy'
}, {
  view: _aImageCover.default,
  name: 'AImageCover',
  selector: '.a-image'
}, {
  view: _mForm.default,
  name: 'MForm',
  selector: '.m-form'
}, {
  view: _aBreadcrumbs.default,
  name: 'ABreadcrumbs',
  selector: '.a-breadcrumbs'
}, {
  view: _aProgress.default,
  name: 'AProgress',
  selector: '.a-progress'
}, {
  view: _page.default,
  name: 'Page',
  selector: '.page'
}, {
  view: _oFooter.default,
  name: 'OFooter',
  selector: '.o-footer'
}, {
  view: _aSocialIcon.default,
  name: 'ASocialIcon',
  selector: '.a-social-icon'
}];
var LOADED_COMPONENTS = {};
/**
 * Load all the components.
 * All the component are builded using the same interface, so...
 * the .bind method does the magic for everyone.
 */

function _default() {
  for (var i = 0; i < COMPONENTS_TO_LOAD.length; i++) {
    var _COMPONENTS_TO_LOAD$i = COMPONENTS_TO_LOAD[i],
        selector = _COMPONENTS_TO_LOAD$i.selector,
        view = _COMPONENTS_TO_LOAD$i.view,
        name = _COMPONENTS_TO_LOAD$i.name;
    var element = document.querySelectorAll(selector); // Only if the DOM element exist
    // we load the view.

    if ((0, _elementExist.default)(element)) {
      for (var j = 0; j < element.length; j++) {
        // Create the view instance
        // and push the view in the loaded view cache object.
        var v = new view(element[j]);
        v.setComponentsReference(LOADED_COMPONENTS);
        LOADED_COMPONENTS[name + j] = v;
      }
    }
  }

  Object.entries(LOADED_COMPONENTS).forEach(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        component = _ref2[1];

    component.bind();
  }); // Exposes the loaded views for dev purposes
  // window.COMPONENTS = LOADED_COMPONENTS;

  return LOADED_COMPONENTS;
}

},{"./atoms/a-breadcrumbs/a-breadcrumbs":101,"./atoms/a-image/a-image-cover":102,"./atoms/a-image/a-image-lazy":103,"./atoms/a-progress/a-progress":104,"./atoms/a-search/a-search":105,"./atoms/a-social-icon/a-social-icon":106,"./molecules/m-form/m-form":109,"./molecules/m-map/m-map":110,"./molecules/m-person/m-person":115,"./molecules/m-share/m-share":116,"./organisms/o-campaign/o-campaign":117,"./organisms/o-footer/o-footer":118,"./organisms/o-header/o-header":119,"./organisms/o-people-grid/o-people-grid":120,"./templates/page/page":121,"atoms/form-elements/a-input/a-input.js":107,"atoms/form-elements/a-select/a-select.js":108,"molecules/m-menu/m-menu.js":114,"utils/elementExist":128}],101:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var FIRST_LINK_SELECTOR = 'div > span > span > a';
var MENU_SELECTOR = '.o-header__display';
var ITEM_SELECTOR = '.m-menu__nav-link--';
var HAMBURGER_SELECTOR = '.a-hamburger';
var PARENT_CLASS = 'm-menu__nav-link--parent';
var HASH_PREFIX = '#menu-item-';

var ABreadcrumbs = /*#__PURE__*/function (_BaseView) {
  _inherits(ABreadcrumbs, _BaseView);

  var _super = _createSuper(ABreadcrumbs);

  function ABreadcrumbs() {
    _classCallCheck(this, ABreadcrumbs);

    return _super.apply(this, arguments);
  }

  _createClass(ABreadcrumbs, [{
    key: "initialize",
    value: function initialize() {
      this.menu = document.querySelector(MENU_SELECTOR);
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ABreadcrumbs.prototype), "bind", this).call(this);

      this.on('click', FIRST_LINK_SELECTOR, function (event) {
        return _this.handleClick(event);
      });
    }
  }, {
    key: "handleClick",
    value: function handleClick(event) {
      var hash = event.delegateTarget.hash;
      var id = hash.replace(HASH_PREFIX, '');
      var item = this.menu.querySelector(ITEM_SELECTOR + id);

      if (item && item.classList.contains(PARENT_CLASS)) {
        this.openNav(item);
        event.preventDefault();
      }
    }
  }, {
    key: "openNav",
    value: function openNav(item) {
      if (!this.isDesktop()) {
        this.menu.querySelector(HAMBURGER_SELECTOR).click();
      }

      item.click();
    }
  }]);

  return ABreadcrumbs;
}(_baseView.default);

exports.default = ABreadcrumbs;

},{"base-view":122}],102:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var COVER_IMAGE_SELECTOR = '.a-image__image--fp';
var LAZY_LOADED = 'a-image__image--loaded';
var COMPATIBILITY_STATE = 'object-fit-ie';
var LAZY_LOAD_WAIT_MS = 200;
/**
 * Since IE and Edge don't support object-fit, use background: cover css for
 * them
 *
 * @see https://medium.com/@primozcigler/neat-trick-for-css-object-fit-fallback-on-edge-and-other-browsers-afbc53bbb2c3
 */

var AImageCover = /*#__PURE__*/function (_BaseView) {
  _inherits(AImageCover, _BaseView);

  var _super = _createSuper(AImageCover);

  function AImageCover() {
    _classCallCheck(this, AImageCover);

    return _super.apply(this, arguments);
  }

  _createClass(AImageCover, [{
    key: "initialize",
    value: function initialize() {
      this.initUrl = this.getUrl();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AImageCover.prototype), "bind", this).call(this);

      this.on('afterReplaceImage', function () {
        _this.setSizes();

        _this.objectFit();
      });
    }
  }, {
    key: "objectFit",
    value: function objectFit() {
      if ('objectFit' in document.documentElement.style !== false) {
        this.destroy();
        return;
      }

      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);

      if (!img) {
        this.destroy();
        return;
      }

      this.polyfill(img);
    }
  }, {
    key: "polyfill",
    value: function polyfill(img) {
      var _this2 = this;

      var url = this.getUrl(); // wait for lazy loading to be complete

      if (img.classList.contains(LAZY_LOADED)) {
        if (this.initUrl === url) {
          window.setTimeout(function () {
            return _this2.polyfill(img);
          }, LAZY_LOAD_WAIT_MS);
          return;
        }
      }

      var fp = img.className.match(/\ba-image__image--fp-[^\s]+\b/g);

      if (fp) {
        this.addClass('a-image__image--fp');
        this.addClass(fp[0]);
      }

      this.addClass(COMPATIBILITY_STATE);
      this.element.style.backgroundImage = "url('" + url + "')";
      this.addClass(img, COMPATIBILITY_STATE);
    }
  }, {
    key: "getUrl",
    value: function getUrl() {
      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);

      if (img) {
        return img.src;
      }

      return '';
    }
  }, {
    key: "setSizes",
    value: function setSizes() {
      var img = this.getScopedElement(COVER_IMAGE_SELECTOR);
      var cDims = this.element.getBoundingClientRect();
      var cRatio = cDims.width / cDims.height;
      var iRatio = img.naturalWidth / img.naturalHeight;
      var zoom = iRatio > cRatio ? iRatio / cRatio : cRatio / iRatio;
      img.sizes = cDims.width * zoom + 'px';
    }
  }]);

  return AImageCover;
}(_baseView.default);

exports.default = AImageCover;

},{"base-view":122}],103:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _inview = _interopRequireDefault(require("../../../js/service/inview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BASE_CONTAINER_SELECTOR = '.a-image';
var LAZY_STATE = 'a-image__image--lazy';
var LAZY_LOADED = 'a-image__image--loaded';
var DEBOUNCE_DELAY_MS = 300;

var AImageLazy = /*#__PURE__*/function (_BaseView) {
  _inherits(AImageLazy, _BaseView);

  var _super = _createSuper(AImageLazy);

  function AImageLazy() {
    _classCallCheck(this, AImageLazy);

    return _super.apply(this, arguments);
  }

  _createClass(AImageLazy, [{
    key: "initialize",
    value: function initialize() {
      this.loading = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AImageLazy.prototype), "bind", this).call(this);

      (0, _inview.default)(this.element, DEBOUNCE_DELAY_MS).then(function () {
        return _this.maybeLoadImage();
      });
    }
  }, {
    key: "maybeLoadImage",
    value: function maybeLoadImage() {
      var _this2 = this;

      if (!this.loading) {
        this.loading = true;
        var img = this.loadFullImage();

        if (img.complete) {
          this.replaceImage(img);
        } else {
          img.onload = function () {
            return _this2.replaceImage(img);
          };
        }
      }
    }
  }, {
    key: "loadFullImage",
    value: function loadFullImage() {
      var img = this.element.cloneNode(true);
      img.srcset = img.dataset.srcset || '';
      img.sizes = img.dataset.sizes || '';
      img.removeAttribute('data-srcset');
      img.removeAttribute('data-sized'); // otherwise safari on iOS doesn't load images when
      // scrolling, even if they are in the viewport

      img.loading = 'eager';
      return img;
    }
  }, {
    key: "replaceImage",
    value: function replaceImage(img) {
      if (this.element.parentNode) {
        this.element.parentNode.replaceChild(img, this.element);
      }

      img.classList.add(LAZY_LOADED);
      img.classList.remove(LAZY_STATE);
      this.triggerAfterReplaceEvent(img.closest(BASE_CONTAINER_SELECTOR));
      this.destroy();
    }
  }, {
    key: "triggerAfterReplaceEvent",
    value: function triggerAfterReplaceEvent(elem) {
      // use the old fashioned way, cause we need it in IE
      var event = document.createEvent('Event');
      event.initEvent('afterReplaceImage', true, true);
      elem.dispatchEvent(event);
    }
  }]);

  return AImageLazy;
}(_baseView.default);

exports.default = AImageLazy;

},{"../../../js/service/inview":126,"base-view":122}],104:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _inview = _interopRequireDefault(require("../../../js/service/inview"));

var _ajax = _interopRequireDefault(require("../../../js/service/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BAR_SELECTOR = '.a-progress__bar';
var VALUE_SELECTOR = '.a-progress__value';
var LEGEND_SELECTOR = '.a-progress__legend';
var LEGEND_VALUE_SELECTOR = '.a-progress__legend-value';
var LOADING_CLASS = 'a-progress--loading';
var DEBOUNCE_DELAY_MS = 300;
var STEPS = 200;
var STEP_DELAY = 25; // ms
// sync with m-form.js

var SUBMISSION_NOTIFICATION_EVENT = 'supt_form_submission';

var AProgress = /*#__PURE__*/function (_BaseView) {
  _inherits(AProgress, _BaseView);

  var _super = _createSuper(AProgress);

  function AProgress() {
    _classCallCheck(this, AProgress);

    return _super.apply(this, arguments);
  }

  _createClass(AProgress, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AProgress.prototype), "bind", this).call(this);

      this.firstRun = true;
      this.bar = this.getScopedElement(BAR_SELECTOR);
      this.listenForSubmissions();
      this.updateData().finally(function () {
        (0, _inview.default)(_this.element, DEBOUNCE_DELAY_MS).then(function () {
          return _this.startAnimation();
        });
      });
    }
  }, {
    key: "updateData",
    value: function updateData() {
      var _this2 = this;

      if (!('url' in this.bar.dataset)) {
        return new Promise(function (resolve) {
          return resolve();
        });
      }

      var url = this.bar.dataset.url;
      return (0, _ajax.default)(url, 'GET').then(function (resp) {
        if (resp instanceof Object && 'current' in resp && 'goal' in resp && 'legend' in resp) {
          _this2.bar.setAttribute('aria-valuenow', resp.current);

          _this2.bar.setAttribute('aria-valuemax', resp.goal);

          _this2.getScopedElement(LEGEND_SELECTOR).innerHTML = resp.legend;
        }
      });
    }
  }, {
    key: "startAnimation",
    value: function startAnimation() {
      this.value = this.getScopedElement(VALUE_SELECTOR);
      this.legend_value = this.getScopedElement(LEGEND_VALUE_SELECTOR);
      this.min = this.bar.getAttribute('aria-valuemin');
      this.max = this.bar.getAttribute('aria-valuemax');
      this.current = this.bar.getAttribute('aria-valuenow');

      if (this.firstRun) {
        this.step_count = 0;
        this.state = 0;
        this.state_percent = 0;
      }

      this.sumOfSteps = 1 / 2 * STEPS * (STEPS + 1);
      this.spread = this.current - this.min;
      this.timer = setInterval(this.animate.bind(this), STEP_DELAY);
    }
  }, {
    key: "addSubmission",
    value: function addSubmission() {
      this.updateData().then(this.startAnimation.bind(this));
    }
  }, {
    key: "animate",
    value: function animate() {
      if (this.firstRun) {
        this.removeClass(this.element, LOADING_CLASS);
        this.firstRun = false;
      }

      if (this.step_count > STEPS) {
        clearInterval(this.timer); // we need this extra step to circumvent float calculation errors

        var current = this.spread / (this.max - this.min);
        this.bar.style.width = current * 100 + '%';
        this.setLabelValue(this.current);
      } else {
        this.step_count++;
        var easing = (STEPS - this.step_count) / this.sumOfSteps;
        var step_size = this.spread * easing;
        var step_percent = step_size / (this.max - this.min);
        this.state += step_size;
        this.state_percent += step_percent;
        this.bar.style.width = this.state_percent * 100 + '%';
        this.setLabelValue(Math.round(this.state));
      }
    }
  }, {
    key: "setLabelValue",
    value: function setLabelValue(value) {
      if (this.legend_value) {
        this.legend_value.innerText = value;
      }

      this.value.innerText = value;
    }
  }, {
    key: "listenForSubmissions",
    value: function listenForSubmissions() {
      var _this3 = this;

      document.addEventListener(SUBMISSION_NOTIFICATION_EVENT, function (event) {
        if (!('form' in _this3.bar.dataset)) {
          return;
        }

        var progressFormId = parseInt(_this3.bar.dataset.form);
        var eventFormId = parseInt(event.detail.formId);

        if (progressFormId === eventFormId) {
          _this3.addSubmission();
        }
      });
    }
  }, {
    key: "destroy",
    value: function destroy() {
      window.removeEventListener('scroll', this.eventHandler);
      window.removeEventListener('resize', this.eventHandler);

      _get(_getPrototypeOf(AProgress.prototype), "destroy", this).call(this);
    }
  }]);

  return AProgress;
}(_baseView.default);

exports.default = AProgress;

},{"../../../js/service/ajax":123,"../../../js/service/inview":126,"base-view":122}],105:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _classList = _interopRequireDefault(require("./../../../js/utils/classList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ICON_SELECTOR = '.a-search__icon';
var FIELD_SELECTOR = '.a-search__field';
var SUBMIT_LABEL_SELECTOR = '.a-search__submit-label';
var COVERING_CLASS = 'a-search--covering';
var ACTIVE_STATE = 'is-active';
var HOVER_STATE = 'highlight';

var ASearch = /*#__PURE__*/function (_BaseView) {
  _inherits(ASearch, _BaseView);

  var _super = _createSuper(ASearch);

  function ASearch() {
    _classCallCheck(this, ASearch);

    return _super.apply(this, arguments);
  }

  _createClass(ASearch, [{
    key: "initialize",
    value: function initialize() {
      this.icon = this.getScopedElement(ICON_SELECTOR);
      this.field = this.getScopedElement(FIELD_SELECTOR);
      this.overIcon = false;
      this.overField = false;
      this.active = false;
      this.covering = this.element.classList.contains(COVERING_CLASS);

      if (this.covering) {
        this.initialWidth = this.element.scrollWidth;
      }
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ASearch.prototype), "bind", this).call(this);

      this.on('mouseover', ICON_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseover', FIELD_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseout', ICON_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('mouseout', FIELD_SELECTOR, function (event) {
        return _this.setHover(event);
      });
      this.on('click', SUBMIT_LABEL_SELECTOR, function (event) {
        return _this.handleGlassClick(event);
      });
      this.on('focus', FIELD_SELECTOR, function () {
        return _this.setFocus(true);
      });
      this.on('blur', FIELD_SELECTOR, function () {
        return _this.setFocus(false);
      });
    }
  }, {
    key: "setHover",
    value: function setHover(event) {
      var overState = 'mouseover' === event.type;
      this.setOverState(event.target, overState);
      var hoverState = !this.active && (this.overIcon || this.overField);
      this.setHoverState(hoverState);
    }
  }, {
    key: "setHoverState",
    value: function setHoverState(active) {
      if (active) {
        if ((0, _classList.default)(this.icon)) {
          this.addClass(this.icon, HOVER_STATE);
        }

        this.addClass(this.field, HOVER_STATE);
      } else {
        if ((0, _classList.default)(this.icon)) {
          this.removeClass(this.icon, HOVER_STATE);
        }

        this.removeClass(this.field, HOVER_STATE);
      }
    }
  }, {
    key: "handleGlassClick",
    value: function handleGlassClick(event) {
      if (!this.active) {
        event.preventDefault();
        this.setFocus(true);
      } else if (!this.field.value) {
        event.preventDefault();
        this.setFocus(false);
      }
    }
  }, {
    key: "setFocus",
    value: function setFocus(active) {
      var _this2 = this;

      if (active) {
        this.open();
      } else {
        setTimeout(function () {
          // without delay we can't click the icon
          // this allows us send the form by click
          _this2.close();
        }, 200);
      }
    }
  }, {
    key: "open",
    value: function open() {
      this.active = true;
      this.field.focus();
      this.setHoverState(false);
      this.addClass(this.field, ACTIVE_STATE); // expand the whole element to make sure we hide all elements on the right

      if (this.covering) {
        var left = this.element.offsetLeft;
        var vw = document.body.clientWidth;
        this.element.style.maxWidth = vw - left + 'px';
        this.addClass(ACTIVE_STATE);
      }
    }
  }, {
    key: "close",
    value: function close() {
      this.removeClass(this.field, ACTIVE_STATE);
      this.active = false; // shrink the background

      if (this.covering) {
        this.element.style.maxWidth = null;
        this.removeClass(ACTIVE_STATE);
      }
    }
  }, {
    key: "setOverState",
    value: function setOverState(target, state) {
      if ('text' === target.type) {
        this.overField = state;
      } else {
        this.overIcon = state;
      }
    }
  }]);

  return ASearch;
}(_baseView.default);

exports.default = ASearch;

},{"./../../../js/utils/classList":127,"base-view":122}],106:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MESSAGE_SELECTOR = '.a-social-icon__copied';
var MESSAGE_VISIBLE_CLASS = 'a-social-icon__copied--visible';

var MShareBlock = /*#__PURE__*/function (_BaseView) {
  _inherits(MShareBlock, _BaseView);

  var _super = _createSuper(MShareBlock);

  function MShareBlock() {
    _classCallCheck(this, MShareBlock);

    return _super.apply(this, arguments);
  }

  _createClass(MShareBlock, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MShareBlock.prototype), "bind", this).call(this);

      if (this.isLinkButton()) {
        this.on('click', function () {
          return _this.copyLink();
        });
      }
    }
  }, {
    key: "isLinkButton",
    value: function isLinkButton() {
      return 'link' in this.element.dataset;
    }
  }, {
    key: "copyLink",
    value: function copyLink() {
      navigator.clipboard.writeText(this.element.dataset.link).then(this.showMessage.bind(this));
    }
  }, {
    key: "showMessage",
    value: function showMessage() {
      var _this2 = this;

      var message = this.getScopedElement(MESSAGE_SELECTOR);
      this.addClass(message, MESSAGE_VISIBLE_CLASS);
      window.setTimeout(function () {
        _this2.removeClass(message, MESSAGE_VISIBLE_CLASS);
      }, 100);
    }
  }]);

  return MShareBlock;
}(_baseView.default);

exports.default = MShareBlock;

},{"base-view":122}],107:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var INPUT_SELECTOR = '.a-input__field';
var LABEL_SELECTOR = '.a-input__label';
var EMPTY_STATE = 'is-empty';
var TOUCHED_STATE = 'is-touched';

var AInput = /*#__PURE__*/function (_BaseView) {
  _inherits(AInput, _BaseView);

  var _super = _createSuper(AInput);

  function AInput() {
    _classCallCheck(this, AInput);

    return _super.apply(this, arguments);
  }

  _createClass(AInput, [{
    key: "initialize",
    value: function initialize() {
      this.input = this.getScopedElement(INPUT_SELECTOR);
      this.label = this.getScopedElement(LABEL_SELECTOR);
      this.manageEmptyState();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(AInput.prototype), "bind", this).call(this);

      this.on('keyup', INPUT_SELECTOR, function () {
        return _this.setStateClasses();
      });
      this.on('blur', INPUT_SELECTOR, function () {
        return _this.manageEmptyState();
      }); // don't use the focus event, since it makes input fields unusable on FF mobile for Android
    }
  }, {
    key: "setStateClasses",
    value: function setStateClasses() {
      this.addClass(this.input, TOUCHED_STATE);
      this.manageEmptyState();
    }
  }, {
    key: "manageEmptyState",
    value: function manageEmptyState() {
      if (this.isEmpty()) {
        this.setEmptyState();
      } else {
        this.removeEmptyState();
      }
    }
  }, {
    key: "setEmptyState",
    value: function setEmptyState() {
      this.addClass(this.label, EMPTY_STATE);
      this.addClass(this.input, EMPTY_STATE);
    }
  }, {
    key: "removeEmptyState",
    value: function removeEmptyState() {
      this.removeClass(this.label, EMPTY_STATE);
      this.removeClass(this.input, EMPTY_STATE);
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return !this.input.value;
    }
  }]);

  return AInput;
}(_baseView.default);

exports.default = AInput;

},{"base-view":122}],108:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var INPUT_SELECTOR = '.a-select__field';
var BACKGROUND_SELECTOR = '.a-select__background';
var LABEL_SELECTOR = '.a-select__label';
var FOCUS_WITHIN_STATE = 'has-focus-within';
var EMPTY_STATE = 'is-empty';
var TOUCHED_STATE = 'is-touched';
var VALID_STATE = 'is-valid';
var INVALID_STATE = 'is-invalid';

var ASelect = /*#__PURE__*/function (_BaseView) {
  _inherits(ASelect, _BaseView);

  var _super = _createSuper(ASelect);

  function ASelect() {
    _classCallCheck(this, ASelect);

    return _super.apply(this, arguments);
  }

  _createClass(ASelect, [{
    key: "initialize",
    value: function initialize() {
      this.select = this.getScopedElement(INPUT_SELECTOR);
      this.background = this.getScopedElement(BACKGROUND_SELECTOR);
      this.label = this.getScopedElement(LABEL_SELECTOR);
      this.manageEmptyState();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(ASelect.prototype), "bind", this).call(this);

      this.on('focus', INPUT_SELECTOR, function () {
        return _this.onSetFocus();
      });
      this.on('blur', INPUT_SELECTOR, function () {
        return _this.onRemoveFocus();
      });
      this.on('change', INPUT_SELECTOR, function () {
        return _this.onChange();
      }, false, false);
      this.on('click', LABEL_SELECTOR, function () {
        _this.select.focus();
      });
    }
  }, {
    key: "onChange",
    value: function onChange() {
      this.manageEmptyState();
      this.setTouchedState();
      this.manageValidState();
    }
  }, {
    key: "onSetFocus",
    value: function onSetFocus() {
      this.setTouchedState();
      this.addClass(this.background, FOCUS_WITHIN_STATE);
      this.manageEmptyState();
    }
  }, {
    key: "onRemoveFocus",
    value: function onRemoveFocus() {
      this.removeClass(this.background, FOCUS_WITHIN_STATE);
      this.manageEmptyState();
      this.manageValidState();
    }
  }, {
    key: "manageEmptyState",
    value: function manageEmptyState() {
      if (this.isEmpty()) {
        this.setEmptyState();
      } else {
        this.removeEmptyState();
      }
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return !this.select.value;
    }
  }, {
    key: "setEmptyState",
    value: function setEmptyState() {
      this.addClass(this.label, EMPTY_STATE);
    }
  }, {
    key: "removeEmptyState",
    value: function removeEmptyState() {
      this.removeClass(this.label, EMPTY_STATE);
    }
  }, {
    key: "setTouchedState",
    value: function setTouchedState() {
      this.addClass(this.background, TOUCHED_STATE);
    }
  }, {
    key: "manageValidState",
    value: function manageValidState() {
      if (!this.select.hasAttribute('required')) {
        return;
      }

      if (!this.isEmpty()) {
        this.addClass(this.background, VALID_STATE);
        this.removeClass(this.background, INVALID_STATE);
      }

      if (this.select.hasAttribute('required') && this.isEmpty()) {
        this.removeClass(this.background, VALID_STATE);
        this.addClass(this.background, INVALID_STATE);
      }
    }
  }]);

  return ASelect;
}(_baseView.default);

exports.default = ASelect;

},{"base-view":122}],109:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _ajax = _interopRequireDefault(require("../../../js/service/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SUBMIT_BUTTON_SELECTOR = '[data-form-submit]';
var SUBMIT_WRAPPER_SELECTOR = '.m-form__submit-wrapper';
var SUCCESS_MESSAGE_SELECTOR = '.m-form__message--success';
var ERROR_MESSAGE_SELECTOR = '.m-form__message--failure';
var INVALID_MESSAGE_SELECTOR = '.m-form__message--invalid';
var SERVER_FEEDBACK_MESSAGE_SELECTOR = '.m-form__message-error';
var FORM_SELECTOR = '.m-form';
var HIDDEN_STATE = 'is-hidden';
var SHOWN_STATE = 'is-shown';
var INVALID_STATE = 'is-invalid';
var LAST_SUBMISSION = 'pred'; // sync with a-progress.js

var SUBMISSION_NOTIFICATION_EVENT = 'supt_form_submission';

var MForm = /*#__PURE__*/function (_BaseView) {
  _inherits(MForm, _BaseView);

  var _super = _createSuper(MForm);

  function MForm() {
    _classCallCheck(this, MForm);

    return _super.apply(this, arguments);
  }

  _createClass(MForm, [{
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MForm.prototype), "bind", this).call(this);
      /* @noinspection JSCheckFunctionSignaturesInspection */


      this.on('submit', function (e) {
        return _this.submit(e);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(resp) {
      if (resp instanceof Object && 'data' in resp) {
        if ('nonce' in resp.data) {
          this.element.dataset.nonce = resp.data.nonce;
        }

        if ('general' in resp.data) {
          this.showErrorMessage(resp.data.general);
        } else if ('validation' in resp.data) {
          this.showInvalidMessage(resp.data.validation);
        } else {
          this.showErrorMessage('');
        }
      } else {
        this.showErrorMessage('');
      }
    }
  }, {
    key: "clearSendingState",
    value: function clearSendingState() {
      clearInterval(this.sendingTimer);
      this.submitButton.disabled = false;
      this.submitted = false;
      this.submitButton.innerHTML = this.origSubmitLbl;
    }
  }, {
    key: "showInvalidMessage",
    value: function showInvalidMessage(messages) {
      var invalidMessage = this.getScopedElement(INVALID_MESSAGE_SELECTOR);
      var serverMessage = invalidMessage.querySelector(SERVER_FEEDBACK_MESSAGE_SELECTOR);
      var message = '';

      for (var _i = 0, _Object$keys = Object.keys(messages); _i < _Object$keys.length; _i++) {
        var key = _Object$keys[_i];
        var el = this.getScopedElement('[name=' + key + ']');
        this.addClass(el, INVALID_STATE);
        message += "<li>".concat(messages[key], "</li>");
      }

      serverMessage.innerHTML = "<ul>".concat(message, "</ul>");
      this.addClass(invalidMessage, SHOWN_STATE);
      invalidMessage.setAttribute('aria-hidden', 'false');
    }
  }, {
    key: "showErrorMessage",
    value: function showErrorMessage(message) {
      var errorMessage = this.getScopedElement(ERROR_MESSAGE_SELECTOR);
      var serverMessage = errorMessage.querySelector(SERVER_FEEDBACK_MESSAGE_SELECTOR);
      serverMessage.innerHTML = "<ul><li>".concat(message, "</li></ul>");
      this.addClass(errorMessage, SHOWN_STATE);
      errorMessage.setAttribute('aria-hidden', 'false');
    }
  }, {
    key: "initialize",
    value: function initialize() {
      this.submitButton = this.getScopedElement(SUBMIT_BUTTON_SELECTOR);
      this.submitted = false;
      this.sendingTimer = null;
      this.origSubmitLbl = this.submitButton.innerHTML;
      this.predecessorId = MForm.getUrlParam(LAST_SUBMISSION, -1);
    }
  }, {
    key: "showSending",
    value: function showSending() {
      var _this2 = this;

      var lbl = this.element.dataset.sendingLbl;
      var counter = 0;
      this.sendingTimer = setInterval(function () {
        counter++;
        counter = counter <= 3 ? counter : 0;
        var lblAdd = '';

        for (var i = 0; i < counter; i++) {
          lblAdd += '.';
        }

        _this2.submitButton.innerHTML = lbl + '<span class="m-form__sending">' + lblAdd + '</span>';
      }, 300);
    }
  }, {
    key: "submit",
    value: function submit(event) {
      var _this3 = this;

      event.preventDefault(); // hide error messages

      var errorMessage = this.getScopedElement(ERROR_MESSAGE_SELECTOR);
      var invalidMessage = this.getScopedElement(INVALID_MESSAGE_SELECTOR);
      errorMessage.setAttribute('aria-hidden', 'true');
      invalidMessage.setAttribute('aria-hidden', 'true');
      this.removeClass(errorMessage, SHOWN_STATE);
      this.removeClass(invalidMessage, SHOWN_STATE); // prevent double submit

      if (this.submitted) {
        return;
      }

      this.submitButton.disabled = true;
      this.submitted = true; // mark as sending

      this.showSending(); // the form data

      var data = this.getFormData();
      var url = this.element.action; // get a nonce, then submit the form

      this.getNonce().then(function (nonce) {
        return data.append('nonce', nonce);
      }).then(function () {
        return _this3.sendForm(url, data);
      }).then(function (resp) {
        return _this3.showSuccess(resp);
      }).then(function () {
        return _this3.sendSubmissionNotification();
      }).catch(function (resp) {
        return _this3.handleError(resp);
      }).finally(this.clearSendingState.bind(this));
    }
  }, {
    key: "sendForm",
    value: function sendForm(url, data) {
      return (0, _ajax.default)(url, 'POST', data).then(function (resp) {
        if (resp instanceof Object && 'success' in resp && true === resp.success) {
          return Promise.resolve(resp.data);
        } else {
          return Promise.reject(resp);
        }
      });
    }
  }, {
    key: "getFormData",
    value: function getFormData() {
      var data = new FormData(this.element);
      /**
       * append the following data in JS, so we have a first spam barrier
       */
      // add wordpress action

      data.append('action', 'supt_form_submit'); // add form id

      data.append('form_id', this.element.dataset.formId); // add action id (engagement funnel plugin)

      if (this.element.dataset.actionId) {
        data.append('action_id', this.element.dataset.actionId);
      } // add config id (engagement funnel plugin)


      if (this.element.dataset.configId) {
        data.append('config_id', this.element.dataset.configId);
      } // add the id of the last form


      data.append('predecessor_id', this.predecessorId);
      return data;
    }
  }, {
    key: "showSuccess",
    value: function showSuccess(data) {
      if (-1 === data.next_action_id || !data.html) {
        if (data.redirect && -1 === data.next_action_id) {
          window.location.href = MForm.buildRedirectUrl(data.redirect, data.predecessor_id);
        } else {
          this.predecessorId = data.predecessor_id;
          var submitWrapper = this.getScopedElement(SUBMIT_WRAPPER_SELECTOR);
          var successMessage = this.getScopedElement(SUCCESS_MESSAGE_SELECTOR);
          submitWrapper.setAttribute('aria-hidden', 'true');
          successMessage.setAttribute('aria-hidden', 'false');
          this.addClass(submitWrapper, HIDDEN_STATE);
          this.addClass(successMessage, SHOWN_STATE);
        }
      } else {
        var parent = this.element.parentNode.parentNode;
        parent.innerHTML = data.html;
        var form = new MForm(parent.querySelector(FORM_SELECTOR));
        form.bind();
        this.destroy();
      }
    }
  }, {
    key: "getNonce",
    value: function getNonce() {
      return (0, _ajax.default)(this.element.dataset.nonce, 'GET');
    }
  }, {
    key: "sendSubmissionNotification",
    value: function sendSubmissionNotification() {
      var notification = new CustomEvent(SUBMISSION_NOTIFICATION_EVENT, {
        detail: {
          formId: this.element.dataset.formId
        }
      });
      document.dispatchEvent(notification);
    }
  }], [{
    key: "getUrlParam",
    value: function getUrlParam(param, defaultValue) {
      var url = new URL(window.location.href);
      var value = url.searchParams.get(param);

      if (value) {
        return value;
      }

      return defaultValue;
    }
  }, {
    key: "buildRedirectUrl",
    value: function buildRedirectUrl(url, formId) {
      url = new URL(url);
      url.searchParams.set(LAST_SUBMISSION, formId);
      return url.toString();
    }
  }]);

  return MForm;
}(_baseView.default);

exports.default = MForm;

},{"../../../js/service/ajax":123,"base-view":122}],110:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("../../../js/base-view"));

var _classList = _interopRequireDefault(require("../../../js/utils/classList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SELECT_SELECTOR = '#party-selector';
var DIALOG_WRAPPER_SELECTOR = '.m-map__dialog';
var MAP_SELECTOR = '.m-map__map';
var MAP_SECTION_SELECTOR = MAP_SELECTOR + ' .map-item';
var DIALOG_CLOSE_SELECTOR = '.a-simple-dialog__close';
var MODAL_SELECTOR = '.m-map__modal';
var DIALOG_ID_PREFIX = 'a-simple-dialog--';
var OPEN_STATE = 'is-open';
var ALIGN_LEFT_STATE = 'pull-left';
var ACTIVE_STATE = 'is-active';
/*eslint no-console: ["error", { allow: ["error"] }] */

var MMap = /*#__PURE__*/function (_BaseView) {
  _inherits(MMap, _BaseView);

  var _super = _createSuper(MMap);

  function MMap() {
    _classCallCheck(this, MMap);

    return _super.apply(this, arguments);
  }

  _createClass(MMap, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMap.prototype), "initialize", this).call(this);

      this.select = this.getScopedElement(SELECT_SELECTOR);
      this.map = this.getScopedElement(MAP_SELECTOR);
      this.modal = this.getScopedElement(MODAL_SELECTOR);
      this.dialog = null;
      this.mapItem = null;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMap.prototype), "bind", this).call(this);

      this.on('change', SELECT_SELECTOR, function () {
        return _this.selectHandler();
      }, false, false);
      this.on('click', MAP_SECTION_SELECTOR, function (event) {
        return _this.mapClickHandler(event);
      });
      this.on('click', DIALOG_CLOSE_SELECTOR, function () {
        return _this.closeClickHandler();
      });
      this.on('click', MODAL_SELECTOR, function () {
        return _this.closeClickHandler();
      });
    }
  }, {
    key: "closeClickHandler",
    value: function closeClickHandler() {
      this.hideDialog();
      this.unhighlightClickedMapItem();
    }
  }, {
    key: "mapClickHandler",
    value: function mapClickHandler(event) {
      this.select.value = event.delegateTarget.id;
      this.select.dispatchEvent(new Event('change'));
      this.setPosition(event.pageX);
    }
  }, {
    key: "selectHandler",
    value: function selectHandler() {
      this.hideDialog();
      this.unhighlightClickedMapItem();

      if (!this.select.value) {
        this.dialog = null;
        return;
      }

      this.showDialog();
      this.highlightClickedMapItem();
    }
  }, {
    key: "setMapItem",
    value: function setMapItem() {
      var selector = '#' + this.select.value;
      var mapItem = this.getScopedElement(MAP_SELECTOR).querySelector(selector);

      if (!mapItem) {
        this.mapItem = null;
        console.error("NOT FOUND: There was no map item with the selector '".concat(selector, "'."));
        return;
      }

      this.mapItem = mapItem;
    }
  }, {
    key: "unhighlightClickedMapItem",
    value: function unhighlightClickedMapItem() {
      // check for class list as well to ensure that browsers,
      // which don't support the classList property on svg elements,
      // don't crash.
      if (this.mapItem && (0, _classList.default)(this.mapItem)) {
        this.removeClass(this.mapItem, ACTIVE_STATE);
      }
    }
  }, {
    key: "highlightClickedMapItem",
    value: function highlightClickedMapItem() {
      this.setMapItem(); // check for class list as well to ensure that browsers,
      // which don't support the classList property on svg elements,
      // don't crash.

      if (this.mapItem && (0, _classList.default)(this.mapItem)) {
        this.addClass(this.mapItem, ACTIVE_STATE);
      }
    }
  }, {
    key: "setDialog",
    value: function setDialog() {
      var selector = '#' + DIALOG_ID_PREFIX + this.select.value;
      var dialog = this.getScopedElement(selector);

      if (!dialog) {
        this.dialog = null;
        console.error("NOT FOUND: There was no address with the selector '".concat(selector, "'."));
        return;
      }

      this.dialog = dialog.closest(DIALOG_WRAPPER_SELECTOR);
    }
  }, {
    key: "hideDialog",
    value: function hideDialog() {
      this.hideModal();

      if (this.dialog) {
        this.removeClass(this.dialog, OPEN_STATE);
        this.removeClass(this.dialog, ALIGN_LEFT_STATE);
      }
    }
  }, {
    key: "showDialog",
    value: function showDialog() {
      this.setDialog();

      if (this.dialog) {
        this.addClass(this.dialog, OPEN_STATE);
        this.showModal();
      }
    }
  }, {
    key: "showModal",
    value: function showModal() {
      this.addClass(this.modal, OPEN_STATE);
    }
  }, {
    key: "hideModal",
    value: function hideModal() {
      this.removeClass(this.modal, OPEN_STATE);
    }
  }, {
    key: "setPosition",
    value: function setPosition(clickOffsetX) {
      if (!this.dialog) {
        return;
      }

      var mapOffsetX = this.map.getBoundingClientRect().left;
      var relClickOffsetX = clickOffsetX - mapOffsetX;

      if (this.map.clientWidth - relClickOffsetX < this.dialog.clientWidth) {
        this.addClass(this.dialog, ALIGN_LEFT_STATE);
      }
    }
  }]);

  return MMap;
}(_baseView.default);

exports.default = MMap;

},{"../../../js/base-view":122,"../../../js/utils/classList":127}],111:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SUBMENU_SELECTOR = exports.OPEN_STATE = exports.MMenuBase = exports.MAIN_ENTRY_SELECTOR = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MAIN_ENTRY_SELECTOR = '.m-menu__nav-link--js-hook';
exports.MAIN_ENTRY_SELECTOR = MAIN_ENTRY_SELECTOR;
var SUBMENU_SELECTOR = '.m-menu__submenu';
exports.SUBMENU_SELECTOR = SUBMENU_SELECTOR;
var OPEN_STATE = 'is-open';
exports.OPEN_STATE = OPEN_STATE;

var MMenuBase = /*#__PURE__*/function (_BaseView) {
  _inherits(MMenuBase, _BaseView);

  var _super = _createSuper(MMenuBase);

  function MMenuBase() {
    _classCallCheck(this, MMenuBase);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuBase, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuBase.prototype), "initialize", this).call(this);

      this.currentSub = null;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuBase.prototype), "bind", this).call(this);

      this.on('click', MAIN_ENTRY_SELECTOR, function (event) {
        return _this.toggleSubNavigation(event);
      });
    }
  }, {
    key: "toggleSubNavigation",
    value: function toggleSubNavigation(event) {
      if (this.currentSub !== event.target) {
        this.closeSubNavigation();
        this.openSubNavigation(event);
      } else {
        event.preventDefault();
        this.closeSubNavigation();
      }
    }
  }, {
    key: "openSubNavigation",
    value: function openSubNavigation(event) {
      var element = event.target;
      var submenu = element.parentElement.querySelector(SUBMENU_SELECTOR);

      if (null === submenu) {
        // if there is no submenu, handle it as regular link
        return;
      }

      event.preventDefault();
      this.currentSub = element;
      this.addClass(submenu, OPEN_STATE);
      this.addClass(element, OPEN_STATE);
      element.setAttribute('aria-expanded', true);
      this.afterOpenSubNavigation(element);
    }
  }, {
    key: "closeSubNavigation",
    value: function closeSubNavigation() {
      this.currentSub = null;
      var elements = this.getScopedElements(SUBMENU_SELECTOR + ', ' + MAIN_ENTRY_SELECTOR);

      for (var key in elements) {
        if (Object.prototype.hasOwnProperty.call(elements, key)) {
          this.removeClass(elements[key], OPEN_STATE);
          elements[key].setAttribute('aria-expanded', false);
        }
      }

      this.afterCloseSubNavigation();
    }
  }, {
    key: "closeNavigation",
    value: function closeNavigation() {
      this.closeSubNavigation();
    }
    /**
     * overwrite those functions to do some more stuff on opening
     *
     * @param {EventTarget} element
     */

  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation() {}
    /**
     * overwrite those functions to do some more stuff on closing
     */

  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {}
  }]);

  return MMenuBase;
}(_baseView.default);

exports.MMenuBase = MMenuBase;

},{"base-view":122}],112:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _mMenuBase = require("./m-menu--base");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var CLOSE_SELECTOR = '.m-menu__submenu__close';
var UP = 1;
var DOWN = 2;

var MMenuDesktop = /*#__PURE__*/function (_MMenuBase) {
  _inherits(MMenuDesktop, _MMenuBase);

  var _super = _createSuper(MMenuDesktop);

  function MMenuDesktop() {
    _classCallCheck(this, MMenuDesktop);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuDesktop, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuDesktop.prototype), "initialize", this).call(this);

      this.ticking = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuDesktop.prototype), "bind", this).call(this);

      this.on('click', CLOSE_SELECTOR, function () {
        return _this.closeSubNavigation();
      });
    }
  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation() {
      var _this2 = this;

      this.clickedItem = this.currentSub;
      this.submenu = this.getScopedElement(_mMenuBase.SUBMENU_SELECTOR + '.' + _mMenuBase.OPEN_STATE);

      if (this.submenu.offsetHeight !== this.submenu.scrollHeight) {
        this.setInitialScrollPos();

        this.scrollHandler = function (event) {
          return _this2.requestTick(event);
        };

        window.addEventListener('scroll', this.scrollHandler, false);
      }
    }
  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {
      if (this.submenu) {
        window.removeEventListener('scroll', this.scrollHandler);
      }

      if (this.clickedItem === document.activeElement) {
        document.activeElement.blur();
        this.clickedItem = null;
      }
    }
  }, {
    key: "setInitialScrollPos",
    value: function setInitialScrollPos() {
      var scrollTop = this.scrollTop();
      var submenuHeight = this.submenu.scrollHeight;
      var body = document.body;
      var html = document.documentElement;
      var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);

      if (scrollTop + submenuHeight > documentHeight) {
        window.scrollTo(0, scrollTop - submenuHeight);
      }

      this.initialScrollPos = this.lastPos = this.scrollTop();
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking && this.submenu) {
        this.ticking = true;
        window.requestAnimationFrame(this.scrollSubNavigation.bind(this));
      }
    }
  }, {
    key: "scrollTop",
    value: function scrollTop() {
      // browser incompatibilities are so awful
      return window.scrollY || window.pageYOffset || document.body.scrollTop + (document.documentElement && document.documentElement.scrollTop || 0);
    }
  }, {
    key: "scrollSubNavigation",
    value: function scrollSubNavigation() {
      var scrollTop = this.scrollTop();
      var direction = DOWN;

      if (this.lastPos > scrollTop) {
        direction = UP;
      }

      if (this.lastDirection !== direction) {
        if (UP === direction) {
          this.initialScrollPos = scrollTop - this.submenu.scrollTop;
        } else {
          this.initialScrollPos = scrollTop;
        }
      }

      this.submenu.scrollTop = scrollTop - this.initialScrollPos;
      this.lastPos = scrollTop;
      this.lastDirection = direction;
      this.ticking = false;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(MMenuDesktop.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
    }
  }]);

  return MMenuDesktop;
}(_mMenuBase.MMenuBase);

exports.default = MMenuDesktop;

},{"./m-menu--base":111}],113:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _mMenuBase = require("./m-menu--base");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var NAV_WRAPPER_SELECTOR = '.m-menu__nav';
var MAIN_MENU_SELECTOR = '.m-menu__nav-list';
var RIGHT_SELECTOR = '.m-menu__right';
var HAMBURGER_SELECTOR = '.a-hamburger';
var SUBMENU_ITEMS_SELECTOR = '.m-menu__nav-item';
var HIDDEN_STATE = 'is-hidden';
var ACTIVE_STATE = 'is-active';

var MMenuMobile = /*#__PURE__*/function (_MMenuBase) {
  _inherits(MMenuMobile, _MMenuBase);

  var _super = _createSuper(MMenuMobile);

  function MMenuMobile() {
    _classCallCheck(this, MMenuMobile);

    return _super.apply(this, arguments);
  }

  _createClass(MMenuMobile, [{
    key: "initialize",
    value: function initialize() {
      _get(_getPrototypeOf(MMenuMobile.prototype), "initialize", this).call(this);

      this.mobileOpen = false;
      this.navWrapper = this.getScopedElement(NAV_WRAPPER_SELECTOR);
      this.mainNav = this.getScopedElement(MAIN_MENU_SELECTOR);
      this.hamburger = this.getScopedElement(HAMBURGER_SELECTOR);
      this.right = this.getScopedElement(RIGHT_SELECTOR);
      this.menuItems = this.getScopedElements(SUBMENU_ITEMS_SELECTOR);
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenuMobile.prototype), "bind", this).call(this);

      this.on('click', HAMBURGER_SELECTOR, function (event) {
        return _this.toggleMainNavigation(event);
      });
    }
  }, {
    key: "toggleMainNavigation",
    value: function toggleMainNavigation(event) {
      event.preventDefault();

      if (this.mobileOpen) {
        this.closeMainNavigation();
      } else {
        this.openMainNavigation();
      }
    }
  }, {
    key: "openMainNavigation",
    value: function openMainNavigation() {
      this.mobileOpen = true;
      this.addClass(this.navWrapper, _mMenuBase.OPEN_STATE);
      this.addClass(this.hamburger, _mMenuBase.OPEN_STATE);
      this.addClass(this.mainNav, _mMenuBase.OPEN_STATE);
      this.addClass(this.right, _mMenuBase.OPEN_STATE);
      this.hamburger.setAttribute('aria-expanded', true);
    }
  }, {
    key: "closeMainNavigation",
    value: function closeMainNavigation() {
      this.mobileOpen = false;
      this.removeClass(this.navWrapper, _mMenuBase.OPEN_STATE);
      this.removeClass(this.hamburger, _mMenuBase.OPEN_STATE);
      this.removeClass(this.mainNav, _mMenuBase.OPEN_STATE);
      this.removeClass(this.right, _mMenuBase.OPEN_STATE);
      this.hamburger.setAttribute('aria-expanded', false);
      this.closeSubNavigation();
    }
  }, {
    key: "afterOpenSubNavigation",
    value: function afterOpenSubNavigation(element) {
      var _this2 = this;

      var isRight = element.closest(RIGHT_SELECTOR);

      if (isRight) {
        return;
      }

      this.removeClass(this.right, _mMenuBase.OPEN_STATE);
      var liClicked = element.parentElement;
      this.menuItems.forEach(function (item) {
        if (item === liClicked) {
          _this2.addClass(item, ACTIVE_STATE);
        } else {
          _this2.addClass(item, HIDDEN_STATE);
        }
      });
    }
  }, {
    key: "afterCloseSubNavigation",
    value: function afterCloseSubNavigation() {
      var _this3 = this;

      if (this.mobileOpen) {
        this.addClass(this.right, _mMenuBase.OPEN_STATE);
      }

      this.menuItems.forEach(function (item) {
        _this3.removeClass(item, HIDDEN_STATE);

        _this3.removeClass(item, ACTIVE_STATE);
      });
    }
  }, {
    key: "closeNavigation",
    value: function closeNavigation() {
      this.closeMainNavigation();
    }
  }]);

  return MMenuMobile;
}(_mMenuBase.MMenuBase);

exports.default = MMenuMobile;

},{"./m-menu--base":111}],114:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _mMenuDesktop = _interopRequireDefault(require("./m-menu--desktop"));

var _mMenuMobile = _interopRequireDefault(require("./m-menu--mobile"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var FORCE_MOBILE_CLASS = 'm-menu--force-mobile';
var HAMBURGER_SELECTOR = '.a-hamburger';

var MMenu = /*#__PURE__*/function (_BaseView) {
  _inherits(MMenu, _BaseView);

  var _super = _createSuper(MMenu);

  function MMenu() {
    _classCallCheck(this, MMenu);

    return _super.apply(this, arguments);
  }

  _createClass(MMenu, [{
    key: "initialize",
    value: function initialize() {
      this.forceMobile = this.element.classList.contains(FORCE_MOBILE_CLASS);
      this.distractionFree = (0, _distractionFree.default)();
      this.setMenuHandler();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MMenu.prototype), "bind", this).call(this);

      this.setMenuHandler = this.setMenuHandler.bind(this);
      window.addEventListener('resize', this.setMenuHandler);

      if (this.distractionFree) {
        this.on('click', HAMBURGER_SELECTOR, function () {
          return _this.removeForceMobile();
        });
      } else {
        this.removeForceMobile();
      }
    }
  }, {
    key: "removeForceMobile",
    value: function removeForceMobile() {
      if (this.forceMobile) {
        this.element.classList.remove(FORCE_MOBILE_CLASS);
        this.forceMobile = false;
      }
    }
  }, {
    key: "setMenuHandler",
    value: function setMenuHandler() {
      var old = this.handler;
      var old_desktop = this.desktop;
      this.desktop = this.isDesktop();

      if (old_desktop !== this.desktop) {
        if (this.desktop) {
          this.handler = new _mMenuDesktop.default(this.element);
        } else {
          this.handler = new _mMenuMobile.default(this.element);
        }

        if (undefined !== old) {
          old.closeNavigation();
          old.destroy();
        }

        this.handler.initialize();
        this.handler.bind();
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(MMenu.prototype), "destroy", this).call(this);

      window.removeEventListener('resize', this.setMenuHandler);
    }
  }]);

  return MMenu;
}(_baseView.default);

exports.default = MMenu;

},{"../../../js/service/distractionFree":125,"./m-menu--desktop":112,"./m-menu--mobile":113,"base-view":122}],115:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BUTTON_SELECTOR = '.m-person__toggle';
var CONTENT_SELECTOR = '.m-person__expandable';
var COLLABSED_STATE = 'is-collapsed';
var EXPANDED_STATE = 'is-expanded';

var MPerson = /*#__PURE__*/function (_BaseView) {
  _inherits(MPerson, _BaseView);

  var _super = _createSuper(MPerson);

  function MPerson() {
    _classCallCheck(this, MPerson);

    return _super.apply(this, arguments);
  }

  _createClass(MPerson, [{
    key: "initialize",
    value: function initialize() {
      this.button = this.getScopedElement(BUTTON_SELECTOR);
      this.content = this.getScopedElement(CONTENT_SELECTOR);
      this.hiddenAnchorTags = this.getScopedElement(CONTENT_SELECTOR).getElementsByTagName('a');
      this.setTabIndexes(-1);
      this.expanded = false;
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MPerson.prototype), "bind", this).call(this);

      this.on('click', BUTTON_SELECTOR, function () {
        return _this.toggle();
      });
    }
  }, {
    key: "toggle",
    value: function toggle() {
      if (this.expanded) {
        // collaps it
        this.removeClass(this.button, EXPANDED_STATE);
        this.removeClass(this.content, EXPANDED_STATE);
        this.addClass(this.button, COLLABSED_STATE);
        this.addClass(this.content, COLLABSED_STATE);
        this.button.innerText = this.button.getAttribute('data-expand');
        this.setTabIndexes(-1);
      } else {
        // expand it
        this.removeClass(this.button, COLLABSED_STATE);
        this.removeClass(this.content, COLLABSED_STATE);
        this.addClass(this.button, EXPANDED_STATE);
        this.addClass(this.content, EXPANDED_STATE);
        this.button.innerText = this.button.getAttribute('data-collaps');
        this.setTabIndexes(0);
      }

      this.content.setAttribute('aria-hidden', this.expanded);
      this.expanded = !this.expanded;
    }
  }, {
    key: "setTabIndexes",
    value: function setTabIndexes(int) {
      for (var i = 0; i < this.hiddenAnchorTags.length; i++) {
        this.hiddenAnchorTags.item(i).tabIndex = int;
      }
    }
  }]);

  return MPerson;
}(_baseView.default);

exports.default = MPerson;

},{"base-view":122}],116:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MOBILE_SELECTOR = '.m-share__mobile';
var LABEL_SELECTOR = '.m-share__desc';
var CLOSE_SELECTOR = '.m-share__close';
var BUTTONS_SELECTOR = '.m-share__buttons';
var OPEN_STATE = 'is-open';
var HAS_SHARE_BUTTONS = 'has-share-buttons';

var MShare = /*#__PURE__*/function (_BaseView) {
  _inherits(MShare, _BaseView);

  var _super = _createSuper(MShare);

  function MShare() {
    _classCallCheck(this, MShare);

    return _super.apply(this, arguments);
  }

  _createClass(MShare, [{
    key: "initialize",
    value: function initialize() {
      this.buttons = this.getScopedElement(BUTTONS_SELECTOR);
      this.addPageBottomMargin();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(MShare.prototype), "bind", this).call(this);

      this.on('click', MOBILE_SELECTOR, function () {
        return _this.show();
      });
      this.on('click', LABEL_SELECTOR, function () {
        return _this.show();
      });
      this.on('click', CLOSE_SELECTOR, function () {
        return _this.hide();
      });
    }
  }, {
    key: "addPageBottomMargin",
    value: function addPageBottomMargin() {
      this.addClass(document.body, HAS_SHARE_BUTTONS);
    }
  }, {
    key: "show",
    value: function show() {
      if (!this.isDesktop()) {
        this.addClass(this.buttons, OPEN_STATE);
        this.addClass(OPEN_STATE);
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      if (!this.isDesktop()) {
        this.removeClass(this.buttons, OPEN_STATE);
        this.removeClass(OPEN_STATE);
      }
    }
  }]);

  return MShare;
}(_baseView.default);

exports.default = MShare;

},{"./../../../js/base-view":122}],117:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _lodash = _interopRequireDefault(require("lodash.throttle"));

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var IMAGE_SELECTOR = '.o-campaign__image';
var IMAGE_WRAPPER_SELECTOR = '.o-campaign__image-wrapper';
var BARS_SELECTOR = '.o-campaign__bars';
var SCROLL_SPEED = 0.1;
var RESIZE_THROTTLING_MS = 100;

var OCampaign = /*#__PURE__*/function (_BaseView) {
  _inherits(OCampaign, _BaseView);

  var _super = _createSuper(OCampaign);

  function OCampaign() {
    _classCallCheck(this, OCampaign);

    return _super.apply(this, arguments);
  }

  _createClass(OCampaign, [{
    key: "initialize",
    value: function initialize() {
      this.image = this.getScopedElement(IMAGE_SELECTOR);
      this.imageWrapper = this.getScopedElement(IMAGE_WRAPPER_SELECTOR);
      this.bars = this.getScopedElement(BARS_SELECTOR);
      this.header = this.getComponent('OHeader0');
      this.branding = this.header.getBranding();
      this.ticking = false;
      this.setBarPosition();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(OCampaign.prototype), "bind", this).call(this);

      this.scrollHandler = function () {
        return _this.requestTick();
      };

      this.resizeHandler = (0, _lodash.default)(function () {
        return _this.onResize();
      }, RESIZE_THROTTLING_MS, {
        leading: false,
        trailing: true
      });
      window.addEventListener('resize', this.resizeHandler);
      window.addEventListener('scroll', this.scrollHandler, false);
      this.scrollHandler();
      this.resizeHandler();
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking) {
        this.ticking = true;
        window.requestAnimationFrame(this.onScroll.bind(this));
      }
    }
  }, {
    key: "onResize",
    value: function onResize() {
      this.setBrandingHeight();
      this.setScrollStop();
      this.setBarPosition();
    }
  }, {
    key: "onScroll",
    value: function onScroll() {
      if (!this.header.getFixed()) {
        this.imageWrapper.style.transform = this.translate(-this.getScrollTop());
      } else {
        if (this.getScrollTop() < this.scrollStop) {
          var delta = this.getScrollTop() - this.brandingHeight;
          this.imageWrapper.style.transform = this.translate(-this.brandingHeight - delta * SCROLL_SPEED);
        }
      }

      this.ticking = false;
    }
  }, {
    key: "setBrandingHeight",
    value: function setBrandingHeight() {
      if (this.branding) {
        this.brandingHeight = this.branding.clientHeight;
      } else {
        this.brandingHeight = 0;
      }
    }
  }, {
    key: "setScrollStop",
    value: function setScrollStop() {
      this.scrollStop = this.brandingHeight + this.element.clientHeight;
    }
  }, {
    key: "translate",
    value: function translate(y) {
      return "translate3d(0px, ".concat(y, "px, 0px)");
    }
  }, {
    key: "setBarPosition",
    value: function setBarPosition() {
      if (!this.bars) {
        return;
      }

      var barsBottom = this.bars.getBoundingClientRect().bottom;
      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      var scrollTop = this.getScrollTop();
      var viewportBottom = viewportHeight + scrollTop;

      if (barsBottom > viewportBottom) {
        this.bars.style.height = viewportHeight - this.header.element.clientHeight + scrollTop + 'px';
      } else {
        this.bars.style.height = this.image.clientHeight + 'px';
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(OCampaign.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
      window.removeEventListener('resize', this.resizeHandler);
    }
  }]);

  return OCampaign;
}(_baseView.default);

exports.default = OCampaign;

},{"./../../../js/base-view":122,"lodash.throttle":8}],118:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DISTRACTING_WIDGET_CLASS = 'distracting_widget';

var OFooter = /*#__PURE__*/function (_BaseView) {
  _inherits(OFooter, _BaseView);

  var _super = _createSuper(OFooter);

  function OFooter() {
    _classCallCheck(this, OFooter);

    return _super.apply(this, arguments);
  }

  _createClass(OFooter, [{
    key: "initialize",
    value: function initialize() {
      this.distractionFree = (0, _distractionFree.default)();
    }
  }, {
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(OFooter.prototype), "bind", this).call(this);

      if (!this.distractionFree) {
        this.showWidgets();
      }
    }
  }, {
    key: "showWidgets",
    value: function showWidgets() {
      var widgets = this.getScopedElements('.' + DISTRACTING_WIDGET_CLASS);

      var _iterator = _createForOfIteratorHelper(widgets),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var el = _step.value;
          this.removeClass(el, DISTRACTING_WIDGET_CLASS);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
  }]);

  return OFooter;
}(_baseView.default);

exports.default = OFooter;

},{"../../../js/service/distractionFree":125,"base-view":122}],119:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var BRANDING_SELECTOR = '.o-header__branding';
var MENU_SELECTOR = '.o-header__menu';
var VISIBLE_MENU_SELECTOR = '.o-header__display';

var OHeader = /*#__PURE__*/function (_BaseView) {
  _inherits(OHeader, _BaseView);

  var _super = _createSuper(OHeader);

  function OHeader() {
    _classCallCheck(this, OHeader);

    return _super.apply(this, arguments);
  }

  _createClass(OHeader, [{
    key: "initialize",
    value: function initialize() {
      this.branding = this.getScopedElement(BRANDING_SELECTOR);
      this.menu = this.getScopedElement(MENU_SELECTOR);
      this.visibleMenu = this.getScopedElement(VISIBLE_MENU_SELECTOR);
      this.ticking = false;
      this.isFixed = false;
      this.setMenuBarPosition();
    }
  }, {
    key: "bind",
    value: function bind() {
      var _this = this;

      _get(_getPrototypeOf(OHeader.prototype), "bind", this).call(this);

      this.scrollHandler = function () {
        return _this.requestTick();
      };

      window.addEventListener('scroll', this.scrollHandler, false);
    }
  }, {
    key: "requestTick",
    value: function requestTick() {
      if (!this.ticking) {
        this.ticking = true;
        window.requestAnimationFrame(this.setMenuBarPosition.bind(this));
      }
    }
  }, {
    key: "setMenuBarPosition",
    value: function setMenuBarPosition() {
      if (!this.branding) {
        this.isFixed = true;
        return;
      }

      var scrollTop = this.getScrollTop();

      if (!this.isFixed && scrollTop >= this.branding.clientHeight) {
        this.isFixed = true;
        this.visibleMenu.style.transform = this.translate(-this.branding.clientHeight);
      }

      if (scrollTop < this.branding.clientHeight) {
        this.visibleMenu.style.transform = this.translate(-scrollTop);
        this.isFixed = false;
      }

      this.ticking = false;
    }
  }, {
    key: "translate",
    value: function translate(y) {
      return "translate3d(0px, ".concat(y, "px, 0px)");
    }
  }, {
    key: "getFixed",
    value: function getFixed() {
      return this.isFixed;
    }
  }, {
    key: "getMenu",
    value: function getMenu() {
      return this.menu;
    }
  }, {
    key: "getBranding",
    value: function getBranding() {
      return this.branding;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _get(_getPrototypeOf(OHeader.prototype), "destroy", this).call(this);

      window.removeEventListener('scroll', this.scrollHandler);
    }
  }]);

  return OHeader;
}(_baseView.default);

exports.default = OHeader;

},{"base-view":122}],120:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("./../../../js/base-view"));

var _swiper = _interopRequireWildcard(require("swiper"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// Install modules
_swiper.default.use([_swiper.Keyboard, _swiper.Navigation, _swiper.A11y]);

var SWIPER_CONTAINER_SELECTOR = '.o-people-grid__library-container';
var SLIDER_NEXT_BUTTON_SELECTOR = '.o-people-grid__slide-button--right';
var SLIDER_PREVIOUS_BUTTON_SELECTOR = '.o-people-grid__slide-button--left';

var OPeopleGrid = /*#__PURE__*/function (_BaseView) {
  _inherits(OPeopleGrid, _BaseView);

  var _super = _createSuper(OPeopleGrid);

  function OPeopleGrid() {
    _classCallCheck(this, OPeopleGrid);

    return _super.apply(this, arguments);
  }

  _createClass(OPeopleGrid, [{
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(OPeopleGrid.prototype), "bind", this).call(this);

      new _swiper.default(SWIPER_CONTAINER_SELECTOR, {
        slidesPerView: 'auto',
        navigation: {
          nextEl: SLIDER_NEXT_BUTTON_SELECTOR,
          prevEl: SLIDER_PREVIOUS_BUTTON_SELECTOR
        },
        keyboard: {
          enabled: true,
          onlyInViewport: false
        }
      });
    }
  }]);

  return OPeopleGrid;
}(_baseView.default);

exports.default = OPeopleGrid;

},{"./../../../js/base-view":122,"swiper":98}],121:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseView = _interopRequireDefault(require("base-view"));

var _distractionFree = _interopRequireDefault(require("../../../js/service/distractionFree"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DISTRACTING_BREADCRUMBS_CLASS = 'page__breadcrumbs--distracting';
var DISTRACTING_POST_META_CLASS = 'page__post-meta--distracting';

var Page = /*#__PURE__*/function (_BaseView) {
  _inherits(Page, _BaseView);

  var _super = _createSuper(Page);

  function Page() {
    _classCallCheck(this, Page);

    return _super.apply(this, arguments);
  }

  _createClass(Page, [{
    key: "initialize",
    value: function initialize() {
      this.distractionFree = (0, _distractionFree.default)();
    }
  }, {
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(Page.prototype), "bind", this).call(this);

      if (!this.distractionFree) {
        this.showBreadcrumbs();
        this.showPostMeta();
      }
    }
  }, {
    key: "showBreadcrumbs",
    value: function showBreadcrumbs() {
      this.removeDistractingClass(DISTRACTING_BREADCRUMBS_CLASS);
    }
  }, {
    key: "showPostMeta",
    value: function showPostMeta() {
      this.removeDistractingClass(DISTRACTING_POST_META_CLASS);
    }
  }, {
    key: "removeDistractingClass",
    value: function removeDistractingClass(domClass) {
      var el = this.getScopedElement('.' + domClass);

      if (el) {
        this.removeClass(el, domClass);
      }
    }
  }]);

  return Page;
}(_baseView.default);

exports.default = Page;

},{"../../../js/service/distractionFree":125,"base-view":122}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _lodash = _interopRequireDefault(require("lodash.isfunction"));

var _lodash2 = _interopRequireDefault(require("lodash.isempty"));

var _lodash3 = _interopRequireDefault(require("lodash.isboolean"));

var _delegate = _interopRequireDefault(require("delegate"));

var _lodash4 = _interopRequireDefault(require("lodash.pullat"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

/**
 * Generate an incremental
 * view id.
 */
var VIEW_ID = 0;

function generateViewId() {
  return ++VIEW_ID;
}
/**
 * Parse the array to retrieve the strings and an optional Element.
 * @param array args Array containing the arguments of a function
 * @return object
 */


function parseClassArguments(args) {
  var el = this.element;
  var classes = [];
  Array.prototype.forEach.call(args, function (arg) {
    if (typeof arg == 'string') {
      classes.push(arg);
    } else if (arg.nodeType == 1) {
      el = arg;
    }
  });
  return {
    el: el,
    classes: classes
  };
}
/**
 * Base view class.
 * All the components should extend this class.
 *
 * @class BaseView
 */


var BaseView = /*#__PURE__*/function () {
  /**
   * Constructor.
   */
  function BaseView(element) {
    _classCallCheck(this, BaseView);

    this.element = element;
    this.channel = document;
    this.vid = generateViewId();
    this.events = {
      global: {},
      element: {}
    };
  }
  /**
   * Default initialize method.
   */


  _createClass(BaseView, [{
    key: "initialize",
    value: function initialize() {}
    /**
     * Return the events attached to the element & channel.
     *
     * @return {Object}
     */

  }, {
    key: "getEvents",
    value: function getEvents() {
      return this.events;
    }
    /**
     * Main bind function.
     * Trigger all the code on the view.
     */

  }, {
    key: "bind",
    value: function bind() {
      // this.delegateEvents();
      this.initialize();
    }
    /**
     * Get a scoped element.
     *
     * @param {String} selector
     * @return {Element}
     */

  }, {
    key: "getScopedElement",
    value: function getScopedElement(selector) {
      return this.element.querySelector(selector);
    }
    /**
     * Get a scoped collection of elements.
     *
     * @param {String} selector
     * @return {elementList}            A non-live NodeList of element objects.
     */

  }, {
    key: "getScopedElements",
    value: function getScopedElements(selector) {
      return this.element.querySelectorAll(selector);
    }
    /**
     * Is desktop?
     *
     * @return {boolean}
     */

  }, {
    key: "isDesktop",
    value: function isDesktop() {
      if (window && window.innerWidth) {
        return window.innerWidth >= 1024;
      }

      return true;
    }
    /**
     * How far have we scrolled down?
     *
     * @return {number}
     */

  }, {
    key: "getScrollTop",
    value: function getScrollTop() {
      return window.pageYOffset || document.documentElement.scrollTop;
    }
    /**
     * Trigger a global event.
     *
     * @param {String} event_name
     * @param {Object} params
     */

  }, {
    key: "trigger",
    value: function trigger(event_name) {
      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      this.channel.dispatchEvent(new CustomEvent(event_name, params));
    }
    /**
     * Bind a callback to an element event or global event.
     *
     * @param {String}        event_name
     * @param {String}        selector        Optional.
     * @param {Function}    handler
     * @param {Boolean}        channel            Optional. Default: false. Whether or not to bind a global event.
     * @param {Boolean}     stopPropagation     Optional. Default: false. Whether the handler event should stop the events propagation.
     */

  }, {
    key: "on",
    value: function on(event_name, selector, handler) {
      var channel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
      var stopPropagation = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;

      // Handle the optional selector argument
      if ((0, _lodash.default)(selector)) {
        channel = handler || false;
        handler = selector;
        selector = null;
      }

      if (channel) {
        if (!(event_name in this.events.global)) {
          this.events.global[event_name] = [];
        }

        this.channel.addEventListener(event_name, handler);
        this.events.global[event_name].push(handler);
      } else {
        if (!(event_name in this.events.element)) {
          this.events.element[event_name] = [];
        }

        if ((0, _lodash2.default)(selector)) {
          this.element.addEventListener(event_name, handler);
          this.events.element[event_name].push({
            selector: 'self',
            handler: handler
          });
        } else {
          this.events.element[event_name].push({
            selector: selector,
            handler: handler,
            delegate: (0, _delegate.default)(this.element, selector, event_name, function (e) {
              if (stopPropagation) {
                e.stopPropagation();
              }

              handler(e);
            }, true)
          });
        }
      }
    }
    /**
     * Unbind the given element event or global event.
     *
     * @param {String}        event_name
     * @param {String}        selector        Optional.
     * @param {Boolean}        channel            Optional. Default: false. Whether or not to unbind a global event.
     */

  }, {
    key: "off",
    value: function off(event_name) {
      var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var channel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      // Handle the optional selector argument
      if ((0, _lodash3.default)(selector)) {
        channel = selector;
        selector = null;
      }

      if (channel) {
        if (event_name in this.events.global) {
          for (var i = 0; i < this.events.global[event_name].length; i++) {
            this.channel.removeEventListener(event_name, this.events.global[event_name][i]);
          }
        }

        delete this.events.global[event_name];
      } else if (event_name in this.events.element) {
        if ((0, _lodash2.default)(selector)) {
          // Events binded to the element
          for (var _i = this.events.element[event_name].length - 1; _i >= 0; _i--) {
            if ('self' == this.events.element[event_name][_i].selector) {
              this.element.removeEventListener(event_name, this.events.element[event_name][_i].handler);
            } else {
              this.events.element[event_name][_i].delegate.destroy();
            }
          }

          delete this.events.element[event_name];
        } else {
          // unbind delegates events
          for (var _i2 = this.events.element[event_name].length - 1; _i2 >= 0; _i2--) {
            if (selector == this.events.element[event_name][_i2].selector) {
              this.events.element[event_name][_i2].delegate.destroy();

              (0, _lodash4.default)(this.events.element[event_name], _i2);
            }
          }
        }
      }
    }
    /**
     * Helper to easily add classes in a single line which will then add one per class (IE10 compatible)
     *
     * @param {Element}        el        Optional. Default: current View element. The target element to add classes.
     * @param {String}        cls        Class name separated by a comma or space.
     */

  }, {
    key: "addClass",
    value: function addClass() {
      var _parseClassArguments$ = parseClassArguments.call(this, arguments),
          el = _parseClassArguments$.el,
          classes = _parseClassArguments$.classes;

      classes.forEach(function (c) {
        el.classList.add(c);
      });
    }
    /**
     * Helper to easily remove classes in a single line which will then remove one per class (IE10 compatible)
     *
     * @param {Element}  el     Optional. Default: current View element. The target element to remove classes.
     * @param {String}   class  Class name. Multiple classes can be passed as extra args.
     */

  }, {
    key: "removeClass",
    value: function removeClass() {
      var _parseClassArguments$2 = parseClassArguments.call(this, arguments),
          el = _parseClassArguments$2.el,
          classes = _parseClassArguments$2.classes;

      classes.forEach(function (c) {
        el.classList.remove(c);
      });
    }
    /**
     * Sets a reference to the loaded components
     *
     * @param {Object} components
     */

  }, {
    key: "setComponentsReference",
    value: function setComponentsReference(components) {
      this.components = components;
    }
    /**
     * Returns the component with the referenced key
     *
     * @param key
     * @returns {*}
     */

  }, {
    key: "getComponent",
    value: function getComponent(key) {
      return this.components[key];
    }
    /**
     * Off all events (element & global).
     *
     * @global viewport_service
     */

  }, {
    key: "destroy",
    value: function destroy() {
      for (var event_name in this.events.global) {
        this.off(event_name, null, null, true);
      }

      for (var _event_name in this.events.element) {
        this.off(_event_name);
      } // Remove listeners attached to the viewport service
      // viewport_service.removeAllListeners();

    }
  }]);

  return BaseView;
}();

exports.default = BaseView;

},{"delegate":2,"lodash.isboolean":4,"lodash.isempty":5,"lodash.isfunction":6,"lodash.pullat":7}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ajax;

function ajax(url, method) {
  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return new Promise(function (resolve, reject) {
    var xhr = new XMLHttpRequest();
    xhr.open(method, url);
    xhr.send(data);

    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        var raw = xhr.responseText;
        var resp;

        try {
          resp = JSON.parse(raw);
        } catch (err) {
          resp = {};
        }

        if (xhr.status === 200) {
          resolve(resp);
        } else {
          reject(resp);
        }
      }
    };
  });
}

},{}],124:[function(require,module,exports){
"use strict";

/**
 * Make sure anchor links jump dont jump to high (fixed header)
 *
 * Adaptation of https://stackoverflow.com/a/13067009
 */
(function (document, history, location) {
  var HISTORY_SUPPORT = !!(history && history.pushState);
  var anchorScrolls = {
    ANCHOR_REGEX: /^#[^ ]+$/,
    ADDITIONAL_MARGIN_PX: 20,

    /**
     * Establish events, and fix initial scroll position if a hash is provided.
     */
    init: function init() {
      this.scrollToCurrent();
      window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
      document.body.addEventListener('click', this.delegateAnchors.bind(this));
    },

    /**
     * Return the offset amount to deduct from the normal scroll position.
     * Modify as appropriate to allow for dynamic calculations
     */
    getFixedOffset: function getFixedOffset() {
      var nav = document.getElementsByClassName('o-header__menu');
      var admin = document.getElementById('wpadminbar');
      var offset = this.ADDITIONAL_MARGIN_PX;

      if (admin && admin.offsetHeight) {
        offset += admin.offsetHeight;
      }

      if (nav.length && nav[0].offsetHeight) {
        offset += nav[0].offsetHeight;
      }

      return offset;
    },

    /**
     * If the provided href is an anchor which resolves to an element on the
     * page, scroll to it.
     * @param  {String} href
     * @return {Boolean} - Was the href an anchor.
     */
    scrollIfAnchor: function scrollIfAnchor(href, pushToHistory) {
      var match, rect, anchorOffset;

      if (!this.ANCHOR_REGEX.test(href)) {
        return false;
      }

      match = document.getElementById(href.slice(1));

      if (match) {
        rect = match.getBoundingClientRect();
        anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
        window.scrollTo(window.pageXOffset, anchorOffset); // Add the state to history as-per normal anchor links

        if (HISTORY_SUPPORT && pushToHistory) {
          history.pushState({}, document.title, location.pathname + href);
        }
      }

      return !!match;
    },

    /**
     * Attempt to scroll to the current location's hash.
     */
    scrollToCurrent: function scrollToCurrent() {
      this.scrollIfAnchor(window.location.hash);
    },

    /**
     * If the click event's target was an anchor, fix the scroll position.
     */
    delegateAnchors: function delegateAnchors(e) {
      var elem = e.target;

      if (elem.nodeName === 'A' && this.scrollIfAnchor(elem.getAttribute('href'), true)) {
        e.preventDefault();
      }
    }
  };
  window.addEventListener('DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls));
})(window.document, window.history, window.location);

},{}],125:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Determines if the page should be displayed distraction free.
 *
 * Returns true if the page satisfies any of the following criteria:
 * - the url query string `focus` is present
 * - the referrer is not the current site
 *
 * Therefore visitors following internal links do not see the
 * distraction free page, unless the `focus` query string was set.
 *
 * @return boolean
 */
var distractionFree = function distractionFree() {
  var url, referrer;

  try {
    url = new URL(window.location);
  } catch (e) {
    return true;
  }

  if (url.searchParams.get('focus') !== null) {
    return true;
  }

  try {
    referrer = new URL(document.referrer);
  } catch (e) {
    return true;
  }

  return url.hostname !== referrer.hostname;
};

var _default = distractionFree;
exports.default = _default;

},{}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

var InView = /*#__PURE__*/function () {
  function InView(element, callback, debounceDelayMS) {
    _classCallCheck(this, InView);

    this.element = element;
    this.callback = callback;
    this.debounceDelay = debounceDelayMS;
  }

  _createClass(InView, [{
    key: "requestTick",
    value: function requestTick() {
      var _this = this;

      this.timer = this.timer || setTimeout(function () {
        _this.timer = null;

        if (!_this.ticking) {
          _this.ticking = true;
          window.requestAnimationFrame(_this.maybeTriggerAction.bind(_this));
        }
      }, this.debounceDelay);
    }
  }, {
    key: "maybeTriggerAction",
    value: function maybeTriggerAction() {
      if (this.inView()) {
        this.callback();
      }

      this.ticking = false;
    }
  }, {
    key: "inView",
    value: function inView() {
      var windowTop = window.pageYOffset;
      var windowBottom = windowTop + window.innerHeight;
      var imgRect = this.element.getBoundingClientRect();
      var imgTop = windowTop + imgRect.top;
      var imgBottom = imgTop + imgRect.height;
      return windowTop < imgBottom && windowBottom > imgTop;
    }
  }]);

  return InView;
}();

function _default(element) {
  var debounceDelayMS = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;
  var resolve;
  var promise = new Promise(function (res) {
    return resolve = res;
  });
  var watcher = new InView(element, function () {
    return resolve();
  }, debounceDelayMS);
  var handler = watcher.requestTick.bind(watcher);
  window.addEventListener('scroll', handler, false);
  window.addEventListener('resize', handler, false);
  watcher.requestTick();
  return promise.then(function () {
    window.removeEventListener('scroll', handler);
    window.removeEventListener('resize', handler);
  });
}

},{}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Check if the browser supports the class list property for this element.
 *
 * @param {Element} element
 * @return {Boolean}
 */
function browserSupportsClassList(element) {
  return !!element.classList;
}

var _default = browserSupportsClassList;
exports.default = _default;

},{}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/**
 * Check if a dom element exist.
 *
 * @param {Element} element
 * @return {Boolean}
 */
function elementExist(element) {
  return !!element;
}

var _default = elementExist;
exports.default = _default;

},{}],129:[function(require,module,exports){
(function (global){(function (){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/* eslint-disable */

/* Polyfill service v3.38.0
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 *
 * Features requested: Array.prototype.entries,Array.prototype.forEach,CustomEvent,Element.prototype.closest,HTMLPictureElement,Object.assign,Object.entries,Promise,URL,matchMedia
 *
 * - _ESAbstract.ArrayCreate, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Call, License: CC0 (required by "Array.prototype.forEach", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "_ESAbstract.OrdinaryToPrimitive", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Get, License: CC0 (required by "Array.prototype.forEach", "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "_ESAbstract.IsRegExp", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.OrdinaryToPrimitive", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map", "_ESAbstract.ArraySpeciesCreate", "_ESAbstract.GetPrototypeFromConstructor", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct")
 * - _ESAbstract.HasProperty, License: CC0 (required by "Array.prototype.forEach", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsArray, License: CC0 (required by "Array.isArray", "URL", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsCallable, License: CC0 (required by "Array.prototype.forEach", "Function.prototype.bind", "Object.getOwnPropertyDescriptor", "Object.assign", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "_ESAbstract.OrdinaryToPrimitive", "Array.prototype.filter", "Symbol", "Array.prototype.map")
 * - _ESAbstract.RequireObjectCoercible, License: CC0 (required by "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.ToBoolean, License: CC0 (required by "_ESAbstract.IsRegExp", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.filter", "Symbol", "_Iterator")
 * - _ESAbstract.ToInteger, License: CC0 (required by "_ESAbstract.ToLength", "Array.prototype.forEach", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.ToLength, License: CC0 (required by "Array.prototype.forEach", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.ToObject, License: CC0 (required by "Array.prototype.entries", "Array.prototype.forEach", "Object.assign", "Object.entries", "Object.defineProperties", "URL", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.map", "_ESAbstract.GetV", "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString")
 * - _ESAbstract.GetV, License: CC0 (required by "_ESAbstract.GetMethod", "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.GetMethod, License: CC0 (required by "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach", "_ESAbstract.IsConstructor", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Type, License: CC0 (required by "_ESAbstract.ToString", "Array.prototype.forEach", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Object.create", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.ToPrimitive", "_ESAbstract.IsRegExp", "String.prototype.includes", "_ESAbstract.OrdinaryToPrimitive", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map", "_ESAbstract.IsConstructor", "_ESAbstract.GetPrototypeFromConstructor", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct")
 * - _ESAbstract.GetPrototypeFromConstructor, License: CC0 (required by "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.IsConstructor, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map", "_ESAbstract.Construct")
 * - _ESAbstract.IsRegExp, License: CC0 (required by "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.OrdinaryToPrimitive, License: CC0 (required by "_ESAbstract.ToPrimitive", "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.ToPrimitive, License: CC0 (required by "_ESAbstract.ToString", "Array.prototype.forEach")
 * - _ESAbstract.ToString, License: CC0 (required by "Array.prototype.forEach", "String.prototype.includes", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map")
 * - document, License: CC0 (required by "Event", "CustomEvent", "matchMedia", "~html5-elements", "HTMLPictureElement", "Element", "Element.prototype.matches", "Element.prototype.closest", "document.querySelector")
 * - ~html5-elements, License: MIT (required by "HTMLPictureElement")
 * - Element, License: CC0 (required by "Event", "CustomEvent", "matchMedia", "Element.prototype.matches", "Element.prototype.closest", "document.querySelector")
 * - document.querySelector, License: CC0 (required by "Element.prototype.matches", "Element.prototype.closest")
 * - Element.prototype.matches, License: CC0 (required by "Element.prototype.closest")
 * - Element.prototype.closest, License: CC0
 * - HTMLPictureElement, License: MIT
 * - Object.defineProperty, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.CreateMethodProperty", "Array.prototype.forEach", "Object.assign", "Object.entries", "Event", "CustomEvent", "matchMedia", "Object.defineProperties", "URL", "_Iterator", "Object.setPrototypeOf", "Symbol", "Symbol.iterator", "Symbol.toStringTag", "_ESAbstract.CreateDataProperty", "_ESAbstract.CreateDataPropertyOrThrow", "Array.prototype.filter", "Array.prototype.map", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate")
 * - _ESAbstract.CreateDataProperty, License: CC0 (required by "_ESAbstract.CreateDataPropertyOrThrow", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.CreateDataPropertyOrThrow, License: CC0 (required by "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.CreateMethodProperty, License: CC0 (required by "Array.prototype.entries", "Array.prototype.forEach", "Object.assign", "Object.entries", "Object.getOwnPropertyDescriptor", "Object.keys", "Object.defineProperties", "URL", "Array.isArray", "Object.create", "_ArrayIterator", "Object.setPrototypeOf", "String.prototype.includes", "Function.prototype.bind", "_Iterator", "Object.getPrototypeOf", "Object.getOwnPropertyNames", "Symbol", "Array.prototype.filter", "Array.prototype.map", "Object.freeze")
 * - Array.isArray, License: CC0 (required by "URL")
 * - Array.prototype.forEach, License: CC0 (required by "URL", "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Function.prototype.bind, License: MIT (required by "Object.getOwnPropertyDescriptor", "Object.assign", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "Array.prototype.map")
 * - Object.freeze, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.getOwnPropertyDescriptor, License: CC0 (required by "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Object.getOwnPropertyNames, License: CC0 (required by "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "Symbol", "_Iterator")
 * - Object.getPrototypeOf, License: CC0 (required by "Object.setPrototypeOf", "_ArrayIterator", "Array.prototype.entries", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "Array.prototype.map")
 * - Object.keys, License: MIT (required by "Object.assign", "_ESAbstract.EnumerableOwnProperties", "Object.entries", "Object.defineProperties", "URL", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - _ESAbstract.EnumerableOwnProperties, License: CC0 (required by "Object.entries")
 * - Object.entries, License: CC0
 * - Object.assign, License: CC0 (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.defineProperties, License: CC0 (required by "URL", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Object.create")
 * - Object.create, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries", "Object.setPrototypeOf", "Symbol", "_Iterator", "_ESAbstract.OrdinaryCreateFromConstructor", "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Array.prototype.map")
 * - _ESAbstract.OrdinaryCreateFromConstructor, License: CC0 (required by "_ESAbstract.Construct", "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.Construct, License: CC0 (required by "_ESAbstract.ArraySpeciesCreate", "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - _ESAbstract.ArraySpeciesCreate, License: CC0 (required by "Array.prototype.filter", "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Array.prototype.map")
 * - Array.prototype.filter, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Array.prototype.map, License: CC0 (required by "Symbol", "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Object.setPrototypeOf, License: MIT (required by "_ArrayIterator", "Array.prototype.entries")
 * - Promise, License: MIT
 * - String.prototype.includes, License: CC0 (required by "_ArrayIterator", "Array.prototype.entries")
 * - Symbol, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries", "Symbol.iterator", "Symbol.toStringTag")
 * - Symbol.iterator, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - Symbol.toStringTag, License: MIT (required by "_Iterator", "_ArrayIterator", "Array.prototype.entries")
 * - _Iterator, License: MIT (required by "_ArrayIterator", "Array.prototype.entries")
 * - _ArrayIterator, License: MIT (required by "Array.prototype.entries")
 * - Array.prototype.entries, License: CC0
 * - URL, License: CC0-1.0
 * - Window, License: CC0 (required by "Event", "CustomEvent", "matchMedia")
 * - Event, License: CC0 (required by "CustomEvent", "matchMedia")
 * - CustomEvent, License: CC0
 * - matchMedia, License: CC0 */
(function (undefined) {
  // _ESAbstract.ArrayCreate
  // 9.4.2.2. ArrayCreate ( length [ , proto ] )
  function ArrayCreate(length
  /* [, proto] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: length is an integer Number ≥ 0.
    // 2. If length is -0, set length to +0.
    if (1 / length === -Infinity) {
      length = 0;
    } // 3. If length>2^32-1, throw a RangeError exception.


    if (length > Math.pow(2, 32) - 1) {
      throw new RangeError('Invalid array length');
    } // 4. If proto is not present, set proto to the intrinsic object %ArrayPrototype%.
    // 5. Let A be a newly created Array exotic object.


    var A = []; // 6. Set A's essential internal methods except for [[DefineOwnProperty]] to the default ordinary object definitions specified in 9.1.
    // 7. Set A.[[DefineOwnProperty]] as specified in 9.4.2.1.
    // 8. Set A.[[Prototype]] to proto.
    // 9. Set A.[[Extensible]] to true.
    // 10. Perform ! OrdinaryDefineOwnProperty(A, "length", PropertyDescriptor{[[Value]]: length, [[Writable]]: true, [[Enumerable]]: false, [[Configurable]]: false}).

    A.length = length; // 11. Return A.

    return A;
  } // _ESAbstract.Call

  /* global IsCallable */
  // 7.3.12. Call ( F, V [ , argumentsList ] )


  function Call(F, V
  /* [, argumentsList] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. If argumentsList is not present, set argumentsList to a new empty List.
    var argumentsList = arguments.length > 2 ? arguments[2] : []; // 2. If IsCallable(F) is false, throw a TypeError exception.

    if (IsCallable(F) === false) {
      throw new TypeError(Object.prototype.toString.call(F) + 'is not a function.');
    } // 3. Return ? F.[[Call]](V, argumentsList).


    return F.apply(V, argumentsList);
  } // _ESAbstract.Get
  // 7.3.1. Get ( O, P )


  function Get(O, P) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Return ? O.[[Get]](P, O).
    return O[P];
  } // _ESAbstract.HasProperty
  // 7.3.10. HasProperty ( O, P )


  function HasProperty(O, P) {
    // eslint-disable-line no-unused-vars
    // Assert: Type(O) is Object.
    // Assert: IsPropertyKey(P) is true.
    // Return ? O.[[HasProperty]](P).
    return P in O;
  } // _ESAbstract.IsArray
  // 7.2.2. IsArray ( argument )


  function IsArray(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    // 2. If argument is an Array exotic object, return true.
    // 3. If argument is a Proxy exotic object, then
    // a. If argument.[[ProxyHandler]] is null, throw a TypeError exception.
    // b. Let target be argument.[[ProxyTarget]].
    // c. Return ? IsArray(target).
    // 4. Return false.
    // Polyfill.io - We can skip all the above steps and check the string returned from Object.prototype.toString().
    return Object.prototype.toString.call(argument) === '[object Array]';
  } // _ESAbstract.IsCallable
  // 7.2.3. IsCallable ( argument )


  function IsCallable(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    // 2. If argument has a [[Call]] internal method, return true.
    // 3. Return false.
    // Polyfill.io - Only function objects have a [[Call]] internal method. This means we can simplify this function to check that the argument has a type of function.
    return typeof argument === 'function';
  } // _ESAbstract.RequireObjectCoercible
  // 7.2.1. RequireObjectCoercible ( argument )
  // The abstract operation ToObject converts argument to a value of type Object according to Table 12:
  // Table 12: ToObject Conversions

  /*
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Argument Type | Result                                                                                                                             |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Undefined     | Throw a TypeError exception.                                                                                                       |
  | Null          | Throw a TypeError exception.                                                                                                       |
  | Boolean       | Return argument.                                                                                                                   |
  | Number        | Return argument.                                                                                                                   |
  | String        | Return argument.                                                                                                                   |
  | Symbol        | Return argument.                                                                                                                   |
  | Object        | Return argument.                                                                                                                   |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  */


  function RequireObjectCoercible(argument) {
    // eslint-disable-line no-unused-vars
    if (argument === null || argument === undefined) {
      throw TypeError();
    }

    return argument;
  } // _ESAbstract.ToBoolean
  // 7.1.2. ToBoolean ( argument )
  // The abstract operation ToBoolean converts argument to a value of type Boolean according to Table 9:

  /*
  --------------------------------------------------------------------------------------------------------------
  | Argument Type | Result                                                                                     |
  --------------------------------------------------------------------------------------------------------------
  | Undefined     | Return false.                                                                              |
  | Null          | Return false.                                                                              |
  | Boolean       | Return argument.                                                                           |
  | Number        | If argument is +0, -0, or NaN, return false; otherwise return true.                        |
  | String        | If argument is the empty String (its length is zero), return false; otherwise return true. |
  | Symbol        | Return true.                                                                               |
  | Object        | Return true.                                                                               |
  --------------------------------------------------------------------------------------------------------------
  */


  function ToBoolean(argument) {
    // eslint-disable-line no-unused-vars
    return Boolean(argument);
  } // _ESAbstract.ToInteger
  // 7.1.4. ToInteger ( argument )


  function ToInteger(argument) {
    // eslint-disable-line no-unused-vars
    // 1. Let number be ? ToNumber(argument).
    var number = Number(argument); // 2. If number is NaN, return +0.

    if (isNaN(number)) {
      return 0;
    } // 3. If number is +0, -0, +∞, or -∞, return number.


    if (1 / number === Infinity || 1 / number === -Infinity || number === Infinity || number === -Infinity) {
      return number;
    } // 4. Return the number value that is the same sign as number and whose magnitude is floor(abs(number)).


    return (number < 0 ? -1 : 1) * Math.floor(Math.abs(number));
  } // _ESAbstract.ToLength

  /* global ToInteger */
  // 7.1.15. ToLength ( argument )


  function ToLength(argument) {
    // eslint-disable-line no-unused-vars
    // 1. Let len be ? ToInteger(argument).
    var len = ToInteger(argument); // 2. If len ≤ +0, return +0.

    if (len <= 0) {
      return 0;
    } // 3. Return min(len, 253-1).


    return Math.min(len, Math.pow(2, 53) - 1);
  } // _ESAbstract.ToObject
  // 7.1.13 ToObject ( argument )
  // The abstract operation ToObject converts argument to a value of type Object according to Table 12:
  // Table 12: ToObject Conversions

  /*
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Argument Type | Result                                                                                                                             |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  | Undefined     | Throw a TypeError exception.                                                                                                       |
  | Null          | Throw a TypeError exception.                                                                                                       |
  | Boolean       | Return a new Boolean object whose [[BooleanData]] internal slot is set to argument. See 19.3 for a description of Boolean objects. |
  | Number        | Return a new Number object whose [[NumberData]] internal slot is set to argument. See 20.1 for a description of Number objects.    |
  | String        | Return a new String object whose [[StringData]] internal slot is set to argument. See 21.1 for a description of String objects.    |
  | Symbol        | Return a new Symbol object whose [[SymbolData]] internal slot is set to argument. See 19.4 for a description of Symbol objects.    |
  | Object        | Return argument.                                                                                                                   |
  |----------------------------------------------------------------------------------------------------------------------------------------------------|
  */


  function ToObject(argument) {
    // eslint-disable-line no-unused-vars
    if (argument === null || argument === undefined) {
      throw TypeError();
    }

    return Object(argument);
  } // _ESAbstract.GetV

  /* global ToObject */
  // 7.3.2 GetV (V, P)


  function GetV(v, p) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: IsPropertyKey(P) is true.
    // 2. Let O be ? ToObject(V).
    var o = ToObject(v); // 3. Return ? O.[[Get]](P, V).

    return o[p];
  } // _ESAbstract.GetMethod

  /* global GetV, IsCallable */
  // 7.3.9. GetMethod ( V, P )


  function GetMethod(V, P) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: IsPropertyKey(P) is true.
    // 2. Let func be ? GetV(V, P).
    var func = GetV(V, P); // 3. If func is either undefined or null, return undefined.

    if (func === null || func === undefined) {
      return undefined;
    } // 4. If IsCallable(func) is false, throw a TypeError exception.


    if (IsCallable(func) === false) {
      throw new TypeError('Method not callable: ' + P);
    } // 5. Return func.


    return func;
  } // _ESAbstract.Type
  // "Type(x)" is used as shorthand for "the type of x"...


  function Type(x) {
    // eslint-disable-line no-unused-vars
    switch (_typeof(x)) {
      case 'undefined':
        return 'undefined';

      case 'boolean':
        return 'boolean';

      case 'number':
        return 'number';

      case 'string':
        return 'string';

      case 'symbol':
        return 'symbol';

      default:
        // typeof null is 'object'
        if (x === null) return 'null'; // Polyfill.io - This is here because a Symbol polyfill will have a typeof `object`.

        if ('Symbol' in this && x instanceof this.Symbol) return 'symbol';
        return 'object';
    }
  } // _ESAbstract.GetPrototypeFromConstructor

  /* global Get, Type */
  // 9.1.14. GetPrototypeFromConstructor ( constructor, intrinsicDefaultProto )


  function GetPrototypeFromConstructor(constructor, intrinsicDefaultProto) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object. The corresponding object must be an intrinsic that is intended to be used as the [[Prototype]] value of an object.
    // 2. Assert: IsCallable(constructor) is true.
    // 3. Let proto be ? Get(constructor, "prototype").
    var proto = Get(constructor, "prototype"); // 4. If Type(proto) is not Object, then

    if (Type(proto) !== 'object') {
      // a. Let realm be ? GetFunctionRealm(constructor).
      // b. Set proto to realm's intrinsic object named intrinsicDefaultProto.
      proto = intrinsicDefaultProto;
    } // 5. Return proto.


    return proto;
  } // _ESAbstract.IsConstructor

  /* global Type */
  // 7.2.4. IsConstructor ( argument )


  function IsConstructor(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    if (Type(argument) !== 'object') {
      return false;
    } // 2. If argument has a [[Construct]] internal method, return true.
    // 3. Return false.
    // Polyfill.io - `new argument` is the only way  to truly test if a function is a constructor.
    // We choose to not use`new argument` because the argument could have side effects when called.
    // Instead we check to see if the argument is a function and if it has a prototype.
    // Arrow functions do not have a [[Construct]] internal method, nor do they have a prototype.


    return typeof argument === 'function' && !!argument.prototype;
  } // _ESAbstract.IsRegExp

  /* global Type, Get, ToBoolean */
  // 7.2.8. IsRegExp ( argument )


  function IsRegExp(argument) {
    // eslint-disable-line no-unused-vars
    // 1. If Type(argument) is not Object, return false.
    if (Type(argument) !== 'object') {
      return false;
    } // 2. Let matcher be ? Get(argument, @@match).


    var matcher = 'Symbol' in this && 'match' in this.Symbol ? Get(argument, this.Symbol.match) : undefined; // 3. If matcher is not undefined, return ToBoolean(matcher).

    if (matcher !== undefined) {
      return ToBoolean(matcher);
    } // 4. If argument has a [[RegExpMatcher]] internal slot, return true.


    try {
      var lastIndex = argument.lastIndex;
      argument.lastIndex = 0;
      RegExp.prototype.exec.call(argument);
      return true;
    } catch (e) {} finally {
      argument.lastIndex = lastIndex;
    } // 5. Return false.


    return false;
  } // _ESAbstract.OrdinaryToPrimitive

  /* global Get, IsCallable, Call, Type */
  // 7.1.1.1. OrdinaryToPrimitive ( O, hint )


  function OrdinaryToPrimitive(O, hint) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: Type(hint) is String and its value is either "string" or "number".
    // 3. If hint is "string", then
    if (hint === 'string') {
      // a. Let methodNames be « "toString", "valueOf" ».
      var methodNames = ['toString', 'valueOf']; // 4. Else,
    } else {
      // a. Let methodNames be « "valueOf", "toString" ».
      methodNames = ['valueOf', 'toString'];
    } // 5. For each name in methodNames in List order, do


    for (var i = 0; i < methodNames.length; ++i) {
      var name = methodNames[i]; // a. Let method be ? Get(O, name).

      var method = Get(O, name); // b. If IsCallable(method) is true, then

      if (IsCallable(method)) {
        // i. Let result be ? Call(method, O).
        var result = Call(method, O); // ii. If Type(result) is not Object, return result.

        if (Type(result) !== 'object') {
          return result;
        }
      }
    } // 6. Throw a TypeError exception.


    throw new TypeError('Cannot convert to primitive.');
  } // _ESAbstract.ToPrimitive

  /* global Type, GetMethod, Call, OrdinaryToPrimitive */
  // 7.1.1. ToPrimitive ( input [ , PreferredType ] )


  function ToPrimitive(input
  /* [, PreferredType] */
  ) {
    // eslint-disable-line no-unused-vars
    var PreferredType = arguments.length > 1 ? arguments[1] : undefined; // 1. Assert: input is an ECMAScript language value.
    // 2. If Type(input) is Object, then

    if (Type(input) === 'object') {
      // a. If PreferredType is not present, let hint be "default".
      if (arguments.length < 2) {
        var hint = 'default'; // b. Else if PreferredType is hint String, let hint be "string".
      } else if (PreferredType === String) {
        hint = 'string'; // c. Else PreferredType is hint Number, let hint be "number".
      } else if (PreferredType === Number) {
        hint = 'number';
      } // d. Let exoticToPrim be ? GetMethod(input, @@toPrimitive).


      var exoticToPrim = typeof this.Symbol === 'function' && _typeof(this.Symbol.toPrimitive) === 'symbol' ? GetMethod(input, this.Symbol.toPrimitive) : undefined; // e. If exoticToPrim is not undefined, then

      if (exoticToPrim !== undefined) {
        // i. Let result be ? Call(exoticToPrim, input, « hint »).
        var result = Call(exoticToPrim, input, [hint]); // ii. If Type(result) is not Object, return result.

        if (Type(result) !== 'object') {
          return result;
        } // iii. Throw a TypeError exception.


        throw new TypeError('Cannot convert exotic object to primitive.');
      } // f. If hint is "default", set hint to "number".


      if (hint === 'default') {
        hint = 'number';
      } // g. Return ? OrdinaryToPrimitive(input, hint).


      return OrdinaryToPrimitive(input, hint);
    } // 3. Return input


    return input;
  } // _ESAbstract.ToString

  /* global Type, ToPrimitive */
  // 7.1.12. ToString ( argument )
  // The abstract operation ToString converts argument to a value of type String according to Table 11:
  // Table 11: ToString Conversions

  /*
  |---------------|--------------------------------------------------------|
  | Argument Type | Result                                                 |
  |---------------|--------------------------------------------------------|
  | Undefined     | Return "undefined".                                    |
  |---------------|--------------------------------------------------------|
  | Null	        | Return "null".                                         |
  |---------------|--------------------------------------------------------|
  | Boolean       | If argument is true, return "true".                    |
  |               | If argument is false, return "false".                  |
  |---------------|--------------------------------------------------------|
  | Number        | Return NumberToString(argument).                       |
  |---------------|--------------------------------------------------------|
  | String        | Return argument.                                       |
  |---------------|--------------------------------------------------------|
  | Symbol        | Throw a TypeError exception.                           |
  |---------------|--------------------------------------------------------|
  | Object        | Apply the following steps:                             |
  |               | Let primValue be ? ToPrimitive(argument, hint String). |
  |               | Return ? ToString(primValue).                          |
  |---------------|--------------------------------------------------------|
  */


  function ToString(argument) {
    // eslint-disable-line no-unused-vars
    switch (Type(argument)) {
      case 'symbol':
        throw new TypeError('Cannot convert a Symbol value to a string');
        break;

      case 'object':
        var primValue = ToPrimitive(argument, 'string');
        return ToString(primValue);

      default:
        return String(argument);
    }
  }

  if (!("document" in this)) {
    // document
    if (typeof WorkerGlobalScope === "undefined" && typeof importScripts !== "function") {
      if (this.HTMLDocument) {
        // IE8
        // HTMLDocument is an extension of Document.  If the browser has HTMLDocument but not Document, the former will suffice as an alias for the latter.
        this.Document = this.HTMLDocument;
      } else {
        // Create an empty function to act as the missing constructor for the document object, attach the document object as its prototype.  The function needs to be anonymous else it is hoisted and causes the feature detect to prematurely pass, preventing the assignments below being made.
        this.Document = this.HTMLDocument = document.constructor = new Function('return function Document() {}')();
        this.Document.prototype = document;
      }
    }
  }

  if (!function () {
    var e = document.createElement("p"),
        t = !1;
    return e.innerHTML = "<section></section>", document.documentElement.appendChild(e), e.firstChild && ("getComputedStyle" in window ? t = "block" === getComputedStyle(e.firstChild).display : e.firstChild.currentStyle && (t = "block" === e.firstChild.currentStyle.display)), document.documentElement.removeChild(e), t;
  }()) {
    // ~html5-elements

    /**
     * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
     */
    !function (a, b) {
      function c(a, b) {
        var c = a.createElement("p"),
            d = a.getElementsByTagName("head")[0] || a.documentElement;
        return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild);
      }

      function d() {
        var a = t.elements;
        return "string" == typeof a ? a.split(" ") : a;
      }

      function e(a, b) {
        var c = t.elements;
        "string" != typeof c && (c = c.join(" ")), "string" != typeof a && (a = a.join(" ")), t.elements = c + " " + a, j(b);
      }

      function f(a) {
        var b = s[a[q]];
        return b || (b = {}, r++, a[q] = r, s[r] = b), b;
      }

      function g(a, c, d) {
        if (c || (c = b), l) return c.createElement(a);
        d || (d = f(c));
        var e;
        return e = d.cache[a] ? d.cache[a].cloneNode() : p.test(a) ? (d.cache[a] = d.createElem(a)).cloneNode() : d.createElem(a), !e.canHaveChildren || o.test(a) || e.tagUrn ? e : d.frag.appendChild(e);
      }

      function h(a, c) {
        if (a || (a = b), l) return a.createDocumentFragment();
        c = c || f(a);

        for (var e = c.frag.cloneNode(), g = 0, h = d(), i = h.length; i > g; g++) {
          e.createElement(h[g]);
        }

        return e;
      }

      function i(a, b) {
        b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function (c) {
          return t.shivMethods ? g(c, a, b) : b.createElem(c);
        }, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + d().join().replace(/[\w\-:]+/g, function (a) {
          return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")';
        }) + ");return n}")(t, b.frag);
      }

      function j(a) {
        a || (a = b);
        var d = f(a);
        return !t.shivCSS || k || d.hasCSS || (d.hasCSS = !!c(a, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")), l || i(a, d), a;
      }

      var k,
          l,
          m = "3.7.3-pre",
          n = a.html5 || {},
          o = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
          p = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
          q = "_html5shiv",
          r = 0,
          s = {};
      !function () {
        try {
          var a = b.createElement("a");
          a.innerHTML = "<xyz></xyz>", k = "hidden" in a, l = 1 == a.childNodes.length || function () {
            b.createElement("a");
            var a = b.createDocumentFragment();
            return "undefined" == typeof a.cloneNode || "undefined" == typeof a.createDocumentFragment || "undefined" == typeof a.createElement;
          }();
        } catch (c) {
          k = !0, l = !0;
        }
      }();
      var t = {
        elements: n.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
        version: m,
        shivCSS: n.shivCSS !== !1,
        supportsUnknownElements: l,
        shivMethods: n.shivMethods !== !1,
        type: "default",
        shivDocument: j,
        createElement: g,
        createDocumentFragment: h,
        addElements: e
      };
      a.html5 = t, j(b), "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) && module.exports && (module.exports = t);
    }("undefined" != typeof window ? window : this, document);
  }

  if (!("Element" in this && "HTMLElement" in this)) {
    // Element
    (function () {
      // IE8
      if (window.Element && !window.HTMLElement) {
        window.HTMLElement = window.Element;
        return;
      } // create Element constructor


      window.Element = window.HTMLElement = new Function('return function Element() {}')(); // generate sandboxed iframe

      var vbody = document.appendChild(document.createElement('body'));
      var frame = vbody.appendChild(document.createElement('iframe')); // use sandboxed iframe to replicate Element functionality

      var frameDocument = frame.contentWindow.document;
      var prototype = Element.prototype = frameDocument.appendChild(frameDocument.createElement('*'));
      var cache = {}; // polyfill Element.prototype on an element

      var shiv = function shiv(element, deep) {
        var childNodes = element.childNodes || [],
            index = -1,
            key,
            value,
            childNode;

        if (element.nodeType === 1 && element.constructor !== Element) {
          element.constructor = Element;

          for (key in cache) {
            value = cache[key];
            element[key] = value;
          }
        }

        while (childNode = deep && childNodes[++index]) {
          shiv(childNode, deep);
        }

        return element;
      };

      var elements = document.getElementsByTagName('*');
      var nativeCreateElement = document.createElement;
      var interval;
      var loopLimit = 100;
      prototype.attachEvent('onpropertychange', function (event) {
        var propertyName = event.propertyName,
            nonValue = !cache.hasOwnProperty(propertyName),
            newValue = prototype[propertyName],
            oldValue = cache[propertyName],
            index = -1,
            element;

        while (element = elements[++index]) {
          if (element.nodeType === 1) {
            if (nonValue || element[propertyName] === oldValue) {
              element[propertyName] = newValue;
            }
          }
        }

        cache[propertyName] = newValue;
      });
      prototype.constructor = Element;

      if (!prototype.hasAttribute) {
        // <Element>.hasAttribute
        prototype.hasAttribute = function hasAttribute(name) {
          return this.getAttribute(name) !== null;
        };
      } // Apply Element prototype to the pre-existing DOM as soon as the body element appears.


      function bodyCheck() {
        if (!loopLimit--) clearTimeout(interval);

        if (document.body && !document.body.prototype && /(complete|interactive)/.test(document.readyState)) {
          shiv(document, true);
          if (interval && document.body.prototype) clearTimeout(interval);
          return !!document.body.prototype;
        }

        return false;
      }

      if (!bodyCheck()) {
        document.onreadystatechange = bodyCheck;
        interval = setInterval(bodyCheck, 25);
      } // Apply to any new elements created after load


      document.createElement = function createElement(nodeName) {
        var element = nativeCreateElement(String(nodeName).toLowerCase());
        return shiv(element);
      }; // remove sandboxed iframe


      document.removeChild(vbody);
    })();
  }

  if (!("document" in this && "querySelector" in this.document)) {
    // document.querySelector
    (function () {
      var head = document.getElementsByTagName('head')[0];

      function getElementsByQuery(node, selector, one) {
        var generator = document.createElement('div'),
            id = 'qsa' + String(Math.random()).slice(3),
            style,
            elements;
        generator.innerHTML = 'x<style>' + selector + '{qsa:' + id + ';}';
        style = head.appendChild(generator.lastChild);
        elements = getElements(node, selector, one, id);
        head.removeChild(style);
        return one ? elements[0] : elements;
      }

      function getElements(node, selector, one, id) {
        var validNode = /1|9/.test(node.nodeType),
            childNodes = node.childNodes,
            elements = [],
            index = -1,
            childNode;

        if (validNode && node.currentStyle && node.currentStyle.qsa === id) {
          if (elements.push(node) && one) {
            return elements;
          }
        }

        while (childNode = childNodes[++index]) {
          elements = elements.concat(getElements(childNode, selector, one, id));

          if (one && elements.length) {
            return elements;
          }
        }

        return elements;
      }

      Document.prototype.querySelector = Element.prototype.querySelector = function querySelectorAll(selector) {
        return getElementsByQuery(this, selector, true);
      };

      Document.prototype.querySelectorAll = Element.prototype.querySelectorAll = function querySelectorAll(selector) {
        return getElementsByQuery(this, selector, false);
      };
    })();
  }

  if (!("document" in this && "matches" in document.documentElement)) {
    // Element.prototype.matches
    Element.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {
      var element = this;
      var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
      var index = 0;

      while (elements[index] && elements[index] !== element) {
        ++index;
      }

      return !!elements[index];
    };
  }

  if (!("document" in this && "closest" in document.documentElement)) {
    // Element.prototype.closest
    Element.prototype.closest = function closest(selector) {
      var node = this;

      while (node) {
        if (node.matches(selector)) return node;else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;
      }

      return null;
    };
  }

  if (!("HTMLPictureElement" in this || "picturefill" in this)) {
    // HTMLPictureElement

    /*! picturefill - v3.0.2 - 2016-02-12
     * https://scottjehl.github.io/picturefill/
     * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
     */
    !function (a) {
      var b = navigator.userAgent;
      a.HTMLPictureElement && /ecko/.test(b) && b.match(/rv\:(\d+)/) && RegExp.$1 < 45 && addEventListener("resize", function () {
        var b,
            c = document.createElement("source"),
            d = function d(a) {
          var b,
              d,
              e = a.parentNode;
          "PICTURE" === e.nodeName.toUpperCase() ? (b = c.cloneNode(), e.insertBefore(b, e.firstElementChild), setTimeout(function () {
            e.removeChild(b);
          })) : (!a._pfLastSize || a.offsetWidth > a._pfLastSize) && (a._pfLastSize = a.offsetWidth, d = a.sizes, a.sizes += ",100vw", setTimeout(function () {
            a.sizes = d;
          }));
        },
            e = function e() {
          var a,
              b = document.querySelectorAll("picture > img, img[srcset][sizes]");

          for (a = 0; a < b.length; a++) {
            d(b[a]);
          }
        },
            f = function f() {
          clearTimeout(b), b = setTimeout(e, 99);
        },
            g = a.matchMedia && matchMedia("(orientation: landscape)"),
            h = function h() {
          f(), g && g.addListener && g.addListener(f);
        };

        return c.srcset = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", /^[c|i]|d$/.test(document.readyState || "") ? h() : document.addEventListener("DOMContentLoaded", h), f;
      }());
    }(window), function (a, b, c) {
      "use strict";

      function d(a) {
        return " " === a || "	" === a || "\n" === a || "\f" === a || "\r" === a;
      }

      function e(b, c) {
        var d = new a.Image();
        return d.onerror = function () {
          A[b] = !1, ba();
        }, d.onload = function () {
          A[b] = 1 === d.width, ba();
        }, d.src = c, "pending";
      }

      function f() {
        M = !1, P = a.devicePixelRatio, N = {}, O = {}, s.DPR = P || 1, Q.width = Math.max(a.innerWidth || 0, z.clientWidth), Q.height = Math.max(a.innerHeight || 0, z.clientHeight), Q.vw = Q.width / 100, Q.vh = Q.height / 100, r = [Q.height, Q.width, P].join("-"), Q.em = s.getEmValue(), Q.rem = Q.em;
      }

      function g(a, b, c, d) {
        var e, f, g, h;
        return "saveData" === B.algorithm ? a > 2.7 ? h = c + 1 : (f = b - c, e = Math.pow(a - .6, 1.5), g = f * e, d && (g += .1 * e), h = a + g) : h = c > 1 ? Math.sqrt(a * b) : a, h > c;
      }

      function h(a) {
        var b,
            c = s.getSet(a),
            d = !1;
        "pending" !== c && (d = r, c && (b = s.setRes(c), s.applySetCandidate(b, a))), a[s.ns].evaled = d;
      }

      function i(a, b) {
        return a.res - b.res;
      }

      function j(a, b, c) {
        var d;
        return !c && b && (c = a[s.ns].sets, c = c && c[c.length - 1]), d = k(b, c), d && (b = s.makeUrl(b), a[s.ns].curSrc = b, a[s.ns].curCan = d, d.res || aa(d, d.set.sizes)), d;
      }

      function k(a, b) {
        var c, d, e;
        if (a && b) for (e = s.parseSet(b), a = s.makeUrl(a), c = 0; c < e.length; c++) {
          if (a === s.makeUrl(e[c].url)) {
            d = e[c];
            break;
          }
        }
        return d;
      }

      function l(a, b) {
        var c,
            d,
            e,
            f,
            g = a.getElementsByTagName("source");

        for (c = 0, d = g.length; d > c; c++) {
          e = g[c], e[s.ns] = !0, f = e.getAttribute("srcset"), f && b.push({
            srcset: f,
            media: e.getAttribute("media"),
            type: e.getAttribute("type"),
            sizes: e.getAttribute("sizes")
          });
        }
      }

      function m(a, b) {
        function c(b) {
          var c,
              d = b.exec(a.substring(m));
          return d ? (c = d[0], m += c.length, c) : void 0;
        }

        function e() {
          var a,
              c,
              d,
              e,
              f,
              i,
              j,
              k,
              l,
              m = !1,
              o = {};

          for (e = 0; e < h.length; e++) {
            f = h[e], i = f[f.length - 1], j = f.substring(0, f.length - 1), k = parseInt(j, 10), l = parseFloat(j), X.test(j) && "w" === i ? ((a || c) && (m = !0), 0 === k ? m = !0 : a = k) : Y.test(j) && "x" === i ? ((a || c || d) && (m = !0), 0 > l ? m = !0 : c = l) : X.test(j) && "h" === i ? ((d || c) && (m = !0), 0 === k ? m = !0 : d = k) : m = !0;
          }

          m || (o.url = g, a && (o.w = a), c && (o.d = c), d && (o.h = d), d || c || a || (o.d = 1), 1 === o.d && (b.has1x = !0), o.set = b, n.push(o));
        }

        function f() {
          for (c(T), i = "", j = "in descriptor";;) {
            if (k = a.charAt(m), "in descriptor" === j) {
              if (d(k)) i && (h.push(i), i = "", j = "after descriptor");else {
                if ("," === k) return m += 1, i && h.push(i), void e();
                if ("(" === k) i += k, j = "in parens";else {
                  if ("" === k) return i && h.push(i), void e();
                  i += k;
                }
              }
            } else if ("in parens" === j) {
              if (")" === k) i += k, j = "in descriptor";else {
                if ("" === k) return h.push(i), void e();
                i += k;
              }
            } else if ("after descriptor" === j) if (d(k)) ;else {
              if ("" === k) return void e();
              j = "in descriptor", m -= 1;
            }
            m += 1;
          }
        }

        for (var g, h, i, j, k, l = a.length, m = 0, n = [];;) {
          if (c(U), m >= l) return n;
          g = c(V), h = [], "," === g.slice(-1) ? (g = g.replace(W, ""), e()) : f();
        }
      }

      function n(a) {
        function b(a) {
          function b() {
            f && (g.push(f), f = "");
          }

          function c() {
            g[0] && (h.push(g), g = []);
          }

          for (var e, f = "", g = [], h = [], i = 0, j = 0, k = !1;;) {
            if (e = a.charAt(j), "" === e) return b(), c(), h;

            if (k) {
              if ("*" === e && "/" === a[j + 1]) {
                k = !1, j += 2, b();
                continue;
              }

              j += 1;
            } else {
              if (d(e)) {
                if (a.charAt(j - 1) && d(a.charAt(j - 1)) || !f) {
                  j += 1;
                  continue;
                }

                if (0 === i) {
                  b(), j += 1;
                  continue;
                }

                e = " ";
              } else if ("(" === e) i += 1;else if (")" === e) i -= 1;else {
                if ("," === e) {
                  b(), c(), j += 1;
                  continue;
                }

                if ("/" === e && "*" === a.charAt(j + 1)) {
                  k = !0, j += 2;
                  continue;
                }
              }

              f += e, j += 1;
            }
          }
        }

        function c(a) {
          return k.test(a) && parseFloat(a) >= 0 ? !0 : l.test(a) ? !0 : "0" === a || "-0" === a || "+0" === a ? !0 : !1;
        }

        var e,
            f,
            g,
            h,
            i,
            j,
            k = /^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,
            l = /^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;

        for (f = b(a), g = f.length, e = 0; g > e; e++) {
          if (h = f[e], i = h[h.length - 1], c(i)) {
            if (j = i, h.pop(), 0 === h.length) return j;
            if (h = h.join(" "), s.matchesMedia(h)) return j;
          }
        }

        return "100vw";
      }

      b.createElement("picture");

      var o,
          p,
          q,
          r,
          s = {},
          t = !1,
          u = function u() {},
          v = b.createElement("img"),
          w = v.getAttribute,
          x = v.setAttribute,
          y = v.removeAttribute,
          z = b.documentElement,
          A = {},
          B = {
        algorithm: ""
      },
          C = "data-pfsrc",
          D = C + "set",
          E = navigator.userAgent,
          F = /rident/.test(E) || /ecko/.test(E) && E.match(/rv\:(\d+)/) && RegExp.$1 > 35,
          G = "currentSrc",
          H = /\s+\+?\d+(e\d+)?w/,
          I = /(\([^)]+\))?\s*(.+)/,
          J = a.picturefillCFG,
          K = "position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",
          L = "font-size:100%!important;",
          M = !0,
          N = {},
          O = {},
          P = a.devicePixelRatio,
          Q = {
        px: 1,
        "in": 96
      },
          R = b.createElement("a"),
          S = !1,
          T = /^[ \t\n\r\u000c]+/,
          U = /^[, \t\n\r\u000c]+/,
          V = /^[^ \t\n\r\u000c]+/,
          W = /[,]+$/,
          X = /^\d+$/,
          Y = /^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,
          Z = function Z(a, b, c, d) {
        a.addEventListener ? a.addEventListener(b, c, d || !1) : a.attachEvent && a.attachEvent("on" + b, c);
      },
          $ = function $(a) {
        var b = {};
        return function (c) {
          return c in b || (b[c] = a(c)), b[c];
        };
      },
          _ = function () {
        var a = /^([\d\.]+)(em|vw|px)$/,
            b = function b() {
          for (var a = arguments, b = 0, c = a[0]; (++b in a);) {
            c = c.replace(a[b], a[++b]);
          }

          return c;
        },
            c = $(function (a) {
          return "return " + b((a || "").toLowerCase(), /\band\b/g, "&&", /,/g, "||", /min-([a-z-\s]+):/g, "e.$1>=", /max-([a-z-\s]+):/g, "e.$1<=", /calc([^)]+)/g, "($1)", /(\d+[\.]*[\d]*)([a-z]+)/g, "($1 * e.$2)", /^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi, "") + ";";
        });

        return function (b, d) {
          var e;
          if (!(b in N)) if (N[b] = !1, d && (e = b.match(a))) N[b] = e[1] * Q[e[2]];else try {
            N[b] = new Function("e", c(b))(Q);
          } catch (f) {}
          return N[b];
        };
      }(),
          aa = function aa(a, b) {
        return a.w ? (a.cWidth = s.calcListLength(b || "100vw"), a.res = a.w / a.cWidth) : a.res = a.d, a;
      },
          ba = function ba(a) {
        if (t) {
          var c,
              d,
              e,
              f = a || {};

          if (f.elements && 1 === f.elements.nodeType && ("IMG" === f.elements.nodeName.toUpperCase() ? f.elements = [f.elements] : (f.context = f.elements, f.elements = null)), c = f.elements || s.qsa(f.context || b, f.reevaluate || f.reselect ? s.sel : s.selShort), e = c.length) {
            for (s.setupRun(f), S = !0, d = 0; e > d; d++) {
              s.fillImg(c[d], f);
            }

            s.teardownRun(f);
          }
        }
      };

      o = a.console && console.warn ? function (a) {
        console.warn(a);
      } : u, G in v || (G = "src"), A["image/jpeg"] = !0, A["image/gif"] = !0, A["image/png"] = !0, A["image/svg+xml"] = b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1"), s.ns = ("pf" + new Date().getTime()).substr(0, 9), s.supSrcset = "srcset" in v, s.supSizes = "sizes" in v, s.supPicture = !!a.HTMLPictureElement, s.supSrcset && s.supPicture && !s.supSizes && !function (a) {
        v.srcset = "data:,a", a.src = "data:,a", s.supSrcset = v.complete === a.complete, s.supPicture = s.supSrcset && s.supPicture;
      }(b.createElement("img")), s.supSrcset && !s.supSizes ? !function () {
        var a = "data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",
            c = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
            d = b.createElement("img"),
            e = function e() {
          var a = d.width;
          2 === a && (s.supSizes = !0), q = s.supSrcset && !s.supSizes, t = !0, setTimeout(ba);
        };

        d.onload = e, d.onerror = e, d.setAttribute("sizes", "9px"), d.srcset = c + " 1w," + a + " 9w", d.src = c;
      }() : t = !0, s.selShort = "picture>img,img[srcset]", s.sel = s.selShort, s.cfg = B, s.DPR = P || 1, s.u = Q, s.types = A, s.setSize = u, s.makeUrl = $(function (a) {
        return R.href = a, R.href;
      }), s.qsa = function (a, b) {
        return "querySelector" in a ? a.querySelectorAll(b) : [];
      }, s.matchesMedia = function () {
        return a.matchMedia && (matchMedia("(min-width: 0.1em)") || {}).matches ? s.matchesMedia = function (a) {
          return !a || matchMedia(a).matches;
        } : s.matchesMedia = s.mMQ, s.matchesMedia.apply(this, arguments);
      }, s.mMQ = function (a) {
        return a ? _(a) : !0;
      }, s.calcLength = function (a) {
        var b = _(a, !0) || !1;
        return 0 > b && (b = !1), b;
      }, s.supportsType = function (a) {
        return a ? A[a] : !0;
      }, s.parseSize = $(function (a) {
        var b = (a || "").match(I);
        return {
          media: b && b[1],
          length: b && b[2]
        };
      }), s.parseSet = function (a) {
        return a.cands || (a.cands = m(a.srcset, a)), a.cands;
      }, s.getEmValue = function () {
        var a;

        if (!p && (a = b.body)) {
          var c = b.createElement("div"),
              d = z.style.cssText,
              e = a.style.cssText;
          c.style.cssText = K, z.style.cssText = L, a.style.cssText = L, a.appendChild(c), p = c.offsetWidth, a.removeChild(c), p = parseFloat(p, 10), z.style.cssText = d, a.style.cssText = e;
        }

        return p || 16;
      }, s.calcListLength = function (a) {
        if (!(a in O) || B.uT) {
          var b = s.calcLength(n(a));
          O[a] = b ? b : Q.width;
        }

        return O[a];
      }, s.setRes = function (a) {
        var b;

        if (a) {
          b = s.parseSet(a);

          for (var c = 0, d = b.length; d > c; c++) {
            aa(b[c], a.sizes);
          }
        }

        return b;
      }, s.setRes.res = aa, s.applySetCandidate = function (a, b) {
        if (a.length) {
          var c,
              d,
              e,
              f,
              h,
              k,
              l,
              m,
              n,
              o = b[s.ns],
              p = s.DPR;
          if (k = o.curSrc || b[G], l = o.curCan || j(b, k, a[0].set), l && l.set === a[0].set && (n = F && !b.complete && l.res - .1 > p, n || (l.cached = !0, l.res >= p && (h = l))), !h) for (a.sort(i), f = a.length, h = a[f - 1], d = 0; f > d; d++) {
            if (c = a[d], c.res >= p) {
              e = d - 1, h = a[e] && (n || k !== s.makeUrl(c.url)) && g(a[e].res, c.res, p, a[e].cached) ? a[e] : c;
              break;
            }
          }
          h && (m = s.makeUrl(h.url), o.curSrc = m, o.curCan = h, m !== k && s.setSrc(b, h), s.setSize(b));
        }
      }, s.setSrc = function (a, b) {
        var c;
        a.src = b.url, "image/svg+xml" === b.set.type && (c = a.style.width, a.style.width = a.offsetWidth + 1 + "px", a.offsetWidth + 1 && (a.style.width = c));
      }, s.getSet = function (a) {
        var b,
            c,
            d,
            e = !1,
            f = a[s.ns].sets;

        for (b = 0; b < f.length && !e; b++) {
          if (c = f[b], c.srcset && s.matchesMedia(c.media) && (d = s.supportsType(c.type))) {
            "pending" === d && (c = d), e = c;
            break;
          }
        }

        return e;
      }, s.parseSets = function (a, b, d) {
        var e,
            f,
            g,
            h,
            i = b && "PICTURE" === b.nodeName.toUpperCase(),
            j = a[s.ns];
        (j.src === c || d.src) && (j.src = w.call(a, "src"), j.src ? x.call(a, C, j.src) : y.call(a, C)), (j.srcset === c || d.srcset || !s.supSrcset || a.srcset) && (e = w.call(a, "srcset"), j.srcset = e, h = !0), j.sets = [], i && (j.pic = !0, l(b, j.sets)), j.srcset ? (f = {
          srcset: j.srcset,
          sizes: w.call(a, "sizes")
        }, j.sets.push(f), g = (q || j.src) && H.test(j.srcset || ""), g || !j.src || k(j.src, f) || f.has1x || (f.srcset += ", " + j.src, f.cands.push({
          url: j.src,
          d: 1,
          set: f
        }))) : j.src && j.sets.push({
          srcset: j.src,
          sizes: null
        }), j.curCan = null, j.curSrc = c, j.supported = !(i || f && !s.supSrcset || g && !s.supSizes), h && s.supSrcset && !j.supported && (e ? (x.call(a, D, e), a.srcset = "") : y.call(a, D)), j.supported && !j.srcset && (!j.src && a.src || a.src !== s.makeUrl(j.src)) && (null === j.src ? a.removeAttribute("src") : a.src = j.src), j.parsed = !0;
      }, s.fillImg = function (a, b) {
        var c,
            d = b.reselect || b.reevaluate;
        a[s.ns] || (a[s.ns] = {}), c = a[s.ns], (d || c.evaled !== r) && ((!c.parsed || b.reevaluate) && s.parseSets(a, a.parentNode, b), c.supported ? c.evaled = r : h(a));
      }, s.setupRun = function () {
        (!S || M || P !== a.devicePixelRatio) && f();
      }, s.supPicture ? (ba = u, s.fillImg = u) : !function () {
        var c,
            d = a.attachEvent ? /d$|^c/ : /d$|^c|^i/,
            e = function e() {
          var a = b.readyState || "";
          f = setTimeout(e, "loading" === a ? 200 : 999), b.body && (s.fillImgs(), c = c || d.test(a), c && clearTimeout(f));
        },
            f = setTimeout(e, b.body ? 9 : 99),
            g = function g(a, b) {
          var c,
              d,
              e = function e() {
            var f = new Date() - d;
            b > f ? c = setTimeout(e, b - f) : (c = null, a());
          };

          return function () {
            d = new Date(), c || (c = setTimeout(e, b));
          };
        },
            h = z.clientHeight,
            i = function i() {
          M = Math.max(a.innerWidth || 0, z.clientWidth) !== Q.width || z.clientHeight !== h, h = z.clientHeight, M && s.fillImgs();
        };

        Z(a, "resize", g(i, 99)), Z(b, "readystatechange", e);
      }(), s.picturefill = ba, s.fillImgs = ba, s.teardownRun = u, ba._ = s, a.picturefillCFG = {
        pf: s,
        push: function push(a) {
          var b = a.shift();
          "function" == typeof s[b] ? s[b].apply(s, a) : (B[b] = a[0], S && s.fillImgs({
            reselect: !0
          }));
        }
      };

      for (; J && J.length;) {
        a.picturefillCFG.push(J.shift());
      }

      a.picturefill = ba, "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) && "object" == _typeof(module.exports) ? module.exports = ba : "function" == typeof define && define.amd && define("picturefill", function () {
        return ba;
      }), s.supPicture || (A["image/webp"] = e("image/webp", "data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="));
    }(window, document);
    /*! picturefill - v3.0.2 - 2016-02-12
    * https://scottjehl.github.io/picturefill/
    * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
    */

    !function (a) {
      "use strict";

      var b,
          c = 0,
          d = function d() {
        window.picturefill && a(window.picturefill), (window.picturefill || c > 9999) && clearInterval(b), c++;
      };

      b = setInterval(d, 8), d();
    }(function (a) {
      "use strict";

      var b = window.document,
          c = window.Element,
          d = window.MutationObserver,
          e = function e() {},
          f = {
        disconnect: e,
        take: e,
        observe: e,
        start: e,
        stop: e,
        connected: !1
      },
          g = /^loade|^c|^i/.test(b.readyState || ""),
          h = a._;

      if (h.mutationSupport = !1, h.observer = f, Object.keys && window.HTMLSourceElement && b.addEventListener) {
        var i,
            j,
            k,
            l,
            m = {
          src: 1,
          srcset: 1,
          sizes: 1,
          media: 1
        },
            n = Object.keys(m),
            o = {
          attributes: !0,
          childList: !0,
          subtree: !0,
          attributeFilter: n
        },
            p = c && c.prototype,
            q = {},
            r = function r(a, b) {
          q[a] = h[a], h[a] = b;
        };

        p && !p.matches && (p.matches = p.matchesSelector || p.mozMatchesSelector || p.webkitMatchesSelector || p.msMatchesSelector), p && p.matches && (i = function i(a, b) {
          return a.matches(b);
        }, h.mutationSupport = !(!Object.create || !Object.defineProperties)), h.mutationSupport && (f.observe = function () {
          k && (f.connected = !0, j && j.observe(b.documentElement, o));
        }, f.disconnect = function () {
          f.connected = !1, j && j.disconnect();
        }, f.take = function () {
          j ? h.onMutations(j.takeRecords()) : l && l.take();
        }, f.start = function () {
          k = !0, f.observe();
        }, f.stop = function () {
          k = !1, f.disconnect();
        }, r("setupRun", function () {
          return f.disconnect(), q.setupRun.apply(this, arguments);
        }), r("teardownRun", function () {
          var a = q.setupRun.apply(this, arguments);
          return f.observe(), a;
        }), r("setSrc", function () {
          var a,
              b = f.connected;
          return f.disconnect(), a = q.setSrc.apply(this, arguments), b && f.observe(), a;
        }), h.onMutations = function (a) {
          var b,
              c,
              d = [];

          for (b = 0, c = a.length; c > b; b++) {
            g && "childList" === a[b].type ? h.onSubtreeChange(a[b], d) : "attributes" === a[b].type && h.onAttrChange(a[b], d);
          }

          d.length && h.fillImgs({
            elements: d,
            reevaluate: !0
          });
        }, h.onSubtreeChange = function (a, b) {
          h.findAddedMutations(a.addedNodes, b), h.findRemovedMutations(a.removedNodes, a.target, b);
        }, h.findAddedMutations = function (a, b) {
          var c, d, e, f;

          for (c = 0, d = a.length; d > c; c++) {
            e = a[c], 1 === e.nodeType && (f = e.nodeName.toUpperCase(), "PICTURE" === f ? h.addToElements(e.getElementsByTagName("img")[0], b) : "IMG" === f && i(e, h.selShort) ? h.addToElements(e, b) : "SOURCE" === f ? h.addImgForSource(e, e.parentNode, b) : h.addToElements(h.qsa(e, h.selShort), b));
          }
        }, h.findRemovedMutations = function (a, b, c) {
          var d, e, f;

          for (d = 0, e = a.length; e > d; d++) {
            f = a[d], 1 === f.nodeType && "SOURCE" === f.nodeName.toUpperCase() && h.addImgForSource(f, b, c);
          }
        }, h.addImgForSource = function (a, b, c) {
          b && "PICTURE" !== (b.nodeName || "").toUpperCase() && (b = b.parentNode, b && "PICTURE" === (b.nodeName || "").toUpperCase() || (b = null)), b && h.addToElements(b.getElementsByTagName("img")[0], c);
        }, h.addToElements = function (a, b) {
          var c, d;
          if (a) if ("length" in a && !a.nodeType) for (c = 0, d = a.length; d > c; c++) {
            h.addToElements(a[c], b);
          } else a.parentNode && -1 === b.indexOf(a) && b.push(a);
        }, h.onAttrChange = function (a, b) {
          var c,
              d = a.target[h.ns];
          d || "srcset" !== a.attributeName || "IMG" !== (c = a.target.nodeName.toUpperCase()) ? d && (c || (c = a.target.nodeName.toUpperCase()), "IMG" === c ? (a.attributeName in d && (d[a.attributeName] = void 0), h.addToElements(a.target, b)) : "SOURCE" === c && h.addImgForSource(a.target, a.target.parentNode, b)) : h.addToElements(a.target, b);
        }, h.supPicture || (d && !h.testMutationEvents ? j = new d(h.onMutations) : (l = function () {
          var a = !1,
              b = [],
              c = window.setImmediate || window.setTimeout;
          return function (d) {
            a || (a = !0, l.take || (l.take = function () {
              b.length && (h.onMutations(b), b = []), a = !1;
            }), c(l.take)), b.push(d);
          };
        }(), b.documentElement.addEventListener("DOMNodeInserted", function (a) {
          f.connected && g && l({
            type: "childList",
            addedNodes: [a.target],
            removedNodes: []
          });
        }, !0), b.documentElement.addEventListener("DOMNodeRemoved", function (a) {
          f.connected && g && "SOURCE" === (a.target || {}).nodeName && l({
            type: "childList",
            addedNodes: [],
            removedNodes: [a.target],
            target: a.target.parentNode
          });
        }, !0), b.documentElement.addEventListener("DOMAttrModified", function (a) {
          f.connected && m[a.attrName] && l({
            type: "attributes",
            target: a.target,
            attributeName: a.attrName
          });
        }, !0)), window.HTMLImageElement && Object.defineProperties && !function () {
          var a = b.createElement("img"),
              c = [],
              d = a.getAttribute,
              e = a.setAttribute,
              f = {
            src: 1
          };
          h.supSrcset && !h.supSizes && (f.srcset = 1), Object.defineProperties(HTMLImageElement.prototype, {
            getAttribute: {
              value: function value(a) {
                var b;
                return f[a] && (b = this[h.ns]) && void 0 !== b[a] ? b[a] : d.apply(this, arguments);
              },
              writeable: !0,
              enumerable: !0,
              configurable: !0
            }
          }), h.supSrcset || c.push("srcset"), h.supSizes || c.push("sizes"), c.forEach(function (a) {
            Object.defineProperty(HTMLImageElement.prototype, a, {
              set: function set(b) {
                e.call(this, a, b);
              },
              get: function get() {
                return d.call(this, a) || "";
              },
              enumerable: !0,
              configurable: !0
            });
          }), "currentSrc" in a || !function () {
            var a,
                c = function c(a, b) {
              null == b && (b = a.src || ""), Object.defineProperty(a, "pfCurrentSrc", {
                value: b,
                writable: !0
              });
            },
                d = c;

            h.supSrcset && window.devicePixelRatio && (a = function a(_a, b) {
              var c = _a.d || _a.w || _a.res,
                  d = b.d || b.w || b.res;
              return c - d;
            }, c = function c(b) {
              var c,
                  e,
                  f,
                  g,
                  i = b[h.ns];

              if (i && i.supported && i.srcset && i.sets && (e = h.parseSet(i.sets[0])) && e.sort) {
                for (e.sort(a), f = e.length, g = e[f - 1], c = 0; f > c; c++) {
                  if (e[c].d >= window.devicePixelRatio) {
                    g = e[c];
                    break;
                  }
                }

                g && (g = h.makeUrl(g.url));
              }

              d(b, g);
            }), b.addEventListener("load", function (a) {
              "IMG" === a.target.nodeName.toUpperCase() && c(a.target);
            }, !0), Object.defineProperty(HTMLImageElement.prototype, "currentSrc", {
              set: function set() {
                window.console && console.warn && console.warn("currentSrc can't be set on img element");
              },
              get: function get() {
                return this.complete && c(this), this.src || this.srcset ? this.pfCurrentSrc || "" : "";
              },
              enumerable: !0,
              configurable: !0
            });
          }(), !window.HTMLSourceElement || "srcset" in b.createElement("source") || ["srcset", "sizes"].forEach(function (a) {
            Object.defineProperty(window.HTMLSourceElement.prototype, a, {
              set: function set(b) {
                this.setAttribute(a, b);
              },
              get: function get() {
                return this.getAttribute(a) || "";
              },
              enumerable: !0,
              configurable: !0
            });
          });
        }(), f.start()), g || b.addEventListener("DOMContentLoaded", function () {
          g = !0;
        }));
      }
    });
  }

  if (!("defineProperty" in Object && function () {
    try {
      var e = {};
      return Object.defineProperty(e, "test", {
        value: 42
      }), !0;
    } catch (t) {
      return !1;
    }
  }())) {
    // Object.defineProperty
    (function (nativeDefineProperty) {
      var supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');
      var ERR_ACCESSORS_NOT_SUPPORTED = 'Getters & setters cannot be defined on this javascript engine';
      var ERR_VALUE_ACCESSORS = 'A property cannot both have accessors and be writable or have a value'; // Polyfill.io - This does not use CreateMethodProperty because our CreateMethodProperty function uses Object.defineProperty.

      Object['defineProperty'] = function defineProperty(object, property, descriptor) {
        // Where native support exists, assume it
        if (nativeDefineProperty && (object === window || object === document || object === Element.prototype || object instanceof Element)) {
          return nativeDefineProperty(object, property, descriptor);
        }

        if (object === null || !(object instanceof Object || _typeof(object) === 'object')) {
          throw new TypeError('Object.defineProperty called on non-object');
        }

        if (!(descriptor instanceof Object)) {
          throw new TypeError('Property description must be an object');
        }

        var propertyString = String(property);
        var hasValueOrWritable = 'value' in descriptor || 'writable' in descriptor;

        var getterType = 'get' in descriptor && _typeof(descriptor.get);

        var setterType = 'set' in descriptor && _typeof(descriptor.set); // handle descriptor.get


        if (getterType) {
          if (getterType !== 'function') {
            throw new TypeError('Getter must be a function');
          }

          if (!supportsAccessors) {
            throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
          }

          if (hasValueOrWritable) {
            throw new TypeError(ERR_VALUE_ACCESSORS);
          }

          Object.__defineGetter__.call(object, propertyString, descriptor.get);
        } else {
          object[propertyString] = descriptor.value;
        } // handle descriptor.set


        if (setterType) {
          if (setterType !== 'function') {
            throw new TypeError('Setter must be a function');
          }

          if (!supportsAccessors) {
            throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
          }

          if (hasValueOrWritable) {
            throw new TypeError(ERR_VALUE_ACCESSORS);
          }

          Object.__defineSetter__.call(object, propertyString, descriptor.set);
        } // OK to define value unconditionally - if a getter has been specified as well, an error would be thrown above


        if ('value' in descriptor) {
          object[propertyString] = descriptor.value;
        }

        return object;
      };
    })(Object.defineProperty);
  } // _ESAbstract.CreateDataProperty
  // 7.3.4. CreateDataProperty ( O, P, V )
  // NOTE
  // This abstract operation creates a property whose attributes are set to the same defaults used for properties created by the ECMAScript language assignment operator.
  // Normally, the property will not already exist. If it does exist and is not configurable or if O is not extensible, [[DefineOwnProperty]] will return false.


  function CreateDataProperty(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let newDesc be the PropertyDescriptor{ [[Value]]: V, [[Writable]]: true, [[Enumerable]]: true, [[Configurable]]: true }.
    var newDesc = {
      value: V,
      writable: true,
      enumerable: true,
      configurable: true
    }; // 4. Return ? O.[[DefineOwnProperty]](P, newDesc).

    try {
      Object.defineProperty(O, P, newDesc);
      return true;
    } catch (e) {
      return false;
    }
  } // _ESAbstract.CreateDataPropertyOrThrow

  /* global CreateDataProperty */
  // 7.3.6. CreateDataPropertyOrThrow ( O, P, V )


  function CreateDataPropertyOrThrow(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let success be ? CreateDataProperty(O, P, V).
    var success = CreateDataProperty(O, P, V); // 4. If success is false, throw a TypeError exception.

    if (!success) {
      throw new TypeError('Cannot assign value `' + Object.prototype.toString.call(V) + '` to property `' + Object.prototype.toString.call(P) + '` on object `' + Object.prototype.toString.call(O) + '`');
    } // 5. Return success.


    return success;
  } // _ESAbstract.CreateMethodProperty
  // 7.3.5. CreateMethodProperty ( O, P, V )


  function CreateMethodProperty(O, P, V) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Assert: IsPropertyKey(P) is true.
    // 3. Let newDesc be the PropertyDescriptor{[[Value]]: V, [[Writable]]: true, [[Enumerable]]: false, [[Configurable]]: true}.
    var newDesc = {
      value: V,
      writable: true,
      enumerable: false,
      configurable: true
    }; // 4. Return ? O.[[DefineOwnProperty]](P, newDesc).

    Object.defineProperty(O, P, newDesc);
  }

  if (!("isArray" in Array)) {
    // Array.isArray

    /* global CreateMethodProperty, IsArray */
    // 22.1.2.2. Array.isArray ( arg )
    CreateMethodProperty(Array, 'isArray', function isArray(arg) {
      // 1. Return ? IsArray(arg).
      return IsArray(arg);
    });
  }

  if (!("forEach" in Array.prototype)) {
    // Array.prototype.forEach

    /* global Call, CreateMethodProperty, Get, HasProperty, IsCallable, ToLength, ToObject, ToString */
    // 22.1.3.10. Array.prototype.forEach ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'forEach', function forEach(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // Polyfill.io - If O is a String object, split it into an array in order to iterate correctly.
      // We will use arrayLike in place of O when we are iterating through the list.

      var arraylike = O instanceof String ? O.split('') : O; // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let k be 0.

      var k = 0; // 6. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(arraylike, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(arraylike, Pk); // ii. Perform ? Call(callbackfn, T, « kValue, k, O »).

          Call(callbackfn, T, [kValue, k, O]);
        } // d. Increase k by 1.


        k = k + 1;
      } // 7. Return undefined.


      return undefined;
    });
  }

  if (!("bind" in Function.prototype)) {
    // Function.prototype.bind

    /* global CreateMethodProperty, IsCallable */
    // 19.2.3.2. Function.prototype.bind ( thisArg, ...args )
    // https://github.com/es-shims/es5-shim/blob/d6d7ff1b131c7ba14c798cafc598bb6780d37d3b/es5-shim.js#L182
    CreateMethodProperty(Function.prototype, 'bind', function bind(that) {
      // .length is 1
      // add necessary es5-shim utilities
      var $Array = Array;
      var $Object = Object;
      var ArrayPrototype = $Array.prototype;

      var Empty = function Empty() {};

      var array_slice = ArrayPrototype.slice;
      var array_concat = ArrayPrototype.concat;
      var array_push = ArrayPrototype.push;
      var max = Math.max; // /add necessary es5-shim utilities
      // 1. Let Target be the this value.

      var target = this; // 2. If IsCallable(Target) is false, throw a TypeError exception.

      if (!IsCallable(target)) {
        throw new TypeError('Function.prototype.bind called on incompatible ' + target);
      } // 3. Let A be a new (possibly empty) internal list of all of the
      //   argument values provided after thisArg (arg1, arg2 etc), in order.
      // XXX slicedArgs will stand in for "A" if used


      var args = array_slice.call(arguments, 1); // for normal call
      // 4. Let F be a new native ECMAScript object.
      // 11. Set the [[Prototype]] internal property of F to the standard
      //   built-in Function prototype object as specified in 15.3.3.1.
      // 12. Set the [[Call]] internal property of F as described in
      //   15.3.4.5.1.
      // 13. Set the [[Construct]] internal property of F as described in
      //   15.3.4.5.2.
      // 14. Set the [[HasInstance]] internal property of F as described in
      //   15.3.4.5.3.

      var bound;

      var binder = function binder() {
        if (this instanceof bound) {
          // 15.3.4.5.2 [[Construct]]
          // When the [[Construct]] internal method of a function object,
          // F that was created using the bind function is called with a
          // list of arguments ExtraArgs, the following steps are taken:
          // 1. Let target be the value of F's [[TargetFunction]]
          //   internal property.
          // 2. If target has no [[Construct]] internal method, a
          //   TypeError exception is thrown.
          // 3. Let boundArgs be the value of F's [[BoundArgs]] internal
          //   property.
          // 4. Let args be a new list containing the same values as the
          //   list boundArgs in the same order followed by the same
          //   values as the list ExtraArgs in the same order.
          // 5. Return the result of calling the [[Construct]] internal
          //   method of target providing args as the arguments.
          var result = target.apply(this, array_concat.call(args, array_slice.call(arguments)));

          if ($Object(result) === result) {
            return result;
          }

          return this;
        } else {
          // 15.3.4.5.1 [[Call]]
          // When the [[Call]] internal method of a function object, F,
          // which was created using the bind function is called with a
          // this value and a list of arguments ExtraArgs, the following
          // steps are taken:
          // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
          //   property.
          // 2. Let boundThis be the value of F's [[BoundThis]] internal
          //   property.
          // 3. Let target be the value of F's [[TargetFunction]] internal
          //   property.
          // 4. Let args be a new list containing the same values as the
          //   list boundArgs in the same order followed by the same
          //   values as the list ExtraArgs in the same order.
          // 5. Return the result of calling the [[Call]] internal method
          //   of target providing boundThis as the this value and
          //   providing args as the arguments.
          // equiv: target.call(this, ...boundArgs, ...args)
          return target.apply(that, array_concat.call(args, array_slice.call(arguments)));
        }
      }; // 15. If the [[Class]] internal property of Target is "Function", then
      //     a. Let L be the length property of Target minus the length of A.
      //     b. Set the length own property of F to either 0 or L, whichever is
      //       larger.
      // 16. Else set the length own property of F to 0.


      var boundLength = max(0, target.length - args.length); // 17. Set the attributes of the length own property of F to the values
      //   specified in 15.3.5.1.

      var boundArgs = [];

      for (var i = 0; i < boundLength; i++) {
        array_push.call(boundArgs, '$' + i);
      } // XXX Build a dynamic function with desired amount of arguments is the only
      // way to set the length property of a function.
      // In environments where Content Security Policies enabled (Chrome extensions,
      // for ex.) all use of eval or Function costructor throws an exception.
      // However in all of these environments Function.prototype.bind exists
      // and so this code will never be executed.


      bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);

      if (target.prototype) {
        Empty.prototype = target.prototype;
        bound.prototype = new Empty(); // Clean up dangling references.

        Empty.prototype = null;
      } // TODO
      // 18. Set the [[Extensible]] internal property of F to true.
      // TODO
      // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).
      // 20. Call the [[DefineOwnProperty]] internal method of F with
      //   arguments "caller", PropertyDescriptor {[[Get]]: thrower, [[Set]]:
      //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and
      //   false.
      // 21. Call the [[DefineOwnProperty]] internal method of F with
      //   arguments "arguments", PropertyDescriptor {[[Get]]: thrower,
      //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},
      //   and false.
      // TODO
      // NOTE Function objects created using Function.prototype.bind do not
      // have a prototype property or the [[Code]], [[FormalParameters]], and
      // [[Scope]] internal properties.
      // XXX can't delete prototype in pure-js.
      // 22. Return F.


      return bound;
    });
  }

  if (!("freeze" in Object)) {
    // Object.freeze

    /* global CreateMethodProperty */
    // 19.1.2.6. Object.freeze ( O )
    CreateMethodProperty(Object, 'freeze', function freeze(O) {
      // This feature cannot be implemented fully as a polyfill.
      // We choose to silently fail which allows "securable" code
      // to "gracefully" degrade to working but insecure code.
      return O;
    });
  }

  if (!("getOwnPropertyDescriptor" in Object && "function" == typeof Object.getOwnPropertyDescriptor && function () {
    try {
      var t = {};
      return t.test = 0, 0 === Object.getOwnPropertyDescriptor(t, "test").value;
    } catch (e) {
      return !1;
    }
  }())) {
    // Object.getOwnPropertyDescriptor

    /* global CreateMethodProperty */
    (function () {
      var call = Function.prototype.call;
      var prototypeOfObject = Object.prototype;
      var owns = call.bind(prototypeOfObject.hasOwnProperty);
      var lookupGetter;
      var lookupSetter;
      var supportsAccessors;

      if (supportsAccessors = owns(prototypeOfObject, "__defineGetter__")) {
        lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);
        lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);
      }

      function doesGetOwnPropertyDescriptorWork(object) {
        try {
          object.sentinel = 0;
          return Object.getOwnPropertyDescriptor(object, "sentinel").value === 0;
        } catch (exception) {// returns falsy
        }
      } // check whether getOwnPropertyDescriptor works if it's given. Otherwise,
      // shim partially.


      if (Object.defineProperty) {
        var getOwnPropertyDescriptorWorksOnObject = doesGetOwnPropertyDescriptorWork({});
        var getOwnPropertyDescriptorWorksOnDom = typeof document == "undefined" || doesGetOwnPropertyDescriptorWork(document.createElement("div"));

        if (!getOwnPropertyDescriptorWorksOnDom || !getOwnPropertyDescriptorWorksOnObject) {
          var getOwnPropertyDescriptorFallback = Object.getOwnPropertyDescriptor;
        }
      }

      if (!Object.getOwnPropertyDescriptor || getOwnPropertyDescriptorFallback) {
        var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a non-object: ";
        CreateMethodProperty(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(object, property) {
          if (_typeof(object) != "object" && typeof object != "function" || object === null) {
            throw new TypeError(ERR_NON_OBJECT + object);
          } // make a valiant attempt to use the real getOwnPropertyDescriptor
          // for I8's DOM elements.


          if (getOwnPropertyDescriptorFallback) {
            try {
              return getOwnPropertyDescriptorFallback.call(Object, object, property);
            } catch (exception) {// try the shim if the real one doesn't work
            }
          } // If object does not owns property return undefined immediately.


          if (!owns(object, property)) {
            return;
          } // If object has a property then it's for sure both `enumerable` and
          // `configurable`.


          var descriptor = {
            enumerable: true,
            configurable: true
          }; // If JS engine supports accessor properties then property may be a
          // getter or setter.

          if (supportsAccessors) {
            // Unfortunately `__lookupGetter__` will return a getter even
            // if object has own non getter property along with a same named
            // inherited getter. To avoid misbehavior we temporary remove
            // `__proto__` so that `__lookupGetter__` will return getter only
            // if it's owned by an object.
            var prototype = object.__proto__;
            object.__proto__ = prototypeOfObject;
            var getter = lookupGetter(object, property);
            var setter = lookupSetter(object, property); // Once we have getter and setter we can put values back.

            object.__proto__ = prototype;

            if (getter || setter) {
              if (getter) {
                descriptor.get = getter;
              }

              if (setter) {
                descriptor.set = setter;
              } // If it was accessor property we're done and return here
              // in order to avoid adding `value` to the descriptor.


              return descriptor;
            }
          } // If we got this far we know that object has an own property that is
          // not an accessor so we set it as a value and return descriptor.


          descriptor.value = object[property];
          descriptor.writable = true;
          return descriptor;
        });
      }
    })();
  }

  if (!("getOwnPropertyNames" in Object)) {
    // Object.getOwnPropertyNames

    /* global CreateMethodProperty */
    var toString = {}.toString;
    var split = ''.split;
    CreateMethodProperty(Object, 'getOwnPropertyNames', function getOwnPropertyNames(object) {
      var buffer = [];
      var key; // Non-enumerable properties cannot be discovered but can be checked for by name.
      // Define those used internally by JS to allow an incomplete solution

      var commonProps = ['length', "name", "arguments", "caller", "prototype", "observe", "unobserve"];

      if (typeof object === 'undefined' || object === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      } // Polyfill.io fallback for non-array-like strings which exist in some ES3 user-agents (IE 8)


      object = toString.call(object) == '[object String]' ? split.call(object, '') : Object(object); // Enumerable properties only

      for (key in object) {
        if (Object.prototype.hasOwnProperty.call(object, key)) {
          buffer.push(key);
        }
      } // Check for and add the common non-enumerable properties


      for (var i = 0, s = commonProps.length; i < s; i++) {
        if (commonProps[i] in object) buffer.push(commonProps[i]);
      }

      return buffer;
    });
  }

  if (!("getPrototypeOf" in Object)) {
    // Object.getPrototypeOf

    /* global CreateMethodProperty */
    // Based on: https://github.com/es-shims/es5-shim/blob/master/es5-sham.js
    // https://github.com/es-shims/es5-shim/issues#issue/2
    // http://ejohn.org/blog/objectgetprototypeof/
    // recommended by fschaefer on github
    //
    // sure, and webreflection says ^_^
    // ... this will nerever possibly return null
    // ... Opera Mini breaks here with infinite loops
    CreateMethodProperty(Object, 'getPrototypeOf', function getPrototypeOf(object) {
      if (object !== Object(object)) {
        throw new TypeError('Object.getPrototypeOf called on non-object');
      }

      var proto = object.__proto__;

      if (proto || proto === null) {
        return proto;
      } else if (typeof object.constructor == 'function' && object instanceof object.constructor) {
        return object.constructor.prototype;
      } else if (object instanceof Object) {
        return Object.prototype;
      } else {
        // Correctly return null for Objects created with `Object.create(null)`
        // (shammed or native) or `{ __proto__: null}`.  Also returns null for
        // cross-realm objects on browsers that lack `__proto__` support (like
        // IE <11), but that's the best we can do.
        return null;
      }
    });
  }

  if (!("keys" in Object && function () {
    return 2 === Object.keys(arguments).length;
  }(1, 2) && function () {
    try {
      return Object.keys(""), !0;
    } catch (t) {
      return !1;
    }
  }())) {
    // Object.keys

    /* global CreateMethodProperty */
    CreateMethodProperty(Object, "keys", function () {
      'use strict'; // modified from https://github.com/es-shims/object-keys

      var has = Object.prototype.hasOwnProperty;
      var toStr = Object.prototype.toString;
      var isEnumerable = Object.prototype.propertyIsEnumerable;
      var hasDontEnumBug = !isEnumerable.call({
        toString: null
      }, 'toString');
      var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
      var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];

      var equalsConstructorPrototype = function equalsConstructorPrototype(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };

      var excludedKeys = {
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };

      var hasAutomationEqualityBug = function () {
        /* global window */
        if (typeof window === 'undefined') {
          return false;
        }

        for (var k in window) {
          try {
            if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && _typeof(window[k]) === 'object') {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }

        return false;
      }();

      var equalsConstructorPrototypeIfNotBuggy = function equalsConstructorPrototypeIfNotBuggy(o) {
        /* global window */
        if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }

        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };

      function isArgumentsObject(value) {
        var str = toStr.call(value);
        var isArgs = str === '[object Arguments]';

        if (!isArgs) {
          isArgs = str !== '[object Array]' && value !== null && _typeof(value) === 'object' && typeof value.length === 'number' && value.length >= 0 && toStr.call(value.callee) === '[object Function]';
        }

        return isArgs;
      }

      return function keys(object) {
        var isFunction = toStr.call(object) === '[object Function]';
        var isArguments = isArgumentsObject(object);
        var isString = toStr.call(object) === '[object String]';
        var theKeys = [];

        if (object === undefined || object === null) {
          throw new TypeError('Cannot convert undefined or null to object');
        }

        var skipProto = hasProtoEnumBug && isFunction;

        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }

        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === 'prototype') && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }

        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }

        return theKeys;
      };
    }());
  } // _ESAbstract.EnumerableOwnProperties

  /* globals Type, Get */
  // 7.3.21. EnumerableOwnProperties ( O, kind )


  function EnumerableOwnProperties(O, kind) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: Type(O) is Object.
    // 2. Let ownKeys be ? O.[[OwnPropertyKeys]]().
    var ownKeys = Object.keys(O); // 3. Let properties be a new empty List.

    var properties = []; // 4. For each element key of ownKeys in List order, do

    var length = ownKeys.length;

    for (var i = 0; i < length; i++) {
      var key = ownKeys[i]; // a. If Type(key) is String, then

      if (Type(key) === 'string') {
        // i. Let desc be ? O.[[GetOwnProperty]](key).
        var desc = Object.getOwnPropertyDescriptor(O, key); // ii. If desc is not undefined and desc.[[Enumerable]] is true, then

        if (desc && desc.enumerable) {
          // 1. If kind is "key", append key to properties.
          if (kind === 'key') {
            properties.push(key); // 2. Else,
          } else {
            // a. Let value be ? Get(O, key).
            var value = Get(O, key); // b. If kind is "value", append value to properties.

            if (kind === 'value') {
              properties.push(value); // c. Else,
            } else {
              // i. Assert: kind is "key+value".
              // ii. Let entry be CreateArrayFromList(« key, value »).
              var entry = [key, value]; // iii. Append entry to properties.

              properties.push(entry);
            }
          }
        }
      }
    } // 5. Order the elements of properties so they are in the same relative order as would be produced by the Iterator that would be returned if the EnumerateObjectProperties internal method were invoked with O.
    // 6. Return properties.


    return properties;
  }

  if (!("entries" in Object)) {
    // Object.entries

    /* global CreateMethodProperty, EnumerableOwnProperties, ToObject */
    (function () {
      var toString = {}.toString;
      var split = ''.split; // 19.1.2.5. Object.entries ( O )

      CreateMethodProperty(Object, 'entries', function entries(O) {
        // 1. Let obj be ? ToObject(O).
        var obj = ToObject(O); // Polyfill.io fallback for non-array-like strings which exist in some ES3 user-agents (IE 8)

        var obj = toString.call(O) == '[object String]' ? split.call(O, '') : Object(O); // 2. Let nameList be ? EnumerableOwnProperties(obj, "key+value").

        var nameList = EnumerableOwnProperties(obj, "key+value"); // 3. Return CreateArrayFromList(nameList).
        // Polyfill.io - nameList is already an array.

        return nameList;
      });
    })();
  }

  if (!("assign" in Object)) {
    // Object.assign

    /* global CreateMethodProperty, Get, ToObject */
    // 19.1.2.1 Object.assign ( target, ...sources )
    CreateMethodProperty(Object, 'assign', function assign(target, source) {
      // eslint-disable-line no-unused-vars
      // 1. Let to be ? ToObject(target).
      var to = ToObject(target); // 2. If only one argument was passed, return to.

      if (arguments.length === 1) {
        return to;
      } // 3. Let sources be the List of argument values starting with the second argument


      var sources = Array.prototype.slice.call(arguments, 1); // 4. For each element nextSource of sources, in ascending index order, do

      var index1;
      var index2;
      var keys;
      var from;

      for (index1 = 0; index1 < sources.length; index1++) {
        var nextSource = sources[index1]; // a. If nextSource is undefined or null, let keys be a new empty List.

        if (nextSource === undefined || nextSource === null) {
          keys = []; // b. Else,
        } else {
          // i. Let from be ! ToObject(nextSource).
          from = ToObject(nextSource); // ii. Let keys be ? from.[[OwnPropertyKeys]]().

          /*
          	This step in our polyfill is not complying with the specification.
          	[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
          	TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
          */

          keys = Object.keys(from);
        } // c. For each element nextKey of keys in List order, do


        for (index2 = 0; index2 < keys.length; index2++) {
          var nextKey = keys[index2];
          var enumerable;

          try {
            // i. Let desc be ? from.[[GetOwnProperty]](nextKey).
            var desc = Object.getOwnPropertyDescriptor(from, nextKey); // ii. If desc is not undefined and desc.[[Enumerable]] is true, then

            enumerable = desc !== undefined && desc.enumerable === true;
          } catch (e) {
            // Polyfill.io - We use Object.prototype.propertyIsEnumerable as a fallback
            // because `Object.getOwnPropertyDescriptor(window.location, 'hash')` causes Internet Explorer 11 to crash.
            enumerable = Object.prototype.propertyIsEnumerable.call(from, nextKey);
          }

          if (enumerable) {
            // 1. Let propValue be ? Get(from, nextKey).
            var propValue = Get(from, nextKey); // 2. Perform ? Set(to, nextKey, propValue, true).

            to[nextKey] = propValue;
          }
        }
      } // 5. Return to.


      return to;
    });
  }

  if (!("defineProperties" in Object)) {
    // Object.defineProperties

    /* global CreateMethodProperty, Get, ToObject, Type */
    // 19.1.2.3. Object.defineProperties ( O, Properties )
    CreateMethodProperty(Object, 'defineProperties', function defineProperties(O, Properties) {
      // 1. If Type(O) is not Object, throw a TypeError exception.
      if (Type(O) !== 'object') {
        throw new TypeError('Object.defineProperties called on non-object');
      } // 2. Let props be ? ToObject(Properties).


      var props = ToObject(Properties); // 3. Let keys be ? props.[[OwnPropertyKeys]]().

      /*
      	Polyfill.io - This step in our polyfill is not complying with the specification.
      	[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
      	TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
      */

      var keys = Object.keys(props); // 4. Let descriptors be a new empty List.

      var descriptors = []; // 5. For each element nextKey of keys in List order, do

      for (var i = 0; i < keys.length; i++) {
        var nextKey = keys[i]; // a. Let propDesc be ? props.[[GetOwnProperty]](nextKey).

        var propDesc = Object.getOwnPropertyDescriptor(props, nextKey); // b. If propDesc is not undefined and propDesc.[[Enumerable]] is true, then

        if (propDesc !== undefined && propDesc.enumerable) {
          // i. Let descObj be ? Get(props, nextKey).
          var descObj = Get(props, nextKey); // ii. Let desc be ? ToPropertyDescriptor(descObj).
          // Polyfill.io - We skip this step because Object.defineProperty deals with it.
          // TODO: Implement this step?

          var desc = descObj; // iii. Append the pair (a two element List) consisting of nextKey and desc to the end of descriptors.

          descriptors.push([nextKey, desc]);
        }
      } // 6. For each pair from descriptors in list order, do


      for (var i = 0; i < descriptors.length; i++) {
        // a. Let P be the first element of pair.
        var P = descriptors[i][0]; // b. Let desc be the second element of pair.

        var desc = descriptors[i][1]; // c. Perform ? DefinePropertyOrThrow(O, P, desc).

        Object.defineProperty(O, P, desc);
      } // 7. Return O.


      return O;
    });
  }

  if (!("create" in Object)) {
    // Object.create

    /* global CreateMethodProperty, Type */
    CreateMethodProperty(Object, 'create', function create(O, properties) {
      // 1. If Type(O) is neither Object nor Null, throw a TypeError exception.
      if (Type(O) !== 'object' && Type(O) !== 'null') {
        throw new TypeError('Object prototype may only be an Object or null');
      } // 2. Let obj be ObjectCreate(O).


      var obj = new Function('e', 'function Object() {}Object.prototype=e;return new Object')(O);
      obj.constructor.prototype = O; // 3. If Properties is not undefined, then

      if (1 in arguments) {
        // a. Return ? ObjectDefineProperties(obj, Properties).
        return Object.defineProperties(obj, properties);
      }

      return obj;
    });
  } // _ESAbstract.OrdinaryCreateFromConstructor

  /* global GetPrototypeFromConstructor */
  // 9.1.13. OrdinaryCreateFromConstructor ( constructor, intrinsicDefaultProto [ , internalSlotsList ] )


  function OrdinaryCreateFromConstructor(constructor, intrinsicDefaultProto) {
    // eslint-disable-line no-unused-vars
    var internalSlotsList = arguments[2] || {}; // 1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object.
    // The corresponding object must be an intrinsic that is intended to be used as the[[Prototype]] value of an object.
    // 2. Let proto be ? GetPrototypeFromConstructor(constructor, intrinsicDefaultProto).

    var proto = GetPrototypeFromConstructor(constructor, intrinsicDefaultProto); // 3. Return ObjectCreate(proto, internalSlotsList).
    // Polyfill.io - We do not pass internalSlotsList to Object.create because Object.create does not use the default ordinary object definitions specified in 9.1.

    var obj = Object.create(proto);

    for (var name in internalSlotsList) {
      if (Object.prototype.hasOwnProperty.call(internalSlotsList, name)) {
        Object.defineProperty(obj, name, {
          configurable: true,
          enumerable: false,
          writable: true,
          value: internalSlotsList[name]
        });
      }
    }

    return obj;
  } // _ESAbstract.Construct

  /* global IsConstructor, OrdinaryCreateFromConstructor, Call */
  // 7.3.13. Construct ( F [ , argumentsList [ , newTarget ]] )


  function Construct(F
  /* [ , argumentsList [ , newTarget ]] */
  ) {
    // eslint-disable-line no-unused-vars
    // 1. If newTarget is not present, set newTarget to F.
    var newTarget = arguments.length > 2 ? arguments[2] : F; // 2. If argumentsList is not present, set argumentsList to a new empty List.

    var argumentsList = arguments.length > 1 ? arguments[1] : []; // 3. Assert: IsConstructor(F) is true.

    if (!IsConstructor(F)) {
      throw new TypeError('F must be a constructor.');
    } // 4. Assert: IsConstructor(newTarget) is true.


    if (!IsConstructor(newTarget)) {
      throw new TypeError('newTarget must be a constructor.');
    } // 5. Return ? F.[[Construct]](argumentsList, newTarget).
    // Polyfill.io - If newTarget is the same as F, it is equivalent to new F(...argumentsList).


    if (newTarget === F) {
      return new (Function.prototype.bind.apply(F, [null].concat(argumentsList)))();
    } else {
      // Polyfill.io - This is mimicking section 9.2.2 step 5.a.
      var obj = OrdinaryCreateFromConstructor(newTarget, Object.prototype);
      return Call(F, obj, argumentsList);
    }
  } // _ESAbstract.ArraySpeciesCreate

  /* global IsArray, ArrayCreate, Get, Type, IsConstructor, Construct */
  // 9.4.2.3. ArraySpeciesCreate ( originalArray, length )


  function ArraySpeciesCreate(originalArray, length) {
    // eslint-disable-line no-unused-vars
    // 1. Assert: length is an integer Number ≥ 0.
    // 2. If length is -0, set length to +0.
    if (1 / length === -Infinity) {
      length = 0;
    } // 3. Let isArray be ? IsArray(originalArray).


    var isArray = IsArray(originalArray); // 4. If isArray is false, return ? ArrayCreate(length).

    if (isArray === false) {
      return ArrayCreate(length);
    } // 5. Let C be ? Get(originalArray, "constructor").


    var C = Get(originalArray, 'constructor'); // Polyfill.io - We skip this section as not sure how to make a cross-realm normal Array, a same-realm Array.
    // 6. If IsConstructor(C) is true, then
    // if (IsConstructor(C)) {
    // a. Let thisRealm be the current Realm Record.
    // b. Let realmC be ? GetFunctionRealm(C).
    // c. If thisRealm and realmC are not the same Realm Record, then
    // i. If SameValue(C, realmC.[[Intrinsics]].[[%Array%]]) is true, set C to undefined.
    // }
    // 7. If Type(C) is Object, then

    if (Type(C) === 'object') {
      // a. Set C to ? Get(C, @@species).
      C = 'Symbol' in this && 'species' in this.Symbol ? Get(C, this.Symbol.species) : undefined; // b. If C is null, set C to undefined.

      if (C === null) {
        C = undefined;
      }
    } // 8. If C is undefined, return ? ArrayCreate(length).


    if (C === undefined) {
      return ArrayCreate(length);
    } // 9. If IsConstructor(C) is false, throw a TypeError exception.


    if (!IsConstructor(C)) {
      throw new TypeError('C must be a constructor');
    } // 10. Return ? Construct(C, « length »).


    return Construct(C, [length]);
  }

  if (!("filter" in Array.prototype)) {
    // Array.prototype.filter

    /* global CreateMethodProperty, ToObject, ToLength, Get, IsCallable, ArraySpeciesCreate, ToString, HasProperty, ToBoolean, Call, CreateDataPropertyOrThrow */
    // 22.1.3.7. Array.prototype.filter ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'filter', function filter(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let A be ? ArraySpeciesCreate(O, 0).

      var A = ArraySpeciesCreate(O, 0); // 6. Let k be 0.

      var k = 0; // 7. Let to be 0.

      var to = 0; // 8. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(O, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(O, Pk); // ii. Let selected be ToBoolean(? Call(callbackfn, T, « kValue, k, O »)).

          var selected = ToBoolean(Call(callbackfn, T, [kValue, k, O])); // iii. If selected is true, then

          if (selected) {
            // 1. Perform ? CreateDataPropertyOrThrow(A, ! ToString(to), kValue)
            CreateDataPropertyOrThrow(A, ToString(to), kValue); // 2. Increase to by 1.

            to = to + 1;
          }
        } // d. Increase k by 1.


        k = k + 1;
      } // 9. Return A.


      return A;
    });
  }

  if (!("map" in Array.prototype)) {
    // Array.prototype.map

    /* global ArraySpeciesCreate, Call, CreateDataPropertyOrThrow, CreateMethodProperty, Get, HasProperty, IsCallable, ToLength, ToObject, ToString */

    /* global CreateMethodProperty, ToObject, ToLength, Get, ArraySpeciesCreate, ToString, HasProperty, Call, CreateDataPropertyOrThrow */
    // 22.1.3.16. Array.prototype.map ( callbackfn [ , thisArg ] )
    CreateMethodProperty(Array.prototype, 'map', function map(callbackfn
    /* [ , thisArg ] */
    ) {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Let len be ? ToLength(? Get(O, "length")).

      var len = ToLength(Get(O, "length")); // 3. If IsCallable(callbackfn) is false, throw a TypeError exception.

      if (IsCallable(callbackfn) === false) {
        throw new TypeError(callbackfn + ' is not a function');
      } // 4. If thisArg is present, let T be thisArg; else let T be undefined.


      var T = arguments.length > 1 ? arguments[1] : undefined; // 5. Let A be ? ArraySpeciesCreate(O, len).

      var A = ArraySpeciesCreate(O, len); // 6. Let k be 0.

      var k = 0; // 7. Repeat, while k < len

      while (k < len) {
        // a. Let Pk be ! ToString(k).
        var Pk = ToString(k); // b. Let kPresent be ? HasProperty(O, Pk).

        var kPresent = HasProperty(O, Pk); // c. If kPresent is true, then

        if (kPresent) {
          // i. Let kValue be ? Get(O, Pk).
          var kValue = Get(O, Pk); // ii. Let mappedValue be ? Call(callbackfn, T, « kValue, k, O »).

          var mappedValue = Call(callbackfn, T, [kValue, k, O]); // iii. Perform ? CreateDataPropertyOrThrow(A, Pk, mappedValue).

          CreateDataPropertyOrThrow(A, Pk, mappedValue);
        } // d. Increase k by 1.


        k = k + 1;
      } // 8. Return A.


      return A;
    });
  } // Object.setPrototypeOf

  /* global CreateMethodProperty */
  // ES6-shim 0.16.0 (c) 2013-2014 Paul Miller (http://paulmillr.com)
  // ES6-shim may be freely distributed under the MIT license.
  // For more details and documentation:
  // https://github.com/paulmillr/es6-shim/
  // NOTE:  This versions needs object ownership
  //        because every promoted object needs to be reassigned
  //        otherwise uncompatible browsers cannot work as expected
  //
  // NOTE:  This might need es5-shim or polyfills upfront
  //        because it's based on ES5 API.
  //        (probably just an IE <= 8 problem)
  //
  // NOTE:  nodejs is fine in version 0.8, 0.10, and future versions.


  (function () {
    if (Object.setPrototypeOf) {
      return;
    }
    /*jshint proto: true */
    // @author    Andrea Giammarchi - @WebReflection


    var getOwnPropertyNames = Object.getOwnPropertyNames;
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    var create = Object.create;
    var defineProperty = Object.defineProperty;
    var getPrototypeOf = Object.getPrototypeOf;
    var objProto = Object.prototype;

    var copyDescriptors = function copyDescriptors(target, source) {
      // define into target descriptors from source
      getOwnPropertyNames(source).forEach(function (key) {
        defineProperty(target, key, getOwnPropertyDescriptor(source, key));
      });
      return target;
    }; // used as fallback when no promotion is possible


    var createAndCopy = function setPrototypeOf(origin, proto) {
      return copyDescriptors(create(proto), origin);
    };

    var set, sPOf;

    try {
      // this might fail for various reasons
      // ignore if Chrome cought it at runtime
      set = getOwnPropertyDescriptor(objProto, '__proto__').set;
      set.call({}, null); // setter not poisoned, it can promote
      // Firefox, Chrome

      sPOf = function setPrototypeOf(origin, proto) {
        set.call(origin, proto);
        return origin;
      };
    } catch (e) {
      // do one or more feature detections
      set = {
        __proto__: null
      }; // if proto does not work, needs to fallback
      // some Opera, Rhino, ducktape

      if (set instanceof Object) {
        sPOf = createAndCopy;
      } else {
        // verify if null objects are buggy

        /* eslint-disable no-proto */
        set.__proto__ = objProto;
        /* eslint-enable no-proto */
        // if null objects are buggy
        // nodejs 0.8 to 0.10

        if (set instanceof Object) {
          sPOf = function setPrototypeOf(origin, proto) {
            // use such bug to promote

            /* eslint-disable no-proto */
            origin.__proto__ = proto;
            /* eslint-enable no-proto */

            return origin;
          };
        } else {
          // try to use proto or fallback
          // Safari, old Firefox, many others
          sPOf = function setPrototypeOf(origin, proto) {
            // if proto is not null
            if (getPrototypeOf(origin)) {
              // use __proto__ to promote

              /* eslint-disable no-proto */
              origin.__proto__ = proto;
              /* eslint-enable no-proto */

              return origin;
            } else {
              // otherwise unable to promote: fallback
              return createAndCopy(origin, proto);
            }
          };
        }
      }
    }

    CreateMethodProperty(Object, 'setPrototypeOf', sPOf);
  })();

  if (!("Promise" in this)) {
    // Promise
    !function (n) {
      function t(r) {
        if (e[r]) return e[r].exports;
        var o = e[r] = {
          i: r,
          l: !1,
          exports: {}
        };
        return n[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;
      }

      var e = {};
      t.m = n, t.c = e, t.i = function (n) {
        return n;
      }, t.d = function (n, e, r) {
        t.o(n, e) || Object.defineProperty(n, e, {
          configurable: !1,
          enumerable: !0,
          get: r
        });
      }, t.n = function (n) {
        var e = n && n.__esModule ? function () {
          return n["default"];
        } : function () {
          return n;
        };
        return t.d(e, "a", e), e;
      }, t.o = function (n, t) {
        return Object.prototype.hasOwnProperty.call(n, t);
      }, t.p = "", t(t.s = 100);
    }({
      100:
      /*!***********************!*\
      !*** ./src/global.js ***!
      \***********************/
      function _(n, t, e) {
        (function (n) {
          var t = e(
          /*! ./yaku */
          5);

          try {
            n.Promise = t, window.Promise = t;
          } catch (r) {}
        }).call(t, e(
        /*! ./../~/webpack/buildin/global.js */
        2));
      },
      2:
      /*!***********************************!*\
      !*** (webpack)/buildin/global.js ***!
      \***********************************/
      function _(n, t) {
        var e;

        e = function () {
          return this;
        }();

        try {
          e = e || Function("return this")() || (0, eval)("this");
        } catch (r) {
          "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && (e = window);
        }

        n.exports = e;
      },
      5:
      /*!*********************!*\
      !*** ./src/yaku.js ***!
      \*********************/
      function _(n, t, e) {
        (function (t) {
          !function () {
            "use strict";

            function e() {
              return rn[q][B] || D;
            }

            function r(n) {
              return n && "object" == _typeof(n);
            }

            function o(n) {
              return "function" == typeof n;
            }

            function i(n, t) {
              return n instanceof t;
            }

            function u(n) {
              return i(n, M);
            }

            function c(n, t, e) {
              if (!t(n)) throw h(e);
            }

            function f() {
              try {
                return R.apply(S, arguments);
              } catch (n) {
                return nn.e = n, nn;
              }
            }

            function s(n, t) {
              return R = n, S = t, f;
            }

            function a(n, t) {
              function e() {
                for (var e = 0; e < o;) {
                  t(r[e], r[e + 1]), r[e++] = P, r[e++] = P;
                }

                o = 0, r.length > n && (r.length = n);
              }

              var r = A(n),
                  o = 0;
              return function (n, t) {
                r[o++] = n, r[o++] = t, 2 === o && rn.nextTick(e);
              };
            }

            function l(n, t) {
              var e,
                  r,
                  u,
                  c,
                  f = 0;
              if (!n) throw h(Q);
              var a = n[rn[q][z]];
              if (o(a)) r = a.call(n);else {
                if (!o(n.next)) {
                  if (i(n, A)) {
                    for (e = n.length; f < e;) {
                      t(n[f], f++);
                    }

                    return f;
                  }

                  throw h(Q);
                }

                r = n;
              }

              for (; !(u = r.next()).done;) {
                if ((c = s(t)(u.value, f++)) === nn) throw o(r[G]) && r[G](), c.e;
              }

              return f;
            }

            function h(n) {
              return new TypeError(n);
            }

            function v(n) {
              return (n ? "" : V) + new M().stack;
            }

            function _(n, t) {
              var e = "on" + n.toLowerCase(),
                  r = O[e];
              H && H.listeners(n).length ? n === Z ? H.emit(n, t._v, t) : H.emit(n, t) : r ? r({
                reason: t._v,
                promise: t
              }) : rn[n](t._v, t);
            }

            function p(n) {
              return n && n._s;
            }

            function d(n) {
              if (p(n)) return new n(tn);
              var t, e, r;
              return t = new n(function (n, o) {
                if (t) throw h();
                e = n, r = o;
              }), c(e, o), c(r, o), t;
            }

            function w(n, t) {
              var e = !1;
              return function (r) {
                e || (e = !0, L && (n[N] = v(!0)), t === Y ? k(n, r) : x(n, t, r));
              };
            }

            function y(n, t, e, r) {
              return o(e) && (t._onFulfilled = e), o(r) && (n[J] && _(X, n), t._onRejected = r), L && (t._p = n), n[n._c++] = t, n._s !== $ && on(n, t), t;
            }

            function m(n) {
              if (n._umark) return !0;
              n._umark = !0;

              for (var t, e = 0, r = n._c; e < r;) {
                if (t = n[e++], t._onRejected || m(t)) return !0;
              }
            }

            function j(n, t) {
              function e(n) {
                return r.push(n.replace(/^\s+|\s+$/g, ""));
              }

              var r = [];
              return L && (t[N] && e(t[N]), function o(n) {
                n && K in n && (o(n._next), e(n[K] + ""), o(n._p));
              }(t)), (n && n.stack ? n.stack : n) + ("\n" + r.join("\n")).replace(en, "");
            }

            function g(n, t) {
              return n(t);
            }

            function x(n, t, e) {
              var r = 0,
                  o = n._c;
              if (n._s === $) for (n._s = t, n._v = e, t === U && (L && u(e) && (e.longStack = j(e, n)), un(n)); r < o;) {
                on(n, n[r++]);
              }
              return n;
            }

            function k(n, t) {
              if (t === n && t) return x(n, U, h(W)), n;

              if (t !== C && (o(t) || r(t))) {
                var e = s(b)(t);
                if (e === nn) return x(n, U, e.e), n;
                o(e) ? (L && p(t) && (n._next = t), p(t) ? T(n, t, e) : rn.nextTick(function () {
                  T(n, t, e);
                })) : x(n, Y, t);
              } else x(n, Y, t);

              return n;
            }

            function b(n) {
              return n.then;
            }

            function T(n, t, e) {
              var r = s(e, t)(function (e) {
                t && (t = C, k(n, e));
              }, function (e) {
                t && (t = C, x(n, U, e));
              });
              r === nn && t && (x(n, U, r.e), t = C);
            }

            var P,
                R,
                S,
                C = null,
                F = "object" == (typeof self === "undefined" ? "undefined" : _typeof(self)),
                O = F ? self : t,
                E = O.Promise,
                H = O.process,
                I = O.console,
                L = !1,
                A = Array,
                M = Error,
                U = 1,
                Y = 2,
                $ = 3,
                q = "Symbol",
                z = "iterator",
                B = "species",
                D = q + "(" + B + ")",
                G = "return",
                J = "_uh",
                K = "_pt",
                N = "_st",
                Q = "Invalid argument",
                V = "\nFrom previous ",
                W = "Chaining cycle detected for promise",
                X = "rejectionHandled",
                Z = "unhandledRejection",
                nn = {
              e: C
            },
                tn = function tn() {},
                en = /^.+\/node_modules\/yaku\/.+\n?/gm,
                rn = function rn(n) {
              var t,
                  e = this;
              if (!r(e) || e._s !== P) throw h("Invalid this");

              if (e._s = $, L && (e[K] = v()), n !== tn) {
                if (!o(n)) throw h(Q);
                t = s(n)(w(e, Y), w(e, U)), t === nn && x(e, U, t.e);
              }
            };

            rn["default"] = rn, function (n, t) {
              for (var e in t) {
                n[e] = t[e];
              }
            }(rn.prototype, {
              then: function then(n, t) {
                if (this._s === undefined) throw h();
                return y(this, d(rn.speciesConstructor(this, rn)), n, t);
              },
              "catch": function _catch(n) {
                return this.then(P, n);
              },
              "finally": function _finally(n) {
                return this.then(function (t) {
                  return rn.resolve(n()).then(function () {
                    return t;
                  });
                }, function (t) {
                  return rn.resolve(n()).then(function () {
                    throw t;
                  });
                });
              },
              _c: 0,
              _p: C
            }), rn.resolve = function (n) {
              return p(n) ? n : k(d(this), n);
            }, rn.reject = function (n) {
              return x(d(this), U, n);
            }, rn.race = function (n) {
              var t = this,
                  e = d(t),
                  r = function r(n) {
                x(e, Y, n);
              },
                  o = function o(n) {
                x(e, U, n);
              },
                  i = s(l)(n, function (n) {
                t.resolve(n).then(r, o);
              });

              return i === nn ? t.reject(i.e) : e;
            }, rn.all = function (n) {
              function t(n) {
                x(o, U, n);
              }

              var e,
                  r = this,
                  o = d(r),
                  i = [];
              return (e = s(l)(n, function (n, u) {
                r.resolve(n).then(function (n) {
                  i[u] = n, --e || x(o, Y, i);
                }, t);
              })) === nn ? r.reject(e.e) : (e || x(o, Y, []), o);
            }, rn.Symbol = O[q] || {}, s(function () {
              Object.defineProperty(rn, e(), {
                get: function get() {
                  return this;
                }
              });
            })(), rn.speciesConstructor = function (n, t) {
              var r = n.constructor;
              return r ? r[e()] || t : t;
            }, rn.unhandledRejection = function (n, t) {
              I && I.error("Uncaught (in promise)", L ? t.longStack : j(n, t));
            }, rn.rejectionHandled = tn, rn.enableLongStackTrace = function () {
              L = !0;
            }, rn.nextTick = F ? function (n) {
              E ? new E(function (n) {
                n();
              }).then(n) : setTimeout(n);
            } : H.nextTick, rn._s = 1;
            var on = a(999, function (n, t) {
              var e, r;
              return (r = n._s !== U ? t._onFulfilled : t._onRejected) === P ? void x(t, n._s, n._v) : (e = s(g)(r, n._v)) === nn ? void x(t, U, e.e) : void k(t, e);
            }),
                un = a(9, function (n) {
              m(n) || (n[J] = 1, _(Z, n));
            });

            try {
              n.exports = rn;
            } catch (cn) {
              O.Yaku = rn;
            }
          }();
        }).call(t, e(
        /*! ./../~/webpack/buildin/global.js */
        2));
      }
    });
  }

  if (!("includes" in String.prototype)) {
    // String.prototype.includes

    /* global CreateMethodProperty, IsRegExp, RequireObjectCoercible, ToInteger, ToString */
    // 21.1.3.7. String.prototype.includes ( searchString [ , position ] )
    CreateMethodProperty(String.prototype, 'includes', function includes(searchString
    /* [ , position ] */
    ) {
      'use strict';

      var position = arguments.length > 1 ? arguments[1] : undefined; // 1. Let O be ? RequireObjectCoercible(this value).

      var O = RequireObjectCoercible(this); // 2. Let S be ? ToString(O).

      var S = ToString(O); // 3. Let isRegExp be ? IsRegExp(searchString).

      var isRegExp = IsRegExp(searchString); // 4. If isRegExp is true, throw a TypeError exception.

      if (isRegExp) {
        throw new TypeError('First argument to String.prototype.includes must not be a regular expression');
      } // 5. Let searchStr be ? ToString(searchString).


      var searchStr = ToString(searchString); // 6. Let pos be ? ToInteger(position). (If position is undefined, this step produces the value 0.)

      var pos = ToInteger(position); // 7. Let len be the length of S.

      var len = S.length; // 8. Let start be min(max(pos, 0), len).

      var start = Math.min(Math.max(pos, 0), len); // 9. Let searchLen be the length of searchStr.
      // var searchLength = searchStr.length;
      // 10. If there exists any integer k not smaller than start such that k + searchLen is not greater than len, and for all nonnegative integers j less than searchLen, the code unit at index k+j within S is the same as the code unit at index j within searchStr, return true; but if there is no such integer k, return false.

      return String.prototype.indexOf.call(S, searchStr, start) !== -1;
    });
  }

  if (!("Symbol" in this && 0 === this.Symbol.length)) {
    // Symbol
    // A modification of https://github.com/WebReflection/get-own-property-symbols
    // (C) Andrea Giammarchi - MIT Licensed
    (function (Object, GOPS, global) {
      'use strict'; //so that ({}).toString.call(null) returns the correct [object Null] rather than [object Window]

      var setDescriptor;
      var id = 0;
      var random = '' + Math.random();
      var prefix = '__\x01symbol:';
      var prefixLength = prefix.length;
      var internalSymbol = '__\x01symbol@@' + random;
      var DP = 'defineProperty';
      var DPies = 'defineProperties';
      var GOPN = 'getOwnPropertyNames';
      var GOPD = 'getOwnPropertyDescriptor';
      var PIE = 'propertyIsEnumerable';
      var ObjectProto = Object.prototype;
      var hOP = ObjectProto.hasOwnProperty;
      var pIE = ObjectProto[PIE];
      var toString = ObjectProto.toString;
      var concat = Array.prototype.concat;
      var cachedWindowNames = Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
      var nGOPN = Object[GOPN];

      var gOPN = function getOwnPropertyNames(obj) {
        if (toString.call(obj) === '[object Window]') {
          try {
            return nGOPN(obj);
          } catch (e) {
            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects
            return concat.call([], cachedWindowNames);
          }
        }

        return nGOPN(obj);
      };

      var gOPD = Object[GOPD];
      var create = Object.create;
      var keys = Object.keys;
      var freeze = Object.freeze || Object;
      var defineProperty = Object[DP];
      var $defineProperties = Object[DPies];
      var descriptor = gOPD(Object, GOPN);

      var addInternalIfNeeded = function addInternalIfNeeded(o, uid, enumerable) {
        if (!hOP.call(o, internalSymbol)) {
          try {
            defineProperty(o, internalSymbol, {
              enumerable: false,
              configurable: false,
              writable: false,
              value: {}
            });
          } catch (e) {
            o[internalSymbol] = {};
          }
        }

        o[internalSymbol]['@@' + uid] = enumerable;
      };

      var createWithSymbols = function createWithSymbols(proto, descriptors) {
        var self = create(proto);
        gOPN(descriptors).forEach(function (key) {
          if (propertyIsEnumerable.call(descriptors, key)) {
            $defineProperty(self, key, descriptors[key]);
          }
        });
        return self;
      };

      var copyAsNonEnumerable = function copyAsNonEnumerable(descriptor) {
        var newDescriptor = create(descriptor);
        newDescriptor.enumerable = false;
        return newDescriptor;
      };

      var get = function get() {};

      var onlyNonSymbols = function onlyNonSymbols(name) {
        return name != internalSymbol && !hOP.call(source, name);
      };

      var onlySymbols = function onlySymbols(name) {
        return name != internalSymbol && hOP.call(source, name);
      };

      var propertyIsEnumerable = function propertyIsEnumerable(key) {
        var uid = '' + key;
        return onlySymbols(uid) ? hOP.call(this, uid) && this[internalSymbol]['@@' + uid] : pIE.call(this, key);
      };

      var setAndGetSymbol = function setAndGetSymbol(uid) {
        var descriptor = {
          enumerable: false,
          configurable: true,
          get: get,
          set: function set(value) {
            setDescriptor(this, uid, {
              enumerable: false,
              configurable: true,
              writable: true,
              value: value
            });
            addInternalIfNeeded(this, uid, true);
          }
        };

        try {
          defineProperty(ObjectProto, uid, descriptor);
        } catch (e) {
          ObjectProto[uid] = descriptor.value;
        }

        return freeze(source[uid] = defineProperty(Object(uid), 'constructor', sourceConstructor));
      };

      var _Symbol = function _Symbol2() {
        var description = arguments[0];

        if (this instanceof _Symbol2) {
          throw new TypeError('Symbol is not a constructor');
        }

        return setAndGetSymbol(prefix.concat(description || '', random, ++id));
      };

      var source = create(null);
      var sourceConstructor = {
        value: _Symbol
      };

      var sourceMap = function sourceMap(uid) {
        return source[uid];
      };

      var $defineProperty = function defineProp(o, key, descriptor) {
        var uid = '' + key;

        if (onlySymbols(uid)) {
          setDescriptor(o, uid, descriptor.enumerable ? copyAsNonEnumerable(descriptor) : descriptor);
          addInternalIfNeeded(o, uid, !!descriptor.enumerable);
        } else {
          defineProperty(o, key, descriptor);
        }

        return o;
      };

      var onlyInternalSymbols = function onlyInternalSymbols(obj) {
        return function (name) {
          return hOP.call(obj, internalSymbol) && hOP.call(obj[internalSymbol], '@@' + name);
        };
      };

      var $getOwnPropertySymbols = function getOwnPropertySymbols(o) {
        return gOPN(o).filter(o === ObjectProto ? onlyInternalSymbols(o) : onlySymbols).map(sourceMap);
      };

      descriptor.value = $defineProperty;
      defineProperty(Object, DP, descriptor);
      descriptor.value = $getOwnPropertySymbols;
      defineProperty(Object, GOPS, descriptor);

      descriptor.value = function getOwnPropertyNames(o) {
        return gOPN(o).filter(onlyNonSymbols);
      };

      defineProperty(Object, GOPN, descriptor);

      descriptor.value = function defineProperties(o, descriptors) {
        var symbols = $getOwnPropertySymbols(descriptors);

        if (symbols.length) {
          keys(descriptors).concat(symbols).forEach(function (uid) {
            if (propertyIsEnumerable.call(descriptors, uid)) {
              $defineProperty(o, uid, descriptors[uid]);
            }
          });
        } else {
          $defineProperties(o, descriptors);
        }

        return o;
      };

      defineProperty(Object, DPies, descriptor);
      descriptor.value = propertyIsEnumerable;
      defineProperty(ObjectProto, PIE, descriptor);
      descriptor.value = _Symbol;
      defineProperty(global, 'Symbol', descriptor); // defining `Symbol.for(key)`

      descriptor.value = function (key) {
        var uid = prefix.concat(prefix, key, random);
        return uid in ObjectProto ? source[uid] : setAndGetSymbol(uid);
      };

      defineProperty(_Symbol, 'for', descriptor); // defining `Symbol.keyFor(symbol)`

      descriptor.value = function (symbol) {
        if (onlyNonSymbols(symbol)) throw new TypeError(symbol + ' is not a symbol');
        return hOP.call(source, symbol) ? symbol.slice(prefixLength * 2, -random.length) : void 0;
      };

      defineProperty(_Symbol, 'keyFor', descriptor);

      descriptor.value = function getOwnPropertyDescriptor(o, key) {
        var descriptor = gOPD(o, key);

        if (descriptor && onlySymbols(key)) {
          descriptor.enumerable = propertyIsEnumerable.call(o, key);
        }

        return descriptor;
      };

      defineProperty(Object, GOPD, descriptor);

      descriptor.value = function (proto, descriptors) {
        return arguments.length === 1 || typeof descriptors === "undefined" ? create(proto) : createWithSymbols(proto, descriptors);
      };

      defineProperty(Object, 'create', descriptor);

      var strictModeSupported = function () {
        'use strict';

        return this;
      }.call(null) === null;

      if (strictModeSupported) {
        descriptor.value = function () {
          var str = toString.call(this);
          return str === '[object String]' && onlySymbols(this) ? '[object Symbol]' : str;
        };
      } else {
        descriptor.value = function () {
          // https://github.com/Financial-Times/polyfill-library/issues/164#issuecomment-486965300
          // Polyfill.io this code is here for the situation where a browser does not
          // support strict mode and is executing `Object.prototype.toString.call(null)`.
          // This code ensures that we return the correct result in that situation however,
          // this code also introduces a bug where it will return the incorrect result for
          // `Object.prototype.toString.call(window)`. We can't have the correct result for
          // both `window` and `null`, so we have opted for `null` as we believe this is the more
          // common situation.
          if (this === window) {
            return '[object Null]';
          }

          var str = toString.call(this);
          return str === '[object String]' && onlySymbols(this) ? '[object Symbol]' : str;
        };
      }

      defineProperty(ObjectProto, 'toString', descriptor);

      setDescriptor = function setDescriptor(o, key, descriptor) {
        var protoDescriptor = gOPD(ObjectProto, key);
        delete ObjectProto[key];
        defineProperty(o, key, descriptor);

        if (o !== ObjectProto) {
          defineProperty(ObjectProto, key, protoDescriptor);
        }
      };
    })(Object, 'getOwnPropertySymbols', this);
  }

  if (!("Symbol" in this && "iterator" in this.Symbol)) {
    // Symbol.iterator

    /* global Symbol */
    Object.defineProperty(Symbol, 'iterator', {
      value: Symbol('iterator')
    });
  }

  if (!("Symbol" in this && "toStringTag" in this.Symbol)) {
    // Symbol.toStringTag

    /* global Symbol */
    Object.defineProperty(Symbol, 'toStringTag', {
      value: Symbol('toStringTag')
    });
  } // _Iterator

  /* global Symbol */
  // A modification of https://github.com/medikoo/es6-iterator
  // Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)


  var Iterator = function () {
    // eslint-disable-line no-unused-vars
    var clear = function clear() {
      this.length = 0;
      return this;
    };

    var callable = function callable(fn) {
      if (typeof fn !== 'function') throw new TypeError(fn + " is not a function");
      return fn;
    };

    var Iterator = function Iterator(list, context) {
      if (!(this instanceof Iterator)) {
        return new Iterator(list, context);
      }

      Object.defineProperties(this, {
        __list__: {
          writable: true,
          value: list
        },
        __context__: {
          writable: true,
          value: context
        },
        __nextIndex__: {
          writable: true,
          value: 0
        }
      });
      if (!context) return;
      callable(context.on);
      context.on('_add', this._onAdd.bind(this));
      context.on('_delete', this._onDelete.bind(this));
      context.on('_clear', this._onClear.bind(this));
    };

    Object.defineProperties(Iterator.prototype, Object.assign({
      constructor: {
        value: Iterator,
        configurable: true,
        enumerable: false,
        writable: true
      },
      _next: {
        value: function value() {
          var i;
          if (!this.__list__) return;

          if (this.__redo__) {
            i = this.__redo__.shift();
            if (i !== undefined) return i;
          }

          if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;

          this._unBind();
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      next: {
        value: function value() {
          return this._createResult(this._next());
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _createResult: {
        value: function value(i) {
          if (i === undefined) return {
            done: true,
            value: undefined
          };
          return {
            done: false,
            value: this._resolve(i)
          };
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _resolve: {
        value: function value(i) {
          return this.__list__[i];
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _unBind: {
        value: function value() {
          this.__list__ = null;
          delete this.__redo__;
          if (!this.__context__) return;

          this.__context__.off('_add', this._onAdd.bind(this));

          this.__context__.off('_delete', this._onDelete.bind(this));

          this.__context__.off('_clear', this._onClear.bind(this));

          this.__context__ = null;
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      toString: {
        value: function value() {
          return '[object Iterator]';
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    }, {
      _onAdd: {
        value: function value(index) {
          if (index >= this.__nextIndex__) return;
          ++this.__nextIndex__;

          if (!this.__redo__) {
            Object.defineProperty(this, '__redo__', {
              value: [index],
              configurable: true,
              enumerable: false,
              writable: false
            });
            return;
          }

          this.__redo__.forEach(function (redo, i) {
            if (redo >= index) this.__redo__[i] = ++redo;
          }, this);

          this.__redo__.push(index);
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _onDelete: {
        value: function value(index) {
          var i;
          if (index >= this.__nextIndex__) return;
          --this.__nextIndex__;
          if (!this.__redo__) return;
          i = this.__redo__.indexOf(index);
          if (i !== -1) this.__redo__.splice(i, 1);

          this.__redo__.forEach(function (redo, i) {
            if (redo > index) this.__redo__[i] = --redo;
          }, this);
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      _onClear: {
        value: function value() {
          if (this.__redo__) clear.call(this.__redo__);
          this.__nextIndex__ = 0;
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    }));
    Object.defineProperty(Iterator.prototype, Symbol.iterator, {
      value: function value() {
        return this;
      },
      configurable: true,
      enumerable: false,
      writable: true
    });
    Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
      value: 'Iterator',
      configurable: false,
      enumerable: false,
      writable: true
    });
    return Iterator;
  }(); // _ArrayIterator

  /* global Iterator */
  // A modification of https://github.com/medikoo/es6-iterator
  // Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)


  var ArrayIterator = function () {
    // eslint-disable-line no-unused-vars
    var ArrayIterator = function ArrayIterator(arr, kind) {
      if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
      Iterator.call(this, arr);
      if (!kind) kind = 'value';else if (String.prototype.includes.call(kind, 'key+value')) kind = 'key+value';else if (String.prototype.includes.call(kind, 'key')) kind = 'key';else kind = 'value';
      Object.defineProperty(this, '__kind__', {
        value: kind,
        configurable: false,
        enumerable: false,
        writable: false
      });
    };

    if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);
    ArrayIterator.prototype = Object.create(Iterator.prototype, {
      constructor: {
        value: ArrayIterator,
        configurable: true,
        enumerable: false,
        writable: true
      },
      _resolve: {
        value: function value(i) {
          if (this.__kind__ === 'value') return this.__list__[i];
          if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
          return i;
        },
        configurable: true,
        enumerable: false,
        writable: true
      },
      toString: {
        value: function value() {
          return '[object Array Iterator]';
        },
        configurable: true,
        enumerable: false,
        writable: true
      }
    });
    return ArrayIterator;
  }();

  if (!("Symbol" in this && "iterator" in this.Symbol && !!Array.prototype.entries)) {
    // Array.prototype.entries

    /* global CreateMethodProperty, ToObject */
    // 22.1.3.4. Array.prototype.entries ( )
    CreateMethodProperty(Array.prototype, 'entries', function entries() {
      // 1. Let O be ? ToObject(this value).
      var O = ToObject(this); // 2. Return CreateArrayIterator(O, "key+value").
      // TODO: Add CreateArrayIterator

      return new ArrayIterator(O, 'key+value');
    });
  }

  if (!function (e) {
    "use strict";

    try {
      var a = new e.URL("http://example.com");

      if ("href" in a && "searchParams" in a) {
        var r = new URL("http://example.com");

        if (r.search = "a=1&b=2", "http://example.com/?a=1&b=2" === r.href && (r.search = "", "http://example.com/" === r.href)) {
          var t = new e.URLSearchParams("a=1"),
              h = new e.URLSearchParams(t);
          if ("a=1" === String(h)) return !0;
        }
      }

      return !1;
    } catch (c) {
      return !1;
    }
  }(this)) {
    // URL

    /* global Symbol */
    // URL Polyfill
    // Draft specification: https://url.spec.whatwg.org
    // Notes:
    // - Primarily useful for parsing URLs and modifying query parameters
    // - Should work in IE8+ and everything more modern, with es5.js polyfills
    (function (global) {
      'use strict';

      function isSequence(o) {
        if (!o) return false;
        if ('Symbol' in global && 'iterator' in global.Symbol && typeof o[Symbol.iterator] === 'function') return true;
        if (Array.isArray(o)) return true;
        return false;
      }

      function toArray(iter) {
        return 'from' in Array ? Array.from(iter) : Array.prototype.slice.call(iter);
      }

      (function () {
        // Browsers may have:
        // * No global URL object
        // * URL with static methods only - may have a dummy constructor
        // * URL with members except searchParams
        // * Full URL API support
        var origURL = global.URL;
        var nativeURL;

        try {
          if (origURL) {
            nativeURL = new global.URL('http://example.com');

            if ('searchParams' in nativeURL) {
              var url = new URL('http://example.com');
              url.search = 'a=1&b=2';

              if (url.href === 'http://example.com/?a=1&b=2') {
                url.search = '';

                if (url.href === 'http://example.com/') {
                  return;
                }
              }
            }

            if (!('href' in nativeURL)) {
              nativeURL = undefined;
            }

            nativeURL = undefined;
          }
        } catch (_) {} // NOTE: Doesn't do the encoding/decoding dance


        function urlencoded_serialize(pairs) {
          var output = '',
              first = true;
          pairs.forEach(function (pair) {
            var name = encodeURIComponent(pair.name);
            var value = encodeURIComponent(pair.value);
            if (!first) output += '&';
            output += name + '=' + value;
            first = false;
          });
          return output.replace(/%20/g, '+');
        } // NOTE: Doesn't do the encoding/decoding dance


        function urlencoded_parse(input, isindex) {
          var sequences = input.split('&');
          if (isindex && sequences[0].indexOf('=') === -1) sequences[0] = '=' + sequences[0];
          var pairs = [];
          sequences.forEach(function (bytes) {
            if (bytes.length === 0) return;
            var index = bytes.indexOf('=');

            if (index !== -1) {
              var name = bytes.substring(0, index);
              var value = bytes.substring(index + 1);
            } else {
              name = bytes;
              value = '';
            }

            name = name.replace(/\+/g, ' ');
            value = value.replace(/\+/g, ' ');
            pairs.push({
              name: name,
              value: value
            });
          });
          var output = [];
          pairs.forEach(function (pair) {
            output.push({
              name: decodeURIComponent(pair.name),
              value: decodeURIComponent(pair.value)
            });
          });
          return output;
        }

        function URLUtils(url) {
          if (nativeURL) return new origURL(url);
          var anchor = document.createElement('a');
          anchor.href = url;
          return anchor;
        }

        function URLSearchParams(init) {
          var $this = this;
          this._list = [];

          if (init === undefined || init === null) {// no-op
          } else if (init instanceof URLSearchParams) {
            // In ES6 init would be a sequence, but special case for ES5.
            this._list = urlencoded_parse(String(init));
          } else if (_typeof(init) === 'object' && isSequence(init)) {
            toArray(init).forEach(function (e) {
              if (!isSequence(e)) throw TypeError();
              var nv = toArray(e);
              if (nv.length !== 2) throw TypeError();

              $this._list.push({
                name: String(nv[0]),
                value: String(nv[1])
              });
            });
          } else if (_typeof(init) === 'object' && init) {
            Object.keys(init).forEach(function (key) {
              $this._list.push({
                name: String(key),
                value: String(init[key])
              });
            });
          } else {
            init = String(init);
            if (init.substring(0, 1) === '?') init = init.substring(1);
            this._list = urlencoded_parse(init);
          }

          this._url_object = null;

          this._setList = function (list) {
            if (!updating) $this._list = list;
          };

          var updating = false;

          this._update_steps = function () {
            if (updating) return;
            updating = true;
            if (!$this._url_object) return; // Partial workaround for IE issue with 'about:'

            if ($this._url_object.protocol === 'about:' && $this._url_object.pathname.indexOf('?') !== -1) {
              $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
            }

            $this._url_object.search = urlencoded_serialize($this._list);
            updating = false;
          };
        }

        Object.defineProperties(URLSearchParams.prototype, {
          append: {
            value: function value(name, _value) {
              this._list.push({
                name: name,
                value: _value
              });

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          'delete': {
            value: function value(name) {
              for (var i = 0; i < this._list.length;) {
                if (this._list[i].name === name) this._list.splice(i, 1);else ++i;
              }

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          get: {
            value: function value(name) {
              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) return this._list[i].value;
              }

              return null;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          getAll: {
            value: function value(name) {
              var result = [];

              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) result.push(this._list[i].value);
              }

              return result;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          has: {
            value: function value(name) {
              for (var i = 0; i < this._list.length; ++i) {
                if (this._list[i].name === name) return true;
              }

              return false;
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          set: {
            value: function value(name, _value2) {
              var found = false;

              for (var i = 0; i < this._list.length;) {
                if (this._list[i].name === name) {
                  if (!found) {
                    this._list[i].value = _value2;
                    found = true;
                    ++i;
                  } else {
                    this._list.splice(i, 1);
                  }
                } else {
                  ++i;
                }
              }

              if (!found) this._list.push({
                name: name,
                value: _value2
              });

              this._update_steps();
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          entries: {
            value: function value() {
              return new Iterator(this._list, 'key+value');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          keys: {
            value: function value() {
              return new Iterator(this._list, 'key');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          values: {
            value: function value() {
              return new Iterator(this._list, 'value');
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          forEach: {
            value: function value(callback) {
              var thisArg = arguments.length > 1 ? arguments[1] : undefined;

              this._list.forEach(function (pair) {
                callback.call(thisArg, pair.value, pair.name);
              });
            },
            writable: true,
            enumerable: true,
            configurable: true
          },
          toString: {
            value: function value() {
              return urlencoded_serialize(this._list);
            },
            writable: true,
            enumerable: false,
            configurable: true
          }
        });

        function Iterator(source, kind) {
          var index = 0;

          this['next'] = function () {
            if (index >= source.length) return {
              done: true,
              value: undefined
            };
            var pair = source[index++];
            return {
              done: false,
              value: kind === 'key' ? pair.name : kind === 'value' ? pair.value : [pair.name, pair.value]
            };
          };
        }

        if ('Symbol' in global && 'iterator' in global.Symbol) {
          Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
            value: URLSearchParams.prototype.entries,
            writable: true,
            enumerable: true,
            configurable: true
          });
          Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
            value: function value() {
              return this;
            },
            writable: true,
            enumerable: true,
            configurable: true
          });
        }

        function URL(url, base) {
          if (!(this instanceof global.URL)) throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");

          if (base) {
            url = function () {
              if (nativeURL) return new origURL(url, base).href;
              var iframe;

              try {
                var doc; // Use another document/base tag/anchor for relative URL resolution, if possible

                if (Object.prototype.toString.call(window.operamini) === "[object OperaMini]") {
                  iframe = document.createElement('iframe');
                  iframe.style.display = 'none';
                  document.documentElement.appendChild(iframe);
                  doc = iframe.contentWindow.document;
                } else if (document.implementation && document.implementation.createHTMLDocument) {
                  doc = document.implementation.createHTMLDocument('');
                } else if (document.implementation && document.implementation.createDocument) {
                  doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
                  doc.documentElement.appendChild(doc.createElement('head'));
                  doc.documentElement.appendChild(doc.createElement('body'));
                } else if (window.ActiveXObject) {
                  doc = new window.ActiveXObject('htmlfile');
                  doc.write('<head><\/head><body><\/body>');
                  doc.close();
                }

                if (!doc) throw Error('base not supported');
                var baseTag = doc.createElement('base');
                baseTag.href = base;
                doc.getElementsByTagName('head')[0].appendChild(baseTag);
                var anchor = doc.createElement('a');
                anchor.href = url;
                return anchor.href;
              } finally {
                if (iframe) iframe.parentNode.removeChild(iframe);
              }
            }();
          } // An inner object implementing URLUtils (either a native URL
          // object or an HTMLAnchorElement instance) is used to perform the
          // URL algorithms. With full ES5 getter/setter support, return a
          // regular object For IE8's limited getter/setter support, a
          // different HTMLAnchorElement is returned with properties
          // overridden


          var instance = URLUtils(url || ''); // Detect for ES5 getter/setter support
          // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)

          var ES5_GET_SET = function () {
            if (!('defineProperties' in Object)) return false;

            try {
              var obj = {};
              Object.defineProperties(obj, {
                prop: {
                  'get': function get() {
                    return true;
                  }
                }
              });
              return obj.prop;
            } catch (_) {
              return false;
            }
          }();

          var self = ES5_GET_SET ? this : document.createElement('a');
          var query_object = new URLSearchParams(instance.search ? instance.search.substring(1) : null);
          query_object._url_object = self;
          Object.defineProperties(self, {
            href: {
              get: function get() {
                return instance.href;
              },
              set: function set(v) {
                instance.href = v;
                tidy_instance();
                update_steps();
              },
              enumerable: true,
              configurable: true
            },
            origin: {
              get: function get() {
                if ('origin' in instance) return instance.origin;
                return this.protocol + '//' + this.host;
              },
              enumerable: true,
              configurable: true
            },
            protocol: {
              get: function get() {
                return instance.protocol;
              },
              set: function set(v) {
                instance.protocol = v;
              },
              enumerable: true,
              configurable: true
            },
            username: {
              get: function get() {
                return instance.username;
              },
              set: function set(v) {
                instance.username = v;
              },
              enumerable: true,
              configurable: true
            },
            password: {
              get: function get() {
                return instance.password;
              },
              set: function set(v) {
                instance.password = v;
              },
              enumerable: true,
              configurable: true
            },
            host: {
              get: function get() {
                // IE returns default port in |host|
                var re = {
                  'http:': /:80$/,
                  'https:': /:443$/,
                  'ftp:': /:21$/
                }[instance.protocol];
                return re ? instance.host.replace(re, '') : instance.host;
              },
              set: function set(v) {
                instance.host = v;
              },
              enumerable: true,
              configurable: true
            },
            hostname: {
              get: function get() {
                return instance.hostname;
              },
              set: function set(v) {
                instance.hostname = v;
              },
              enumerable: true,
              configurable: true
            },
            port: {
              get: function get() {
                return instance.port;
              },
              set: function set(v) {
                instance.port = v;
              },
              enumerable: true,
              configurable: true
            },
            pathname: {
              get: function get() {
                // IE does not include leading '/' in |pathname|
                if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
                return instance.pathname;
              },
              set: function set(v) {
                instance.pathname = v;
              },
              enumerable: true,
              configurable: true
            },
            search: {
              get: function get() {
                return instance.search;
              },
              set: function set(v) {
                if (instance.search === v) return;
                instance.search = v;
                tidy_instance();
                update_steps();
              },
              enumerable: true,
              configurable: true
            },
            searchParams: {
              get: function get() {
                return query_object;
              },
              enumerable: true,
              configurable: true
            },
            hash: {
              get: function get() {
                return instance.hash;
              },
              set: function set(v) {
                instance.hash = v;
                tidy_instance();
              },
              enumerable: true,
              configurable: true
            },
            toString: {
              value: function value() {
                return instance.toString();
              },
              enumerable: false,
              configurable: true
            },
            valueOf: {
              value: function value() {
                return instance.valueOf();
              },
              enumerable: false,
              configurable: true
            }
          });

          function tidy_instance() {
            var href = instance.href.replace(/#$|\?$|\?(?=#)/g, '');
            if (instance.href !== href) instance.href = href;
          }

          function update_steps() {
            query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);

            query_object._update_steps();
          }

          return self;
        }

        if (origURL) {
          for (var i in origURL) {
            if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function') URL[i] = origURL[i];
          }
        }

        global.URL = URL;
        global.URLSearchParams = URLSearchParams;
      })(); // Patch native URLSearchParams constructor to handle sequences/records
      // if necessary.


      (function () {
        if (new global.URLSearchParams([['a', 1]]).get('a') === '1' && new global.URLSearchParams({
          a: 1
        }).get('a') === '1') return;
        var orig = global.URLSearchParams;

        global.URLSearchParams = function (init) {
          if (init && _typeof(init) === 'object' && isSequence(init)) {
            var o = new orig();
            toArray(init).forEach(function (e) {
              if (!isSequence(e)) throw TypeError();
              var nv = toArray(e);
              if (nv.length !== 2) throw TypeError();
              o.append(nv[0], nv[1]);
            });
            return o;
          } else if (init && _typeof(init) === 'object') {
            o = new orig();
            Object.keys(init).forEach(function (key) {
              o.set(key, init[key]);
            });
            return o;
          } else {
            return new orig(init);
          }
        };
      })();
    })(self);
  }

  if (!("Window" in this)) {
    // Window
    if (typeof WorkerGlobalScope === "undefined" && typeof importScripts !== "function") {
      (function (global) {
        if (global.constructor) {
          global.Window = global.constructor;
        } else {
          (global.Window = global.constructor = new Function('return function Window() {}')()).prototype = this;
        }
      })(this);
    }
  }

  if (!function (n) {
    if (!("Event" in n)) return !1;

    try {
      return new Event("click"), !0;
    } catch (t) {
      return !1;
    }
  }(this)) {
    // Event
    (function () {
      var unlistenableWindowEvents = {
        click: 1,
        dblclick: 1,
        keyup: 1,
        keypress: 1,
        keydown: 1,
        mousedown: 1,
        mouseup: 1,
        mousemove: 1,
        mouseover: 1,
        mouseenter: 1,
        mouseleave: 1,
        mouseout: 1,
        storage: 1,
        storagecommit: 1,
        textinput: 1
      }; // This polyfill depends on availability of `document` so will not run in a worker
      // However, we asssume there are no browsers with worker support that lack proper
      // support for `Event` within the worker

      if (typeof document === 'undefined' || typeof window === 'undefined') return;

      function indexOf(array, element) {
        var index = -1,
            length = array.length;

        while (++index < length) {
          if (index in array && array[index] === element) {
            return index;
          }
        }

        return -1;
      }

      var existingProto = window.Event && window.Event.prototype || null;

      function Event(type, eventInitDict) {
        if (!type) {
          throw new Error('Not enough arguments');
        }

        var event; // Shortcut if browser supports createEvent

        if ('createEvent' in document) {
          event = document.createEvent('Event');
          var bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
          var cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;
          event.initEvent(type, bubbles, cancelable);
          return event;
        }

        event = document.createEventObject();
        event.type = type;
        event.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
        event.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;
        return event;
      }

      ;
      Event.NONE = 0;
      Event.CAPTURING_PHASE = 1;
      Event.AT_TARGET = 2;
      Event.BUBBLING_PHASE = 3;
      window.Event = Window.prototype.Event = Event;

      if (existingProto) {
        Object.defineProperty(window.Event, 'prototype', {
          configurable: false,
          enumerable: false,
          writable: true,
          value: existingProto
        });
      }

      if (!('createEvent' in document)) {
        window.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {
          var element = this,
              type = arguments[0],
              listener = arguments[1];

          if (element === window && type in unlistenableWindowEvents) {
            throw new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');
          }

          if (!element._events) {
            element._events = {};
          }

          if (!element._events[type]) {
            element._events[type] = function (event) {
              var list = element._events[event.type].list,
                  events = list.slice(),
                  index = -1,
                  length = events.length,
                  eventElement;

              event.preventDefault = function preventDefault() {
                if (event.cancelable !== false) {
                  event.returnValue = false;
                }
              };

              event.stopPropagation = function stopPropagation() {
                event.cancelBubble = true;
              };

              event.stopImmediatePropagation = function stopImmediatePropagation() {
                event.cancelBubble = true;
                event.cancelImmediate = true;
              };

              event.currentTarget = element;
              event.relatedTarget = event.fromElement || null;
              event.target = event.target || event.srcElement || element;
              event.timeStamp = new Date().getTime();

              if (event.clientX) {
                event.pageX = event.clientX + document.documentElement.scrollLeft;
                event.pageY = event.clientY + document.documentElement.scrollTop;
              }

              while (++index < length && !event.cancelImmediate) {
                if (index in events) {
                  eventElement = events[index];

                  if (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {
                    eventElement.call(element, event);
                  }
                }
              }
            };

            element._events[type].list = [];

            if (element.attachEvent) {
              element.attachEvent('on' + type, element._events[type]);
            }
          }

          element._events[type].list.push(listener);
        };

        window.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {
          var element = this,
              type = arguments[0],
              listener = arguments[1],
              index;

          if (element._events && element._events[type] && element._events[type].list) {
            index = indexOf(element._events[type].list, listener);

            if (index !== -1) {
              element._events[type].list.splice(index, 1);

              if (!element._events[type].list.length) {
                if (element.detachEvent) {
                  element.detachEvent('on' + type, element._events[type]);
                }

                delete element._events[type];
              }
            }
          }
        };

        window.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {
          if (!arguments.length) {
            throw new Error('Not enough arguments');
          }

          if (!event || typeof event.type !== 'string') {
            throw new Error('DOM Events Exception 0');
          }

          var element = this,
              type = event.type;

          try {
            if (!event.bubbles) {
              event.cancelBubble = true;

              var cancelBubbleEvent = function cancelBubbleEvent(event) {
                event.cancelBubble = true;
                (element || window).detachEvent('on' + type, cancelBubbleEvent);
              };

              this.attachEvent('on' + type, cancelBubbleEvent);
            }

            this.fireEvent('on' + type, event);
          } catch (error) {
            event.target = element;

            do {
              event.currentTarget = element;

              if ('_events' in element && typeof element._events[type] === 'function') {
                element._events[type].call(element, event);
              }

              if (typeof element['on' + type] === 'function') {
                element['on' + type].call(element, event);
              }

              element = element.nodeType === 9 ? element.parentWindow : element.parentNode;
            } while (element && !event.cancelBubble);
          }

          return true;
        }; // Add the DOMContentLoaded Event


        document.attachEvent('onreadystatechange', function () {
          if (document.readyState === 'complete') {
            document.dispatchEvent(new Event('DOMContentLoaded', {
              bubbles: true
            }));
          }
        });
      }
    })();
  }

  if (!("CustomEvent" in this && ("function" == typeof this.CustomEvent || this.CustomEvent.toString().indexOf("CustomEventConstructor") > -1))) {
    // CustomEvent
    this.CustomEvent = function CustomEvent(type, eventInitDict) {
      if (!type) {
        throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');
      }

      var event;
      eventInitDict = eventInitDict || {
        bubbles: false,
        cancelable: false,
        detail: null
      };

      if ('createEvent' in document) {
        try {
          event = document.createEvent('CustomEvent');
          event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);
        } catch (error) {
          // for browsers which don't support CustomEvent at all, we use a regular event instead
          event = document.createEvent('Event');
          event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);
          event.detail = eventInitDict.detail;
        }
      } else {
        // IE8
        event = new Event(type, eventInitDict);
        event.detail = eventInitDict && eventInitDict.detail || null;
      }

      return event;
    };

    CustomEvent.prototype = Event.prototype;
  }

  if (!("matchMedia" in this && "MediaQueryList" in this)) {
    // matchMedia
    (function (global) {
      function evalQuery(query) {
        /* jshint evil: true */
        query = (query || 'true').replace(/^only\s+/, '').replace(/(device)-([\w.]+)/g, '$1.$2').replace(/([\w.]+)\s*:/g, 'media.$1 ===').replace(/min-([\w.]+)\s*===/g, '$1 >=').replace(/max-([\w.]+)\s*===/g, '$1 <=').replace(/all|screen/g, '1').replace(/print/g, '0').replace(/,/g, '||').replace(/\band\b/g, '&&').replace(/dpi/g, '').replace(/(\d+)(cm|em|in|dppx|mm|pc|pt|px|rem)/g, function ($0, $1, $2) {
          return $1 * ($2 === 'cm' ? 0.3937 * 96 : $2 === 'em' || $2 === 'rem' ? 16 : $2 === 'in' || $2 === 'dppx' ? 96 : $2 === 'mm' ? 0.3937 * 96 / 10 : $2 === 'pc' ? 12 * 96 / 72 : $2 === 'pt' ? 96 / 72 : 1);
        });
        return new Function('media', 'try{ return !!(%s) }catch(e){ return false }'.replace('%s', query))({
          width: global.innerWidth,
          height: global.innerHeight,
          orientation: global.orientation || 'landscape',
          device: {
            width: global.screen.width,
            height: global.screen.height,
            orientation: global.screen.orientation || global.orientation || 'landscape'
          }
        });
      }

      function MediaQueryList() {
        this.matches = false;
        this.media = 'invalid';
      }

      MediaQueryList.prototype.addListener = function addListener(listener) {
        var listenerIndex = this.addListener.listeners.indexOf(listener);

        if (listenerIndex === -1) {
          this.addListener.listeners.push(listener);
        }
      };

      MediaQueryList.prototype.removeListener = function removeListener(listener) {
        var listenerIndex = this.addListener.listeners.indexOf(listener);

        if (listenerIndex >= 0) {
          this.addListener.listeners.splice(listenerIndex, 1);
        }
      };

      global.MediaQueryList = MediaQueryList; // <Global>.matchMedia

      global.matchMedia = function matchMedia(query) {
        var list = new MediaQueryList();

        if (0 === arguments.length) {
          throw new TypeError('Not enough arguments to matchMedia');
        }

        list.media = String(query);
        list.matches = evalQuery(list.media);
        list.addListener.listeners = [];
        global.addEventListener('resize', function () {
          var listeners = [].concat(list.addListener.listeners),
              matches = evalQuery(list.media);

          if (matches != list.matches) {
            list.matches = matches;

            for (var index = 0, length = listeners.length; index < length; ++index) {
              listeners[index].call(global, list);
            }
          }
        });
        return list;
      };
    })(this);
  }
}).call('object' === (typeof window === "undefined" ? "undefined" : _typeof(window)) && window || 'object' === (typeof self === "undefined" ? "undefined" : _typeof(self)) && self || 'object' === (typeof global === "undefined" ? "undefined" : _typeof(global)) && global || {});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[99])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanMiLCJub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2RlbGVnYXRlLmpzIiwibm9kZV9tb2R1bGVzL2RvbTcvZG9tNy5janMuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLmlzYm9vbGVhbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNlbXB0eS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNmdW5jdGlvbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gucHVsbGF0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zc3Itd2luZG93L3Nzci13aW5kb3cudW1kLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9hMTF5L2ExMXkuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2F1dG9wbGF5L2F1dG9wbGF5LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb250cm9sbGVyL2NvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvYnJlYWtwb2ludHMvZ2V0QnJlYWtwb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9icmVha3BvaW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9icmVha3BvaW50cy9zZXRCcmVha3BvaW50LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NoZWNrLW92ZXJmbG93L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NsYXNzZXMvYWRkQ2xhc3Nlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9jbGFzc2VzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2NsYXNzZXMvcmVtb3ZlQ2xhc3Nlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9jb3JlLWNsYXNzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2RlZmF1bHRzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy1lbWl0dGVyLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25DbGljay5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25SZXNpemUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvZXZlbnRzL29uU2Nyb2xsLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9vblRvdWNoRW5kLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2V2ZW50cy9vblRvdWNoTW92ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9ldmVudHMvb25Ub3VjaFN0YXJ0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2dyYWItY3Vyc29yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2dyYWItY3Vyc29yL3NldEdyYWJDdXJzb3IuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvZ3JhYi1jdXJzb3IvdW5zZXRHcmFiQ3Vyc29yLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2ltYWdlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9pbWFnZXMvbG9hZEltYWdlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2ltYWdlcy9wcmVsb2FkSW1hZ2VzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2xvb3AvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbG9vcC9sb29wQ3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL2xvb3AvbG9vcERlc3Ryb3kuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbG9vcC9sb29wRml4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL21hbmlwdWxhdGlvbi9hZGRTbGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9tYW5pcHVsYXRpb24vYXBwZW5kU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbWFuaXB1bGF0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL21hbmlwdWxhdGlvbi9wcmVwZW5kU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbWFuaXB1bGF0aW9uL3JlbW92ZUFsbFNsaWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9tYW5pcHVsYXRpb24vcmVtb3ZlU2xpZGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvbW9kdWxhci5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9zbGlkZU5leHQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvc2xpZGUvc2xpZGVQcmV2LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlUmVzZXQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvc2xpZGUvc2xpZGVUby5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS9zbGlkZS9zbGlkZVRvQ2xpY2tlZFNsaWRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlVG9DbG9zZXN0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3NsaWRlL3NsaWRlVG9Mb29wLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zaXRpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdHJhbnNpdGlvbi9zZXRUcmFuc2l0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zaXRpb24vdHJhbnNpdGlvbkVuZC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2l0aW9uL3RyYW5zaXRpb25TdGFydC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvZ2V0VHJhbnNsYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zbGF0ZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvbWF4VHJhbnNsYXRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3RyYW5zbGF0ZS9taW5UcmFuc2xhdGUuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdHJhbnNsYXRlL3NldFRyYW5zbGF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS90cmFuc2xhdGUvdHJhbnNsYXRlVG8uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdXBkYXRlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVBY3RpdmVJbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlQXV0b0hlaWdodC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlQ2xpY2tlZFNsaWRlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVQcm9ncmVzcy5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlU2l6ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvY29yZS91cGRhdGUvdXBkYXRlU2xpZGVzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVTbGlkZXNDbGFzc2VzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9jb3JlL3VwZGF0ZS91cGRhdGVTbGlkZXNPZmZzZXQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2NvcmUvdXBkYXRlL3VwZGF0ZVNsaWRlc1Byb2dyZXNzLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9lZmZlY3QtY292ZXJmbG93L2VmZmVjdC1jb3ZlcmZsb3cuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2VmZmVjdC1jdWJlL2VmZmVjdC1jdWJlLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9lZmZlY3QtZmFkZS9lZmZlY3QtZmFkZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvZWZmZWN0LWZsaXAvZWZmZWN0LWZsaXAuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2hhc2gtbmF2aWdhdGlvbi9oYXNoLW5hdmlnYXRpb24uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2hpc3RvcnkvaGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMva2V5Ym9hcmQva2V5Ym9hcmQuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL2xhenkvbGF6eS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvbW91c2V3aGVlbC9tb3VzZXdoZWVsLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL25hdmlnYXRpb24uanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvcGFyYWxsYXgvcGFyYWxsYXguanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3Njcm9sbGJhci9zY3JvbGxiYXIuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3RodW1icy90aHVtYnMuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL2Nqcy9jb21wb25lbnRzL3ZpcnR1YWwvdmlydHVhbC5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL2NvbXBvbmVudHMvem9vbS96b29tLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvbW9kdWxlcy9vYnNlcnZlci9vYnNlcnZlci5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL21vZHVsZXMvcmVzaXplL3Jlc2l6ZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2RvbS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2dldC1icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvdXRpbHMvZ2V0LWRldmljZS5qcyIsIm5vZGVfbW9kdWxlcy9zd2lwZXIvY2pzL3V0aWxzL2dldC1zdXBwb3J0LmpzIiwibm9kZV9tb2R1bGVzL3N3aXBlci9janMvdXRpbHMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc3dpcGVyL3N3aXBlci5janMuanMiLCJzdHlsZWd1aWRlL3NyYy9pbmRleC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9fY29tcG9uZW50LWxvYWRlci5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLWJyZWFkY3J1bWJzL2EtYnJlYWRjcnVtYnMuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvYS1pbWFnZS9hLWltYWdlLWNvdmVyLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL2F0b21zL2EtaW1hZ2UvYS1pbWFnZS1sYXp5LmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL2F0b21zL2EtcHJvZ3Jlc3MvYS1wcm9ncmVzcy5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLXNlYXJjaC9hLXNlYXJjaC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9hdG9tcy9hLXNvY2lhbC1pY29uL2Etc29jaWFsLWljb24uanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvZm9ybS1lbGVtZW50cy9hLWlucHV0L2EtaW5wdXQuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvYXRvbXMvZm9ybS1lbGVtZW50cy9hLXNlbGVjdC9hLXNlbGVjdC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1mb3JtL20tZm9ybS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1tYXAvbS1tYXAuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLWJhc2UuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLWRlc2t0b3AuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tbWVudS9tLW1lbnUtLW1vYmlsZS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1tZW51L20tbWVudS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9tb2xlY3VsZXMvbS1wZXJzb24vbS1wZXJzb24uanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvbW9sZWN1bGVzL20tc2hhcmUvbS1zaGFyZS5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9vcmdhbmlzbXMvby1jYW1wYWlnbi9vLWNhbXBhaWduLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9jb21wb25lbnRzL29yZ2FuaXNtcy9vLWZvb3Rlci9vLWZvb3Rlci5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy9vcmdhbmlzbXMvby1oZWFkZXIvby1oZWFkZXIuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2NvbXBvbmVudHMvb3JnYW5pc21zL28tcGVvcGxlLWdyaWQvby1wZW9wbGUtZ3JpZC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZXMvcGFnZS9wYWdlLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy9iYXNlLXZpZXcuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3NlcnZpY2UvYWpheC5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvanMvc2VydmljZS9hbmNob3IuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3NlcnZpY2UvZGlzdHJhY3Rpb25GcmVlLmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy9zZXJ2aWNlL2ludmlldy5qcyIsIndvcmRwcmVzcy93cC1jb250ZW50L3RoZW1lcy9sZXMtdmVydHMvc3R5bGVndWlkZS9zcmMvanMvdXRpbHMvY2xhc3NMaXN0LmpzIiwid29yZHByZXNzL3dwLWNvbnRlbnQvdGhlbWVzL2xlcy12ZXJ0cy9zdHlsZWd1aWRlL3NyYy9qcy91dGlscy9lbGVtZW50RXhpc3QuanMiLCJ3b3JkcHJlc3Mvd3AtY29udGVudC90aGVtZXMvbGVzLXZlcnRzL3N0eWxlZ3VpZGUvc3JjL2pzL3V0aWxzL3N0eWxlZ3VpZGUvc3JjL2pzL3V0aWxzL3BvbHlmaWxscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2x2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3RrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN2YkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcllBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0WEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwidmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuIiwidmFyIGNsb3Nlc3QgPSByZXF1aXJlKCcuL2Nsb3Nlc3QnKTtcblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd8QXJyYXl9IFtlbGVtZW50c11cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudHMsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIC8vIEhhbmRsZSB0aGUgcmVndWxhciBFbGVtZW50IHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cy5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgRWxlbWVudC1sZXNzIHVzYWdlLCBpdCBkZWZhdWx0cyB0byBnbG9iYWwgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVc2UgYGRvY3VtZW50YCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFwcGx5IGFyZ3VtZW50c1xuICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnQgd2F5IHRvIC51bnNoaWZ0IGBhcmd1bWVudHNgIHdpdGhvdXQgcnVubmluZyBpbnRvIGRlb3B0aW1pemF0aW9uc1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmJpbmQobnVsbCwgZG9jdW1lbnQpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNlbGVjdG9yLWJhc2VkIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQXJyYXktbGlrZSBiYXNlZCB1c2FnZVxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xuIiwiLyoqXG4gKiBEb203IDMuMC4wXG4gKiBNaW5pbWFsaXN0aWMgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBET00gbWFuaXB1bGF0aW9uLCB3aXRoIGEgalF1ZXJ5LWNvbXBhdGlibGUgQVBJXG4gKiBodHRwczovL2ZyYW1ld29yazcuaW8vZG9jcy9kb203Lmh0bWxcbiAqXG4gKiBDb3B5cmlnaHQgMjAyMCwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAqXG4gKiBSZWxlYXNlZCBvbjogTm92ZW1iZXIgOSwgMjAyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBzc3JXaW5kb3cgPSByZXF1aXJlKCdzc3Itd2luZG93Jyk7XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbmZ1bmN0aW9uIG1ha2VSZWFjdGl2ZShvYmopIHtcbiAgdmFyIHByb3RvID0gb2JqLl9fcHJvdG9fXztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ19fcHJvdG9fXycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBwcm90bztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBwcm90by5fX3Byb3RvX18gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgRG9tNyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FycmF5KSB7XG4gIF9pbmhlcml0c0xvb3NlKERvbTcsIF9BcnJheSk7XG5cbiAgZnVuY3Rpb24gRG9tNyhpdGVtcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0FycmF5LmNhbGwuYXBwbHkoX0FycmF5LCBbdGhpc10uY29uY2F0KGl0ZW1zKSkgfHwgdGhpcztcbiAgICBtYWtlUmVhY3RpdmUoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBEb203O1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoQXJyYXkpKTtcblxuZnVuY3Rpb24gYXJyYXlGbGF0KGFycikge1xuICBpZiAoYXJyID09PSB2b2lkIDApIHtcbiAgICBhcnIgPSBbXTtcbiAgfVxuXG4gIHZhciByZXMgPSBbXTtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XG4gICAgICByZXMucHVzaC5hcHBseShyZXMsIGFycmF5RmxhdChlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMucHVzaChlbCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFyciwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnIsIGNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGFycmF5VW5pcXVlKGFycikge1xuICB2YXIgdW5pcXVlQXJyYXkgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh1bmlxdWVBcnJheS5pbmRleE9mKGFycltpXSkgPT09IC0xKSB1bmlxdWVBcnJheS5wdXNoKGFycltpXSk7XG4gIH1cblxuICByZXR1cm4gdW5pcXVlQXJyYXk7XG59XG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywgZnVuY3Rpb24gKG1hdGNoLCBncm91cCkge1xuICAgIHJldHVybiBncm91cC50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcXNhKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFtzZWxlY3Rvcl07XG4gIH1cblxuICB2YXIgYSA9IFtdO1xuICB2YXIgcmVzID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGEucHVzaChyZXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uICQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgdmFyIHdpbmRvdyA9IHNzcldpbmRvdy5nZXRXaW5kb3coKTtcbiAgdmFyIGRvY3VtZW50ID0gc3NyV2luZG93LmdldERvY3VtZW50KCk7XG4gIHZhciBhcnIgPSBbXTtcblxuICBpZiAoIWNvbnRleHQgJiYgc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKCFzZWxlY3Rvcikge1xuICAgIHJldHVybiBuZXcgRG9tNyhhcnIpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgaHRtbCA9IHNlbGVjdG9yLnRyaW0oKTtcblxuICAgIGlmIChodG1sLmluZGV4T2YoJzwnKSA+PSAwICYmIGh0bWwuaW5kZXhPZignPicpID49IDApIHtcbiAgICAgIHZhciB0b0NyZWF0ZSA9ICdkaXYnO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPGxpJykgPT09IDApIHRvQ3JlYXRlID0gJ3VsJztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0cicpID09PSAwKSB0b0NyZWF0ZSA9ICd0Ym9keSc7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dGQnKSA9PT0gMCB8fCBodG1sLmluZGV4T2YoJzx0aCcpID09PSAwKSB0b0NyZWF0ZSA9ICd0cic7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dGJvZHknKSA9PT0gMCkgdG9DcmVhdGUgPSAndGFibGUnO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPG9wdGlvbicpID09PSAwKSB0b0NyZWF0ZSA9ICdzZWxlY3QnO1xuICAgICAgdmFyIHRlbXBQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRvQ3JlYXRlKTtcbiAgICAgIHRlbXBQYXJlbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wUGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyLnB1c2godGVtcFBhcmVudC5jaGlsZE5vZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyID0gcXNhKHNlbGVjdG9yLnRyaW0oKSwgY29udGV4dCB8fCBkb2N1bWVudCk7XG4gICAgfSAvLyBhcnIgPSBxc2Eoc2VsZWN0b3IsIGRvY3VtZW50KTtcblxuICB9IGVsc2UgaWYgKHNlbGVjdG9yLm5vZGVUeXBlIHx8IHNlbGVjdG9yID09PSB3aW5kb3cgfHwgc2VsZWN0b3IgPT09IGRvY3VtZW50KSB7XG4gICAgYXJyLnB1c2goc2VsZWN0b3IpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7XG4gICAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykgcmV0dXJuIHNlbGVjdG9yO1xuICAgIGFyciA9IHNlbGVjdG9yO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEb203KGFycmF5VW5pcXVlKGFycikpO1xufVxuXG4kLmZuID0gRG9tNy5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIGFkZENsYXNzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBjbGFzc2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICB9KSk7XG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICB2YXIgX2VsJGNsYXNzTGlzdDtcblxuICAgIChfZWwkY2xhc3NMaXN0ID0gZWwuY2xhc3NMaXN0KS5hZGQuYXBwbHkoX2VsJGNsYXNzTGlzdCwgY2xhc3NOYW1lcyk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGNsYXNzZXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgfSkpO1xuICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgdmFyIF9lbCRjbGFzc0xpc3QyO1xuXG4gICAgKF9lbCRjbGFzc0xpc3QyID0gZWwuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoX2VsJGNsYXNzTGlzdDIsIGNsYXNzTmFtZXMpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKCkge1xuICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBjbGFzc2VzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gIH1cblxuICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLnNwbGl0KCcgJyk7XG4gIH0pKTtcbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGNsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYXNDbGFzcygpIHtcbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgY2xhc3Nlc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG5cbiAgdmFyIGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICB9KSk7XG4gIHJldHVybiBhcnJheUZpbHRlcih0aGlzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gY2xhc3NOYW1lcy5maWx0ZXIoZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICAgIH0pLmxlbmd0aCA+IDA7XG4gIH0pLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIGF0dHIoYXR0cnMsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBHZXQgYXR0clxuICAgIGlmICh0aGlzWzBdKSByZXR1cm4gdGhpc1swXS5nZXRBdHRyaWJ1dGUoYXR0cnMpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gLy8gU2V0IGF0dHJzXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gU3RyaW5nXG4gICAgICB0aGlzW2ldLnNldEF0dHJpYnV0ZShhdHRycywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPYmplY3RcbiAgICAgIGZvciAodmFyIGF0dHJOYW1lIGluIGF0dHJzKSB7XG4gICAgICAgIHRoaXNbaV1bYXR0ck5hbWVdID0gYXR0cnNbYXR0ck5hbWVdO1xuICAgICAgICB0aGlzW2ldLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHByb3AocHJvcHMsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBHZXQgcHJvcFxuICAgIGlmICh0aGlzWzBdKSByZXR1cm4gdGhpc1swXVtwcm9wc107XG4gIH0gZWxzZSB7XG4gICAgLy8gU2V0IHByb3BzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBTdHJpbmdcbiAgICAgICAgdGhpc1tpXVtwcm9wc10gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9iamVjdFxuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wcykge1xuICAgICAgICAgIHRoaXNbaV1bcHJvcE5hbWVdID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGF0YShrZXksIHZhbHVlKSB7XG4gIHZhciBlbDtcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgIGVsID0gdGhpc1swXTtcbiAgICBpZiAoIWVsKSByZXR1cm4gdW5kZWZpbmVkOyAvLyBHZXQgdmFsdWVcblxuICAgIGlmIChlbC5kb203RWxlbWVudERhdGFTdG9yYWdlICYmIGtleSBpbiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldO1xuICAgIH1cblxuICAgIHZhciBkYXRhS2V5ID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIGtleSk7XG5cbiAgICBpZiAoZGF0YUtleSkge1xuICAgICAgcmV0dXJuIGRhdGFLZXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSAvLyBTZXQgdmFsdWVcblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGVsID0gdGhpc1tpXTtcbiAgICBpZiAoIWVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UpIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgPSB7fTtcbiAgICBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVEYXRhKGtleSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgJiYgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldKSB7XG4gICAgICBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0gPSBudWxsO1xuICAgICAgZGVsZXRlIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGF0YXNldCgpIHtcbiAgdmFyIGVsID0gdGhpc1swXTtcbiAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgdmFyIGRhdGFzZXQgPSB7fTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGlmIChlbC5kYXRhc2V0KSB7XG4gICAgZm9yICh2YXIgZGF0YUtleSBpbiBlbC5kYXRhc2V0KSB7XG4gICAgICBkYXRhc2V0W2RhdGFLZXldID0gZWwuZGF0YXNldFtkYXRhS2V5XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgX2F0dHIgPSBlbC5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICBpZiAoX2F0dHIubmFtZS5pbmRleE9mKCdkYXRhLScpID49IDApIHtcbiAgICAgICAgZGF0YXNldFt0b0NhbWVsQ2FzZShfYXR0ci5uYW1lLnNwbGl0KCdkYXRhLScpWzFdKV0gPSBfYXR0ci52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gZGF0YXNldCkge1xuICAgIGlmIChkYXRhc2V0W2tleV0gPT09ICdmYWxzZScpIGRhdGFzZXRba2V5XSA9IGZhbHNlO2Vsc2UgaWYgKGRhdGFzZXRba2V5XSA9PT0gJ3RydWUnKSBkYXRhc2V0W2tleV0gPSB0cnVlO2Vsc2UgaWYgKHBhcnNlRmxvYXQoZGF0YXNldFtrZXldKSA9PT0gZGF0YXNldFtrZXldICogMSkgZGF0YXNldFtrZXldICo9IDE7XG4gIH1cblxuICByZXR1cm4gZGF0YXNldDtcbn1cblxuZnVuY3Rpb24gdmFsKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gZ2V0IHZhbHVlXG4gICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICBpZiAoIWVsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGVsLm11bHRpcGxlICYmIGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWwuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGVsLnNlbGVjdGVkT3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xuICB9IC8vIHNldCB2YWx1ZVxuXG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgdmFyIF9lbCA9IHRoaXNbX2ldO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIF9lbC5tdWx0aXBsZSAmJiBfZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX2VsLm9wdGlvbnMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgX2VsLm9wdGlvbnNbal0uc2VsZWN0ZWQgPSB2YWx1ZS5pbmRleE9mKF9lbC5vcHRpb25zW2pdLnZhbHVlKSA+PSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBfZWwudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudmFsKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0uc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uICE9PSAnc3RyaW5nJyA/IGR1cmF0aW9uICsgXCJtc1wiIDogZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gb24oKSB7XG4gIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgfVxuXG4gIHZhciBldmVudFR5cGUgPSBhcmdzWzBdLFxuICAgICAgdGFyZ2V0U2VsZWN0b3IgPSBhcmdzWzFdLFxuICAgICAgbGlzdGVuZXIgPSBhcmdzWzJdLFxuICAgICAgY2FwdHVyZSA9IGFyZ3NbM107XG5cbiAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUeXBlID0gYXJnc1swXTtcbiAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgY2FwdHVyZSA9IGFyZ3NbMl07XG4gICAgdGFyZ2V0U2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoIWNhcHR1cmUpIGNhcHR1cmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBoYW5kbGVMaXZlRXZlbnQoZSkge1xuICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICAgIHZhciBldmVudERhdGEgPSBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdO1xuXG4gICAgaWYgKGV2ZW50RGF0YS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgZXZlbnREYXRhLnVuc2hpZnQoZSk7XG4gICAgfVxuXG4gICAgaWYgKCQodGFyZ2V0KS5pcyh0YXJnZXRTZWxlY3RvcikpIGxpc3RlbmVyLmFwcGx5KHRhcmdldCwgZXZlbnREYXRhKTtlbHNlIHtcbiAgICAgIHZhciBfcGFyZW50cyA9ICQodGFyZ2V0KS5wYXJlbnRzKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IF9wYXJlbnRzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgIGlmICgkKF9wYXJlbnRzW2tdKS5pcyh0YXJnZXRTZWxlY3RvcikpIGxpc3RlbmVyLmFwcGx5KF9wYXJlbnRzW2tdLCBldmVudERhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGUpIHtcbiAgICB2YXIgZXZlbnREYXRhID0gZSAmJiBlLnRhcmdldCA/IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW10gOiBbXTtcblxuICAgIGlmIChldmVudERhdGEuaW5kZXhPZihlKSA8IDApIHtcbiAgICAgIGV2ZW50RGF0YS51bnNoaWZ0KGUpO1xuICAgIH1cblxuICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGV2ZW50RGF0YSk7XG4gIH1cblxuICB2YXIgZXZlbnRzID0gZXZlbnRUeXBlLnNwbGl0KCcgJyk7XG4gIHZhciBqO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoIXRhcmdldFNlbGVjdG9yKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgZXZlbnRzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tqXTtcbiAgICAgICAgaWYgKCFlbC5kb203TGlzdGVuZXJzKSBlbC5kb203TGlzdGVuZXJzID0ge307XG4gICAgICAgIGlmICghZWwuZG9tN0xpc3RlbmVyc1tldmVudF0pIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICAgIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICBwcm94eUxpc3RlbmVyOiBoYW5kbGVFdmVudFxuICAgICAgICB9KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlRXZlbnQsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXZlIGV2ZW50c1xuICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50cy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICB2YXIgX2V2ZW50ID0gZXZlbnRzW2pdO1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXZlTGlzdGVuZXJzKSBlbC5kb203TGl2ZUxpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXZlTGlzdGVuZXJzW19ldmVudF0pIGVsLmRvbTdMaXZlTGlzdGVuZXJzW19ldmVudF0gPSBbXTtcblxuICAgICAgICBlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdLnB1c2goe1xuICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICBwcm94eUxpc3RlbmVyOiBoYW5kbGVMaXZlRXZlbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihfZXZlbnQsIGhhbmRsZUxpdmVFdmVudCwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIG9mZigpIHtcbiAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICB9XG5cbiAgdmFyIGV2ZW50VHlwZSA9IGFyZ3NbMF0sXG4gICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMl0sXG4gICAgICBjYXB0dXJlID0gYXJnc1szXTtcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFR5cGUgPSBhcmdzWzBdO1xuICAgIGxpc3RlbmVyID0gYXJnc1sxXTtcbiAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICB0YXJnZXRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuICB2YXIgZXZlbnRzID0gZXZlbnRUeXBlLnNwbGl0KCcgJyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbal07XG4gICAgICB2YXIgaGFuZGxlcnMgPSB2b2lkIDA7XG5cbiAgICAgIGlmICghdGFyZ2V0U2VsZWN0b3IgJiYgZWwuZG9tN0xpc3RlbmVycykge1xuICAgICAgICBoYW5kbGVycyA9IGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGl2ZUxpc3RlbmVycykge1xuICAgICAgICBoYW5kbGVycyA9IGVsLmRvbTdMaXZlTGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBrID0gaGFuZGxlcnMubGVuZ3RoIC0gMTsgayA+PSAwOyBrIC09IDEpIHtcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGhhbmRsZXJzW2tdO1xuXG4gICAgICAgICAgaWYgKGxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLnByb3h5TGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIG9uY2UoKSB7XG4gIHZhciBkb20gPSB0aGlzO1xuXG4gIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgfVxuXG4gIHZhciBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgdGFyZ2V0U2VsZWN0b3IgPSBhcmdzWzFdLFxuICAgICAgbGlzdGVuZXIgPSBhcmdzWzJdLFxuICAgICAgY2FwdHVyZSA9IGFyZ3NbM107XG5cbiAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnROYW1lID0gYXJnc1swXTtcbiAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgY2FwdHVyZSA9IGFyZ3NbMl07XG4gICAgdGFyZ2V0U2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBvbmNlSGFuZGxlcigpIHtcbiAgICBmb3IgKHZhciBfbGVuOCA9IGFyZ3VtZW50cy5sZW5ndGgsIGV2ZW50QXJncyA9IG5ldyBBcnJheShfbGVuOCksIF9rZXk4ID0gMDsgX2tleTggPCBfbGVuODsgX2tleTgrKykge1xuICAgICAgZXZlbnRBcmdzW19rZXk4XSA9IGFyZ3VtZW50c1tfa2V5OF07XG4gICAgfVxuXG4gICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZXZlbnRBcmdzKTtcbiAgICBkb20ub2ZmKGV2ZW50TmFtZSwgdGFyZ2V0U2VsZWN0b3IsIG9uY2VIYW5kbGVyLCBjYXB0dXJlKTtcblxuICAgIGlmIChvbmNlSGFuZGxlci5kb203cHJveHkpIHtcbiAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5kb203cHJveHk7XG4gICAgfVxuICB9XG5cbiAgb25jZUhhbmRsZXIuZG9tN3Byb3h5ID0gbGlzdGVuZXI7XG4gIHJldHVybiBkb20ub24oZXZlbnROYW1lLCB0YXJnZXRTZWxlY3Rvciwgb25jZUhhbmRsZXIsIGNhcHR1cmUpO1xufVxuXG5mdW5jdGlvbiB0cmlnZ2VyKCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuXG4gIGZvciAodmFyIF9sZW45ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuOSksIF9rZXk5ID0gMDsgX2tleTkgPCBfbGVuOTsgX2tleTkrKykge1xuICAgIGFyZ3NbX2tleTldID0gYXJndW1lbnRzW19rZXk5XTtcbiAgfVxuXG4gIHZhciBldmVudHMgPSBhcmdzWzBdLnNwbGl0KCcgJyk7XG4gIHZhciBldmVudERhdGEgPSBhcmdzWzFdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzW2pdO1xuXG4gICAgICBpZiAod2luZG93LkN1c3RvbUV2ZW50KSB7XG4gICAgICAgIHZhciBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudERhdGEsXG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kb203RXZlbnREYXRhID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgICAgIHJldHVybiBkYXRhSW5kZXggPiAwO1xuICAgICAgICB9KTtcbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICBlbC5kb203RXZlbnREYXRhID0gW107XG4gICAgICAgIGRlbGV0ZSBlbC5kb203RXZlbnREYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGNhbGxiYWNrKSB7XG4gIHZhciBkb20gPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICBkb20ub2ZmKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgfVxuXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGRvbS5vbigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYW5pbWF0aW9uRW5kKGNhbGxiYWNrKSB7XG4gIHZhciBkb20gPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICBkb20ub2ZmKCdhbmltYXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZG9tLm9uKCdhbmltYXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHdpZHRoKCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuXG4gIGlmICh0aGlzWzBdID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGg7XG4gIH1cblxuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jc3MoJ3dpZHRoJykpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG91dGVyV2lkdGgoaW5jbHVkZU1hcmdpbnMpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGlmIChpbmNsdWRlTWFyZ2lucykge1xuICAgICAgdmFyIF9zdHlsZXMgPSB0aGlzLnN0eWxlcygpO1xuXG4gICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRXaWR0aCArIHBhcnNlRmxvYXQoX3N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tcmlnaHQnKSkgKyBwYXJzZUZsb2F0KF9zdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGg7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaGVpZ2h0KCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuXG4gIGlmICh0aGlzWzBdID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMuY3NzKCdoZWlnaHQnKSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gb3V0ZXJIZWlnaHQoaW5jbHVkZU1hcmdpbnMpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGlmIChpbmNsdWRlTWFyZ2lucykge1xuICAgICAgdmFyIF9zdHlsZXMyID0gdGhpcy5zdHlsZXMoKTtcblxuICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0ICsgcGFyc2VGbG9hdChfc3R5bGVzMi5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tdG9wJykpICsgcGFyc2VGbG9hdChfc3R5bGVzMi5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tYm90dG9tJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzWzBdLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBvZmZzZXQoKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICAgIHZhciBkb2N1bWVudCA9IHNzcldpbmRvdy5nZXREb2N1bWVudCgpO1xuICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgdmFyIGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICB2YXIgY2xpZW50VG9wID0gZWwuY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDA7XG4gICAgdmFyIGNsaWVudExlZnQgPSBlbC5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwO1xuICAgIHZhciBzY3JvbGxUb3AgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFkgOiBlbC5zY3JvbGxUb3A7XG4gICAgdmFyIHNjcm9sbExlZnQgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFggOiBlbC5zY3JvbGxMZWZ0O1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGJveC50b3AgKyBzY3JvbGxUb3AgLSBjbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBoaWRlKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2hvdygpIHtcbiAgdmFyIHdpbmRvdyA9IHNzcldpbmRvdy5nZXRXaW5kb3coKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpID09PSAnbm9uZScpIHtcbiAgICAgIC8vIFN0aWxsIG5vdCB2aXNpYmxlXG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc3R5bGVzKCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICBpZiAodGhpc1swXSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpO1xuICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIGNzcyhwcm9wcywgdmFsdWUpIHtcbiAgdmFyIHdpbmRvdyA9IHNzcldpbmRvdy5nZXRXaW5kb3coKTtcbiAgdmFyIGk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICBpZiAodHlwZW9mIHByb3BzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gLmNzcygnd2lkdGgnKVxuICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLmNzcyh7IHdpZHRoOiAnMTAwcHgnIH0pXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBmb3IgKHZhciBfcHJvcCBpbiBwcm9wcykge1xuICAgICAgICAgIHRoaXNbaV0uc3R5bGVbX3Byb3BdID0gcHJvcHNbX3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyAuY3NzKCd3aWR0aCcsICcxMDBweCcpXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXNbaV0uc3R5bGVbcHJvcHNdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZWFjaChjYWxsYmFjaykge1xuICBpZiAoIWNhbGxiYWNrKSByZXR1cm4gdGhpcztcbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHtcbiAgICBjYWxsYmFjay5hcHBseShlbCwgW2VsLCBpbmRleF0pO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0ID0gYXJyYXlGaWx0ZXIodGhpcywgY2FsbGJhY2spO1xuICByZXR1cm4gJChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBodG1sKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBodG1sID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5pbm5lckhUTUwgPSBodG1sO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRleHQodGV4dCkge1xuICBpZiAodHlwZW9mIHRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBpcyhzZWxlY3Rvcikge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuICB2YXIgZG9jdW1lbnQgPSBzc3JXaW5kb3cuZ2V0RG9jdW1lbnQoKTtcbiAgdmFyIGVsID0gdGhpc1swXTtcbiAgdmFyIGNvbXBhcmVXaXRoO1xuICB2YXIgaTtcbiAgaWYgKCFlbCB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoZWwubWF0Y2hlcykgcmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGlmIChlbC5tc01hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGVsLm1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBjb21wYXJlV2l0aCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbXBhcmVXaXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoY29tcGFyZVdpdGhbaV0gPT09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgPT09IGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIGVsID09PSBkb2N1bWVudDtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciA9PT0gd2luZG93KSB7XG4gICAgcmV0dXJuIGVsID09PSB3aW5kb3c7XG4gIH1cblxuICBpZiAoc2VsZWN0b3Iubm9kZVR5cGUgfHwgc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgY29tcGFyZVdpdGggPSBzZWxlY3Rvci5ub2RlVHlwZSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3RvcjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb21wYXJlV2l0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGNvbXBhcmVXaXRoW2ldID09PSBlbCkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbmRleCgpIHtcbiAgdmFyIGNoaWxkID0gdGhpc1swXTtcbiAgdmFyIGk7XG5cbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZXEoaW5kZXgpIHtcbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzO1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG5cbiAgaWYgKGluZGV4ID4gbGVuZ3RoIC0gMSkge1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICB2YXIgcmV0dXJuSW5kZXggPSBsZW5ndGggKyBpbmRleDtcbiAgICBpZiAocmV0dXJuSW5kZXggPCAwKSByZXR1cm4gJChbXSk7XG4gICAgcmV0dXJuICQoW3RoaXNbcmV0dXJuSW5kZXhdXSk7XG4gIH1cblxuICByZXR1cm4gJChbdGhpc1tpbmRleF1dKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kKCkge1xuICB2YXIgbmV3Q2hpbGQ7XG4gIHZhciBkb2N1bWVudCA9IHNzcldpbmRvdy5nZXREb2N1bWVudCgpO1xuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgYXJndW1lbnRzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgbmV3Q2hpbGQgPSBrIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGsgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNba107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gbmV3Q2hpbGQ7XG5cbiAgICAgICAgd2hpbGUgKHRlbXBEaXYuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdDaGlsZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQobmV3Q2hpbGRbal0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW2ldLmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYXBwZW5kVG8ocGFyZW50KSB7XG4gICQocGFyZW50KS5hcHBlbmQodGhpcyk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kKG5ld0NoaWxkKSB7XG4gIHZhciBkb2N1bWVudCA9IHNzcldpbmRvdy5nZXREb2N1bWVudCgpO1xuICB2YXIgaTtcbiAgdmFyIGo7XG5cbiAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gbmV3Q2hpbGQ7XG5cbiAgICAgIGZvciAoaiA9IHRlbXBEaXYuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkge1xuICAgICAgICB0aGlzW2ldLmluc2VydEJlZm9yZSh0ZW1wRGl2LmNoaWxkTm9kZXNbal0sIHRoaXNbaV0uY2hpbGROb2Rlc1swXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBuZXdDaGlsZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICB0aGlzW2ldLmluc2VydEJlZm9yZShuZXdDaGlsZFtqXSwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1tpXS5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHRoaXNbaV0uY2hpbGROb2Rlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHByZXBlbmRUbyhwYXJlbnQpIHtcbiAgJChwYXJlbnQpLnByZXBlbmQodGhpcyk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoc2VsZWN0b3IpIHtcbiAgdmFyIGJlZm9yZSA9ICQoc2VsZWN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChiZWZvcmUubGVuZ3RoID09PSAxKSB7XG4gICAgICBiZWZvcmVbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXSwgYmVmb3JlWzBdKTtcbiAgICB9IGVsc2UgaWYgKGJlZm9yZS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJlZm9yZS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBiZWZvcmVbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGJlZm9yZVtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydEFmdGVyKHNlbGVjdG9yKSB7XG4gIHZhciBhZnRlciA9ICQoc2VsZWN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhZnRlci5sZW5ndGggPT09IDEpIHtcbiAgICAgIGFmdGVyWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbaV0sIGFmdGVyWzBdLm5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2UgaWYgKGFmdGVyLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYWZ0ZXIubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgYWZ0ZXJbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGFmdGVyW2pdLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbmV4dChzZWxlY3Rvcikge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgJCh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZykuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKSByZXR1cm4gJChbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddKTtcbiAgICByZXR1cm4gJChbXSk7XG4gIH1cblxuICByZXR1cm4gJChbXSk7XG59XG5cbmZ1bmN0aW9uIG5leHRBbGwoc2VsZWN0b3IpIHtcbiAgdmFyIG5leHRFbHMgPSBbXTtcbiAgdmFyIGVsID0gdGhpc1swXTtcbiAgaWYgKCFlbCkgcmV0dXJuICQoW10pO1xuXG4gIHdoaWxlIChlbC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICB2YXIgX25leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCQoX25leHQpLmlzKHNlbGVjdG9yKSkgbmV4dEVscy5wdXNoKF9uZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKF9uZXh0KTtcblxuICAgIGVsID0gX25leHQ7XG4gIH1cblxuICByZXR1cm4gJChuZXh0RWxzKTtcbn1cblxuZnVuY3Rpb24gcHJldihzZWxlY3Rvcikge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGVsID0gdGhpc1swXTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgJChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuICQoW2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICQoW10pO1xuICAgIH1cblxuICAgIGlmIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSByZXR1cm4gJChbZWwucHJldmlvdXNFbGVtZW50U2libGluZ10pO1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIHJldHVybiAkKFtdKTtcbn1cblxuZnVuY3Rpb24gcHJldkFsbChzZWxlY3Rvcikge1xuICB2YXIgcHJldkVscyA9IFtdO1xuICB2YXIgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgd2hpbGUgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICB2YXIgX3ByZXYgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICgkKF9wcmV2KS5pcyhzZWxlY3RvcikpIHByZXZFbHMucHVzaChfcHJldik7XG4gICAgfSBlbHNlIHByZXZFbHMucHVzaChfcHJldik7XG5cbiAgICBlbCA9IF9wcmV2O1xuICB9XG5cbiAgcmV0dXJuICQocHJldkVscyk7XG59XG5cbmZ1bmN0aW9uIHNpYmxpbmdzKHNlbGVjdG9yKSB7XG4gIHJldHVybiB0aGlzLm5leHRBbGwoc2VsZWN0b3IpLmFkZCh0aGlzLnByZXZBbGwoc2VsZWN0b3IpKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50KHNlbGVjdG9yKSB7XG4gIHZhciBwYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodGhpc1tpXS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCQodGhpc1tpXS5wYXJlbnROb2RlKS5pcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaCh0aGlzW2ldLnBhcmVudE5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50cy5wdXNoKHRoaXNbaV0ucGFyZW50Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICQocGFyZW50cyk7XG59XG5cbmZ1bmN0aW9uIHBhcmVudHMoc2VsZWN0b3IpIHtcbiAgdmFyIHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBfcGFyZW50ID0gdGhpc1tpXS5wYXJlbnROb2RlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICB3aGlsZSAoX3BhcmVudCkge1xuICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmICgkKF9wYXJlbnQpLmlzKHNlbGVjdG9yKSkgcGFyZW50cy5wdXNoKF9wYXJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50cy5wdXNoKF9wYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBfcGFyZW50ID0gX3BhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKHBhcmVudHMpO1xufVxuXG5mdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XG4gIHZhciBjbG9zZXN0ID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgaWYgKCFjbG9zZXN0LmlzKHNlbGVjdG9yKSkge1xuICAgIGNsb3Nlc3QgPSBjbG9zZXN0LnBhcmVudHMoc2VsZWN0b3IpLmVxKDApO1xuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3Q7XG59XG5cbmZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IpIHtcbiAgdmFyIGZvdW5kRWxlbWVudHMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZm91bmQgPSB0aGlzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBmb3VuZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgZm91bmRFbGVtZW50cy5wdXNoKGZvdW5kW2pdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJChmb3VuZEVsZW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgdmFyIGNoaWxkcmVuID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHRoaXNbaV0uY2hpbGRyZW47XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkTm9kZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGlmICghc2VsZWN0b3IgfHwgJChjaGlsZE5vZGVzW2pdKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZE5vZGVzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gJChjaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHRoaXNbaV0ucGFyZW50Tm9kZSkgdGhpc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgcmV0dXJuIHRoaXMucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGFkZCgpIHtcbiAgdmFyIGRvbSA9IHRoaXM7XG4gIHZhciBpO1xuICB2YXIgajtcblxuICBmb3IgKHZhciBfbGVuMTAgPSBhcmd1bWVudHMubGVuZ3RoLCBlbHMgPSBuZXcgQXJyYXkoX2xlbjEwKSwgX2tleTEwID0gMDsgX2tleTEwIDwgX2xlbjEwOyBfa2V5MTArKykge1xuICAgIGVsc1tfa2V5MTBdID0gYXJndW1lbnRzW19rZXkxMF07XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIHRvQWRkID0gJChlbHNbaV0pO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IHRvQWRkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBkb20ucHVzaCh0b0FkZFtqXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRvbTtcbn1cblxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWwuY2hpbGROb2Rlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBpZiAoZWwuY2hpbGROb2Rlc1tqXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgZWwuY2hpbGROb2Rlc1tqXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsLmNoaWxkTm9kZXNbal0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFRvKCkge1xuICB2YXIgd2luZG93ID0gc3NyV2luZG93LmdldFdpbmRvdygpO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgbGVmdCA9IGFyZ3NbMF0sXG4gICAgICB0b3AgPSBhcmdzWzFdLFxuICAgICAgZHVyYXRpb24gPSBhcmdzWzJdLFxuICAgICAgZWFzaW5nID0gYXJnc1szXSxcbiAgICAgIGNhbGxiYWNrID0gYXJnc1s0XTtcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gZWFzaW5nO1xuICAgIGxlZnQgPSBhcmdzWzBdO1xuICAgIHRvcCA9IGFyZ3NbMV07XG4gICAgZHVyYXRpb24gPSBhcmdzWzJdO1xuICAgIGNhbGxiYWNrID0gYXJnc1szXTtcbiAgICBlYXNpbmcgPSBhcmdzWzRdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICd1bmRlZmluZWQnKSBlYXNpbmcgPSAnc3dpbmcnO1xuICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgdmFyIGVsID0gdGhpcztcbiAgICB2YXIgY3VycmVudFRvcDtcbiAgICB2YXIgY3VycmVudExlZnQ7XG4gICAgdmFyIG1heFRvcDtcbiAgICB2YXIgbWF4TGVmdDtcbiAgICB2YXIgbmV3VG9wO1xuICAgIHZhciBuZXdMZWZ0O1xuICAgIHZhciBzY3JvbGxUb3A7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHZhciBzY3JvbGxMZWZ0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICB2YXIgYW5pbWF0ZVRvcCA9IHRvcCA+IDAgfHwgdG9wID09PSAwO1xuICAgIHZhciBhbmltYXRlTGVmdCA9IGxlZnQgPiAwIHx8IGxlZnQgPT09IDA7XG5cbiAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVhc2luZyA9ICdzd2luZyc7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgIGN1cnJlbnRUb3AgPSBlbC5zY3JvbGxUb3A7XG5cbiAgICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbmltYXRlTGVmdCkge1xuICAgICAgY3VycmVudExlZnQgPSBlbC5zY3JvbGxMZWZ0O1xuXG4gICAgICBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgIGVsLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZHVyYXRpb24pIHJldHVybjtcblxuICAgIGlmIChhbmltYXRlVG9wKSB7XG4gICAgICBtYXhUb3AgPSBlbC5zY3JvbGxIZWlnaHQgLSBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBuZXdUb3AgPSBNYXRoLm1heChNYXRoLm1pbih0b3AsIG1heFRvcCksIDApO1xuICAgIH1cblxuICAgIGlmIChhbmltYXRlTGVmdCkge1xuICAgICAgbWF4TGVmdCA9IGVsLnNjcm9sbFdpZHRoIC0gZWwub2Zmc2V0V2lkdGg7XG4gICAgICBuZXdMZWZ0ID0gTWF0aC5tYXgoTWF0aC5taW4obGVmdCwgbWF4TGVmdCksIDApO1xuICAgIH1cblxuICAgIHZhciBzdGFydFRpbWUgPSBudWxsO1xuICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA9PT0gY3VycmVudFRvcCkgYW5pbWF0ZVRvcCA9IGZhbHNlO1xuICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0ID09PSBjdXJyZW50TGVmdCkgYW5pbWF0ZUxlZnQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlcih0aW1lKSB7XG4gICAgICBpZiAodGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiwgMSksIDApO1xuICAgICAgdmFyIGVhc2VQcm9ncmVzcyA9IGVhc2luZyA9PT0gJ2xpbmVhcicgPyBwcm9ncmVzcyA6IDAuNSAtIE1hdGguY29zKHByb2dyZXNzICogTWF0aC5QSSkgLyAyO1xuICAgICAgdmFyIGRvbmU7XG4gICAgICBpZiAoYW5pbWF0ZVRvcCkgc2Nyb2xsVG9wID0gY3VycmVudFRvcCArIGVhc2VQcm9ncmVzcyAqIChuZXdUb3AgLSBjdXJyZW50VG9wKTtcbiAgICAgIGlmIChhbmltYXRlTGVmdCkgc2Nyb2xsTGVmdCA9IGN1cnJlbnRMZWZ0ICsgZWFzZVByb2dyZXNzICogKG5ld0xlZnQgLSBjdXJyZW50TGVmdCk7XG5cbiAgICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA+IGN1cnJlbnRUb3AgJiYgc2Nyb2xsVG9wID49IG5ld1RvcCkge1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSBuZXdUb3A7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZVRvcCAmJiBuZXdUb3AgPCBjdXJyZW50VG9wICYmIHNjcm9sbFRvcCA8PSBuZXdUb3ApIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gbmV3VG9wO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFuaW1hdGVMZWZ0ICYmIG5ld0xlZnQgPiBjdXJyZW50TGVmdCAmJiBzY3JvbGxMZWZ0ID49IG5ld0xlZnQpIHtcbiAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IG5ld0xlZnQ7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZUxlZnQgJiYgbmV3TGVmdCA8IGN1cnJlbnRMZWZ0ICYmIHNjcm9sbExlZnQgPD0gbmV3TGVmdCkge1xuICAgICAgICBlbC5zY3JvbGxMZWZ0ID0gbmV3TGVmdDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZVRvcCkgZWwuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgaWYgKGFuaW1hdGVMZWZ0KSBlbC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICB9XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gIH0pO1xufSAvLyBzY3JvbGxUb3AodG9wLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykge1xuXG5cbmZ1bmN0aW9uIHNjcm9sbFRvcCgpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgdmFyIHRvcCA9IGFyZ3NbMF0sXG4gICAgICBkdXJhdGlvbiA9IGFyZ3NbMV0sXG4gICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgY2FsbGJhY2sgPSBhcmdzWzNdO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMyAmJiB0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdG9wID0gYXJnc1swXTtcbiAgICBkdXJhdGlvbiA9IGFyZ3NbMV07XG4gICAgY2FsbGJhY2sgPSBhcmdzWzJdO1xuICAgIGVhc2luZyA9IGFyZ3NbM107XG4gIH1cblxuICB2YXIgZG9tID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoZG9tLmxlbmd0aCA+IDApIHJldHVybiBkb21bMF0uc2Nyb2xsVG9wO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRvbS5zY3JvbGxUbyh1bmRlZmluZWQsIHRvcCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxMZWZ0KCkge1xuICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gIH1cblxuICB2YXIgbGVmdCA9IGFyZ3NbMF0sXG4gICAgICBkdXJhdGlvbiA9IGFyZ3NbMV0sXG4gICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgY2FsbGJhY2sgPSBhcmdzWzNdO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMyAmJiB0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbGVmdCA9IGFyZ3NbMF07XG4gICAgZHVyYXRpb24gPSBhcmdzWzFdO1xuICAgIGNhbGxiYWNrID0gYXJnc1syXTtcbiAgICBlYXNpbmcgPSBhcmdzWzNdO1xuICB9XG5cbiAgdmFyIGRvbSA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb20ubGVuZ3RoID4gMCkgcmV0dXJuIGRvbVswXS5zY3JvbGxMZWZ0O1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRvbS5zY3JvbGxUbyhsZWZ0LCB1bmRlZmluZWQsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZShpbml0aWFsUHJvcHMsIGluaXRpYWxQYXJhbXMpIHtcbiAgdmFyIHdpbmRvdyA9IHNzcldpbmRvdy5nZXRXaW5kb3coKTtcbiAgdmFyIGVscyA9IHRoaXM7XG4gIHZhciBhID0ge1xuICAgIHByb3BzOiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsUHJvcHMpLFxuICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7XG4gICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgZWFzaW5nOiAnc3dpbmcnIC8vIG9yICdsaW5lYXInXG5cbiAgICAgIC8qIENhbGxiYWNrc1xuICAgICAgYmVnaW4oZWxlbWVudHMpXG4gICAgICBjb21wbGV0ZShlbGVtZW50cylcbiAgICAgIHByb2dyZXNzKGVsZW1lbnRzLCBjb21wbGV0ZSwgcmVtYWluaW5nLCBzdGFydCwgdHdlZW5WYWx1ZSlcbiAgICAgICovXG5cbiAgICB9LCBpbml0aWFsUGFyYW1zKSxcbiAgICBlbGVtZW50czogZWxzLFxuICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgcXVlOiBbXSxcbiAgICBlYXNpbmdQcm9ncmVzczogZnVuY3Rpb24gZWFzaW5nUHJvZ3Jlc3MoZWFzaW5nLCBwcm9ncmVzcykge1xuICAgICAgaWYgKGVhc2luZyA9PT0gJ3N3aW5nJykge1xuICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBlYXNpbmcocHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvZ3Jlc3M7XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgaWYgKGEuZnJhbWVJZCkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYS5mcmFtZUlkKTtcbiAgICAgIH1cblxuICAgICAgYS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIGEuZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbDtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQuZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICAgIH0pO1xuICAgICAgYS5xdWUgPSBbXTtcbiAgICB9LFxuICAgIGRvbmU6IGZ1bmN0aW9uIGRvbmUoY29tcGxldGUpIHtcbiAgICAgIGEuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICBhLmVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZWw7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50LmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChjb21wbGV0ZSkgY29tcGxldGUoZWxzKTtcblxuICAgICAgaWYgKGEucXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHF1ZSA9IGEucXVlLnNoaWZ0KCk7XG4gICAgICAgIGEuYW5pbWF0ZShxdWVbMF0sIHF1ZVsxXSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhbmltYXRlOiBmdW5jdGlvbiBhbmltYXRlKHByb3BzLCBwYXJhbXMpIHtcbiAgICAgIGlmIChhLmFuaW1hdGluZykge1xuICAgICAgICBhLnF1ZS5wdXNoKFtwcm9wcywgcGFyYW1zXSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudHMgPSBbXTsgLy8gRGVmaW5lICYgQ2FjaGUgSW5pdGlhbHMgJiBVbml0c1xuXG4gICAgICBhLmVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgICAgICB2YXIgaW5pdGlhbEZ1bGxWYWx1ZTtcbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZTtcbiAgICAgICAgdmFyIHVuaXQ7XG4gICAgICAgIHZhciBmaW5hbFZhbHVlO1xuICAgICAgICB2YXIgZmluYWxGdWxsVmFsdWU7XG4gICAgICAgIGlmICghZWwuZG9tN0FuaW1hdGVJbnN0YW5jZSkgYS5lbGVtZW50c1tpbmRleF0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IHtcbiAgICAgICAgICBjb250YWluZXI6IGVsXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgaW5pdGlhbEZ1bGxWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApLnJlcGxhY2UoJywnLCAnLicpO1xuICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IHBhcnNlRmxvYXQoaW5pdGlhbEZ1bGxWYWx1ZSk7XG4gICAgICAgICAgdW5pdCA9IGluaXRpYWxGdWxsVmFsdWUucmVwbGFjZShpbml0aWFsVmFsdWUsICcnKTtcbiAgICAgICAgICBmaW5hbFZhbHVlID0gcGFyc2VGbG9hdChwcm9wc1twcm9wXSk7XG4gICAgICAgICAgZmluYWxGdWxsVmFsdWUgPSBwcm9wc1twcm9wXSArIHVuaXQ7XG4gICAgICAgICAgZWxlbWVudHNbaW5kZXhdW3Byb3BdID0ge1xuICAgICAgICAgICAgaW5pdGlhbEZ1bGxWYWx1ZTogaW5pdGlhbEZ1bGxWYWx1ZSxcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgICAgICAgICAgdW5pdDogdW5pdCxcbiAgICAgICAgICAgIGZpbmFsVmFsdWU6IGZpbmFsVmFsdWUsXG4gICAgICAgICAgICBmaW5hbEZ1bGxWYWx1ZTogZmluYWxGdWxsVmFsdWUsXG4gICAgICAgICAgICBjdXJyZW50VmFsdWU6IGluaXRpYWxWYWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgIHZhciB0aW1lO1xuICAgICAgdmFyIGVsZW1lbnRzRG9uZSA9IDA7XG4gICAgICB2YXIgcHJvcHNEb25lID0gMDtcbiAgICAgIHZhciBkb25lO1xuICAgICAgdmFyIGJlZ2FuID0gZmFsc2U7XG4gICAgICBhLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgcHJvZ3Jlc3M7XG4gICAgICAgIHZhciBlYXNlUHJvZ3Jlc3M7IC8vIGxldCBlbDtcblxuICAgICAgICBpZiAoIWJlZ2FuKSB7XG4gICAgICAgICAgYmVnYW4gPSB0cnVlO1xuICAgICAgICAgIGlmIChwYXJhbXMuYmVnaW4pIHBhcmFtcy5iZWdpbihlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgcGFyYW1zLnByb2dyZXNzKGVscywgTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gcGFyYW1zLmR1cmF0aW9uLCAxKSwgMCksIHN0YXJ0VGltZSArIHBhcmFtcy5kdXJhdGlvbiAtIHRpbWUgPCAwID8gMCA6IHN0YXJ0VGltZSArIHBhcmFtcy5kdXJhdGlvbiAtIHRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGVsID0gZWxlbWVudDtcbiAgICAgICAgICBpZiAoZG9uZSB8fCBlbC5kb25lKSByZXR1cm47XG4gICAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmIChkb25lIHx8IGVsLmRvbmUpIHJldHVybjtcbiAgICAgICAgICAgIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gcGFyYW1zLmR1cmF0aW9uLCAxKSwgMCk7XG4gICAgICAgICAgICBlYXNlUHJvZ3Jlc3MgPSBhLmVhc2luZ1Byb2dyZXNzKHBhcmFtcy5lYXNpbmcsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIHZhciBfZWwkcHJvcCA9IGVsW3Byb3BdLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IF9lbCRwcm9wLmluaXRpYWxWYWx1ZSxcbiAgICAgICAgICAgICAgICBmaW5hbFZhbHVlID0gX2VsJHByb3AuZmluYWxWYWx1ZSxcbiAgICAgICAgICAgICAgICB1bml0ID0gX2VsJHByb3AudW5pdDtcbiAgICAgICAgICAgIGVsW3Byb3BdLmN1cnJlbnRWYWx1ZSA9IGluaXRpYWxWYWx1ZSArIGVhc2VQcm9ncmVzcyAqIChmaW5hbFZhbHVlIC0gaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBlbFtwcm9wXS5jdXJyZW50VmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChmaW5hbFZhbHVlID4gaW5pdGlhbFZhbHVlICYmIGN1cnJlbnRWYWx1ZSA+PSBmaW5hbFZhbHVlIHx8IGZpbmFsVmFsdWUgPCBpbml0aWFsVmFsdWUgJiYgY3VycmVudFZhbHVlIDw9IGZpbmFsVmFsdWUpIHtcbiAgICAgICAgICAgICAgZWwuY29udGFpbmVyLnN0eWxlW3Byb3BdID0gZmluYWxWYWx1ZSArIHVuaXQ7XG4gICAgICAgICAgICAgIHByb3BzRG9uZSArPSAxO1xuXG4gICAgICAgICAgICAgIGlmIChwcm9wc0RvbmUgPT09IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlbC5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0RvbmUgKz0gMTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChlbGVtZW50c0RvbmUgPT09IGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgIGEuZG9uZShwYXJhbXMuY29tcGxldGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsLmNvbnRhaW5lci5zdHlsZVtwcm9wXSA9IGN1cnJlbnRWYWx1ZSArIHVuaXQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuOyAvLyBUaGVuIGNhbGxcblxuICAgICAgICBhLmZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICB9XG5cbiAgICAgIGEuZnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICBpZiAoYS5lbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZWxzO1xuICB9XG5cbiAgdmFyIGFuaW1hdGVJbnN0YW5jZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGEuZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYS5lbGVtZW50c1tpXS5kb203QW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgICBhbmltYXRlSW5zdGFuY2UgPSBhLmVsZW1lbnRzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgfSBlbHNlIGEuZWxlbWVudHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gIH1cblxuICBpZiAoIWFuaW1hdGVJbnN0YW5jZSkge1xuICAgIGFuaW1hdGVJbnN0YW5jZSA9IGE7XG4gIH1cblxuICBpZiAoaW5pdGlhbFByb3BzID09PSAnc3RvcCcpIHtcbiAgICBhbmltYXRlSW5zdGFuY2Uuc3RvcCgpO1xuICB9IGVsc2Uge1xuICAgIGFuaW1hdGVJbnN0YW5jZS5hbmltYXRlKGEucHJvcHMsIGEucGFyYW1zKTtcbiAgfVxuXG4gIHJldHVybiBlbHM7XG59XG5cbmZ1bmN0aW9uIHN0b3AoKSB7XG4gIHZhciBlbHMgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgICBlbHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZS5zdG9wKCk7XG4gICAgfVxuICB9XG59XG5cbnZhciBub1RyaWdnZXIgPSAncmVzaXplIHNjcm9sbCcuc3BsaXQoJyAnKTtcblxuZnVuY3Rpb24gc2hvcnRjdXQobmFtZSkge1xuICBmdW5jdGlvbiBldmVudEhhbmRsZXIoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAobm9UcmlnZ2VyLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgaWYgKG5hbWUgaW4gdGhpc1tpXSkgdGhpc1tpXVtuYW1lXSgpO2Vsc2Uge1xuICAgICAgICAgICAgJCh0aGlzW2ldKS50cmlnZ2VyKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vbi5hcHBseSh0aGlzLCBbbmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgfVxuXG4gIHJldHVybiBldmVudEhhbmRsZXI7XG59XG5cbnZhciBjbGljayA9IHNob3J0Y3V0KCdjbGljaycpO1xudmFyIGJsdXIgPSBzaG9ydGN1dCgnYmx1cicpO1xudmFyIGZvY3VzID0gc2hvcnRjdXQoJ2ZvY3VzJyk7XG52YXIgZm9jdXNpbiA9IHNob3J0Y3V0KCdmb2N1c2luJyk7XG52YXIgZm9jdXNvdXQgPSBzaG9ydGN1dCgnZm9jdXNvdXQnKTtcbnZhciBrZXl1cCA9IHNob3J0Y3V0KCdrZXl1cCcpO1xudmFyIGtleWRvd24gPSBzaG9ydGN1dCgna2V5ZG93bicpO1xudmFyIGtleXByZXNzID0gc2hvcnRjdXQoJ2tleXByZXNzJyk7XG52YXIgc3VibWl0ID0gc2hvcnRjdXQoJ3N1Ym1pdCcpO1xudmFyIGNoYW5nZSA9IHNob3J0Y3V0KCdjaGFuZ2UnKTtcbnZhciBtb3VzZWRvd24gPSBzaG9ydGN1dCgnbW91c2Vkb3duJyk7XG52YXIgbW91c2Vtb3ZlID0gc2hvcnRjdXQoJ21vdXNlbW92ZScpO1xudmFyIG1vdXNldXAgPSBzaG9ydGN1dCgnbW91c2V1cCcpO1xudmFyIG1vdXNlZW50ZXIgPSBzaG9ydGN1dCgnbW91c2VlbnRlcicpO1xudmFyIG1vdXNlbGVhdmUgPSBzaG9ydGN1dCgnbW91c2VsZWF2ZScpO1xudmFyIG1vdXNlb3V0ID0gc2hvcnRjdXQoJ21vdXNlb3V0Jyk7XG52YXIgbW91c2VvdmVyID0gc2hvcnRjdXQoJ21vdXNlb3ZlcicpO1xudmFyIHRvdWNoc3RhcnQgPSBzaG9ydGN1dCgndG91Y2hzdGFydCcpO1xudmFyIHRvdWNoZW5kID0gc2hvcnRjdXQoJ3RvdWNoZW5kJyk7XG52YXIgdG91Y2htb3ZlID0gc2hvcnRjdXQoJ3RvdWNobW92ZScpO1xudmFyIHJlc2l6ZSA9IHNob3J0Y3V0KCdyZXNpemUnKTtcbnZhciBzY3JvbGwgPSBzaG9ydGN1dCgnc2Nyb2xsJyk7XG5cbmV4cG9ydHMuJCA9ICQ7XG5leHBvcnRzLmFkZCA9IGFkZDtcbmV4cG9ydHMuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbmV4cG9ydHMuYW5pbWF0ZSA9IGFuaW1hdGU7XG5leHBvcnRzLmFuaW1hdGlvbkVuZCA9IGFuaW1hdGlvbkVuZDtcbmV4cG9ydHMuYXBwZW5kID0gYXBwZW5kO1xuZXhwb3J0cy5hcHBlbmRUbyA9IGFwcGVuZFRvO1xuZXhwb3J0cy5hdHRyID0gYXR0cjtcbmV4cG9ydHMuYmx1ciA9IGJsdXI7XG5leHBvcnRzLmNoYW5nZSA9IGNoYW5nZTtcbmV4cG9ydHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbmV4cG9ydHMuY2xpY2sgPSBjbGljaztcbmV4cG9ydHMuY2xvc2VzdCA9IGNsb3Nlc3Q7XG5leHBvcnRzLmNzcyA9IGNzcztcbmV4cG9ydHMuZGF0YSA9IGRhdGE7XG5leHBvcnRzLmRhdGFzZXQgPSBkYXRhc2V0O1xuZXhwb3J0cy5kZWZhdWx0ID0gJDtcbmV4cG9ydHMuZGV0YWNoID0gZGV0YWNoO1xuZXhwb3J0cy5lYWNoID0gZWFjaDtcbmV4cG9ydHMuZW1wdHkgPSBlbXB0eTtcbmV4cG9ydHMuZXEgPSBlcTtcbmV4cG9ydHMuZmlsdGVyID0gZmlsdGVyO1xuZXhwb3J0cy5maW5kID0gZmluZDtcbmV4cG9ydHMuZm9jdXMgPSBmb2N1cztcbmV4cG9ydHMuZm9jdXNpbiA9IGZvY3VzaW47XG5leHBvcnRzLmZvY3Vzb3V0ID0gZm9jdXNvdXQ7XG5leHBvcnRzLmhhc0NsYXNzID0gaGFzQ2xhc3M7XG5leHBvcnRzLmhlaWdodCA9IGhlaWdodDtcbmV4cG9ydHMuaGlkZSA9IGhpZGU7XG5leHBvcnRzLmh0bWwgPSBodG1sO1xuZXhwb3J0cy5pbmRleCA9IGluZGV4O1xuZXhwb3J0cy5pbnNlcnRBZnRlciA9IGluc2VydEFmdGVyO1xuZXhwb3J0cy5pbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmU7XG5leHBvcnRzLmlzID0gaXM7XG5leHBvcnRzLmtleWRvd24gPSBrZXlkb3duO1xuZXhwb3J0cy5rZXlwcmVzcyA9IGtleXByZXNzO1xuZXhwb3J0cy5rZXl1cCA9IGtleXVwO1xuZXhwb3J0cy5tb3VzZWRvd24gPSBtb3VzZWRvd247XG5leHBvcnRzLm1vdXNlZW50ZXIgPSBtb3VzZWVudGVyO1xuZXhwb3J0cy5tb3VzZWxlYXZlID0gbW91c2VsZWF2ZTtcbmV4cG9ydHMubW91c2Vtb3ZlID0gbW91c2Vtb3ZlO1xuZXhwb3J0cy5tb3VzZW91dCA9IG1vdXNlb3V0O1xuZXhwb3J0cy5tb3VzZW92ZXIgPSBtb3VzZW92ZXI7XG5leHBvcnRzLm1vdXNldXAgPSBtb3VzZXVwO1xuZXhwb3J0cy5uZXh0ID0gbmV4dDtcbmV4cG9ydHMubmV4dEFsbCA9IG5leHRBbGw7XG5leHBvcnRzLm9mZiA9IG9mZjtcbmV4cG9ydHMub2Zmc2V0ID0gb2Zmc2V0O1xuZXhwb3J0cy5vbiA9IG9uO1xuZXhwb3J0cy5vbmNlID0gb25jZTtcbmV4cG9ydHMub3V0ZXJIZWlnaHQgPSBvdXRlckhlaWdodDtcbmV4cG9ydHMub3V0ZXJXaWR0aCA9IG91dGVyV2lkdGg7XG5leHBvcnRzLnBhcmVudCA9IHBhcmVudDtcbmV4cG9ydHMucGFyZW50cyA9IHBhcmVudHM7XG5leHBvcnRzLnByZXBlbmQgPSBwcmVwZW5kO1xuZXhwb3J0cy5wcmVwZW5kVG8gPSBwcmVwZW5kVG87XG5leHBvcnRzLnByZXYgPSBwcmV2O1xuZXhwb3J0cy5wcmV2QWxsID0gcHJldkFsbDtcbmV4cG9ydHMucHJvcCA9IHByb3A7XG5leHBvcnRzLnJlbW92ZSA9IHJlbW92ZTtcbmV4cG9ydHMucmVtb3ZlQXR0ciA9IHJlbW92ZUF0dHI7XG5leHBvcnRzLnJlbW92ZUNsYXNzID0gcmVtb3ZlQ2xhc3M7XG5leHBvcnRzLnJlbW92ZURhdGEgPSByZW1vdmVEYXRhO1xuZXhwb3J0cy5yZXNpemUgPSByZXNpemU7XG5leHBvcnRzLnNjcm9sbCA9IHNjcm9sbDtcbmV4cG9ydHMuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG5leHBvcnRzLnNjcm9sbFRvID0gc2Nyb2xsVG87XG5leHBvcnRzLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbmV4cG9ydHMuc2hvdyA9IHNob3c7XG5leHBvcnRzLnNpYmxpbmdzID0gc2libGluZ3M7XG5leHBvcnRzLnN0b3AgPSBzdG9wO1xuZXhwb3J0cy5zdHlsZXMgPSBzdHlsZXM7XG5leHBvcnRzLnN1Ym1pdCA9IHN1Ym1pdDtcbmV4cG9ydHMudGV4dCA9IHRleHQ7XG5leHBvcnRzLnRvZ2dsZUNsYXNzID0gdG9nZ2xlQ2xhc3M7XG5leHBvcnRzLnRvdWNoZW5kID0gdG91Y2hlbmQ7XG5leHBvcnRzLnRvdWNobW92ZSA9IHRvdWNobW92ZTtcbmV4cG9ydHMudG91Y2hzdGFydCA9IHRvdWNoc3RhcnQ7XG5leHBvcnRzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbmV4cG9ydHMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG5leHBvcnRzLnRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kO1xuZXhwb3J0cy50cmlnZ2VyID0gdHJpZ2dlcjtcbmV4cG9ydHMudmFsID0gdmFsO1xuZXhwb3J0cy52YWx1ZSA9IHZhbHVlO1xuZXhwb3J0cy53aWR0aCA9IHdpZHRoO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjMgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTYgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNiBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGJvb2xUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNCb29sZWFuO1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKTtcblxuLyoqIERldGVjdCBpZiBwcm9wZXJ0aWVzIHNoYWRvd2luZyB0aG9zZSBvbiBgT2JqZWN0LnByb3RvdHlwZWAgYXJlIG5vbi1lbnVtZXJhYmxlLiAqL1xudmFyIG5vbkVudW1TaGFkb3dzID0gIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAndmFsdWVPZic6IDEgfSwgJ3ZhbHVlT2YnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSxcbi8vIGZvciBkYXRhIHZpZXdzIGluIEVkZ2UgPCAxNCwgYW5kIHByb21pc2VzIGluIE5vZGUuanMuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gKlxuICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gKiBwcm9wZXJ0aWVzLlxuICpcbiAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0VtcHR5KG51bGwpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNFbXB0eSh0cnVlKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRW1wdHkoMSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHwgaXNCdWZmZXIodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgfVxuICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgfVxuICBpZiAobm9uRW51bVNoYWRvd3MgfHwgaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgcmV0dXJuICFuYXRpdmVLZXlzKHZhbHVlKS5sZW5ndGg7XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRW1wdHk7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgcmVMZWFkaW5nRG90ID0gL15cXC4vLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgb2YgZWxlbWVudHMgdG8gcGljay5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGlzTmlsID0gb2JqZWN0ID09IG51bGwsXG4gICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGlzTmlsID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gIH1cbiAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlcyBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcykge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghaXNLZXkoaW5kZXgsIGFycmF5KSkge1xuICAgICAgICB2YXIgcGF0aCA9IGNhc3RQYXRoKGluZGV4KSxcbiAgICAgICAgICAgIG9iamVjdCA9IHBhcmVudChhcnJheSwgcGF0aCk7XG5cbiAgICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgICAgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkZWxldGUgYXJyYXlbdG9LZXkoaW5kZXgpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSBhcnJheTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICB9XG4gIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuZ3RoO1xuICB9XG4gIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgc3RhcnQgPj4+PSAwO1xuXG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdUb1BhdGgodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICByZXR1cm4gcGF0aC5sZW5ndGggPT0gMSA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZShmdW5jdGlvbihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChyZUxlYWRpbmdEb3QudGVzdChzdHJpbmcpKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ubGFzdChbMSwgMiwgM10pO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gKiAvLyA9PiBbJ2EnLCAnYyddXG4gKlxuICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAqIC8vID0+IFsnYicsICdkJ11cbiAqL1xudmFyIHB1bGxBdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gIGluZGV4ZXMgPSBiYXNlRmxhdHRlbihpbmRleGVzLCAxKTtcblxuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGxBdDtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsIi8qKlxuICogU1NSIFdpbmRvdyAzLjAuMFxuICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL25vbGltaXRzNHdlYi9zc3Itd2luZG93XG4gKlxuICogQ29weXJpZ2h0IDIwMjAsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IE5vdmVtYmVyIDksIDIwMjBcbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLnNzcldpbmRvdyA9IHt9KSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgICAgICByZXR1cm4gKG9iaiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICdjb25zdHJ1Y3RvcicgaW4gb2JqICYmXG4gICAgICAgICAgICBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNyYykge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsgdGFyZ2V0ID0ge307IH1cbiAgICAgICAgaWYgKHNyYyA9PT0gdm9pZCAwKSB7IHNyYyA9IHt9OyB9XG4gICAgICAgIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qoc3JjW2tleV0pICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QodGFyZ2V0W2tleV0pICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3JjW2tleV0pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHNzckRvY3VtZW50ID0ge1xuICAgICAgICBib2R5OiB7fSxcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIGFjdGl2ZUVsZW1lbnQ6IHtcbiAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIG5vZGVOYW1lOiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJ5U2VsZWN0b3JBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RWxlbWVudEJ5SWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVFdmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbml0RXZlbnQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgICAgICBnZXRFbGVtZW50c0J5VGFnTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUVsZW1lbnROUzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBpbXBvcnROb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIGhhc2g6ICcnLFxuICAgICAgICAgICAgaG9zdDogJycsXG4gICAgICAgICAgICBob3N0bmFtZTogJycsXG4gICAgICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgICAgIG9yaWdpbjogJycsXG4gICAgICAgICAgICBwYXRobmFtZTogJycsXG4gICAgICAgICAgICBwcm90b2NvbDogJycsXG4gICAgICAgICAgICBzZWFyY2g6ICcnLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgICAgIHZhciBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fTtcbiAgICAgICAgZXh0ZW5kKGRvYywgc3NyRG9jdW1lbnQpO1xuICAgICAgICByZXR1cm4gZG9jO1xuICAgIH1cblxuICAgIHZhciBzc3JXaW5kb3cgPSB7XG4gICAgICAgIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgICAgICAgbmF2aWdhdG9yOiB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgaGFzaDogJycsXG4gICAgICAgICAgICBob3N0OiAnJyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgICAgICAgIGhyZWY6ICcnLFxuICAgICAgICAgICAgb3JpZ2luOiAnJyxcbiAgICAgICAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgICAgICAgIHByb3RvY29sOiAnJyxcbiAgICAgICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgIH0sXG4gICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgcHVzaFN0YXRlOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBnbzogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgYmFjazogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICB9LFxuICAgICAgICBDdXN0b21FdmVudDogZnVuY3Rpb24gQ3VzdG9tRXZlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIGdldENvbXB1dGVkU3R5bGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIEltYWdlOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIERhdGU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgc2NyZWVuOiB7fSxcbiAgICAgICAgc2V0VGltZW91dDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgbWF0Y2hNZWRpYTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICAgICAgICB2YXIgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiAgICAgICAgZXh0ZW5kKHdpbiwgc3NyV2luZG93KTtcbiAgICAgICAgcmV0dXJuIHdpbjtcbiAgICB9XG5cbiAgICBleHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcbiAgICBleHBvcnRzLmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQ7XG4gICAgZXhwb3J0cy5nZXRXaW5kb3cgPSBnZXRXaW5kb3c7XG4gICAgZXhwb3J0cy5zc3JEb2N1bWVudCA9IHNzckRvY3VtZW50O1xuICAgIGV4cG9ydHMuc3NyV2luZG93ID0gc3NyV2luZG93O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNzci13aW5kb3cudW1kLmpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEExMXkgPSB7XG4gIGdldFJhbmRvbU51bWJlcjogZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVyKHNpemUpIHtcbiAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzaXplID0gMTY7XG4gICAgfVxuXG4gICAgdmFyIHJhbmRvbUNoYXIgPSBmdW5jdGlvbiByYW5kb21DaGFyKCkge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTYgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7XG4gICAgfTtcblxuICAgIHJldHVybiAneCcucmVwZWF0KHNpemUpLnJlcGxhY2UoL3gvZywgcmFuZG9tQ2hhcik7XG4gIH0sXG4gIG1ha2VFbEZvY3VzYWJsZTogZnVuY3Rpb24gbWFrZUVsRm9jdXNhYmxlKCRlbCkge1xuICAgICRlbC5hdHRyKCd0YWJJbmRleCcsICcwJyk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgbWFrZUVsTm90Rm9jdXNhYmxlOiBmdW5jdGlvbiBtYWtlRWxOb3RGb2N1c2FibGUoJGVsKSB7XG4gICAgJGVsLmF0dHIoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgYWRkRWxSb2xlOiBmdW5jdGlvbiBhZGRFbFJvbGUoJGVsLCByb2xlKSB7XG4gICAgJGVsLmF0dHIoJ3JvbGUnLCByb2xlKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbFJvbGVEZXNjcmlwdGlvbjogZnVuY3Rpb24gYWRkRWxSb2xlRGVzY3JpcHRpb24oJGVsLCBkZXNjcmlwdGlvbikge1xuICAgICRlbC5hdHRyKCdhcmlhLXJvbGVkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbENvbnRyb2xzOiBmdW5jdGlvbiBhZGRFbENvbnRyb2xzKCRlbCwgY29udHJvbHMpIHtcbiAgICAkZWwuYXR0cignYXJpYS1jb250cm9scycsIGNvbnRyb2xzKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbExhYmVsOiBmdW5jdGlvbiBhZGRFbExhYmVsKCRlbCwgbGFiZWwpIHtcbiAgICAkZWwuYXR0cignYXJpYS1sYWJlbCcsIGxhYmVsKTtcbiAgICByZXR1cm4gJGVsO1xuICB9LFxuICBhZGRFbElkOiBmdW5jdGlvbiBhZGRFbElkKCRlbCwgaWQpIHtcbiAgICAkZWwuYXR0cignaWQnLCBpZCk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgYWRkRWxMaXZlOiBmdW5jdGlvbiBhZGRFbExpdmUoJGVsLCBsaXZlKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtbGl2ZScsIGxpdmUpO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIGRpc2FibGVFbDogZnVuY3Rpb24gZGlzYWJsZUVsKCRlbCkge1xuICAgICRlbC5hdHRyKCdhcmlhLWRpc2FibGVkJywgdHJ1ZSk7XG4gICAgcmV0dXJuICRlbDtcbiAgfSxcbiAgZW5hYmxlRWw6IGZ1bmN0aW9uIGVuYWJsZUVsKCRlbCkge1xuICAgICRlbC5hdHRyKCdhcmlhLWRpc2FibGVkJywgZmFsc2UpO1xuICAgIHJldHVybiAkZWw7XG4gIH0sXG4gIG9uRW50ZXJPclNwYWNlS2V5OiBmdW5jdGlvbiBvbkVudGVyT3JTcGFjZUtleShlKSB7XG4gICAgaWYgKGUua2V5Q29kZSAhPT0gMTMgJiYgZS5rZXlDb2RlICE9PSAzMikgcmV0dXJuO1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgdmFyICR0YXJnZXRFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGUudGFyZ2V0KTtcblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsICYmICR0YXJnZXRFbC5pcyhzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsKSkge1xuICAgICAgaWYgKCEoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3ApKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLmxhc3RTbGlkZU1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmExMXkubm90aWZ5KHBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbCAmJiAkdGFyZ2V0RWwuaXMoc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbCkpIHtcbiAgICAgIGlmICghKHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgc3dpcGVyLmExMXkubm90aWZ5KHBhcmFtcy5maXJzdFNsaWRlTWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLnByZXZTbGlkZU1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiAkdGFyZ2V0RWwuaXMoKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3Rvcikoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkpIHtcbiAgICAgICR0YXJnZXRFbFswXS5jbGljaygpO1xuICAgIH1cbiAgfSxcbiAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkobWVzc2FnZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBub3RpZmljYXRpb24gPSBzd2lwZXIuYTExeS5saXZlUmVnaW9uO1xuICAgIGlmIChub3RpZmljYXRpb24ubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgbm90aWZpY2F0aW9uLmh0bWwoJycpO1xuICAgIG5vdGlmaWNhdGlvbi5odG1sKG1lc3NhZ2UpO1xuICB9LFxuICB1cGRhdGVOYXZpZ2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgfHwgIXN3aXBlci5uYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgdmFyIF9zd2lwZXIkbmF2aWdhdGlvbiA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAkbmV4dEVsID0gX3N3aXBlciRuYXZpZ2F0aW9uLiRuZXh0RWwsXG4gICAgICAgICRwcmV2RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24uJHByZXZFbDtcblxuICAgIGlmICgkcHJldkVsICYmICRwcmV2RWwubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICBzd2lwZXIuYTExeS5kaXNhYmxlRWwoJHByZXZFbCk7XG4gICAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbE5vdEZvY3VzYWJsZSgkcHJldkVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5hMTF5LmVuYWJsZUVsKCRwcmV2RWwpO1xuICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJHByZXZFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgIHN3aXBlci5hMTF5LmRpc2FibGVFbCgkbmV4dEVsKTtcbiAgICAgICAgc3dpcGVyLmExMXkubWFrZUVsTm90Rm9jdXNhYmxlKCRuZXh0RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmExMXkuZW5hYmxlRWwoJG5leHRFbCk7XG4gICAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbEZvY3VzYWJsZSgkbmV4dEVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHVwZGF0ZVBhZ2luYXRpb246IGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24oKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcblxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMuZWFjaChmdW5jdGlvbiAoYnVsbGV0RWwpIHtcbiAgICAgICAgdmFyICRidWxsZXRFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGJ1bGxldEVsKTtcbiAgICAgICAgc3dpcGVyLmExMXkubWFrZUVsRm9jdXNhYmxlKCRidWxsZXRFbCk7XG5cbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucmVuZGVyQnVsbGV0KSB7XG4gICAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlKCRidWxsZXRFbCwgJ2J1dHRvbicpO1xuICAgICAgICAgIHN3aXBlci5hMTF5LmFkZEVsTGFiZWwoJGJ1bGxldEVsLCBwYXJhbXMucGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2UucmVwbGFjZSgvXFx7XFx7aW5kZXhcXH1cXH0vLCAkYnVsbGV0RWwuaW5kZXgoKSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgc3dpcGVyLiRlbC5hcHBlbmQoc3dpcGVyLmExMXkubGl2ZVJlZ2lvbik7IC8vIENvbnRhaW5lclxuXG4gICAgdmFyICRjb250YWluZXJFbCA9IHN3aXBlci4kZWw7XG5cbiAgICBpZiAocGFyYW1zLmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgIHN3aXBlci5hMTF5LmFkZEVsUm9sZURlc2NyaXB0aW9uKCRjb250YWluZXJFbCwgcGFyYW1zLmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuY29udGFpbmVyTWVzc2FnZSkge1xuICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkY29udGFpbmVyRWwsIHBhcmFtcy5jb250YWluZXJNZXNzYWdlKTtcbiAgICB9IC8vIFdyYXBwZXJcblxuXG4gICAgdmFyICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICB2YXIgd3JhcHBlcklkID0gJHdyYXBwZXJFbC5hdHRyKCdpZCcpIHx8IFwic3dpcGVyLXdyYXBwZXItXCIgKyBzd2lwZXIuYTExeS5nZXRSYW5kb21OdW1iZXIoMTYpO1xuICAgIHZhciBsaXZlID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQgPyAnb2ZmJyA6ICdwb2xpdGUnO1xuICAgIHN3aXBlci5hMTF5LmFkZEVsSWQoJHdyYXBwZXJFbCwgd3JhcHBlcklkKTtcbiAgICBzd2lwZXIuYTExeS5hZGRFbExpdmUoJHdyYXBwZXJFbCwgbGl2ZSk7IC8vIFNsaWRlXG5cbiAgICBpZiAocGFyYW1zLml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKSB7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGVEZXNjcmlwdGlvbigoMCwgX2RvbS5kZWZhdWx0KShzd2lwZXIuc2xpZGVzKSwgcGFyYW1zLml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnNsaWRlcyksIHBhcmFtcy5zbGlkZVJvbGUpO1xuICAgIHZhciBzbGlkZXNMZW5ndGggPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBzd2lwZXIuc2xpZGVzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgIHJldHVybiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyk7XG4gICAgfSkubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgc3dpcGVyLnNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsLCBpbmRleCkge1xuICAgICAgdmFyICRzbGlkZUVsID0gKDAsIF9kb20uZGVmYXVsdCkoc2xpZGVFbCk7XG4gICAgICB2YXIgc2xpZGVJbmRleCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHBhcnNlSW50KCRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKSA6IGluZGV4O1xuICAgICAgdmFyIGFyaWFMYWJlbE1lc3NhZ2UgPSBwYXJhbXMuc2xpZGVMYWJlbE1lc3NhZ2UucmVwbGFjZSgvXFx7XFx7aW5kZXhcXH1cXH0vLCBzbGlkZUluZGV4ICsgMSkucmVwbGFjZSgvXFx7XFx7c2xpZGVzTGVuZ3RoXFx9XFx9Lywgc2xpZGVzTGVuZ3RoKTtcbiAgICAgIHN3aXBlci5hMTF5LmFkZEVsTGFiZWwoJHNsaWRlRWwsIGFyaWFMYWJlbE1lc3NhZ2UpO1xuICAgIH0pOyAvLyBOYXZpZ2F0aW9uXG5cbiAgICB2YXIgJG5leHRFbDtcbiAgICB2YXIgJHByZXZFbDtcblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsKSB7XG4gICAgICAkbmV4dEVsID0gc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbDtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbCkge1xuICAgICAgJHByZXZFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWw7XG4gICAgfVxuXG4gICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbEZvY3VzYWJsZSgkbmV4dEVsKTtcblxuICAgICAgaWYgKCRuZXh0RWxbMF0udGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlKCRuZXh0RWwsICdidXR0b24nKTtcbiAgICAgICAgJG5leHRFbC5vbigna2V5ZG93bicsIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkbmV4dEVsLCBwYXJhbXMubmV4dFNsaWRlTWVzc2FnZSk7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbENvbnRyb2xzKCRuZXh0RWwsIHdyYXBwZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbEZvY3VzYWJsZSgkcHJldkVsKTtcblxuICAgICAgaWYgKCRwcmV2RWxbMF0udGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlKCRwcmV2RWwsICdidXR0b24nKTtcbiAgICAgICAgJHByZXZFbC5vbigna2V5ZG93bicsIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkcHJldkVsLCBwYXJhbXMucHJldlNsaWRlTWVzc2FnZSk7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbENvbnRyb2xzKCRwcmV2RWwsIHdyYXBwZXJJZCk7XG4gICAgfSAvLyBQYWdpbmF0aW9uXG5cblxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLiRlbC5vbigna2V5ZG93bicsICgwLCBfdXRpbHMuY2xhc3Nlc1RvU2VsZWN0b3IpKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcyksIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5hMTF5LmxpdmVSZWdpb24gJiYgc3dpcGVyLmExMXkubGl2ZVJlZ2lvbi5sZW5ndGggPiAwKSBzd2lwZXIuYTExeS5saXZlUmVnaW9uLnJlbW92ZSgpO1xuICAgIHZhciAkbmV4dEVsO1xuICAgIHZhciAkcHJldkVsO1xuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpIHtcbiAgICAgICRuZXh0RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSB7XG4gICAgICAkcHJldkVsID0gc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbDtcbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCkge1xuICAgICAgJG5leHRFbC5vZmYoJ2tleWRvd24nLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuXG4gICAgaWYgKCRwcmV2RWwpIHtcbiAgICAgICRwcmV2RWwub2ZmKCdrZXlkb3duJywgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgIH0gLy8gUGFnaW5hdGlvblxuXG5cbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmNsaWNrYWJsZSAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMubGVuZ3RoKSB7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi4kZWwub2ZmKCdrZXlkb3duJywgKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3Rvcikoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSwgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2ExMXknLFxuICBwYXJhbXM6IHtcbiAgICBhMTF5OiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgbm90aWZpY2F0aW9uQ2xhc3M6ICdzd2lwZXItbm90aWZpY2F0aW9uJyxcbiAgICAgIHByZXZTbGlkZU1lc3NhZ2U6ICdQcmV2aW91cyBzbGlkZScsXG4gICAgICBuZXh0U2xpZGVNZXNzYWdlOiAnTmV4dCBzbGlkZScsXG4gICAgICBmaXJzdFNsaWRlTWVzc2FnZTogJ1RoaXMgaXMgdGhlIGZpcnN0IHNsaWRlJyxcbiAgICAgIGxhc3RTbGlkZU1lc3NhZ2U6ICdUaGlzIGlzIHRoZSBsYXN0IHNsaWRlJyxcbiAgICAgIHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiAnR28gdG8gc2xpZGUge3tpbmRleH19JyxcbiAgICAgIHNsaWRlTGFiZWxNZXNzYWdlOiAne3tpbmRleH19IC8ge3tzbGlkZXNMZW5ndGh9fScsXG4gICAgICBjb250YWluZXJNZXNzYWdlOiBudWxsLFxuICAgICAgY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZTogbnVsbCxcbiAgICAgIGl0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlOiBudWxsLFxuICAgICAgc2xpZGVSb2xlOiAnZ3JvdXAnXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGExMXk6IF9leHRlbmRzKHt9LCBBMTF5LCB7XG4gICAgICAgIGxpdmVSZWdpb246ICgwLCBfZG9tLmRlZmF1bHQpKFwiPHNwYW4gY2xhc3M9XFxcIlwiICsgc3dpcGVyLnBhcmFtcy5hMTF5Lm5vdGlmaWNhdGlvbkNsYXNzICsgXCJcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCI+PC9zcGFuPlwiKVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBhZnRlckluaXQ6IGZ1bmN0aW9uIGFmdGVySW5pdChzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5hMTF5LmluaXQoKTtcbiAgICAgIHN3aXBlci5hMTF5LnVwZGF0ZU5hdmlnYXRpb24oKTtcbiAgICB9LFxuICAgIHRvRWRnZTogZnVuY3Rpb24gdG9FZGdlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmExMXkudXBkYXRlTmF2aWdhdGlvbigpO1xuICAgIH0sXG4gICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmExMXkudXBkYXRlTmF2aWdhdGlvbigpO1xuICAgIH0sXG4gICAgcGFnaW5hdGlvblVwZGF0ZTogZnVuY3Rpb24gcGFnaW5hdGlvblVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5hMTF5LnVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuYTExeS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBBdXRvcGxheSA9IHtcbiAgcnVuOiBmdW5jdGlvbiBydW4oKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICRhY3RpdmVTbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgIHZhciBkZWxheSA9IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG5cbiAgICBpZiAoJGFjdGl2ZVNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItYXV0b3BsYXknKSkge1xuICAgICAgZGVsYXkgPSAkYWN0aXZlU2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1hdXRvcGxheScpIHx8IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS50aW1lb3V0KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkudGltZW91dCA9ICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhdXRvcGxheVJlc3VsdDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVByZXYoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlUHJldihzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVOZXh0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5pc0VuZCkge1xuICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZU5leHQoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheScpO1xuICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVUbygwLCBzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSBzd2lwZXIuYXV0b3BsYXkucnVuKCk7ZWxzZSBpZiAoYXV0b3BsYXlSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH0sXG4gIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHN3aXBlci5hdXRvcGxheS50aW1lb3V0ICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gdHJ1ZTtcbiAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXlTdGFydCcpO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIuYXV0b3BsYXkudGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkudGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS50aW1lb3V0KTtcbiAgICAgIHN3aXBlci5hdXRvcGxheS50aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gZmFsc2U7XG4gICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5U3RvcCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBwYXVzZTogZnVuY3Rpb24gcGF1c2Uoc3BlZWQpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQpIGNsZWFyVGltZW91dChzd2lwZXIuYXV0b3BsYXkudGltZW91dCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IHRydWU7XG5cbiAgICBpZiAoc3BlZWQgPT09IDAgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24pIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgWyd0cmFuc2l0aW9uZW5kJywgJ3dlYmtpdFRyYW5zaXRpb25FbmQnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBzd2lwZXIuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25WaXNpYmlsaXR5Q2hhbmdlOiBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG5cbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJyAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuJHdyYXBwZXJFbCkgcmV0dXJuO1xuICAgIGlmIChlLnRhcmdldCAhPT0gc3dpcGVyLiR3cmFwcGVyRWxbMF0pIHJldHVybjtcbiAgICBbJ3RyYW5zaXRpb25lbmQnLCAnd2Via2l0VHJhbnNpdGlvbkVuZCddLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBzd2lwZXIuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKTtcbiAgICB9KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gICAgfVxuICB9LFxuICBvbk1vdXNlRW50ZXI6IGZ1bmN0aW9uIG9uTW91c2VFbnRlcigpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2UoKTtcbiAgICB9XG5cbiAgICBbJ3RyYW5zaXRpb25lbmQnLCAnd2Via2l0VHJhbnNpdGlvbkVuZCddLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBzd2lwZXIuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKTtcbiAgICB9KTtcbiAgfSxcbiAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gIH0sXG4gIGF0dGFjaE1vdXNlRXZlbnRzOiBmdW5jdGlvbiBhdHRhY2hNb3VzZUV2ZW50cygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnBhdXNlT25Nb3VzZUVudGVyKSB7XG4gICAgICBzd2lwZXIuJGVsLm9uKCdtb3VzZWVudGVyJywgc3dpcGVyLmF1dG9wbGF5Lm9uTW91c2VFbnRlcik7XG4gICAgICBzd2lwZXIuJGVsLm9uKCdtb3VzZWxlYXZlJywgc3dpcGVyLmF1dG9wbGF5Lm9uTW91c2VMZWF2ZSk7XG4gICAgfVxuICB9LFxuICBkZXRhY2hNb3VzZUV2ZW50czogZnVuY3Rpb24gZGV0YWNoTW91c2VFdmVudHMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLiRlbC5vZmYoJ21vdXNlZW50ZXInLCBzd2lwZXIuYXV0b3BsYXkub25Nb3VzZUVudGVyKTtcbiAgICBzd2lwZXIuJGVsLm9mZignbW91c2VsZWF2ZScsIHN3aXBlci5hdXRvcGxheS5vbk1vdXNlTGVhdmUpO1xuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnYXV0b3BsYXknLFxuICBwYXJhbXM6IHtcbiAgICBhdXRvcGxheToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBkZWxheTogMzAwMCxcbiAgICAgIHdhaXRGb3JUcmFuc2l0aW9uOiB0cnVlLFxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IHRydWUsXG4gICAgICBzdG9wT25MYXN0U2xpZGU6IGZhbHNlLFxuICAgICAgcmV2ZXJzZURpcmVjdGlvbjogZmFsc2UsXG4gICAgICBwYXVzZU9uTW91c2VFbnRlcjogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgYXV0b3BsYXk6IF9leHRlbmRzKHt9LCBBdXRvcGxheSwge1xuICAgICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgICAgcGF1c2VkOiBmYWxzZVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcbiAgICAgICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBzd2lwZXIuYXV0b3BsYXkub25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LmF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVUcmFuc2l0aW9uU3RhcnQ6IGZ1bmN0aW9uIGJlZm9yZVRyYW5zaXRpb25TdGFydChzd2lwZXIsIHNwZWVkLCBpbnRlcm5hbCkge1xuICAgICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbCB8fCAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZShzcGVlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2xpZGVyRmlyc3RNb3ZlOiBmdW5jdGlvbiBzbGlkZXJGaXJzdE1vdmUoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB0b3VjaEVuZDogZnVuY3Rpb24gdG91Y2hFbmQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgJiYgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5kZXRhY2hNb3VzZUV2ZW50cygpO1xuXG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgc3dpcGVyLmF1dG9wbGF5Lm9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBDb250cm9sbGVyID0ge1xuICBMaW5lYXJTcGxpbmU6IGZ1bmN0aW9uIExpbmVhclNwbGluZSh4LCB5KSB7XG4gICAgdmFyIGJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaCgpIHtcbiAgICAgIHZhciBtYXhJbmRleDtcbiAgICAgIHZhciBtaW5JbmRleDtcbiAgICAgIHZhciBndWVzcztcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYXJyYXksIHZhbCkge1xuICAgICAgICBtaW5JbmRleCA9IC0xO1xuICAgICAgICBtYXhJbmRleCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobWF4SW5kZXggLSBtaW5JbmRleCA+IDEpIHtcbiAgICAgICAgICBndWVzcyA9IG1heEluZGV4ICsgbWluSW5kZXggPj4gMTtcblxuICAgICAgICAgIGlmIChhcnJheVtndWVzc10gPD0gdmFsKSB7XG4gICAgICAgICAgICBtaW5JbmRleCA9IGd1ZXNzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXhJbmRleCA9IGd1ZXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXhJbmRleDtcbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMubGFzdEluZGV4ID0geC5sZW5ndGggLSAxOyAvLyBHaXZlbiBhbiB4IHZhbHVlICh4MiksIHJldHVybiB0aGUgZXhwZWN0ZWQgeTIgdmFsdWU6XG4gICAgLy8gKHgxLHkxKSBpcyB0aGUga25vd24gcG9pbnQgYmVmb3JlIGdpdmVuIHZhbHVlLFxuICAgIC8vICh4Myx5MykgaXMgdGhlIGtub3duIHBvaW50IGFmdGVyIGdpdmVuIHZhbHVlLlxuXG4gICAgdmFyIGkxO1xuICAgIHZhciBpMztcblxuICAgIHRoaXMuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh4Mikge1xuICAgICAgaWYgKCF4MikgcmV0dXJuIDA7IC8vIEdldCB0aGUgaW5kZXhlcyBvZiB4MSBhbmQgeDMgKHRoZSBhcnJheSBpbmRleGVzIGJlZm9yZSBhbmQgYWZ0ZXIgZ2l2ZW4geDIpOlxuXG4gICAgICBpMyA9IGJpbmFyeVNlYXJjaCh0aGlzLngsIHgyKTtcbiAgICAgIGkxID0gaTMgLSAxOyAvLyBXZSBoYXZlIG91ciBpbmRleGVzIGkxICYgaTMsIHNvIHdlIGNhbiBjYWxjdWxhdGUgYWxyZWFkeTpcbiAgICAgIC8vIHkyIDo9ICgoeDLiiJJ4MSkgw5cgKHkz4oiSeTEpKSDDtyAoeDPiiJJ4MSkgKyB5MVxuXG4gICAgICByZXR1cm4gKHgyIC0gdGhpcy54W2kxXSkgKiAodGhpcy55W2kzXSAtIHRoaXMueVtpMV0pIC8gKHRoaXMueFtpM10gLSB0aGlzLnhbaTFdKSArIHRoaXMueVtpMV07XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvLyB4eHg6IGZvciBub3cgaSB3aWxsIGp1c3Qgc2F2ZSBvbmUgc3BsaW5lIGZ1bmN0aW9uIHRvIHRvXG4gIGdldEludGVycG9sYXRlRnVuY3Rpb246IGZ1bmN0aW9uIGdldEludGVycG9sYXRlRnVuY3Rpb24oYykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHN3aXBlci5wYXJhbXMubG9vcCA/IG5ldyBDb250cm9sbGVyLkxpbmVhclNwbGluZShzd2lwZXIuc2xpZGVzR3JpZCwgYy5zbGlkZXNHcmlkKSA6IG5ldyBDb250cm9sbGVyLkxpbmVhclNwbGluZShzd2lwZXIuc25hcEdyaWQsIGMuc25hcEdyaWQpO1xuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoX3NldFRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGNvbnRyb2xsZWQgPSBzd2lwZXIuY29udHJvbGxlci5jb250cm9sO1xuICAgIHZhciBtdWx0aXBsaWVyO1xuICAgIHZhciBjb250cm9sbGVkVHJhbnNsYXRlO1xuICAgIHZhciBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG5cbiAgICBmdW5jdGlvbiBzZXRDb250cm9sbGVkVHJhbnNsYXRlKGMpIHtcbiAgICAgIC8vIHRoaXMgd2lsbCBjcmVhdGUgYW4gSW50ZXJwb2xhdGUgZnVuY3Rpb24gYmFzZWQgb24gdGhlIHNuYXBHcmlkc1xuICAgICAgLy8geCBpcyB0aGUgR3JpZCBvZiB0aGUgc2Nyb2xsZWQgc2Nyb2xsZXIgYW5kIHkgd2lsbCBiZSB0aGUgY29udHJvbGxlZCBzY3JvbGxlclxuICAgICAgLy8gaXQgbWFrZXMgc2Vuc2UgdG8gY3JlYXRlIHRoaXMgb25seSBvbmNlIGFuZCByZWNhbGwgaXQgZm9yIHRoZSBpbnRlcnBvbGF0aW9uXG4gICAgICAvLyB0aGUgZnVuY3Rpb24gZG9lcyBhIGxvdCBvZiB2YWx1ZSBjYWNoaW5nIGZvciBwZXJmb3JtYW5jZVxuICAgICAgdmFyIHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuYnkgPT09ICdzbGlkZScpIHtcbiAgICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbihjKTsgLy8gaSBhbSBub3Qgc3VyZSB3aHkgdGhlIHZhbHVlcyBoYXZlIHRvIGJlIG11bHRpcGxpY2F0ZWQgdGhpcyB3YXksIHRyaWVkIHRvIGludmVydCB0aGUgc25hcEdyaWRcbiAgICAgICAgLy8gYnV0IGl0IGRpZCBub3Qgd29yayBvdXRcblxuICAgICAgICBjb250cm9sbGVkVHJhbnNsYXRlID0gLXN3aXBlci5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtdHJhbnNsYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjb250cm9sbGVkVHJhbnNsYXRlIHx8IHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgbXVsdGlwbGllciA9IChjLm1heFRyYW5zbGF0ZSgpIC0gYy5taW5UcmFuc2xhdGUoKSkgLyAoc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKTtcbiAgICAgICAgY29udHJvbGxlZFRyYW5zbGF0ZSA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpICogbXVsdGlwbGllciArIGMubWluVHJhbnNsYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuaW52ZXJzZSkge1xuICAgICAgICBjb250cm9sbGVkVHJhbnNsYXRlID0gYy5tYXhUcmFuc2xhdGUoKSAtIGNvbnRyb2xsZWRUcmFuc2xhdGU7XG4gICAgICB9XG5cbiAgICAgIGMudXBkYXRlUHJvZ3Jlc3MoY29udHJvbGxlZFRyYW5zbGF0ZSk7XG4gICAgICBjLnNldFRyYW5zbGF0ZShjb250cm9sbGVkVHJhbnNsYXRlLCBzd2lwZXIpO1xuICAgICAgYy51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgYy51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbGxlZCkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udHJvbGxlZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoY29udHJvbGxlZFtpXSAhPT0gYnlDb250cm9sbGVyICYmIGNvbnRyb2xsZWRbaV0gaW5zdGFuY2VvZiBTd2lwZXIpIHtcbiAgICAgICAgICBzZXRDb250cm9sbGVkVHJhbnNsYXRlKGNvbnRyb2xsZWRbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250cm9sbGVkIGluc3RhbmNlb2YgU3dpcGVyICYmIGJ5Q29udHJvbGxlciAhPT0gY29udHJvbGxlZCkge1xuICAgICAgc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjb250cm9sbGVkKTtcbiAgICB9XG4gIH0sXG4gIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG4gICAgdmFyIGNvbnRyb2xsZWQgPSBzd2lwZXIuY29udHJvbGxlci5jb250cm9sO1xuICAgIHZhciBpO1xuXG4gICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oYykge1xuICAgICAgYy5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uLCBzd2lwZXIpO1xuXG4gICAgICBpZiAoZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgYy50cmFuc2l0aW9uU3RhcnQoKTtcblxuICAgICAgICBpZiAoYy5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICAgICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGMudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYy4kd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghY29udHJvbGxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKGMucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmJ5ID09PSAnc2xpZGUnKSB7XG4gICAgICAgICAgICBjLmxvb3BGaXgoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbGxlZCkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250cm9sbGVkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChjb250cm9sbGVkW2ldICE9PSBieUNvbnRyb2xsZXIgJiYgY29udHJvbGxlZFtpXSBpbnN0YW5jZW9mIFN3aXBlcikge1xuICAgICAgICAgIHNldENvbnRyb2xsZWRUcmFuc2l0aW9uKGNvbnRyb2xsZWRbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250cm9sbGVkIGluc3RhbmNlb2YgU3dpcGVyICYmIGJ5Q29udHJvbGxlciAhPT0gY29udHJvbGxlZCkge1xuICAgICAgc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oY29udHJvbGxlZCk7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnY29udHJvbGxlcicsXG4gIHBhcmFtczoge1xuICAgIGNvbnRyb2xsZXI6IHtcbiAgICAgIGNvbnRyb2w6IHVuZGVmaW5lZCxcbiAgICAgIGludmVyc2U6IGZhbHNlLFxuICAgICAgYnk6ICdzbGlkZScgLy8gb3IgJ2NvbnRhaW5lcidcblxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBjb250cm9sbGVyOiBfZXh0ZW5kcyh7XG4gICAgICAgIGNvbnRyb2w6IHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5jb250cm9sXG4gICAgICB9LCBDb250cm9sbGVyKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG5cbiAgICAgIGlmIChzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICBkZWxldGUgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcblxuICAgICAgaWYgKHN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgICBzd2lwZXIuY29udHJvbGxlci5zcGxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcblxuICAgICAgaWYgKHN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgICBzd2lwZXIuY29udHJvbGxlci5zcGxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIsIHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICAgICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG4gICAgICBzd2lwZXIuY29udHJvbGxlci5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0QnJlYWtwb2ludDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYmFzZSwgY29udGFpbmVyRWwpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnd2luZG93JztcbiAgfVxuXG4gIGlmICghYnJlYWtwb2ludHMgfHwgYmFzZSA9PT0gJ2NvbnRhaW5lcicgJiYgIWNvbnRhaW5lckVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICB2YXIgYnJlYWtwb2ludCA9IGZhbHNlO1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgY3VycmVudEhlaWdodCA9IGJhc2UgPT09ICd3aW5kb3cnID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICB2YXIgcG9pbnRzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLm1hcChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBpZiAodHlwZW9mIHBvaW50ID09PSAnc3RyaW5nJyAmJiBwb2ludC5pbmRleE9mKCdAJykgPT09IDApIHtcbiAgICAgIHZhciBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgIHZhciB2YWx1ZSA9IGN1cnJlbnRIZWlnaHQgKiBtaW5SYXRpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcG9pbnQ6IHBvaW50XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcG9pbnQsXG4gICAgICBwb2ludDogcG9pbnRcbiAgICB9O1xuICB9KTtcbiAgcG9pbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoYS52YWx1ZSwgMTApIC0gcGFyc2VJbnQoYi52YWx1ZSwgMTApO1xuICB9KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBfcG9pbnRzJGkgPSBwb2ludHNbaV0sXG4gICAgICAgIHBvaW50ID0gX3BvaW50cyRpLnBvaW50LFxuICAgICAgICB2YWx1ZSA9IF9wb2ludHMkaS52YWx1ZTtcblxuICAgIGlmIChiYXNlID09PSAnd2luZG93Jykge1xuICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogXCIgKyB2YWx1ZSArIFwicHgpXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPD0gY29udGFpbmVyRWwuY2xpZW50V2lkdGgpIHtcbiAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnJlYWtwb2ludCB8fCAnbWF4Jztcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zZXRCcmVha3BvaW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zZXRCcmVha3BvaW50XCIpKTtcblxudmFyIF9nZXRCcmVha3BvaW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9nZXRCcmVha3BvaW50XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBzZXRCcmVha3BvaW50OiBfc2V0QnJlYWtwb2ludC5kZWZhdWx0LFxuICBnZXRCcmVha3BvaW50OiBfZ2V0QnJlYWtwb2ludC5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzZXRCcmVha3BvaW50O1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBzZXRCcmVha3BvaW50KCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgaW5pdGlhbGl6ZWQgPSBzd2lwZXIuaW5pdGlhbGl6ZWQsXG4gICAgICBfc3dpcGVyJGxvb3BlZFNsaWRlcyA9IHN3aXBlci5sb29wZWRTbGlkZXMsXG4gICAgICBsb29wZWRTbGlkZXMgPSBfc3dpcGVyJGxvb3BlZFNsaWRlcyA9PT0gdm9pZCAwID8gMCA6IF9zd2lwZXIkbG9vcGVkU2xpZGVzLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICRlbCA9IHN3aXBlci4kZWw7XG4gIHZhciBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgaWYgKCFicmVha3BvaW50cyB8fCBicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIEdldCBicmVha3BvaW50IGZvciB3aW5kb3cgd2lkdGggYW5kIHVwZGF0ZSBwYXJhbWV0ZXJzXG5cbiAgdmFyIGJyZWFrcG9pbnQgPSBzd2lwZXIuZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgc3dpcGVyLnBhcmFtcy5icmVha3BvaW50c0Jhc2UsIHN3aXBlci5lbCk7XG4gIGlmICghYnJlYWtwb2ludCB8fCBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHJldHVybjtcbiAgdmFyIGJyZWFrcG9pbnRPbmx5UGFyYW1zID0gYnJlYWtwb2ludCBpbiBicmVha3BvaW50cyA/IGJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdIDogdW5kZWZpbmVkO1xuXG4gIGlmIChicmVha3BvaW50T25seVBhcmFtcykge1xuICAgIFsnc2xpZGVzUGVyVmlldycsICdzcGFjZUJldHdlZW4nLCAnc2xpZGVzUGVyR3JvdXAnLCAnc2xpZGVzUGVyR3JvdXBTa2lwJywgJ3NsaWRlc1BlckNvbHVtbiddLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICB2YXIgcGFyYW1WYWx1ZSA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zW3BhcmFtXTtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1WYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblxuICAgICAgaWYgKHBhcmFtID09PSAnc2xpZGVzUGVyVmlldycgJiYgKHBhcmFtVmFsdWUgPT09ICdBVVRPJyB8fCBwYXJhbVZhbHVlID09PSAnYXV0bycpKSB7XG4gICAgICAgIGJyZWFrcG9pbnRPbmx5UGFyYW1zW3BhcmFtXSA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSBpZiAocGFyYW0gPT09ICdzbGlkZXNQZXJWaWV3Jykge1xuICAgICAgICBicmVha3BvaW50T25seVBhcmFtc1twYXJhbV0gPSBwYXJzZUZsb2F0KHBhcmFtVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWtwb2ludE9ubHlQYXJhbXNbcGFyYW1dID0gcGFyc2VJbnQocGFyYW1WYWx1ZSwgMTApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGJyZWFrcG9pbnRQYXJhbXMgPSBicmVha3BvaW50T25seVBhcmFtcyB8fCBzd2lwZXIub3JpZ2luYWxQYXJhbXM7XG4gIHZhciB3YXNNdWx0aVJvdyA9IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxO1xuICB2YXIgaXNNdWx0aVJvdyA9IGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMTtcbiAgdmFyIHdhc0VuYWJsZWQgPSBwYXJhbXMuZW5hYmxlZDtcblxuICBpZiAod2FzTXVsdGlSb3cgJiYgIWlzTXVsdGlSb3cpIHtcbiAgICAkZWwucmVtb3ZlQ2xhc3MocGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcIm11bHRpcm93IFwiICsgcGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcIm11bHRpcm93LWNvbHVtblwiKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgICRlbC5hZGRDbGFzcyhwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwibXVsdGlyb3dcIik7XG5cbiAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsICYmIGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ2NvbHVtbicgfHwgIWJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCAmJiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICRlbC5hZGRDbGFzcyhwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwibXVsdGlyb3ctY29sdW1uXCIpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9XG5cbiAgdmFyIGRpcmVjdGlvbkNoYW5nZWQgPSBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAmJiBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAhPT0gcGFyYW1zLmRpcmVjdGlvbjtcbiAgdmFyIG5lZWRzUmVMb29wID0gcGFyYW1zLmxvb3AgJiYgKGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgZGlyZWN0aW9uQ2hhbmdlZCk7XG5cbiAgaWYgKGRpcmVjdGlvbkNoYW5nZWQgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICBzd2lwZXIuY2hhbmdlRGlyZWN0aW9uKCk7XG4gIH1cblxuICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnBhcmFtcywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIHZhciBpc0VuYWJsZWQgPSBzd2lwZXIucGFyYW1zLmVuYWJsZWQ7XG4gICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldlxuICB9KTtcblxuICBpZiAod2FzRW5hYmxlZCAmJiAhaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmRpc2FibGUoKTtcbiAgfSBlbHNlIGlmICghd2FzRW5hYmxlZCAmJiBpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZW5hYmxlKCk7XG4gIH1cblxuICBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICBzd2lwZXIuZW1pdCgnX2JlZm9yZUJyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcblxuICBpZiAobmVlZHNSZUxvb3AgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCAtIGxvb3BlZFNsaWRlcyArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCdicmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3coKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgdmFyIHdhc0xvY2tlZCA9IHN3aXBlci5pc0xvY2tlZDtcbiAgdmFyIGxhc3RTbGlkZVBvc2l0aW9uID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggPiAwICYmIHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuICogKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSkgKyBzd2lwZXIuc2xpZGVzWzBdLm9mZnNldFdpZHRoICogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG5cbiAgaWYgKHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUgJiYgcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyICYmIGxhc3RTbGlkZVBvc2l0aW9uKSB7XG4gICAgc3dpcGVyLmlzTG9ja2VkID0gbGFzdFNsaWRlUG9zaXRpb24gPD0gc3dpcGVyLnNpemU7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLmlzTG9ja2VkID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aCA9PT0gMTtcbiAgfVxuXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7IC8vIGV2ZW50c1xuXG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkgc3dpcGVyLmVtaXQoc3dpcGVyLmlzTG9ja2VkID8gJ2xvY2snIDogJ3VubG9jaycpO1xuXG4gIGlmICh3YXNMb2NrZWQgJiYgd2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuaXNFbmQgPSBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24pIHN3aXBlci5uYXZpZ2F0aW9uLnVwZGF0ZSgpO1xuICB9XG59XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgY2hlY2tPdmVyZmxvdzogY2hlY2tPdmVyZmxvd1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3NlcztcblxuZnVuY3Rpb24gcHJlcGFyZUNsYXNzZXMoZW50cmllcywgcHJlZml4KSB7XG4gIHZhciByZXN1bHRDbGFzc2VzID0gW107XG4gIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZXMpIHtcbiAgICAgICAgaWYgKGl0ZW1bY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgY2xhc3NOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgaXRlbSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdENsYXNzZXM7XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgY2xhc3NOYW1lcyA9IHN3aXBlci5jbGFzc05hbWVzLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHJ0bCA9IHN3aXBlci5ydGwsXG4gICAgICAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgZGV2aWNlID0gc3dpcGVyLmRldmljZSxcbiAgICAgIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDsgLy8gcHJldHRpZXItaWdub3JlXG5cbiAgdmFyIHN1ZmZpeGVzID0gcHJlcGFyZUNsYXNzZXMoWydpbml0aWFsaXplZCcsIHBhcmFtcy5kaXJlY3Rpb24sIHtcbiAgICAncG9pbnRlci1ldmVudHMnOiBzdXBwb3J0LnBvaW50ZXJFdmVudHMgJiYgIXN1cHBvcnQudG91Y2hcbiAgfSwge1xuICAgICdmcmVlLW1vZGUnOiBwYXJhbXMuZnJlZU1vZGVcbiAgfSwge1xuICAgICdhdXRvaGVpZ2h0JzogcGFyYW1zLmF1dG9IZWlnaHRcbiAgfSwge1xuICAgICdydGwnOiBydGxcbiAgfSwge1xuICAgICdtdWx0aXJvdyc6IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxXG4gIH0sIHtcbiAgICAnbXVsdGlyb3ctY29sdW1uJzogcGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEgJiYgcGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgPT09ICdjb2x1bW4nXG4gIH0sIHtcbiAgICAnYW5kcm9pZCc6IGRldmljZS5hbmRyb2lkXG4gIH0sIHtcbiAgICAnaW9zJzogZGV2aWNlLmlvc1xuICB9LCB7XG4gICAgJ2Nzcy1tb2RlJzogcGFyYW1zLmNzc01vZGVcbiAgfV0sIHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKTtcbiAgY2xhc3NOYW1lcy5wdXNoLmFwcGx5KGNsYXNzTmFtZXMsIHN1ZmZpeGVzKTtcbiAgJGVsLmFkZENsYXNzKFtdLmNvbmNhdChjbGFzc05hbWVzKS5qb2luKCcgJykpO1xuICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hZGRDbGFzc2VzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9hZGRDbGFzc2VzXCIpKTtcblxudmFyIF9yZW1vdmVDbGFzc2VzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9yZW1vdmVDbGFzc2VzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBhZGRDbGFzc2VzOiBfYWRkQ2xhc3Nlcy5kZWZhdWx0LFxuICByZW1vdmVDbGFzc2VzOiBfcmVtb3ZlQ2xhc3Nlcy5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSByZW1vdmVDbGFzc2VzO1xuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICBjbGFzc05hbWVzID0gc3dpcGVyLmNsYXNzTmFtZXM7XG4gICRlbC5yZW1vdmVDbGFzcyhjbGFzc05hbWVzLmpvaW4oJyAnKSk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbnZhciBfZ2V0U3VwcG9ydCA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9nZXQtc3VwcG9ydFwiKTtcblxudmFyIF9nZXREZXZpY2UgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZ2V0LWRldmljZVwiKTtcblxudmFyIF9nZXRCcm93c2VyID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2dldC1icm93c2VyXCIpO1xuXG52YXIgX3Jlc2l6ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL21vZHVsZXMvcmVzaXplL3Jlc2l6ZVwiKSk7XG5cbnZhciBfb2JzZXJ2ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9tb2R1bGVzL29ic2VydmVyL29ic2VydmVyXCIpKTtcblxudmFyIF9tb2R1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9tb2R1bGFyXCIpKTtcblxudmFyIF9ldmVudHNFbWl0dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ldmVudHMtZW1pdHRlclwiKSk7XG5cbnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZS9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2xhdGUvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNpdGlvbi9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZS9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXg1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9sb29wL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2dyYWItY3Vyc29yL2luZGV4XCIpKTtcblxudmFyIF9pbmRleDcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL21hbmlwdWxhdGlvbi9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXg4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ldmVudHMvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4OSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vYnJlYWtwb2ludHMvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4MTAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2NsYXNzZXMvaW5kZXhcIikpO1xuXG52YXIgX2luZGV4MTEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2ltYWdlcy9pbmRleFwiKSk7XG5cbnZhciBfaW5kZXgxMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2hlY2stb3ZlcmZsb3cvaW5kZXhcIikpO1xuXG52YXIgX2RlZmF1bHRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9kZWZhdWx0c1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIHByb3RvdHlwZXMgPSB7XG4gIG1vZHVsYXI6IF9tb2R1bGFyLmRlZmF1bHQsXG4gIGV2ZW50c0VtaXR0ZXI6IF9ldmVudHNFbWl0dGVyLmRlZmF1bHQsXG4gIHVwZGF0ZTogX2luZGV4LmRlZmF1bHQsXG4gIHRyYW5zbGF0ZTogX2luZGV4Mi5kZWZhdWx0LFxuICB0cmFuc2l0aW9uOiBfaW5kZXgzLmRlZmF1bHQsXG4gIHNsaWRlOiBfaW5kZXg0LmRlZmF1bHQsXG4gIGxvb3A6IF9pbmRleDUuZGVmYXVsdCxcbiAgZ3JhYkN1cnNvcjogX2luZGV4Ni5kZWZhdWx0LFxuICBtYW5pcHVsYXRpb246IF9pbmRleDcuZGVmYXVsdCxcbiAgZXZlbnRzOiBfaW5kZXg4LmRlZmF1bHQsXG4gIGJyZWFrcG9pbnRzOiBfaW5kZXg5LmRlZmF1bHQsXG4gIGNoZWNrT3ZlcmZsb3c6IF9pbmRleDEyLmRlZmF1bHQsXG4gIGNsYXNzZXM6IF9pbmRleDEwLmRlZmF1bHQsXG4gIGltYWdlczogX2luZGV4MTEuZGVmYXVsdFxufTtcbnZhciBleHRlbmRlZERlZmF1bHRzID0ge307XG5cbnZhciBTd2lwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTd2lwZXIoKSB7XG4gICAgdmFyIGVsO1xuICAgIHZhciBwYXJhbXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHBhcmFtcyA9IGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsID0gYXJnc1swXTtcbiAgICAgIHBhcmFtcyA9IGFyZ3NbMV07XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9IHt9O1xuICAgIHBhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgcGFyYW1zKTtcbiAgICBpZiAoZWwgJiYgIXBhcmFtcy5lbCkgcGFyYW1zLmVsID0gZWw7XG5cbiAgICBpZiAocGFyYW1zLmVsICYmICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5lbCkubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIHN3aXBlcnMgPSBbXTtcbiAgICAgICgwLCBfZG9tLmRlZmF1bHQpKHBhcmFtcy5lbCkuZWFjaChmdW5jdGlvbiAoY29udGFpbmVyRWwpIHtcbiAgICAgICAgdmFyIG5ld1BhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgcGFyYW1zLCB7XG4gICAgICAgICAgZWw6IGNvbnRhaW5lckVsXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXJzLnB1c2gobmV3IFN3aXBlcihuZXdQYXJhbXMpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN3aXBlcnM7XG4gICAgfSAvLyBTd2lwZXIgSW5zdGFuY2VcblxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLl9fc3dpcGVyX18gPSB0cnVlO1xuICAgIHN3aXBlci5zdXBwb3J0ID0gKDAsIF9nZXRTdXBwb3J0LmdldFN1cHBvcnQpKCk7XG4gICAgc3dpcGVyLmRldmljZSA9ICgwLCBfZ2V0RGV2aWNlLmdldERldmljZSkoe1xuICAgICAgdXNlckFnZW50OiBwYXJhbXMudXNlckFnZW50XG4gICAgfSk7XG4gICAgc3dpcGVyLmJyb3dzZXIgPSAoMCwgX2dldEJyb3dzZXIuZ2V0QnJvd3NlcikoKTtcbiAgICBzd2lwZXIuZXZlbnRzTGlzdGVuZXJzID0ge307XG4gICAgc3dpcGVyLmV2ZW50c0FueUxpc3RlbmVycyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBzd2lwZXIubW9kdWxlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN3aXBlci5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoc3dpcGVyLm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgIHZhciBtb2R1bGUgPSBzd2lwZXIubW9kdWxlc1ttb2R1bGVOYW1lXTtcblxuICAgICAgaWYgKG1vZHVsZS5wYXJhbXMpIHtcbiAgICAgICAgdmFyIG1vZHVsZVBhcmFtTmFtZSA9IE9iamVjdC5rZXlzKG1vZHVsZS5wYXJhbXMpWzBdO1xuICAgICAgICB2YXIgbW9kdWxlUGFyYW1zID0gbW9kdWxlLnBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1vZHVsZVBhcmFtcyAhPT0gJ29iamVjdCcgfHwgbW9kdWxlUGFyYW1zID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKFsnbmF2aWdhdGlvbicsICdwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmluZGV4T2YobW9kdWxlUGFyYW1OYW1lKSA+PSAwICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKG1vZHVsZVBhcmFtTmFtZSBpbiBwYXJhbXMgJiYgJ2VuYWJsZWQnIGluIG1vZHVsZVBhcmFtcykpIHJldHVybjtcblxuICAgICAgICBpZiAocGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gJ29iamVjdCcgJiYgISgnZW5hYmxlZCcgaW4gcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pKSB7XG4gICAgICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pOyAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBtb2R1bGVzIHBhcmFtc1xuXG4gICAgdmFyIHN3aXBlclBhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgX2RlZmF1bHRzLmRlZmF1bHQpO1xuICAgIHN3aXBlci51c2VQYXJhbXMoc3dpcGVyUGFyYW1zKTsgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggcGFzc2VkIHBhcmFtc1xuXG4gICAgc3dpcGVyLnBhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgc3dpcGVyUGFyYW1zLCBleHRlbmRlZERlZmF1bHRzLCBwYXJhbXMpO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgc3dpcGVyLnBhc3NlZFBhcmFtcyA9ICgwLCBfdXRpbHMuZXh0ZW5kKSh7fSwgcGFyYW1zKTsgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbikge1xuICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnBhcmFtcy5vbikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIHN3aXBlci5vbihldmVudE5hbWUsIHN3aXBlci5wYXJhbXMub25bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uQW55KSB7XG4gICAgICBzd2lwZXIub25Bbnkoc3dpcGVyLnBhcmFtcy5vbkFueSk7XG4gICAgfSAvLyBTYXZlIERvbSBsaWJcblxuXG4gICAgc3dpcGVyLiQgPSBfZG9tLmRlZmF1bHQ7IC8vIEV4dGVuZCBTd2lwZXJcblxuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICAgIGVuYWJsZWQ6IHN3aXBlci5wYXJhbXMuZW5hYmxlZCxcbiAgICAgIGVsOiBlbCxcbiAgICAgIC8vIENsYXNzZXNcbiAgICAgIGNsYXNzTmFtZXM6IFtdLFxuICAgICAgLy8gU2xpZGVzXG4gICAgICBzbGlkZXM6ICgwLCBfZG9tLmRlZmF1bHQpKCksXG4gICAgICBzbGlkZXNHcmlkOiBbXSxcbiAgICAgIHNuYXBHcmlkOiBbXSxcbiAgICAgIHNsaWRlc1NpemVzR3JpZDogW10sXG4gICAgICAvLyBpc0RpcmVjdGlvblxuICAgICAgaXNIb3Jpem9udGFsOiBmdW5jdGlvbiBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgfSxcbiAgICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIGlzVmVydGljYWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG4gICAgICAvLyBJbmRleGVzXG4gICAgICBhY3RpdmVJbmRleDogMCxcbiAgICAgIHJlYWxJbmRleDogMCxcbiAgICAgIC8vXG4gICAgICBpc0JlZ2lubmluZzogdHJ1ZSxcbiAgICAgIGlzRW5kOiBmYWxzZSxcbiAgICAgIC8vIFByb3BzXG4gICAgICB0cmFuc2xhdGU6IDAsXG4gICAgICBwcmV2aW91c1RyYW5zbGF0ZTogMCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdmVsb2NpdHk6IDAsXG4gICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgLy8gTG9ja3NcbiAgICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXYsXG4gICAgICAvLyBUb3VjaCBFdmVudHNcbiAgICAgIHRvdWNoRXZlbnRzOiBmdW5jdGlvbiB0b3VjaEV2ZW50cygpIHtcbiAgICAgICAgdmFyIHRvdWNoID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCddO1xuICAgICAgICB2YXIgZGVza3RvcCA9IFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJ107XG5cbiAgICAgICAgaWYgKHN3aXBlci5zdXBwb3J0LnBvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICBkZXNrdG9wID0gWydwb2ludGVyZG93bicsICdwb2ludGVybW92ZScsICdwb2ludGVydXAnXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXBlci50b3VjaEV2ZW50c1RvdWNoID0ge1xuICAgICAgICAgIHN0YXJ0OiB0b3VjaFswXSxcbiAgICAgICAgICBtb3ZlOiB0b3VjaFsxXSxcbiAgICAgICAgICBlbmQ6IHRvdWNoWzJdLFxuICAgICAgICAgIGNhbmNlbDogdG91Y2hbM11cbiAgICAgICAgfTtcbiAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGVza3RvcCA9IHtcbiAgICAgICAgICBzdGFydDogZGVza3RvcFswXSxcbiAgICAgICAgICBtb3ZlOiBkZXNrdG9wWzFdLFxuICAgICAgICAgIGVuZDogZGVza3RvcFsyXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3dpcGVyLnN1cHBvcnQudG91Y2ggfHwgIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCA/IHN3aXBlci50b3VjaEV2ZW50c1RvdWNoIDogc3dpcGVyLnRvdWNoRXZlbnRzRGVza3RvcDtcbiAgICAgIH0oKSxcbiAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdWNoU3RhcnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUaHJlc2hvbGRNb3ZlOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHM6IHN3aXBlci5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsXG4gICAgICAgIC8vIExhc3QgY2xpY2sgdGltZVxuICAgICAgICBsYXN0Q2xpY2tUaW1lOiAoMCwgX3V0aWxzLm5vdykoKSxcbiAgICAgICAgY2xpY2tUaW1lb3V0OiB1bmRlZmluZWQsXG4gICAgICAgIC8vIFZlbG9jaXRpZXNcbiAgICAgICAgdmVsb2NpdGllczogW10sXG4gICAgICAgIGFsbG93TW9tZW50dW1Cb3VuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNUb3VjaEV2ZW50OiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgICAvLyBDbGlja3NcbiAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAvLyBUb3VjaGVzXG4gICAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICBjdXJyZW50WTogMCxcbiAgICAgICAgZGlmZjogMFxuICAgICAgfSxcbiAgICAgIC8vIEltYWdlc1xuICAgICAgaW1hZ2VzVG9Mb2FkOiBbXSxcbiAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgIH0pOyAvLyBJbnN0YWxsIE1vZHVsZXNcblxuICAgIHN3aXBlci51c2VNb2R1bGVzKCk7XG4gICAgc3dpcGVyLmVtaXQoJ19zd2lwZXInKTsgLy8gSW5pdFxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaW5pdCkge1xuICAgICAgc3dpcGVyLmluaXQoKTtcbiAgICB9IC8vIFJldHVybiBhcHAgaW5zdGFuY2VcblxuXG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTd2lwZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnZW5hYmxlJyk7XG4gIH07XG5cbiAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdkaXNhYmxlJyk7XG4gIH07XG5cbiAgX3Byb3RvLnNldFByb2dyZXNzID0gZnVuY3Rpb24gc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MsIHNwZWVkKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgcHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICAgIHZhciBtaW4gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgdmFyIG1heCA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICB2YXIgY3VycmVudCA9IChtYXggLSBtaW4pICogcHJvZ3Jlc3MgKyBtaW47XG4gICAgc3dpcGVyLnRyYW5zbGF0ZVRvKGN1cnJlbnQsIHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogc3BlZWQpO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH07XG5cbiAgX3Byb3RvLmVtaXRDb250YWluZXJDbGFzc2VzID0gZnVuY3Rpb24gZW1pdENvbnRhaW5lckNsYXNzZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgdmFyIGNsYXNzZXMgPSBzd2lwZXIuZWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLWNvbnRhaW5lcicpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcykgPT09IDA7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19jb250YWluZXJDbGFzc2VzJywgY2xhc3Nlcy5qb2luKCcgJykpO1xuICB9O1xuXG4gIF9wcm90by5nZXRTbGlkZUNsYXNzZXMgPSBmdW5jdGlvbiBnZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3N3aXBlci1zbGlkZScpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcykgPT09IDA7XG4gICAgfSkuam9pbignICcpO1xuICB9O1xuXG4gIF9wcm90by5lbWl0U2xpZGVzQ2xhc3NlcyA9IGZ1bmN0aW9uIGVtaXRTbGlkZXNDbGFzc2VzKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIHZhciB1cGRhdGVzID0gW107XG4gICAgc3dpcGVyLnNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lcyA9IHN3aXBlci5nZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCk7XG4gICAgICB1cGRhdGVzLnB1c2goe1xuICAgICAgICBzbGlkZUVsOiBzbGlkZUVsLFxuICAgICAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzcycsIHNsaWRlRWwsIGNsYXNzTmFtZXMpO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzc2VzJywgdXBkYXRlcyk7XG4gIH07XG5cbiAgX3Byb3RvLnNsaWRlc1BlclZpZXdEeW5hbWljID0gZnVuY3Rpb24gc2xpZGVzUGVyVmlld0R5bmFtaWMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIHNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZCxcbiAgICAgICAgc3dpcGVyU2l6ZSA9IHN3aXBlci5zaXplLFxuICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICB2YXIgc3B2ID0gMTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHZhciBzbGlkZVNpemUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgIHZhciBicmVha0xvb3A7XG5cbiAgICAgIGZvciAodmFyIGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kgPSBhY3RpdmVJbmRleCAtIDE7IF9pID49IDA7IF9pIC09IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tfaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbX2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBfaTIgPSBhY3RpdmVJbmRleCArIDE7IF9pMiA8IHNsaWRlcy5sZW5ndGg7IF9pMiArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNHcmlkW19pMl0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemUpIHtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzcHY7XG4gIH07XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgdmFyIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zOyAvLyBCcmVha3BvaW50c1xuXG4gICAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9XG5cbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgKiAtMSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICB2YXIgbmV3VHJhbnNsYXRlID0gTWF0aC5taW4oTWF0aC5tYXgodHJhbnNsYXRlVmFsdWUsIHN3aXBlci5tYXhUcmFuc2xhdGUoKSksIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zbGF0ZWQ7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICB9O1xuXG4gIF9wcm90by5jaGFuZ2VEaXJlY3Rpb24gPSBmdW5jdGlvbiBjaGFuZ2VEaXJlY3Rpb24obmV3RGlyZWN0aW9uLCBuZWVkVXBkYXRlKSB7XG4gICAgaWYgKG5lZWRVcGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgbmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGN1cnJlbnREaXJlY3Rpb24gPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbjtcblxuICAgIGlmICghbmV3RGlyZWN0aW9uKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0RpcmVjdGlvbiA9IGN1cnJlbnREaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuXG4gICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHJldHVybiBzd2lwZXI7XG4gICAgfVxuXG4gICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhcIlwiICsgc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgY3VycmVudERpcmVjdGlvbikuYWRkQ2xhc3MoXCJcIiArIHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIG5ld0RpcmVjdGlvbik7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247XG4gICAgc3dpcGVyLnNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICBpZiAobmV3RGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ2NoYW5nZURpcmVjdGlvbicpO1xuICAgIGlmIChuZWVkVXBkYXRlKSBzd2lwZXIudXBkYXRlKCk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfTtcblxuICBfcHJvdG8ubW91bnQgPSBmdW5jdGlvbiBtb3VudChlbCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIubW91bnRlZCkgcmV0dXJuIHRydWU7IC8vIEZpbmQgZWxcblxuICAgIHZhciAkZWwgPSAoMCwgX2RvbS5kZWZhdWx0KShlbCB8fCBzd2lwZXIucGFyYW1zLmVsKTtcbiAgICBlbCA9ICRlbFswXTtcblxuICAgIGlmICghZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBlbC5zd2lwZXIgPSBzd2lwZXI7XG5cbiAgICB2YXIgZ2V0V3JhcHBlclNlbGVjdG9yID0gZnVuY3Rpb24gZ2V0V3JhcHBlclNlbGVjdG9yKCkge1xuICAgICAgcmV0dXJuIFwiLlwiICsgKHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzIHx8ICcnKS50cmltKCkuc3BsaXQoJyAnKS5qb2luKCcuJyk7XG4gICAgfTtcblxuICAgIHZhciBnZXRXcmFwcGVyID0gZnVuY3Rpb24gZ2V0V3JhcHBlcigpIHtcbiAgICAgIGlmIChlbCAmJiBlbC5zaGFkb3dSb290ICYmIGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcikge1xuICAgICAgICB2YXIgcmVzID0gKDAsIF9kb20uZGVmYXVsdCkoZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGdldFdyYXBwZXJTZWxlY3RvcigpKSk7IC8vIENoaWxkcmVuIG5lZWRzIHRvIHJldHVybiBzbG90IGl0ZW1zXG5cbiAgICAgICAgcmVzLmNoaWxkcmVuID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gJGVsLmNoaWxkcmVuKG9wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkZWwuY2hpbGRyZW4oZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgIH07IC8vIEZpbmQgV3JhcHBlclxuXG5cbiAgICB2YXIgJHdyYXBwZXJFbCA9IGdldFdyYXBwZXIoKTtcblxuICAgIGlmICgkd3JhcHBlckVsLmxlbmd0aCA9PT0gMCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAkd3JhcHBlckVsID0gKDAsIF9kb20uZGVmYXVsdCkod3JhcHBlcik7XG4gICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzO1xuICAgICAgJGVsLmFwcGVuZCh3cmFwcGVyKTtcbiAgICAgICRlbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcykuZWFjaChmdW5jdGlvbiAoc2xpZGVFbCkge1xuICAgICAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZUVsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICAgICRlbDogJGVsLFxuICAgICAgZWw6IGVsLFxuICAgICAgJHdyYXBwZXJFbDogJHdyYXBwZXJFbCxcbiAgICAgIHdyYXBwZXJFbDogJHdyYXBwZXJFbFswXSxcbiAgICAgIG1vdW50ZWQ6IHRydWUsXG4gICAgICAvLyBSVExcbiAgICAgIHJ0bDogZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8ICRlbC5jc3MoJ2RpcmVjdGlvbicpID09PSAncnRsJyxcbiAgICAgIHJ0bFRyYW5zbGF0ZTogc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiAoZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8ICRlbC5jc3MoJ2RpcmVjdGlvbicpID09PSAncnRsJyksXG4gICAgICB3cm9uZ1JUTDogJHdyYXBwZXJFbC5jc3MoJ2Rpc3BsYXknKSA9PT0gJy13ZWJraXQtYm94J1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIF9wcm90by5pbml0ID0gZnVuY3Rpb24gaW5pdChlbCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybiBzd2lwZXI7XG4gICAgdmFyIG1vdW50ZWQgPSBzd2lwZXIubW91bnQoZWwpO1xuICAgIGlmIChtb3VudGVkID09PSBmYWxzZSkgcmV0dXJuIHN3aXBlcjtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlSW5pdCcpOyAvLyBTZXQgYnJlYWtwb2ludFxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfSAvLyBBZGQgQ2xhc3Nlc1xuXG5cbiAgICBzd2lwZXIuYWRkQ2xhc3NlcygpOyAvLyBDcmVhdGUgbG9vcFxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICB9IC8vIFVwZGF0ZSBzaXplXG5cblxuICAgIHN3aXBlci51cGRhdGVTaXplKCk7IC8vIFVwZGF0ZSBzbGlkZXNcblxuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfSAvLyBTZXQgR3JhYiBDdXJzb3JcblxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvciAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzKSB7XG4gICAgICBzd2lwZXIucHJlbG9hZEltYWdlcygpO1xuICAgIH0gLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH0gLy8gQXR0YWNoIGV2ZW50c1xuXG5cbiAgICBzd2lwZXIuYXR0YWNoRXZlbnRzKCk7IC8vIEluaXQgRmxhZ1xuXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gdHJ1ZTsgLy8gRW1pdFxuXG4gICAgc3dpcGVyLmVtaXQoJ2luaXQnKTtcbiAgICBzd2lwZXIuZW1pdCgnYWZ0ZXJJbml0Jyk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfTtcblxuICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UsIGNsZWFuU3R5bGVzKSB7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZUluc3RhbmNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoY2xlYW5TdHlsZXMgPT09IHZvaWQgMCkge1xuICAgICAgY2xlYW5TdHlsZXMgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG5cbiAgICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlci5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVEZXN0cm95Jyk7IC8vIEluaXQgRmxhZ1xuXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gZmFsc2U7IC8vIERldGFjaCBldmVudHNcblxuICAgIHN3aXBlci5kZXRhY2hFdmVudHMoKTsgLy8gRGVzdHJveSBsb29wXG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH0gLy8gQ2xlYW51cCBzdHlsZXNcblxuXG4gICAgaWYgKGNsZWFuU3R5bGVzKSB7XG4gICAgICBzd2lwZXIucmVtb3ZlQ2xhc3NlcygpO1xuICAgICAgJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAkd3JhcHBlckVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cbiAgICAgIGlmIChzbGlkZXMgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzbGlkZXMucmVtb3ZlQ2xhc3MoW3BhcmFtcy5zbGlkZVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MsIHBhcmFtcy5zbGlkZU5leHRDbGFzcywgcGFyYW1zLnNsaWRlUHJldkNsYXNzXS5qb2luKCcgJykpLnJlbW92ZUF0dHIoJ3N0eWxlJykucmVtb3ZlQXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnZGVzdHJveScpOyAvLyBEZXRhY2ggZW1pdHRlciBldmVudHNcblxuICAgIE9iamVjdC5rZXlzKHN3aXBlci5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgc3dpcGVyLm9mZihldmVudE5hbWUpO1xuICAgIH0pO1xuXG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlICE9PSBmYWxzZSkge1xuICAgICAgc3dpcGVyLiRlbFswXS5zd2lwZXIgPSBudWxsO1xuICAgICAgKDAsIF91dGlscy5kZWxldGVQcm9wcykoc3dpcGVyKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBTd2lwZXIuZXh0ZW5kRGVmYXVsdHMgPSBmdW5jdGlvbiBleHRlbmREZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShleHRlbmRlZERlZmF1bHRzLCBuZXdEZWZhdWx0cyk7XG4gIH07XG5cbiAgU3dpcGVyLmluc3RhbGxNb2R1bGUgPSBmdW5jdGlvbiBpbnN0YWxsTW9kdWxlKG1vZHVsZSkge1xuICAgIGlmICghU3dpcGVyLnByb3RvdHlwZS5tb2R1bGVzKSBTd2lwZXIucHJvdG90eXBlLm1vZHVsZXMgPSB7fTtcbiAgICB2YXIgbmFtZSA9IG1vZHVsZS5uYW1lIHx8IE9iamVjdC5rZXlzKFN3aXBlci5wcm90b3R5cGUubW9kdWxlcykubGVuZ3RoICsgXCJfXCIgKyAoMCwgX3V0aWxzLm5vdykoKTtcbiAgICBTd2lwZXIucHJvdG90eXBlLm1vZHVsZXNbbmFtZV0gPSBtb2R1bGU7XG4gIH07XG5cbiAgU3dpcGVyLnVzZSA9IGZ1bmN0aW9uIHVzZShtb2R1bGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICBtb2R1bGUuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gU3dpcGVyLmluc3RhbGxNb2R1bGUobSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBTd2lwZXI7XG4gICAgfVxuXG4gICAgU3dpcGVyLmluc3RhbGxNb2R1bGUobW9kdWxlKTtcbiAgICByZXR1cm4gU3dpcGVyO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTd2lwZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImV4dGVuZGVkRGVmYXVsdHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBleHRlbmRlZERlZmF1bHRzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cy5kZWZhdWx0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTd2lwZXI7XG59KCk7XG5cbk9iamVjdC5rZXlzKHByb3RvdHlwZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3RvdHlwZUdyb3VwKSB7XG4gIE9iamVjdC5rZXlzKHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm90b01ldGhvZCkge1xuICAgIFN3aXBlci5wcm90b3R5cGVbcHJvdG9NZXRob2RdID0gcHJvdG90eXBlc1twcm90b3R5cGVHcm91cF1bcHJvdG9NZXRob2RdO1xuICB9KTtcbn0pO1xuU3dpcGVyLnVzZShbX3Jlc2l6ZS5kZWZhdWx0LCBfb2JzZXJ2ZXIuZGVmYXVsdF0pO1xudmFyIF9kZWZhdWx0ID0gU3dpcGVyO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX2RlZmF1bHQgPSB7XG4gIGluaXQ6IHRydWUsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICB0b3VjaEV2ZW50c1RhcmdldDogJ2NvbnRhaW5lcicsXG4gIGluaXRpYWxTbGlkZTogMCxcbiAgc3BlZWQ6IDMwMCxcbiAgY3NzTW9kZTogZmFsc2UsXG4gIHVwZGF0ZU9uV2luZG93UmVzaXplOiB0cnVlLFxuICByZXNpemVPYnNlcnZlcjogZmFsc2UsXG4gIG5lc3RlZDogZmFsc2UsXG4gIGNyZWF0ZUVsZW1lbnRzOiBmYWxzZSxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgZm9jdXNhYmxlRWxlbWVudHM6ICdpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvLCBsYWJlbCcsXG4gIC8vIE92ZXJyaWRlc1xuICB3aWR0aDogbnVsbCxcbiAgaGVpZ2h0OiBudWxsLFxuICAvL1xuICBwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246IGZhbHNlLFxuICAvLyBzc3JcbiAgdXNlckFnZW50OiBudWxsLFxuICB1cmw6IG51bGwsXG4gIC8vIFRvIHN1cHBvcnQgaU9TJ3Mgc3dpcGUtdG8tZ28tYmFjayBnZXN0dXJlICh3aGVuIGJlaW5nIHVzZWQgaW4tYXBwKS5cbiAgZWRnZVN3aXBlRGV0ZWN0aW9uOiBmYWxzZSxcbiAgZWRnZVN3aXBlVGhyZXNob2xkOiAyMCxcbiAgLy8gRnJlZSBtb2RlXG4gIGZyZWVNb2RlOiBmYWxzZSxcbiAgZnJlZU1vZGVNb21lbnR1bTogdHJ1ZSxcbiAgZnJlZU1vZGVNb21lbnR1bVJhdGlvOiAxLFxuICBmcmVlTW9kZU1vbWVudHVtQm91bmNlOiB0cnVlLFxuICBmcmVlTW9kZU1vbWVudHVtQm91bmNlUmF0aW86IDEsXG4gIGZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvOiAxLFxuICBmcmVlTW9kZVN0aWNreTogZmFsc2UsXG4gIGZyZWVNb2RlTWluaW11bVZlbG9jaXR5OiAwLjAyLFxuICAvLyBBdXRvaGVpZ2h0XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAvLyBTZXQgd3JhcHBlciB3aWR0aFxuICBzZXRXcmFwcGVyU2l6ZTogZmFsc2UsXG4gIC8vIFZpcnR1YWwgVHJhbnNsYXRlXG4gIHZpcnR1YWxUcmFuc2xhdGU6IGZhbHNlLFxuICAvLyBFZmZlY3RzXG4gIGVmZmVjdDogJ3NsaWRlJyxcbiAgLy8gJ3NsaWRlJyBvciAnZmFkZScgb3IgJ2N1YmUnIG9yICdjb3ZlcmZsb3cnIG9yICdmbGlwJ1xuICAvLyBCcmVha3BvaW50c1xuICBicmVha3BvaW50czogdW5kZWZpbmVkLFxuICBicmVha3BvaW50c0Jhc2U6ICd3aW5kb3cnLFxuICAvLyBTbGlkZXMgZ3JpZFxuICBzcGFjZUJldHdlZW46IDAsXG4gIHNsaWRlc1BlclZpZXc6IDEsXG4gIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgc2xpZGVzUGVyQ29sdW1uRmlsbDogJ2NvbHVtbicsXG4gIHNsaWRlc1Blckdyb3VwOiAxLFxuICBzbGlkZXNQZXJHcm91cFNraXA6IDAsXG4gIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXNCb3VuZHM6IGZhbHNlLFxuICBzbGlkZXNPZmZzZXRCZWZvcmU6IDAsXG4gIC8vIGluIHB4XG4gIHNsaWRlc09mZnNldEFmdGVyOiAwLFxuICAvLyBpbiBweFxuICBub3JtYWxpemVTbGlkZUluZGV4OiB0cnVlLFxuICBjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6IGZhbHNlLFxuICAvLyBEaXNhYmxlIHN3aXBlciBhbmQgaGlkZSBuYXZpZ2F0aW9uIHdoZW4gY29udGFpbmVyIG5vdCBvdmVyZmxvd1xuICB3YXRjaE92ZXJmbG93OiBmYWxzZSxcbiAgLy8gUm91bmQgbGVuZ3RoXG4gIHJvdW5kTGVuZ3RoczogZmFsc2UsXG4gIC8vIFRvdWNoZXNcbiAgdG91Y2hSYXRpbzogMSxcbiAgdG91Y2hBbmdsZTogNDUsXG4gIHNpbXVsYXRlVG91Y2g6IHRydWUsXG4gIHNob3J0U3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgbG9uZ1N3aXBlc01zOiAzMDAsXG4gIGZvbGxvd0ZpbmdlcjogdHJ1ZSxcbiAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gIHRocmVzaG9sZDogMCxcbiAgdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiB0cnVlLFxuICB0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gIHRvdWNoUmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAvLyBVbmlxdWUgTmF2aWdhdGlvbiBFbGVtZW50c1xuICB1bmlxdWVOYXZFbGVtZW50czogdHJ1ZSxcbiAgLy8gUmVzaXN0YW5jZVxuICByZXNpc3RhbmNlOiB0cnVlLFxuICByZXNpc3RhbmNlUmF0aW86IDAuODUsXG4gIC8vIFByb2dyZXNzXG4gIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IGZhbHNlLFxuICB3YXRjaFNsaWRlc1Zpc2liaWxpdHk6IGZhbHNlLFxuICAvLyBDdXJzb3JcbiAgZ3JhYkN1cnNvcjogZmFsc2UsXG4gIC8vIENsaWNrc1xuICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxuICBwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246IHRydWUsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlLFxuICAvLyBJbWFnZXNcbiAgcHJlbG9hZEltYWdlczogdHJ1ZSxcbiAgdXBkYXRlT25JbWFnZXNSZWFkeTogdHJ1ZSxcbiAgLy8gbG9vcFxuICBsb29wOiBmYWxzZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG4gIGxvb3BlZFNsaWRlczogbnVsbCxcbiAgbG9vcEZpbGxHcm91cFdpdGhCbGFuazogZmFsc2UsXG4gIGxvb3BQcmV2ZW50c1NsaWRlOiB0cnVlLFxuICAvLyBTd2lwaW5nL25vIHN3aXBpbmdcbiAgYWxsb3dTbGlkZVByZXY6IHRydWUsXG4gIGFsbG93U2xpZGVOZXh0OiB0cnVlLFxuICBzd2lwZUhhbmRsZXI6IG51bGwsXG4gIC8vICcuc3dpcGUtaGFuZGxlcicsXG4gIG5vU3dpcGluZzogdHJ1ZSxcbiAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZXItbm8tc3dpcGluZycsXG4gIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLFxuICAvLyBQYXNzaXZlIExpc3RlbmVyc1xuICBwYXNzaXZlTGlzdGVuZXJzOiB0cnVlLFxuICAvLyBOU1xuICBjb250YWluZXJNb2RpZmllckNsYXNzOiAnc3dpcGVyLWNvbnRhaW5lci0nLFxuICAvLyBORVdcbiAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXG4gIHNsaWRlQmxhbmtDbGFzczogJ3N3aXBlci1zbGlkZS1pbnZpc2libGUtYmxhbmsnLFxuICBzbGlkZUFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWFjdGl2ZScsXG4gIHNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtZHVwbGljYXRlLWFjdGl2ZScsXG4gIHNsaWRlVmlzaWJsZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXZpc2libGUnLFxuICBzbGlkZUR1cGxpY2F0ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZScsXG4gIHNsaWRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLW5leHQnLFxuICBzbGlkZUR1cGxpY2F0ZU5leHRDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUtbmV4dCcsXG4gIHNsaWRlUHJldkNsYXNzOiAnc3dpcGVyLXNsaWRlLXByZXYnLFxuICBzbGlkZUR1cGxpY2F0ZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUtcHJldicsXG4gIHdyYXBwZXJDbGFzczogJ3N3aXBlci13cmFwcGVyJyxcbiAgLy8gQ2FsbGJhY2tzXG4gIHJ1bkNhbGxiYWNrc09uSW5pdDogdHJ1ZSxcbiAgLy8gSW50ZXJuYWxzXG4gIF9lbWl0Q2xhc3NlczogZmFsc2Vcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbnZhciBfZGVmYXVsdCA9IHtcbiAgb246IGZ1bmN0aW9uIG9uKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICB2YXIgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvbmNlOiBmdW5jdGlvbiBvbmNlKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcblxuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgc2VsZi5vZmYoZXZlbnRzLCBvbmNlSGFuZGxlcik7XG5cbiAgICAgIGlmIChvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSkge1xuICAgICAgICBkZWxldGUgb25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5ID0gaGFuZGxlcjtcbiAgICByZXR1cm4gc2VsZi5vbihldmVudHMsIG9uY2VIYW5kbGVyLCBwcmlvcml0eSk7XG4gIH0sXG4gIG9uQW55OiBmdW5jdGlvbiBvbkFueShoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIHZhciBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcblxuICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpIDwgMCkge1xuICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnNbbWV0aG9kXShoYW5kbGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmQW55OiBmdW5jdGlvbiBvZmZBbnkoaGFuZGxlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzQW55TGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICB2YXIgaW5kZXggPSBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9mZjogZnVuY3Rpb24gb2ZmKGV2ZW50cywgaGFuZGxlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudEhhbmRsZXIsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlciA9PT0gaGFuZGxlciB8fCBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgJiYgZXZlbnRIYW5kbGVyLl9fZW1pdHRlclByb3h5ID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBlbWl0OiBmdW5jdGlvbiBlbWl0KCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICB2YXIgZXZlbnRzO1xuICAgIHZhciBkYXRhO1xuICAgIHZhciBjb250ZXh0O1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdO1xuICAgICAgZGF0YSA9IGFyZ3Muc2xpY2UoMSwgYXJncy5sZW5ndGgpO1xuICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF0uZXZlbnRzO1xuICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgIGNvbnRleHQgPSBhcmdzWzBdLmNvbnRleHQgfHwgc2VsZjtcbiAgICB9XG5cbiAgICBkYXRhLnVuc2hpZnQoY29udGV4dCk7XG4gICAgdmFyIGV2ZW50c0FycmF5ID0gQXJyYXkuaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgZXZlbnRzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRIYW5kbGVyKSB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50SGFuZGxlcikge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9vblRvdWNoU3RhcnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29uVG91Y2hTdGFydFwiKSk7XG5cbnZhciBfb25Ub3VjaE1vdmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29uVG91Y2hNb3ZlXCIpKTtcblxudmFyIF9vblRvdWNoRW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vblRvdWNoRW5kXCIpKTtcblxudmFyIF9vblJlc2l6ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb25SZXNpemVcIikpO1xuXG52YXIgX29uQ2xpY2sgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29uQ2xpY2tcIikpO1xuXG52YXIgX29uU2Nyb2xsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vblNjcm9sbFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkdW1teUV2ZW50QXR0YWNoZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gZHVtbXlFdmVudExpc3RlbmVyKCkge31cblxuZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgdG91Y2hFdmVudHMgPSBzd2lwZXIudG91Y2hFdmVudHMsXG4gICAgICBlbCA9IHN3aXBlci5lbCxcbiAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWwsXG4gICAgICBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlLFxuICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICBzd2lwZXIub25Ub3VjaFN0YXJ0ID0gX29uVG91Y2hTdGFydC5kZWZhdWx0LmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hNb3ZlID0gX29uVG91Y2hNb3ZlLmRlZmF1bHQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaEVuZCA9IF9vblRvdWNoRW5kLmRlZmF1bHQuYmluZChzd2lwZXIpO1xuXG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5vblNjcm9sbCA9IF9vblNjcm9sbC5kZWZhdWx0LmJpbmQoc3dpcGVyKTtcbiAgfVxuXG4gIHN3aXBlci5vbkNsaWNrID0gX29uQ2xpY2suZGVmYXVsdC5iaW5kKHN3aXBlcik7XG4gIHZhciBjYXB0dXJlID0gISFwYXJhbXMubmVzdGVkOyAvLyBUb3VjaCBFdmVudHNcblxuICBpZiAoIXN1cHBvcnQudG91Y2ggJiYgc3VwcG9ydC5wb2ludGVyRXZlbnRzKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5zdGFydCwgc3dpcGVyLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgc3dpcGVyLm9uVG91Y2hNb3ZlLCBjYXB0dXJlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3VwcG9ydC50b3VjaCkge1xuICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgICB9IDogZmFsc2U7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCBzd2lwZXIub25Ub3VjaE1vdmUsIHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyID8ge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZTogY2FwdHVyZVxuICAgICAgfSA6IGNhcHR1cmUpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHN3aXBlci5vblRvdWNoRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuXG4gICAgICBpZiAodG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuY2FuY2VsLCBzd2lwZXIub25Ub3VjaEVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkdW1teUV2ZW50QXR0YWNoZWQpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGR1bW15RXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIGR1bW15RXZlbnRBdHRhY2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFkZXZpY2UuaW9zICYmICFkZXZpY2UuYW5kcm9pZCB8fCBwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiAhc3VwcG9ydC50b3VjaCAmJiBkZXZpY2UuaW9zKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN3aXBlci5vblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgfVxuICB9IC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG5cblxuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH0gLy8gUmVzaXplIGhhbmRsZXJcblxuXG4gIGlmIChwYXJhbXMudXBkYXRlT25XaW5kb3dSZXNpemUpIHtcbiAgICBzd2lwZXIub24oZGV2aWNlLmlvcyB8fCBkZXZpY2UuYW5kcm9pZCA/ICdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGUnIDogJ3Jlc2l6ZSBvYnNlcnZlclVwZGF0ZScsIF9vblJlc2l6ZS5kZWZhdWx0LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIub24oJ29ic2VydmVyVXBkYXRlJywgX29uUmVzaXplLmRlZmF1bHQsIHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRldGFjaEV2ZW50cygpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHRvdWNoRXZlbnRzID0gc3dpcGVyLnRvdWNoRXZlbnRzLFxuICAgICAgZWwgPSBzd2lwZXIuZWwsXG4gICAgICB3cmFwcGVyRWwgPSBzd2lwZXIud3JhcHBlckVsLFxuICAgICAgZGV2aWNlID0gc3dpcGVyLmRldmljZSxcbiAgICAgIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgdmFyIGNhcHR1cmUgPSAhIXBhcmFtcy5uZXN0ZWQ7IC8vIFRvdWNoIEV2ZW50c1xuXG4gIGlmICghc3VwcG9ydC50b3VjaCAmJiBzdXBwb3J0LnBvaW50ZXJFdmVudHMpIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCBzd2lwZXIub25Ub3VjaEVuZCwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzdXBwb3J0LnRvdWNoKSB7XG4gICAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gdG91Y2hFdmVudHMuc3RhcnQgPT09ICdvblRvdWNoU3RhcnQnICYmIHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgfSA6IGZhbHNlO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5zdGFydCwgc3dpcGVyLm9uVG91Y2hTdGFydCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgc3dpcGVyLm9uVG91Y2hNb3ZlLCBjYXB0dXJlKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCBzd2lwZXIub25Ub3VjaEVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcblxuICAgICAgaWYgKHRvdWNoRXZlbnRzLmNhbmNlbCkge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmNhbmNlbCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFkZXZpY2UuaW9zICYmICFkZXZpY2UuYW5kcm9pZCB8fCBwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiAhc3VwcG9ydC50b3VjaCAmJiBkZXZpY2UuaW9zKSB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN3aXBlci5vblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgfVxuICB9IC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG5cblxuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH0gLy8gUmVzaXplIGhhbmRsZXJcblxuXG4gIHN3aXBlci5vZmYoZGV2aWNlLmlvcyB8fCBkZXZpY2UuYW5kcm9pZCA/ICdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGUnIDogJ3Jlc2l6ZSBvYnNlcnZlclVwZGF0ZScsIF9vblJlc2l6ZS5kZWZhdWx0KTtcbn1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBhdHRhY2hFdmVudHM6IGF0dGFjaEV2ZW50cyxcbiAgZGV0YWNoRXZlbnRzOiBkZXRhY2hFdmVudHNcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9uQ2xpY2s7XG5cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuXG4gIGlmICghc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzKSBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24gJiYgc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBvblJlc2l6ZTtcblxuZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIGVsID0gc3dpcGVyLmVsO1xuICBpZiAoZWwgJiYgZWwub2Zmc2V0V2lkdGggPT09IDApIHJldHVybjsgLy8gQnJlYWtwb2ludHNcblxuICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgfSAvLyBTYXZlIGxvY2tzXG5cblxuICB2YXIgYWxsb3dTbGlkZU5leHQgPSBzd2lwZXIuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldiA9IHN3aXBlci5hbGxvd1NsaWRlUHJldixcbiAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkOyAvLyBEaXNhYmxlIGxvY2tzIG9uIHJlc2l6ZVxuXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICB9IC8vIFJldHVybiBsb2NrcyBhZnRlciByZXNpemVcblxuXG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcblxuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBvblNjcm9sbDtcblxuZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgIHJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuXG4gIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICBpZiAocnRsVHJhbnNsYXRlKSB7XG4gICAgICBzd2lwZXIudHJhbnNsYXRlID0gd3JhcHBlckVsLnNjcm9sbFdpZHRoIC0gd3JhcHBlckVsLm9mZnNldFdpZHRoIC0gd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbFRvcDtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuXG4gIGlmIChzd2lwZXIudHJhbnNsYXRlID09PSAtMCkgc3dpcGVyLnRyYW5zbGF0ZSA9IDA7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB2YXIgbmV3UHJvZ3Jlc3M7XG4gIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAoc3dpcGVyLnRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuXG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgZmFsc2UpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gb25Ub3VjaEVuZDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHRvdWNoZXMgPSBzd2lwZXIudG91Y2hlcyxcbiAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNHcmlkID0gc3dpcGVyLnNsaWRlc0dyaWQsXG4gICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgIGVuYWJsZWQgPSBzd2lwZXIuZW5hYmxlZDtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIHZhciBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaEVuZCcsIGUpO1xuICB9XG5cbiAgZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzID0gZmFsc2U7XG5cbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLmlzTW92ZWQgJiYgcGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgICB9XG5cbiAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9IC8vIFJldHVybiBHcmFiIEN1cnNvclxuXG5cbiAgaWYgKHBhcmFtcy5ncmFiQ3Vyc29yICYmIGRhdGEuaXNNb3ZlZCAmJiBkYXRhLmlzVG91Y2hlZCAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gIH0gLy8gVGltZSBkaWZmXG5cblxuICB2YXIgdG91Y2hFbmRUaW1lID0gKDAsIF91dGlscy5ub3cpKCk7XG4gIHZhciB0aW1lRGlmZiA9IHRvdWNoRW5kVGltZSAtIGRhdGEudG91Y2hTdGFydFRpbWU7IC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuXG4gIGlmIChzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIHN3aXBlci51cGRhdGVDbGlja2VkU2xpZGUoZSk7XG4gICAgc3dpcGVyLmVtaXQoJ3RhcCBjbGljaycsIGUpO1xuXG4gICAgaWYgKHRpbWVEaWZmIDwgMzAwICYmIHRvdWNoRW5kVGltZSAtIGRhdGEubGFzdENsaWNrVGltZSA8IDMwMCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ2RvdWJsZVRhcCBkb3VibGVDbGljaycsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGRhdGEubGFzdENsaWNrVGltZSA9ICgwLCBfdXRpbHMubm93KSgpO1xuICAoMCwgX3V0aWxzLm5leHRUaWNrKShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIH0pO1xuXG4gIGlmICghZGF0YS5pc1RvdWNoZWQgfHwgIWRhdGEuaXNNb3ZlZCB8fCAhc3dpcGVyLnN3aXBlRGlyZWN0aW9uIHx8IHRvdWNoZXMuZGlmZiA9PT0gMCB8fCBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPT09IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICB2YXIgY3VycmVudFBvcztcblxuICBpZiAocGFyYW1zLmZvbGxvd0Zpbmdlcikge1xuICAgIGN1cnJlbnRQb3MgPSBydGwgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudFBvcyA9IC1kYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgaWYgKGN1cnJlbnRQb3MgPCAtc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UG9zID4gLXN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXMubGVuZ3RoIDwgc25hcEdyaWQubGVuZ3RoKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNuYXBHcmlkLmxlbmd0aCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZnJlZU1vZGVNb21lbnR1bSkge1xuICAgICAgaWYgKGRhdGEudmVsb2NpdGllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBsYXN0TW92ZUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICB2YXIgdmVsb2NpdHlFdmVudCA9IGRhdGEudmVsb2NpdGllcy5wb3AoKTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gbGFzdE1vdmVFdmVudC5wb3NpdGlvbiAtIHZlbG9jaXR5RXZlbnQucG9zaXRpb247XG4gICAgICAgIHZhciB0aW1lID0gbGFzdE1vdmVFdmVudC50aW1lIC0gdmVsb2NpdHlFdmVudC50aW1lO1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSBkaXN0YW5jZSAvIHRpbWU7XG4gICAgICAgIHN3aXBlci52ZWxvY2l0eSAvPSAyO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhzd2lwZXIudmVsb2NpdHkpIDwgcGFyYW1zLmZyZWVNb2RlTWluaW11bVZlbG9jaXR5KSB7XG4gICAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfSAvLyB0aGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBhIGZpbmdlciB0aGVuIHJlbGVhc2VkLlxuICAgICAgICAvLyBUaGVyZSB3b3VsZCBiZSBubyBldmVudHMgd2l0aCBkaXN0YW5jZSB6ZXJvLCBzbyB0aGUgbGFzdCBldmVudCBpcyBzdGFsZS5cblxuXG4gICAgICAgIGlmICh0aW1lID4gMTUwIHx8ICgwLCBfdXRpbHMubm93KSgpIC0gbGFzdE1vdmVFdmVudC50aW1lID4gMzAwKSB7XG4gICAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gMDtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnZlbG9jaXR5ICo9IHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtVmVsb2NpdHlSYXRpbztcbiAgICAgIGRhdGEudmVsb2NpdGllcy5sZW5ndGggPSAwO1xuICAgICAgdmFyIG1vbWVudHVtRHVyYXRpb24gPSAxMDAwICogcGFyYW1zLmZyZWVNb2RlTW9tZW50dW1SYXRpbztcbiAgICAgIHZhciBtb21lbnR1bURpc3RhbmNlID0gc3dpcGVyLnZlbG9jaXR5ICogbW9tZW50dW1EdXJhdGlvbjtcbiAgICAgIHZhciBuZXdQb3NpdGlvbiA9IHN3aXBlci50cmFuc2xhdGUgKyBtb21lbnR1bURpc3RhbmNlO1xuICAgICAgaWYgKHJ0bCkgbmV3UG9zaXRpb24gPSAtbmV3UG9zaXRpb247XG4gICAgICB2YXIgZG9Cb3VuY2UgPSBmYWxzZTtcbiAgICAgIHZhciBhZnRlckJvdW5jZVBvc2l0aW9uO1xuICAgICAgdmFyIGJvdW5jZUFtb3VudCA9IE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgKiAyMCAqIHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlUmF0aW87XG4gICAgICB2YXIgbmVlZHNMb29wRml4O1xuXG4gICAgICBpZiAobmV3UG9zaXRpb24gPCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uICsgc3dpcGVyLm1heFRyYW5zbGF0ZSgpIDwgLWJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWZ0ZXJCb3VuY2VQb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICAgICAgICBkb0JvdW5jZSA9IHRydWU7XG4gICAgICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMubG9vcCAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXMpIG5lZWRzTG9vcEZpeCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG5ld1Bvc2l0aW9uID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSkge1xuICAgICAgICAgIGlmIChuZXdQb3NpdGlvbiAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSA+IGJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgKyBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWZ0ZXJCb3VuY2VQb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgICAgICBkb0JvdW5jZSA9IHRydWU7XG4gICAgICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMubG9vcCAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXMpIG5lZWRzTG9vcEZpeCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICB2YXIgbmV4dFNsaWRlO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc25hcEdyaWQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICBpZiAoc25hcEdyaWRbal0gPiAtbmV3UG9zaXRpb24pIHtcbiAgICAgICAgICAgIG5leHRTbGlkZSA9IGo7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlXSAtIG5ld1Bvc2l0aW9uKSA8IE1hdGguYWJzKHNuYXBHcmlkW25leHRTbGlkZSAtIDFdIC0gbmV3UG9zaXRpb24pIHx8IHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc25hcEdyaWRbbmV4dFNsaWRlIC0gMV07XG4gICAgICAgIH1cblxuICAgICAgICBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRzTG9vcEZpeCkge1xuICAgICAgICBzd2lwZXIub25jZSgndHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gRml4IGR1cmF0aW9uXG5cblxuICAgICAgaWYgKHN3aXBlci52ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICBpZiAocnRsKSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKCgtbmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKChuZXdQb3NpdGlvbiAtIHN3aXBlci50cmFuc2xhdGUpIC8gc3dpcGVyLnZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgICAvLyBJZiBmcmVlTW9kZVN0aWNreSBpcyBhY3RpdmUgYW5kIHRoZSB1c2VyIGVuZHMgYSBzd2lwZSB3aXRoIGEgc2xvdy12ZWxvY2l0eVxuICAgICAgICAgIC8vIGV2ZW50LCB0aGVuIGR1cmF0aW9ucyBjYW4gYmUgMjArIHNlY29uZHMgdG8gc2xpZGUgb25lIChvciB6ZXJvISkgc2xpZGVzLlxuICAgICAgICAgIC8vIEl0J3MgZWFzeSB0byBzZWUgdGhpcyB3aGVuIHNpbXVsYXRpbmcgdG91Y2ggd2l0aCBtb3VzZSBldmVudHMuIFRvIGZpeCB0aGlzLFxuICAgICAgICAgIC8vIGxpbWl0IHNpbmdsZS1zbGlkZSBzd2lwZXMgdG8gdGhlIGRlZmF1bHQgc2xpZGUgZHVyYXRpb24uIFRoaXMgYWxzbyBoYXMgdGhlXG4gICAgICAgICAgLy8gbmljZSBzaWRlIGVmZmVjdCBvZiBtYXRjaGluZyBzbGlkZSBzcGVlZCBpZiB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBiZWZvcmVcbiAgICAgICAgICAvLyBsaWZ0aW5nIGZpbmdlciBvciBtb3VzZSB2cy4gbW92aW5nIHNsb3dseSBiZWZvcmUgbGlmdGluZyB0aGUgZmluZ2VyL21vdXNlLlxuICAgICAgICAgIC8vIEZvciBmYXN0ZXIgc3dpcGVzLCBhbHNvIGFwcGx5IGxpbWl0cyAoYWxiZWl0IGhpZ2hlciBvbmVzKS5cbiAgICAgICAgICB2YXIgbW92ZURpc3RhbmNlID0gTWF0aC5hYnMoKHJ0bCA/IC1uZXdQb3NpdGlvbiA6IG5ld1Bvc2l0aW9uKSAtIHN3aXBlci50cmFuc2xhdGUpO1xuICAgICAgICAgIHZhciBjdXJyZW50U2xpZGVTaXplID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuYWN0aXZlSW5kZXhdO1xuXG4gICAgICAgICAgaWYgKG1vdmVEaXN0YW5jZSA8IGN1cnJlbnRTbGlkZVNpemUpIHtcbiAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBwYXJhbXMuc3BlZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChtb3ZlRGlzdGFuY2UgPCAyICogY3VycmVudFNsaWRlU2l6ZSkge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IHBhcmFtcy5zcGVlZCAqIDEuNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IHBhcmFtcy5zcGVlZCAqIDIuNTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSAmJiBkb0JvdW5jZSkge1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoYWZ0ZXJCb3VuY2VQb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnbW9tZW50dW1Cb3VuY2UnKTtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihwYXJhbXMuc3BlZWQpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShhZnRlckJvdW5jZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnZlbG9jaXR5KSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1Bvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgc3dpcGVyLmVtaXQoJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJyk7XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbXMuZnJlZU1vZGVNb21lbnR1bSB8fCB0aW1lRGlmZiA+PSBwYXJhbXMubG9uZ1N3aXBlc01zKSB7XG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0gLy8gRmluZCBjdXJyZW50IHNsaWRlXG5cblxuICB2YXIgc3RvcEluZGV4ID0gMDtcbiAgdmFyIGdyb3VwU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbMF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICB2YXIgX2luY3JlbWVudCA9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIF9pbmNyZW1lbnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSAmJiBjdXJyZW50UG9zIDwgc2xpZGVzR3JpZFtpICsgX2luY3JlbWVudF0pIHtcbiAgICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtpICsgX2luY3JlbWVudF0gLSBzbGlkZXNHcmlkW2ldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDFdIC0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDJdO1xuICAgIH1cbiAgfSAvLyBGaW5kIGN1cnJlbnQgc2xpZGUgc2l6ZVxuXG5cbiAgdmFyIHJhdGlvID0gKGN1cnJlbnRQb3MgLSBzbGlkZXNHcmlkW3N0b3BJbmRleF0pIC8gZ3JvdXBTaXplO1xuICB2YXIgaW5jcmVtZW50ID0gc3RvcEluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gIGlmICh0aW1lRGlmZiA+IHBhcmFtcy5sb25nU3dpcGVzTXMpIHtcbiAgICAvLyBMb25nIHRvdWNoZXNcbiAgICBpZiAoIXBhcmFtcy5sb25nU3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgaWYgKHJhdGlvID49IHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7ZWxzZSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHJhdGlvID4gMSAtIHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7ZWxzZSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTaG9ydCBzd2lwZXNcbiAgICBpZiAoIXBhcmFtcy5zaG9ydFN3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXNOYXZCdXR0b25UYXJnZXQgPSBzd2lwZXIubmF2aWdhdGlvbiAmJiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKTtcblxuICAgIGlmICghaXNOYXZCdXR0b25UYXJnZXQpIHtcbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBvblRvdWNoTW92ZTtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBvblRvdWNoTW92ZShldmVudCkge1xuICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICB0b3VjaGVzID0gc3dpcGVyLnRvdWNoZXMsXG4gICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgdmFyIGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuc3RhcnRNb3ZpbmcgJiYgZGF0YS5pc1Njcm9sbGluZykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGRhdGEuaXNUb3VjaEV2ZW50ICYmIGUudHlwZSAhPT0gJ3RvdWNobW92ZScpIHJldHVybjtcbiAgdmFyIHRhcmdldFRvdWNoID0gZS50eXBlID09PSAndG91Y2htb3ZlJyAmJiBlLnRhcmdldFRvdWNoZXMgJiYgKGUudGFyZ2V0VG91Y2hlc1swXSB8fCBlLmNoYW5nZWRUb3VjaGVzWzBdKTtcbiAgdmFyIHBhZ2VYID0gZS50eXBlID09PSAndG91Y2htb3ZlJyA/IHRhcmdldFRvdWNoLnBhZ2VYIDogZS5wYWdlWDtcbiAgdmFyIHBhZ2VZID0gZS50eXBlID09PSAndG91Y2htb3ZlJyA/IHRhcmdldFRvdWNoLnBhZ2VZIDogZS5wYWdlWTtcblxuICBpZiAoZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcikge1xuICAgIHRvdWNoZXMuc3RhcnRYID0gcGFnZVg7XG4gICAgdG91Y2hlcy5zdGFydFkgPSBwYWdlWTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXN3aXBlci5hbGxvd1RvdWNoTW92ZSkge1xuICAgIC8vIGlzTW92ZWQgPSB0cnVlO1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG5cbiAgICBpZiAoZGF0YS5pc1RvdWNoZWQpIHtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKSh0b3VjaGVzLCB7XG4gICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSAoMCwgX3V0aWxzLm5vdykoKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgcGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMgJiYgIXBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIC8vIFZlcnRpY2FsXG4gICAgICBpZiAocGFnZVkgPCB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWSA+IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VYID4gdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoMCwgX2RvbS5kZWZhdWx0KShlLnRhcmdldCkuaXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gICAgICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlJywgZSk7XG4gIH1cblxuICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxKSByZXR1cm47XG4gIHRvdWNoZXMuY3VycmVudFggPSBwYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IHBhZ2VZO1xuICB2YXIgZGlmZlggPSB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFg7XG4gIHZhciBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChNYXRoLnBvdyhkaWZmWCwgMikgKyBNYXRoLnBvdyhkaWZmWSwgMikpIDwgc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQpIHJldHVybjtcblxuICBpZiAodHlwZW9mIGRhdGEuaXNTY3JvbGxpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHRvdWNoQW5nbGU7XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHRvdWNoZXMuY3VycmVudFkgPT09IHRvdWNoZXMuc3RhcnRZIHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgdG91Y2hlcy5jdXJyZW50WCA9PT0gdG91Y2hlcy5zdGFydFgpIHtcbiAgICAgIGRhdGEuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAoZGlmZlggKiBkaWZmWCArIGRpZmZZICogZGlmZlkgPj0gMjUpIHtcbiAgICAgICAgdG91Y2hBbmdsZSA9IE1hdGguYXRhbjIoTWF0aC5hYnMoZGlmZlkpLCBNYXRoLmFicyhkaWZmWCkpICogMTgwIC8gTWF0aC5QSTtcbiAgICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoQW5nbGUgPiBwYXJhbXMudG91Y2hBbmdsZSA6IDkwIC0gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGRhdGEuc3RhcnRNb3ZpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHRvdWNoZXMuY3VycmVudFggIT09IHRvdWNoZXMuc3RhcnRYIHx8IHRvdWNoZXMuY3VycmVudFkgIT09IHRvdWNoZXMuc3RhcnRZKSB7XG4gICAgICBkYXRhLnN0YXJ0TW92aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YS5pc1Njcm9sbGluZykge1xuICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFkYXRhLnN0YXJ0TW92aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcblxuICBpZiAoIXBhcmFtcy5jc3NNb2RlICYmIGUuY2FuY2VsYWJsZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFwYXJhbXMubmVzdGVkKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIGlmICghZGF0YS5pc01vdmVkKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgIH1cblxuICAgIGRhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG5cbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwudHJpZ2dlcignd2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kJyk7XG4gICAgfVxuXG4gICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7IC8vIEdyYWIgQ3Vyc29yXG5cbiAgICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcih0cnVlKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyRmlyc3RNb3ZlJywgZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICB2YXIgZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGRpZmZYIDogZGlmZlk7XG4gIHRvdWNoZXMuZGlmZiA9IGRpZmY7XG4gIGRpZmYgKj0gcGFyYW1zLnRvdWNoUmF0aW87XG4gIGlmIChydGwpIGRpZmYgPSAtZGlmZjtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gZGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRpZmYgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB2YXIgZGlzYWJsZVBhcmVudFN3aXBlciA9IHRydWU7XG4gIHZhciByZXNpc3RhbmNlUmF0aW8gPSBwYXJhbXMucmVzaXN0YW5jZVJhdGlvO1xuXG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHJlc2lzdGFuY2VSYXRpbyA9IDA7XG4gIH1cblxuICBpZiAoZGlmZiA+IDAgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gMSArIE1hdGgucG93KC1zd2lwZXIubWluVHJhbnNsYXRlKCkgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlICsgZGlmZiwgcmVzaXN0YW5jZVJhdGlvKTtcbiAgfSBlbHNlIGlmIChkaWZmIDwgMCAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgKyAxIC0gTWF0aC5wb3coc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gZGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmYsIHJlc2lzdGFuY2VSYXRpbyk7XG4gIH1cblxuICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlcikge1xuICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICB9IC8vIERpcmVjdGlvbnMgbG9ja3NcblxuXG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9XG5cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAhc3dpcGVyLmFsbG93U2xpZGVOZXh0KSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfSAvLyBUaHJlc2hvbGRcblxuXG4gIGlmIChwYXJhbXMudGhyZXNob2xkID4gMCkge1xuICAgIGlmIChNYXRoLmFicyhkaWZmKSA+IHBhcmFtcy50aHJlc2hvbGQgfHwgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgIGlmICghZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgICAgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgPSB0cnVlO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgICAgdG91Y2hlcy5kaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKCFwYXJhbXMuZm9sbG93RmluZ2VyIHx8IHBhcmFtcy5jc3NNb2RlKSByZXR1cm47IC8vIFVwZGF0ZSBhY3RpdmUgaW5kZXggaW4gZnJlZSBtb2RlXG5cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSB8fCBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuZnJlZU1vZGUpIHtcbiAgICAvLyBWZWxvY2l0eVxuICAgIGlmIChkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBkYXRhLnZlbG9jaXRpZXMucHVzaCh7XG4gICAgICAgIHBvc2l0aW9uOiB0b3VjaGVzW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdzdGFydFgnIDogJ3N0YXJ0WSddLFxuICAgICAgICB0aW1lOiBkYXRhLnRvdWNoU3RhcnRUaW1lXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkYXRhLnZlbG9jaXRpZXMucHVzaCh7XG4gICAgICBwb3NpdGlvbjogdG91Y2hlc1tzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnY3VycmVudFgnIDogJ2N1cnJlbnRZJ10sXG4gICAgICB0aW1lOiAoMCwgX3V0aWxzLm5vdykoKVxuICAgIH0pO1xuICB9IC8vIFVwZGF0ZSBwcm9ncmVzc1xuXG5cbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7IC8vIFVwZGF0ZSB0cmFuc2xhdGVcblxuICBzd2lwZXIuc2V0VHJhbnNsYXRlKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBvblRvdWNoU3RhcnQ7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gTW9kaWZpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NDUyMDU1NC9jdXN0b20tZWxlbWVudC1nZXRyb290bm9kZS1jbG9zZXN0LWZ1bmN0aW9uLWNyb3NzaW5nLW11bHRpcGxlLXBhcmVudC1zaGFkb3dkXG5mdW5jdGlvbiBjbG9zZXN0RWxlbWVudChzZWxlY3RvciwgYmFzZSkge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9IHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBfX2Nsb3Nlc3RGcm9tKGVsKSB7XG4gICAgaWYgKCFlbCB8fCBlbCA9PT0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCkgfHwgZWwgPT09ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKGVsLmFzc2lnbmVkU2xvdCkgZWwgPSBlbC5hc3NpZ25lZFNsb3Q7XG4gICAgdmFyIGZvdW5kID0gZWwuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgcmV0dXJuIGZvdW5kIHx8IF9fY2xvc2VzdEZyb20oZWwuZ2V0Um9vdE5vZGUoKS5ob3N0KTtcbiAgfVxuXG4gIHJldHVybiBfX2Nsb3Nlc3RGcm9tKGJhc2UpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgdG91Y2hlcyA9IHN3aXBlci50b3VjaGVzLFxuICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcblxuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgdmFyICR0YXJnZXRFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGUudGFyZ2V0KTtcblxuICBpZiAocGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnd3JhcHBlcicpIHtcbiAgICBpZiAoISR0YXJnZXRFbC5jbG9zZXN0KHN3aXBlci53cmFwcGVyRWwpLmxlbmd0aCkgcmV0dXJuO1xuICB9XG5cbiAgZGF0YS5pc1RvdWNoRXZlbnQgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgaWYgKCFkYXRhLmlzVG91Y2hFdmVudCAmJiAnd2hpY2gnIGluIGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuO1xuICBpZiAoIWRhdGEuaXNUb3VjaEV2ZW50ICYmICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gIGlmIChkYXRhLmlzVG91Y2hlZCAmJiBkYXRhLmlzTW92ZWQpIHJldHVybjsgLy8gY2hhbmdlIHRhcmdldCBlbCBmb3Igc2hhZG93IHJvb3QgY29tcG9uZW50XG5cbiAgdmFyIHN3aXBpbmdDbGFzc0hhc1ZhbHVlID0gISFwYXJhbXMubm9Td2lwaW5nQ2xhc3MgJiYgcGFyYW1zLm5vU3dpcGluZ0NsYXNzICE9PSAnJztcblxuICBpZiAoc3dpcGluZ0NsYXNzSGFzVmFsdWUgJiYgZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCAmJiBldmVudC5wYXRoICYmIGV2ZW50LnBhdGhbMF0pIHtcbiAgICAkdGFyZ2V0RWwgPSAoMCwgX2RvbS5kZWZhdWx0KShldmVudC5wYXRoWzBdKTtcbiAgfVxuXG4gIHZhciBub1N3aXBpbmdTZWxlY3RvciA9IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA/IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA6IFwiLlwiICsgcGFyYW1zLm5vU3dpcGluZ0NsYXNzO1xuICB2YXIgaXNUYXJnZXRTaGFkb3cgPSAhIShlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290KTsgLy8gdXNlIGNsb3Nlc3RFbGVtZW50IGZvciBzaGFkb3cgcm9vdCBlbGVtZW50IHRvIGdldCB0aGUgYWN0dWFsIGNsb3Nlc3QgZm9yIG5lc3RlZCBzaGFkb3cgcm9vdCBlbGVtZW50XG5cbiAgaWYgKHBhcmFtcy5ub1N3aXBpbmcgJiYgKGlzVGFyZ2V0U2hhZG93ID8gY2xvc2VzdEVsZW1lbnQobm9Td2lwaW5nU2VsZWN0b3IsIGUudGFyZ2V0KSA6ICR0YXJnZXRFbC5jbG9zZXN0KG5vU3dpcGluZ1NlbGVjdG9yKVswXSkpIHtcbiAgICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5zd2lwZUhhbmRsZXIpIHtcbiAgICBpZiAoISR0YXJnZXRFbC5jbG9zZXN0KHBhcmFtcy5zd2lwZUhhbmRsZXIpWzBdKSByZXR1cm47XG4gIH1cblxuICB0b3VjaGVzLmN1cnJlbnRYID0gZS50eXBlID09PSAndG91Y2hzdGFydCcgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gZS50eXBlID09PSAndG91Y2hzdGFydCcgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICB2YXIgc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgdmFyIHN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7IC8vIERvIE5PVCBzdGFydCBpZiBpT1MgZWRnZSBzd2lwZSBpcyBkZXRlY3RlZC4gT3RoZXJ3aXNlIGlPUyBhcHAgY2Fubm90IHN3aXBlLXRvLWdvLWJhY2sgYW55bW9yZVxuXG4gIHZhciBlZGdlU3dpcGVEZXRlY3Rpb24gPSBwYXJhbXMuZWRnZVN3aXBlRGV0ZWN0aW9uIHx8IHBhcmFtcy5pT1NFZGdlU3dpcGVEZXRlY3Rpb247XG4gIHZhciBlZGdlU3dpcGVUaHJlc2hvbGQgPSBwYXJhbXMuZWRnZVN3aXBlVGhyZXNob2xkIHx8IHBhcmFtcy5pT1NFZGdlU3dpcGVUaHJlc2hvbGQ7XG5cbiAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiAmJiAoc3RhcnRYIDw9IGVkZ2VTd2lwZVRocmVzaG9sZCB8fCBzdGFydFggPj0gd2luZG93LmlubmVyV2lkdGggLSBlZGdlU3dpcGVUaHJlc2hvbGQpKSB7XG4gICAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiA9PT0gJ3ByZXZlbnQnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgKDAsIF91dGlscy5leHRlbmQpKGRhdGEsIHtcbiAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgaXNNb3ZlZDogZmFsc2UsXG4gICAgYWxsb3dUb3VjaENhbGxiYWNrczogdHJ1ZSxcbiAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgfSk7XG4gIHRvdWNoZXMuc3RhcnRYID0gc3RhcnRYO1xuICB0b3VjaGVzLnN0YXJ0WSA9IHN0YXJ0WTtcbiAgZGF0YS50b3VjaFN0YXJ0VGltZSA9ICgwLCBfdXRpbHMubm93KSgpO1xuICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IGZhbHNlO1xuXG4gIGlmIChlLnR5cGUgIT09ICd0b3VjaHN0YXJ0Jykge1xuICAgIHZhciBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgaWYgKCR0YXJnZXRFbC5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkgcHJldmVudERlZmF1bHQgPSBmYWxzZTtcblxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICgwLCBfZG9tLmRlZmF1bHQpKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmlzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09ICR0YXJnZXRFbFswXSkge1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZFByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQgJiYgc3dpcGVyLmFsbG93VG91Y2hNb3ZlICYmIHBhcmFtcy50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7XG5cbiAgICBpZiAoKHBhcmFtcy50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCB8fCBzaG91bGRQcmV2ZW50RGVmYXVsdCkgJiYgISR0YXJnZXRFbFswXS5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXBlci5lbWl0KCd0b3VjaFN0YXJ0JywgZSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc2V0R3JhYkN1cnNvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2V0R3JhYkN1cnNvclwiKSk7XG5cbnZhciBfdW5zZXRHcmFiQ3Vyc29yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91bnNldEdyYWJDdXJzb3JcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIHNldEdyYWJDdXJzb3I6IF9zZXRHcmFiQ3Vyc29yLmRlZmF1bHQsXG4gIHVuc2V0R3JhYkN1cnNvcjogX3Vuc2V0R3JhYkN1cnNvci5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzZXRHcmFiQ3Vyc29yO1xuXG5mdW5jdGlvbiBzZXRHcmFiQ3Vyc29yKG1vdmluZykge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5zdXBwb3J0LnRvdWNoIHx8ICFzd2lwZXIucGFyYW1zLnNpbXVsYXRlVG91Y2ggfHwgc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgdmFyIGVsID0gc3dpcGVyLmVsO1xuICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICctd2Via2l0LWdyYWJiaW5nJyA6ICctd2Via2l0LWdyYWInO1xuICBlbC5zdHlsZS5jdXJzb3IgPSBtb3ZpbmcgPyAnLW1vei1ncmFiYmluJyA6ICctbW96LWdyYWInO1xuICBlbC5zdHlsZS5jdXJzb3IgPSBtb3ZpbmcgPyAnZ3JhYmJpbmcnIDogJ2dyYWInO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5zZXRHcmFiQ3Vyc29yO1xuXG5mdW5jdGlvbiB1bnNldEdyYWJDdXJzb3IoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gIGlmIChzd2lwZXIuc3VwcG9ydC50b3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXBlci5lbC5zdHlsZS5jdXJzb3IgPSAnJztcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9sb2FkSW1hZ2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2xvYWRJbWFnZVwiKSk7XG5cbnZhciBfcHJlbG9hZEltYWdlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcHJlbG9hZEltYWdlc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgbG9hZEltYWdlOiBfbG9hZEltYWdlLmRlZmF1bHQsXG4gIHByZWxvYWRJbWFnZXM6IF9wcmVsb2FkSW1hZ2VzLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGxvYWRJbWFnZTtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9kb21cIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBsb2FkSW1hZ2UoaW1hZ2VFbCwgc3JjLCBzcmNzZXQsIHNpemVzLCBjaGVja0ZvckNvbXBsZXRlLCBjYWxsYmFjaykge1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgaW1hZ2U7XG5cbiAgZnVuY3Rpb24gb25SZWFkeSgpIHtcbiAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgaXNQaWN0dXJlID0gKDAsIF9kb20uZGVmYXVsdCkoaW1hZ2VFbCkucGFyZW50KCdwaWN0dXJlJylbMF07XG5cbiAgaWYgKCFpc1BpY3R1cmUgJiYgKCFpbWFnZUVsLmNvbXBsZXRlIHx8ICFjaGVja0ZvckNvbXBsZXRlKSkge1xuICAgIGlmIChzcmMpIHtcbiAgICAgIGltYWdlID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgICAgaW1hZ2Uub25sb2FkID0gb25SZWFkeTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSBvblJlYWR5O1xuXG4gICAgICBpZiAoc2l6ZXMpIHtcbiAgICAgICAgaW1hZ2Uuc2l6ZXMgPSBzaXplcztcbiAgICAgIH1cblxuICAgICAgaWYgKHNyY3NldCkge1xuICAgICAgICBpbWFnZS5zcmNzZXQgPSBzcmNzZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvblJlYWR5KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGltYWdlIGFscmVhZHkgbG9hZGVkLi4uXG4gICAgb25SZWFkeSgpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBwcmVsb2FkSW1hZ2VzO1xuXG5mdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgc3dpcGVyLmltYWdlc1RvTG9hZCA9IHN3aXBlci4kZWwuZmluZCgnaW1nJyk7XG5cbiAgZnVuY3Rpb24gb25SZWFkeSgpIHtcbiAgICBpZiAodHlwZW9mIHN3aXBlciA9PT0gJ3VuZGVmaW5lZCcgfHwgc3dpcGVyID09PSBudWxsIHx8ICFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuaW1hZ2VzTG9hZGVkICE9PSB1bmRlZmluZWQpIHN3aXBlci5pbWFnZXNMb2FkZWQgKz0gMTtcblxuICAgIGlmIChzd2lwZXIuaW1hZ2VzTG9hZGVkID09PSBzd2lwZXIuaW1hZ2VzVG9Mb2FkLmxlbmd0aCkge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudXBkYXRlT25JbWFnZXNSZWFkeSkgc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgc3dpcGVyLmVtaXQoJ2ltYWdlc1JlYWR5Jyk7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXIuaW1hZ2VzVG9Mb2FkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGltYWdlRWwgPSBzd2lwZXIuaW1hZ2VzVG9Mb2FkW2ldO1xuICAgIHN3aXBlci5sb2FkSW1hZ2UoaW1hZ2VFbCwgaW1hZ2VFbC5jdXJyZW50U3JjIHx8IGltYWdlRWwuZ2V0QXR0cmlidXRlKCdzcmMnKSwgaW1hZ2VFbC5zcmNzZXQgfHwgaW1hZ2VFbC5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpLCBpbWFnZUVsLnNpemVzIHx8IGltYWdlRWwuZ2V0QXR0cmlidXRlKCdzaXplcycpLCB0cnVlLCBvblJlYWR5KTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2xvb3BDcmVhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2xvb3BDcmVhdGVcIikpO1xuXG52YXIgX2xvb3BGaXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2xvb3BGaXhcIikpO1xuXG52YXIgX2xvb3BEZXN0cm95ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9sb29wRGVzdHJveVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgbG9vcENyZWF0ZTogX2xvb3BDcmVhdGUuZGVmYXVsdCxcbiAgbG9vcEZpeDogX2xvb3BGaXguZGVmYXVsdCxcbiAgbG9vcERlc3Ryb3k6IF9sb29wRGVzdHJveS5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBsb29wQ3JlYXRlO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGxvb3BDcmVhdGUoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7IC8vIFJlbW92ZSBkdXBsaWNhdGVkIHNsaWRlc1xuXG4gICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpLnJlbW92ZSgpO1xuICB2YXIgc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcblxuICBpZiAocGFyYW1zLmxvb3BGaWxsR3JvdXBXaXRoQmxhbmspIHtcbiAgICB2YXIgYmxhbmtTbGlkZXNOdW0gPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgLSBzbGlkZXMubGVuZ3RoICUgcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gICAgaWYgKGJsYW5rU2xpZGVzTnVtICE9PSBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxhbmtTbGlkZXNOdW07IGkgKz0gMSkge1xuICAgICAgICB2YXIgYmxhbmtOb2RlID0gKDAsIF9kb20uZGVmYXVsdCkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUNsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVCbGFua0NsYXNzKTtcbiAgICAgICAgJHdyYXBwZXJFbC5hcHBlbmQoYmxhbmtOb2RlKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiAhcGFyYW1zLmxvb3BlZFNsaWRlcykgcGFyYW1zLmxvb3BlZFNsaWRlcyA9IHNsaWRlcy5sZW5ndGg7XG4gIHN3aXBlci5sb29wZWRTbGlkZXMgPSBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMubG9vcGVkU2xpZGVzIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpO1xuICBzd2lwZXIubG9vcGVkU2xpZGVzICs9IHBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcztcblxuICBpZiAoc3dpcGVyLmxvb3BlZFNsaWRlcyA+IHNsaWRlcy5sZW5ndGgpIHtcbiAgICBzd2lwZXIubG9vcGVkU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcbiAgfVxuXG4gIHZhciBwcmVwZW5kU2xpZGVzID0gW107XG4gIHZhciBhcHBlbmRTbGlkZXMgPSBbXTtcbiAgc2xpZGVzLmVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgIHZhciBzbGlkZSA9ICgwLCBfZG9tLmRlZmF1bHQpKGVsKTtcblxuICAgIGlmIChpbmRleCA8IHN3aXBlci5sb29wZWRTbGlkZXMpIHtcbiAgICAgIGFwcGVuZFNsaWRlcy5wdXNoKGVsKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPCBzbGlkZXMubGVuZ3RoICYmIGluZGV4ID49IHNsaWRlcy5sZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzKSB7XG4gICAgICBwcmVwZW5kU2xpZGVzLnB1c2goZWwpO1xuICAgIH1cblxuICAgIHNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JywgaW5kZXgpO1xuICB9KTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXBwZW5kU2xpZGVzLmxlbmd0aDsgX2kgKz0gMSkge1xuICAgICR3cmFwcGVyRWwuYXBwZW5kKCgwLCBfZG9tLmRlZmF1bHQpKGFwcGVuZFNsaWRlc1tfaV0uY2xvbmVOb2RlKHRydWUpKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpO1xuICB9XG5cbiAgZm9yICh2YXIgX2kyID0gcHJlcGVuZFNsaWRlcy5sZW5ndGggLSAxOyBfaTIgPj0gMDsgX2kyIC09IDEpIHtcbiAgICAkd3JhcHBlckVsLnByZXBlbmQoKDAsIF9kb20uZGVmYXVsdCkocHJlcGVuZFNsaWRlc1tfaTJdLmNsb25lTm9kZSh0cnVlKSkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbG9vcERlc3Ryb3k7XG5cbmZ1bmN0aW9uIGxvb3BEZXN0cm95KCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIsLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUJsYW5rQ2xhc3MpLnJlbW92ZSgpO1xuICBzbGlkZXMucmVtb3ZlQXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGxvb3BGaXg7XG5cbmZ1bmN0aW9uIGxvb3BGaXgoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICBzd2lwZXIuZW1pdCgnYmVmb3JlTG9vcEZpeCcpO1xuICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgbG9vcGVkU2xpZGVzID0gc3dpcGVyLmxvb3BlZFNsaWRlcyxcbiAgICAgIGFsbG93U2xpZGVQcmV2ID0gc3dpcGVyLmFsbG93U2xpZGVQcmV2LFxuICAgICAgYWxsb3dTbGlkZU5leHQgPSBzd2lwZXIuYWxsb3dTbGlkZU5leHQsXG4gICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gIHZhciBuZXdJbmRleDtcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgdmFyIHNuYXBUcmFuc2xhdGUgPSAtc25hcEdyaWRbYWN0aXZlSW5kZXhdO1xuICB2YXIgZGlmZiA9IHNuYXBUcmFuc2xhdGUgLSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7IC8vIEZpeCBGb3IgTmVnYXRpdmUgT3ZlcnNsaWRpbmdcblxuICBpZiAoYWN0aXZlSW5kZXggPCBsb29wZWRTbGlkZXMpIHtcbiAgICBuZXdJbmRleCA9IHNsaWRlcy5sZW5ndGggLSBsb29wZWRTbGlkZXMgKiAzICsgYWN0aXZlSW5kZXg7XG4gICAgbmV3SW5kZXggKz0gbG9vcGVkU2xpZGVzO1xuICAgIHZhciBzbGlkZUNoYW5nZWQgPSBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuXG4gICAgaWYgKHNsaWRlQ2hhbmdlZCAmJiBkaWZmICE9PSAwKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKChydGwgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGUpIC0gZGlmZik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFjdGl2ZUluZGV4ID49IHNsaWRlcy5sZW5ndGggLSBsb29wZWRTbGlkZXMpIHtcbiAgICAvLyBGaXggRm9yIFBvc2l0aXZlIE92ZXJzbGlkaW5nXG4gICAgbmV3SW5kZXggPSAtc2xpZGVzLmxlbmd0aCArIGFjdGl2ZUluZGV4ICsgbG9vcGVkU2xpZGVzO1xuICAgIG5ld0luZGV4ICs9IGxvb3BlZFNsaWRlcztcblxuICAgIHZhciBfc2xpZGVDaGFuZ2VkID0gc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcblxuICAgIGlmIChfc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoKHJ0bCA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSkgLSBkaWZmKTtcbiAgICB9XG4gIH1cblxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRTbGlkZTtcblxuZnVuY3Rpb24gYWRkU2xpZGUoaW5kZXgsIHNsaWRlcykge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgdmFyIGFjdGl2ZUluZGV4QnVmZmVyID0gYWN0aXZlSW5kZXg7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgYWN0aXZlSW5kZXhCdWZmZXIgLT0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICBzd2lwZXIuc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgfVxuXG4gIHZhciBiYXNlTGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG5cbiAgaWYgKGluZGV4IDw9IDApIHtcbiAgICBzd2lwZXIucHJlcGVuZFNsaWRlKHNsaWRlcyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZGV4ID49IGJhc2VMZW5ndGgpIHtcbiAgICBzd2lwZXIuYXBwZW5kU2xpZGUoc2xpZGVzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyAxIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIHZhciBzbGlkZXNCdWZmZXIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gYmFzZUxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGkgLT0gMSkge1xuICAgIHZhciBjdXJyZW50U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKGkpO1xuICAgIGN1cnJlbnRTbGlkZS5yZW1vdmUoKTtcbiAgICBzbGlkZXNCdWZmZXIudW5zaGlmdChjdXJyZW50U2xpZGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzbGlkZXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW19pXSkgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzW19pXSk7XG4gICAgfVxuXG4gICAgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyBzbGlkZXMubGVuZ3RoIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIH0gZWxzZSB7XG4gICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzKTtcbiAgfVxuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHNsaWRlc0J1ZmZlci5sZW5ndGg7IF9pMiArPSAxKSB7XG4gICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzQnVmZmVyW19pMl0pO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhcHBlbmRTbGlkZTtcblxuZnVuY3Rpb24gYXBwZW5kU2xpZGUoc2xpZGVzKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHNsaWRlc1tpXSkgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gIH1cblxuICBpZiAoIShwYXJhbXMub2JzZXJ2ZXIgJiYgc3dpcGVyLnN1cHBvcnQub2JzZXJ2ZXIpKSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYXBwZW5kU2xpZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2FwcGVuZFNsaWRlXCIpKTtcblxudmFyIF9wcmVwZW5kU2xpZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3ByZXBlbmRTbGlkZVwiKSk7XG5cbnZhciBfYWRkU2xpZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2FkZFNsaWRlXCIpKTtcblxudmFyIF9yZW1vdmVTbGlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcmVtb3ZlU2xpZGVcIikpO1xuXG52YXIgX3JlbW92ZUFsbFNsaWRlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcmVtb3ZlQWxsU2xpZGVzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBhcHBlbmRTbGlkZTogX2FwcGVuZFNsaWRlLmRlZmF1bHQsXG4gIHByZXBlbmRTbGlkZTogX3ByZXBlbmRTbGlkZS5kZWZhdWx0LFxuICBhZGRTbGlkZTogX2FkZFNsaWRlLmRlZmF1bHQsXG4gIHJlbW92ZVNsaWRlOiBfcmVtb3ZlU2xpZGUuZGVmYXVsdCxcbiAgcmVtb3ZlQWxsU2xpZGVzOiBfcmVtb3ZlQWxsU2xpZGVzLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHByZXBlbmRTbGlkZTtcblxuZnVuY3Rpb24gcHJlcGVuZFNsaWRlKHNsaWRlcykge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuXG4gIHZhciBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgMTtcblxuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pICR3cmFwcGVyRWwucHJlcGVuZChzbGlkZXNbaV0pO1xuICAgIH1cblxuICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgICR3cmFwcGVyRWwucHJlcGVuZChzbGlkZXMpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cblxuICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVtb3ZlQWxsU2xpZGVzO1xuXG5mdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgc2xpZGVzSW5kZXhlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgfVxuXG4gIHN3aXBlci5yZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJlbW92ZVNsaWRlO1xuXG5mdW5jdGlvbiByZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICB2YXIgYWN0aXZlSW5kZXhCdWZmZXIgPSBhY3RpdmVJbmRleDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5zbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpO1xuICB9XG5cbiAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXhCdWZmZXI7XG4gIHZhciBpbmRleFRvUmVtb3ZlO1xuXG4gIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzSW5kZXhlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzSW5kZXhlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXNbaV07XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlcy5lcShpbmRleFRvUmVtb3ZlKS5yZW1vdmUoKTtcbiAgICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgfVxuXG4gICAgbmV3QWN0aXZlSW5kZXggPSBNYXRoLm1heChuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH0gZWxzZSB7XG4gICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXM7XG4gICAgaWYgKHN3aXBlci5zbGlkZXNbaW5kZXhUb1JlbW92ZV0pIHN3aXBlci5zbGlkZXMuZXEoaW5kZXhUb1JlbW92ZSkucmVtb3ZlKCk7XG4gICAgaWYgKGluZGV4VG9SZW1vdmUgPCBuZXdBY3RpdmVJbmRleCkgbmV3QWN0aXZlSW5kZXggLT0gMTtcbiAgICBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gIH1cblxuICBpZiAoIShwYXJhbXMub2JzZXJ2ZXIgJiYgc3dpcGVyLnN1cHBvcnQub2JzZXJ2ZXIpKSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXggKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG52YXIgX2RlZmF1bHQgPSB7XG4gIHVzZVBhcmFtczogZnVuY3Rpb24gdXNlUGFyYW1zKGluc3RhbmNlUGFyYW1zKSB7XG4gICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICBpZiAoIWluc3RhbmNlLm1vZHVsZXMpIHJldHVybjtcbiAgICBPYmplY3Qua2V5cyhpbnN0YW5jZS5tb2R1bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XG4gICAgICB2YXIgbW9kdWxlID0gaW5zdGFuY2UubW9kdWxlc1ttb2R1bGVOYW1lXTsgLy8gRXh0ZW5kIHBhcmFtc1xuXG4gICAgICBpZiAobW9kdWxlLnBhcmFtcykge1xuICAgICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoaW5zdGFuY2VQYXJhbXMsIG1vZHVsZS5wYXJhbXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB1c2VNb2R1bGVzOiBmdW5jdGlvbiB1c2VNb2R1bGVzKG1vZHVsZXNQYXJhbXMpIHtcbiAgICBpZiAobW9kdWxlc1BhcmFtcyA9PT0gdm9pZCAwKSB7XG4gICAgICBtb2R1bGVzUGFyYW1zID0ge307XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICBpZiAoIWluc3RhbmNlLm1vZHVsZXMpIHJldHVybjtcbiAgICBPYmplY3Qua2V5cyhpbnN0YW5jZS5tb2R1bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XG4gICAgICB2YXIgbW9kdWxlID0gaW5zdGFuY2UubW9kdWxlc1ttb2R1bGVOYW1lXTtcbiAgICAgIHZhciBtb2R1bGVQYXJhbXMgPSBtb2R1bGVzUGFyYW1zW21vZHVsZU5hbWVdIHx8IHt9OyAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAgIGlmIChtb2R1bGUub24gJiYgaW5zdGFuY2Uub24pIHtcbiAgICAgICAgT2JqZWN0LmtleXMobW9kdWxlLm9uKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVFdmVudE5hbWUpIHtcbiAgICAgICAgICBpbnN0YW5jZS5vbihtb2R1bGVFdmVudE5hbWUsIG1vZHVsZS5vblttb2R1bGVFdmVudE5hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIE1vZHVsZSBjcmVhdGUgY2FsbGJhY2tcblxuXG4gICAgICBpZiAobW9kdWxlLmNyZWF0ZSkge1xuICAgICAgICBtb2R1bGUuY3JlYXRlLmJpbmQoaW5zdGFuY2UpKG1vZHVsZVBhcmFtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zbGlkZVRvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZVRvXCIpKTtcblxudmFyIF9zbGlkZVRvTG9vcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2xpZGVUb0xvb3BcIikpO1xuXG52YXIgX3NsaWRlTmV4dCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2xpZGVOZXh0XCIpKTtcblxudmFyIF9zbGlkZVByZXYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NsaWRlUHJldlwiKSk7XG5cbnZhciBfc2xpZGVSZXNldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2xpZGVSZXNldFwiKSk7XG5cbnZhciBfc2xpZGVUb0Nsb3Nlc3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3NsaWRlVG9DbG9zZXN0XCIpKTtcblxudmFyIF9zbGlkZVRvQ2xpY2tlZFNsaWRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zbGlkZVRvQ2xpY2tlZFNsaWRlXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBzbGlkZVRvOiBfc2xpZGVUby5kZWZhdWx0LFxuICBzbGlkZVRvTG9vcDogX3NsaWRlVG9Mb29wLmRlZmF1bHQsXG4gIHNsaWRlTmV4dDogX3NsaWRlTmV4dC5kZWZhdWx0LFxuICBzbGlkZVByZXY6IF9zbGlkZVByZXYuZGVmYXVsdCxcbiAgc2xpZGVSZXNldDogX3NsaWRlUmVzZXQuZGVmYXVsdCxcbiAgc2xpZGVUb0Nsb3Nlc3Q6IF9zbGlkZVRvQ2xvc2VzdC5kZWZhdWx0LFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBfc2xpZGVUb0NsaWNrZWRTbGlkZS5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzbGlkZU5leHQ7XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVOZXh0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuXG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBhbmltYXRpbmcgPSBzd2lwZXIuYW5pbWF0aW5nLFxuICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybiBzd2lwZXI7XG4gIHZhciBpbmNyZW1lbnQgPSBzd2lwZXIuYWN0aXZlSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkZSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDtcbiAgfVxuXG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlUHJldjtcblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVByZXYoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIGFuaW1hdGluZyA9IHN3aXBlci5hbmltYXRpbmcsXG4gICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgIHNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZCxcbiAgICAgIHJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkZSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDtcbiAgfVxuXG4gIHZhciB0cmFuc2xhdGUgPSBydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbCkge1xuICAgIGlmICh2YWwgPCAwKSByZXR1cm4gLU1hdGguZmxvb3IoTWF0aC5hYnModmFsKSk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsKTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkVHJhbnNsYXRlID0gbm9ybWFsaXplKHRyYW5zbGF0ZSk7XG4gIHZhciBub3JtYWxpemVkU25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBub3JtYWxpemUodmFsKTtcbiAgfSk7XG4gIHZhciBwcmV2U25hcCA9IHNuYXBHcmlkW25vcm1hbGl6ZWRTbmFwR3JpZC5pbmRleE9mKG5vcm1hbGl6ZWRUcmFuc2xhdGUpIC0gMV07XG5cbiAgaWYgKHR5cGVvZiBwcmV2U25hcCA9PT0gJ3VuZGVmaW5lZCcgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICBzbmFwR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICBpZiAoIXByZXZTbmFwICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gc25hcCkgcHJldlNuYXAgPSBzbmFwO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHByZXZJbmRleDtcblxuICBpZiAodHlwZW9mIHByZXZTbmFwICE9PSAndW5kZWZpbmVkJykge1xuICAgIHByZXZJbmRleCA9IHNsaWRlc0dyaWQuaW5kZXhPZihwcmV2U25hcCk7XG4gICAgaWYgKHByZXZJbmRleCA8IDApIHByZXZJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCAtIDE7XG4gIH1cblxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzbGlkZVJlc2V0O1xuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlUmVzZXQoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG5cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBzbGlkZVRvO1xuXG5mdW5jdGlvbiBzbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgaW5pdGlhbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuXG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgaW5kZXggIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlICdpbmRleCcgYXJndW1lbnQgY2Fubm90IGhhdmUgdHlwZSBvdGhlciB0aGFuICdudW1iZXInIG9yICdzdHJpbmcnLiBbXCIgKyB0eXBlb2YgaW5kZXggKyBcIl0gZ2l2ZW4uXCIpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYGluZGV4YCBhcmd1bWVudCBjb252ZXJ0ZWQgZnJvbSBgc3RyaW5nYCB0byBgbnVtYmVyYC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHZhciBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBpbmRleGAgYXJndW1lbnQgaXMgYSB2YWxpZCBgbnVtYmVyYFxuICAgICAqIGFmdGVyIGJlaW5nIGNvbnZlcnRlZCBmcm9tIHRoZSBgc3RyaW5nYCB0eXBlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gICAgdmFyIGlzVmFsaWROdW1iZXIgPSBpc0Zpbml0ZShpbmRleEFzTnVtYmVyKTtcblxuICAgIGlmICghaXNWYWxpZE51bWJlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhc3NlZC1pbiAnaW5kZXgnIChzdHJpbmcpIGNvdWxkbid0IGJlIGNvbnZlcnRlZCB0byAnbnVtYmVyJy4gW1wiICsgaW5kZXggKyBcIl0gZ2l2ZW4uXCIpO1xuICAgIH0gLy8gS25vd2luZyB0aGF0IHRoZSBjb252ZXJ0ZWQgYGluZGV4YCBpcyBhIHZhbGlkIG51bWJlcixcbiAgICAvLyB3ZSBjYW4gdXBkYXRlIHRoZSBvcmlnaW5hbCBhcmd1bWVudCdzIHZhbHVlLlxuXG5cbiAgICBpbmRleCA9IGluZGV4QXNOdW1iZXI7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHNsaWRlSW5kZXggPSBpbmRleDtcbiAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gMDtcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgIHNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZCxcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCxcbiAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWwsXG4gICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG5cbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbiB8fCAhZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBzbGlkZUluZGV4KTtcbiAgdmFyIHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChzbGlkZUluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG5cbiAgaWYgKChhY3RpdmVJbmRleCB8fCBwYXJhbXMuaW5pdGlhbFNsaWRlIHx8IDApID09PSAocHJldmlvdXNJbmRleCB8fCAwKSAmJiBydW5DYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlU2xpZGVDaGFuZ2VTdGFydCcpO1xuICB9XG5cbiAgdmFyIHRyYW5zbGF0ZSA9IC1zbmFwR3JpZFtzbmFwSW5kZXhdOyAvLyBVcGRhdGUgcHJvZ3Jlc3NcblxuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTsgLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcblxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBub3JtYWxpemVkVHJhbnNsYXRlID0gLU1hdGguZmxvb3IodHJhbnNsYXRlICogMTAwKTtcbiAgICAgIHZhciBub3JtYWxpemVkR2lyZCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpXSAqIDEwMCk7XG4gICAgICB2YXIgbm9ybWFsaXplZEdyaWROZXh0ID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2kgKyAxXSAqIDEwMCk7XG5cbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHaXJkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQgLSAobm9ybWFsaXplZEdyaWROZXh0IC0gbm9ybWFsaXplZEdpcmQpIC8gMikge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdpcmQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCkge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHaXJkKSB7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBEaXJlY3Rpb25zIGxvY2tzXG5cblxuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkICYmIHNsaWRlSW5kZXggIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgdHJhbnNsYXRlIDwgc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPCBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiB0cmFuc2xhdGUgPiBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA+IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgaWYgKChhY3RpdmVJbmRleCB8fCAwKSAhPT0gc2xpZGVJbmRleCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkaXJlY3Rpb247XG4gIGlmIChzbGlkZUluZGV4ID4gYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICduZXh0JztlbHNlIGlmIChzbGlkZUluZGV4IDwgYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICdwcmV2JztlbHNlIGRpcmVjdGlvbiA9ICdyZXNldCc7IC8vIFVwZGF0ZSBJbmRleFxuXG4gIGlmIChydGwgJiYgLXRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSB8fCAhcnRsICYmIHRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSkge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTsgLy8gVXBkYXRlIEhlaWdodFxuXG4gICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgIH1cblxuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG5cbiAgICBpZiAocGFyYW1zLmVmZmVjdCAhPT0gJ3NsaWRlJykge1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICAgIH1cblxuICAgIGlmIChkaXJlY3Rpb24gIT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHZhciBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgdmFyIHQgPSAtdHJhbnNsYXRlO1xuXG4gICAgaWYgKHJ0bCkge1xuICAgICAgdCA9IHdyYXBwZXJFbC5zY3JvbGxXaWR0aCAtIHdyYXBwZXJFbC5vZmZzZXRXaWR0aCAtIHQ7XG4gICAgfVxuXG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAod3JhcHBlckVsLnNjcm9sbFRvKSB7XG4gICAgICAgIHZhciBfd3JhcHBlckVsJHNjcm9sbFRvO1xuXG4gICAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbygoX3dyYXBwZXJFbCRzY3JvbGxUbyA9IHt9LCBfd3JhcHBlckVsJHNjcm9sbFRvW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXSA9IHQsIF93cmFwcGVyRWwkc2Nyb2xsVG8uYmVoYXZpb3IgPSAnc21vb3RoJywgX3dyYXBwZXJFbCRzY3JvbGxUbykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG5cbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIXN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlVG9DbGlja2VkU2xpZGU7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gc2xpZGVUb0NsaWNrZWRTbGlkZSgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICB2YXIgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICB2YXIgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgdmFyIHJlYWxJbmRleDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykgcmV0dXJuO1xuICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KCgwLCBfZG9tLmRlZmF1bHQpKHN3aXBlci5jbGlja2VkU2xpZGUpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGlmIChzbGlkZVRvSW5kZXggPCBzd2lwZXIubG9vcGVkU2xpZGVzIC0gc2xpZGVzUGVyVmlldyAvIDIgfHwgc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICsgc2xpZGVzUGVyVmlldyAvIDIpIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgc2xpZGVUb0luZGV4ID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcmVhbEluZGV4ICsgXCJcXFwiXTpub3QoLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilcIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgKDAsIF91dGlscy5uZXh0VGljaykoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNsaWRlVG9JbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc2xpZGVzUGVyVmlldykge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgIHNsaWRlVG9JbmRleCA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl06bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpXCIpLmVxKDApLmluZGV4KCk7XG4gICAgICAoMCwgX3V0aWxzLm5leHRUaWNrKShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2xpZGVUb0Nsb3Nlc3Q7XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3Qoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIHRocmVzaG9sZCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cblxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyZXNob2xkID0gMC41O1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgdmFyIHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICB2YXIgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgdmFyIHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG5cbiAgaWYgKHRyYW5zbGF0ZSA+PSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XSkge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBvbiBvciBhZnRlciB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBhZnRlciBpdC5cbiAgICB2YXIgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICB2YXIgbmV4dFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4ICsgMV07XG5cbiAgICBpZiAodHJhbnNsYXRlIC0gY3VycmVudFNuYXAgPiAobmV4dFNuYXAgLSBjdXJyZW50U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4ICs9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBiZWZvcmUgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYmVmb3JlIGl0LlxuICAgIHZhciBwcmV2U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggLSAxXTtcbiAgICB2YXIgX2N1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG5cbiAgICBpZiAodHJhbnNsYXRlIC0gcHJldlNuYXAgPD0gKF9jdXJyZW50U25hcCAtIHByZXZTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggLT0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH1cblxuICBpbmRleCA9IE1hdGgubWF4KGluZGV4LCAwKTtcbiAgaW5kZXggPSBNYXRoLm1pbihpbmRleCwgc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2xpZGVUb0xvb3A7XG5cbmZ1bmN0aW9uIHNsaWRlVG9Mb29wKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuXG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIG5ld0luZGV4ID0gaW5kZXg7XG5cbiAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIG5ld0luZGV4ICs9IHN3aXBlci5sb29wZWRTbGlkZXM7XG4gIH1cblxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zZXRUcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zZXRUcmFuc2l0aW9uXCIpKTtcblxudmFyIF90cmFuc2l0aW9uU3RhcnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zaXRpb25TdGFydFwiKSk7XG5cbnZhciBfdHJhbnNpdGlvbkVuZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNpdGlvbkVuZFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgc2V0VHJhbnNpdGlvbjogX3NldFRyYW5zaXRpb24uZGVmYXVsdCxcbiAgdHJhbnNpdGlvblN0YXJ0OiBfdHJhbnNpdGlvblN0YXJ0LmRlZmF1bHQsXG4gIHRyYW5zaXRpb25FbmQ6IF90cmFuc2l0aW9uRW5kLmRlZmF1bHRcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldFRyYW5zaXRpb247XG5cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICB2YXIgc3dpcGVyID0gdGhpcztcblxuICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci4kd3JhcHBlckVsLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zaXRpb24nLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyYW5zaXRpb25FbmQ7XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLnByZXZpb3VzSW5kZXgsXG4gICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgdmFyIGRpciA9IGRpcmVjdGlvbjtcblxuICBpZiAoIWRpcikge1xuICAgIGlmIChhY3RpdmVJbmRleCA+IHByZXZpb3VzSW5kZXgpIGRpciA9ICduZXh0JztlbHNlIGlmIChhY3RpdmVJbmRleCA8IHByZXZpb3VzSW5kZXgpIGRpciA9ICdwcmV2JztlbHNlIGRpciA9ICdyZXNldCc7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuXG4gIGlmIChydW5DYWxsYmFja3MgJiYgYWN0aXZlSW5kZXggIT09IHByZXZpb3VzSW5kZXgpIHtcbiAgICBpZiAoZGlyID09PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVSZXNldFRyYW5zaXRpb25FbmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kJyk7XG5cbiAgICBpZiAoZGlyID09PSAnbmV4dCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZU5leHRUcmFuc2l0aW9uRW5kJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZVByZXZUcmFuc2l0aW9uRW5kJyk7XG4gICAgfVxuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB0cmFuc2l0aW9uU3RhcnQ7XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLnByZXZpb3VzSW5kZXg7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuXG4gIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gIH1cblxuICB2YXIgZGlyID0gZGlyZWN0aW9uO1xuXG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnKTtcblxuICBpZiAocnVuQ2FsbGJhY2tzICYmIGFjdGl2ZUluZGV4ICE9PSBwcmV2aW91c0luZGV4KSB7XG4gICAgaWYgKGRpciA9PT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlUmVzZXRUcmFuc2l0aW9uU3RhcnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2VUcmFuc2l0aW9uU3RhcnQnKTtcblxuICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25TdGFydCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVQcmV2VHJhbnNpdGlvblN0YXJ0Jyk7XG4gICAgfVxuICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRTd2lwZXJUcmFuc2xhdGU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIGdldFN3aXBlclRyYW5zbGF0ZShheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gdGhpcy5pc0hvcml6b250YWwoKSA/ICd4JyA6ICd5JztcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICB0cmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlLFxuICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuXG4gIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZTtcbiAgfVxuXG4gIHZhciBjdXJyZW50VHJhbnNsYXRlID0gKDAsIF91dGlscy5nZXRUcmFuc2xhdGUpKCR3cmFwcGVyRWxbMF0sIGF4aXMpO1xuICBpZiAocnRsKSBjdXJyZW50VHJhbnNsYXRlID0gLWN1cnJlbnRUcmFuc2xhdGU7XG4gIHJldHVybiBjdXJyZW50VHJhbnNsYXRlIHx8IDA7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZ2V0VHJhbnNsYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9nZXRUcmFuc2xhdGVcIikpO1xuXG52YXIgX3NldFRyYW5zbGF0ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2V0VHJhbnNsYXRlXCIpKTtcblxudmFyIF9taW5UcmFuc2xhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL21pblRyYW5zbGF0ZVwiKSk7XG5cbnZhciBfbWF4VHJhbnNsYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9tYXhUcmFuc2xhdGVcIikpO1xuXG52YXIgX3RyYW5zbGF0ZVRvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2xhdGVUb1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgZ2V0VHJhbnNsYXRlOiBfZ2V0VHJhbnNsYXRlLmRlZmF1bHQsXG4gIHNldFRyYW5zbGF0ZTogX3NldFRyYW5zbGF0ZS5kZWZhdWx0LFxuICBtaW5UcmFuc2xhdGU6IF9taW5UcmFuc2xhdGUuZGVmYXVsdCxcbiAgbWF4VHJhbnNsYXRlOiBfbWF4VHJhbnNsYXRlLmRlZmF1bHQsXG4gIHRyYW5zbGF0ZVRvOiBfdHJhbnNsYXRlVG8uZGVmYXVsdFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWF4VHJhbnNsYXRlO1xuXG5mdW5jdGlvbiBtYXhUcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aCAtIDFdO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWluVHJhbnNsYXRlO1xuXG5mdW5jdGlvbiBtaW5UcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFswXTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldFRyYW5zbGF0ZTtcblxuZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICB3cmFwcGVyRWwgPSBzd2lwZXIud3JhcHBlckVsLFxuICAgICAgcHJvZ3Jlc3MgPSBzd2lwZXIucHJvZ3Jlc3M7XG4gIHZhciB4ID0gMDtcbiAgdmFyIHkgPSAwO1xuICB2YXIgeiA9IDA7XG5cbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHggPSBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIHkgPSB0cmFuc2xhdGU7XG4gIH1cblxuICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgIHggPSBNYXRoLmZsb29yKHgpO1xuICAgIHkgPSBNYXRoLmZsb29yKHkpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IC14IDogLXk7XG4gIH0gZWxzZSBpZiAoIXBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgJHdyYXBwZXJFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4LCBcIiArIHogKyBcInB4KVwiKTtcbiAgfVxuXG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gIHN3aXBlci50cmFuc2xhdGUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB4IDogeTsgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB1cGRhdGUgcHJvZ3Jlc3NcblxuICB2YXIgbmV3UHJvZ3Jlc3M7XG4gIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG5cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBwcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB0cmFuc2xhdGVUbztcblxuZnVuY3Rpb24gdHJhbnNsYXRlVG8odHJhbnNsYXRlLCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCB0cmFuc2xhdGVCb3VuZHMsIGludGVybmFsKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IDA7XG4gIH1cblxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cblxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlQm91bmRzID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWw7XG5cbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBtaW5UcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIHZhciBtYXhUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gIHZhciBuZXdUcmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlID4gbWluVHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtaW5UcmFuc2xhdGU7ZWxzZSBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA8IG1heFRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWF4VHJhbnNsYXRlO2Vsc2UgbmV3VHJhbnNsYXRlID0gdHJhbnNsYXRlOyAvLyBVcGRhdGUgcHJvZ3Jlc3NcblxuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3VHJhbnNsYXRlKTtcblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB2YXIgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuXG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAod3JhcHBlckVsLnNjcm9sbFRvKSB7XG4gICAgICAgIHZhciBfd3JhcHBlckVsJHNjcm9sbFRvO1xuXG4gICAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbygoX3dyYXBwZXJFbCRzY3JvbGxUbyA9IHt9LCBfd3JhcHBlckVsJHNjcm9sbFRvW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXSA9IC1uZXdUcmFuc2xhdGUsIF93cmFwcGVyRWwkc2Nyb2xsVG8uYmVoYXZpb3IgPSAnc21vb3RoJywgX3dyYXBwZXJFbCRzY3JvbGxUbykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IC1uZXdUcmFuc2xhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG5cbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG5cbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnKTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIXN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpIHtcbiAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuXG4gICAgICAgICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91cGRhdGVTaXplID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVTaXplXCIpKTtcblxudmFyIF91cGRhdGVTbGlkZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVNsaWRlc1wiKSk7XG5cbnZhciBfdXBkYXRlQXV0b0hlaWdodCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlQXV0b0hlaWdodFwiKSk7XG5cbnZhciBfdXBkYXRlU2xpZGVzT2Zmc2V0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVTbGlkZXNPZmZzZXRcIikpO1xuXG52YXIgX3VwZGF0ZVNsaWRlc1Byb2dyZXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVTbGlkZXNQcm9ncmVzc1wiKSk7XG5cbnZhciBfdXBkYXRlUHJvZ3Jlc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VwZGF0ZVByb2dyZXNzXCIpKTtcblxudmFyIF91cGRhdGVTbGlkZXNDbGFzc2VzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cGRhdGVTbGlkZXNDbGFzc2VzXCIpKTtcblxudmFyIF91cGRhdGVBY3RpdmVJbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlQWN0aXZlSW5kZXhcIikpO1xuXG52YXIgX3VwZGF0ZUNsaWNrZWRTbGlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXBkYXRlQ2xpY2tlZFNsaWRlXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0ge1xuICB1cGRhdGVTaXplOiBfdXBkYXRlU2l6ZS5kZWZhdWx0LFxuICB1cGRhdGVTbGlkZXM6IF91cGRhdGVTbGlkZXMuZGVmYXVsdCxcbiAgdXBkYXRlQXV0b0hlaWdodDogX3VwZGF0ZUF1dG9IZWlnaHQuZGVmYXVsdCxcbiAgdXBkYXRlU2xpZGVzT2Zmc2V0OiBfdXBkYXRlU2xpZGVzT2Zmc2V0LmRlZmF1bHQsXG4gIHVwZGF0ZVNsaWRlc1Byb2dyZXNzOiBfdXBkYXRlU2xpZGVzUHJvZ3Jlc3MuZGVmYXVsdCxcbiAgdXBkYXRlUHJvZ3Jlc3M6IF91cGRhdGVQcm9ncmVzcy5kZWZhdWx0LFxuICB1cGRhdGVTbGlkZXNDbGFzc2VzOiBfdXBkYXRlU2xpZGVzQ2xhc3Nlcy5kZWZhdWx0LFxuICB1cGRhdGVBY3RpdmVJbmRleDogX3VwZGF0ZUFjdGl2ZUluZGV4LmRlZmF1bHQsXG4gIHVwZGF0ZUNsaWNrZWRTbGlkZTogX3VwZGF0ZUNsaWNrZWRTbGlkZS5kZWZhdWx0XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1cGRhdGVBY3RpdmVJbmRleDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gdXBkYXRlQWN0aXZlSW5kZXgobmV3QWN0aXZlSW5kZXgpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICB2YXIgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQsXG4gICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgIHByZXZpb3VzUmVhbEluZGV4ID0gc3dpcGVyLnJlYWxJbmRleCxcbiAgICAgIHByZXZpb3VzU25hcEluZGV4ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgdmFyIGFjdGl2ZUluZGV4ID0gbmV3QWN0aXZlSW5kZXg7XG4gIHZhciBzbmFwSW5kZXg7XG5cbiAgaWYgKHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSAtIChzbGlkZXNHcmlkW2kgKyAxXSAtIHNsaWRlc0dyaWRbaV0pIC8gMikge1xuICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSkge1xuICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgfVxuICAgIH0gLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcblxuXG4gICAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgICBpZiAoYWN0aXZlSW5kZXggPCAwIHx8IHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIGFjdGl2ZUluZGV4ID0gMDtcbiAgICB9XG4gIH1cblxuICBpZiAoc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpID49IDApIHtcbiAgICBzbmFwSW5kZXggPSBzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNraXAgPSBNYXRoLm1pbihwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBhY3RpdmVJbmRleCk7XG4gICAgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGFjdGl2ZUluZGV4IC0gc2tpcCkgLyBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICB9XG5cbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG5cbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4KSB7XG4gICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9IC8vIEdldCByZWFsIGluZGV4XG5cblxuICB2YXIgcmVhbEluZGV4ID0gcGFyc2VJbnQoc3dpcGVyLnNsaWRlcy5lcShhY3RpdmVJbmRleCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSB8fCBhY3RpdmVJbmRleCwgMTApO1xuICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLCB7XG4gICAgc25hcEluZGV4OiBzbmFwSW5kZXgsXG4gICAgcmVhbEluZGV4OiByZWFsSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleDogcHJldmlvdXNJbmRleCxcbiAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgfSk7XG4gIHN3aXBlci5lbWl0KCdhY3RpdmVJbmRleENoYW5nZScpO1xuICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG5cbiAgaWYgKHByZXZpb3VzUmVhbEluZGV4ICE9PSByZWFsSW5kZXgpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhbEluZGV4Q2hhbmdlJyk7XG4gIH1cblxuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkIHx8IHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlQ2hhbmdlJyk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZUF1dG9IZWlnaHQ7XG5cbmZ1bmN0aW9uIHVwZGF0ZUF1dG9IZWlnaHQoc3BlZWQpIHtcbiAgdmFyIHN3aXBlciA9IHRoaXM7XG4gIHZhciBhY3RpdmVTbGlkZXMgPSBbXTtcbiAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICB2YXIgbmV3SGVpZ2h0ID0gMDtcbiAgdmFyIGk7XG5cbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ251bWJlcicpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIH0gZWxzZSBpZiAoc3BlZWQgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzd2lwZXIucGFyYW1zLnNwZWVkKTtcbiAgfVxuXG4gIHZhciBnZXRTbGlkZUJ5SW5kZXggPSBmdW5jdGlvbiBnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpIHtcbiAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnNsaWRlcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKSA9PT0gaW5kZXg7XG4gICAgICB9KVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlcy5lcShpbmRleClbMF07XG4gIH07IC8vIEZpbmQgc2xpZGVzIGN1cnJlbnRseSBpbiB2aWV3XG5cblxuICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4ICsgaTtcbiAgICAgICAgaWYgKGluZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggJiYgIWlzVmlydHVhbCkgYnJlYWs7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChpbmRleCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoc3dpcGVyLmFjdGl2ZUluZGV4KSk7XG4gIH0gLy8gRmluZCBuZXcgaGVpZ2h0IGZyb20gaGlnaGVzdCBzbGlkZSBpbiB2aWV3XG5cblxuICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZXNbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gYWN0aXZlU2xpZGVzW2ldLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld0hlaWdodCA9IGhlaWdodCA+IG5ld0hlaWdodCA/IGhlaWdodCA6IG5ld0hlaWdodDtcbiAgICB9XG4gIH0gLy8gVXBkYXRlIEhlaWdodFxuXG5cbiAgaWYgKG5ld0hlaWdodCkgc3dpcGVyLiR3cmFwcGVyRWwuY3NzKCdoZWlnaHQnLCBuZXdIZWlnaHQgKyBcInB4XCIpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlQ2xpY2tlZFNsaWRlO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsaWNrZWRTbGlkZShlKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgdmFyIHNsaWRlID0gKDAsIF9kb20uZGVmYXVsdCkoZS50YXJnZXQpLmNsb3Nlc3QoXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcylbMF07XG4gIHZhciBzbGlkZUZvdW5kID0gZmFsc2U7XG4gIHZhciBzbGlkZUluZGV4O1xuXG4gIGlmIChzbGlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXNbaV0gPT09IHNsaWRlKSB7XG4gICAgICAgIHNsaWRlRm91bmQgPSB0cnVlO1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNsaWRlICYmIHNsaWRlRm91bmQpIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gc2xpZGU7XG5cbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBwYXJzZUludCgoMCwgX2RvbS5kZWZhdWx0KShzbGlkZSkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gc2xpZGVJbmRleDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHVuZGVmaW5lZDtcbiAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwYXJhbXMuc2xpZGVUb0NsaWNrZWRTbGlkZSAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgc3dpcGVyLnNsaWRlVG9DbGlja2VkU2xpZGUoKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlUHJvZ3Jlc3M7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbXVsdGlwbGllciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgdHJhbnNsYXRlID0gc3dpcGVyICYmIHN3aXBlci50cmFuc2xhdGUgJiYgc3dpcGVyLnRyYW5zbGF0ZSAqIG11bHRpcGxpZXIgfHwgMDtcbiAgfVxuXG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICB2YXIgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIHZhciBwcm9ncmVzcyA9IHN3aXBlci5wcm9ncmVzcyxcbiAgICAgIGlzQmVnaW5uaW5nID0gc3dpcGVyLmlzQmVnaW5uaW5nLFxuICAgICAgaXNFbmQgPSBzd2lwZXIuaXNFbmQ7XG4gIHZhciB3YXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZztcbiAgdmFyIHdhc0VuZCA9IGlzRW5kO1xuXG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIHByb2dyZXNzID0gMDtcbiAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgaXNFbmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICBpc0JlZ2lubmluZyA9IHByb2dyZXNzIDw9IDA7XG4gICAgaXNFbmQgPSBwcm9ncmVzcyA+PSAxO1xuICB9XG5cbiAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgIHByb2dyZXNzOiBwcm9ncmVzcyxcbiAgICBpc0JlZ2lubmluZzogaXNCZWdpbm5pbmcsXG4gICAgaXNFbmQ6IGlzRW5kXG4gIH0pO1xuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHN3aXBlci51cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpO1xuXG4gIGlmIChpc0JlZ2lubmluZyAmJiAhd2FzQmVnaW5uaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3JlYWNoQmVnaW5uaW5nIHRvRWRnZScpO1xuICB9XG5cbiAgaWYgKGlzRW5kICYmICF3YXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hFbmQgdG9FZGdlJyk7XG4gIH1cblxuICBpZiAod2FzQmVnaW5uaW5nICYmICFpc0JlZ2lubmluZyB8fCB3YXNFbmQgJiYgIWlzRW5kKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2Zyb21FZGdlJyk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgncHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB1cGRhdGVTaXplO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHdpZHRoO1xuICB2YXIgaGVpZ2h0O1xuICB2YXIgJGVsID0gc3dpcGVyLiRlbDtcblxuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMud2lkdGggIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMud2lkdGggIT09IG51bGwpIHtcbiAgICB3aWR0aCA9IHN3aXBlci5wYXJhbXMud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSAkZWxbMF0uY2xpZW50V2lkdGg7XG4gIH1cblxuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLmhlaWdodCAhPT0gbnVsbCkge1xuICAgIGhlaWdodCA9IHN3aXBlci5wYXJhbXMuaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGhlaWdodCA9ICRlbFswXS5jbGllbnRIZWlnaHQ7XG4gIH1cblxuICBpZiAod2lkdGggPT09IDAgJiYgc3dpcGVyLmlzSG9yaXpvbnRhbCgpIHx8IGhlaWdodCA9PT0gMCAmJiBzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIFN1YnRyYWN0IHBhZGRpbmdzXG5cblxuICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy10b3AnKSB8fCAwLCAxMCkgLSBwYXJzZUludCgkZWwuY3NzKCdwYWRkaW5nLWJvdHRvbScpIHx8IDAsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLCB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHNpemU6IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHdpZHRoIDogaGVpZ2h0XG4gIH0pO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlU2xpZGVzO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvbkxhYmVsKHByb3BlcnR5KSB7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH0gLy8gcHJldHRpZXItaWdub3JlXG5cblxuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiAnaGVpZ2h0JyxcbiAgICAgICdtYXJnaW4tdG9wJzogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICdtYXJnaW4tYm90dG9tICc6ICdtYXJnaW4tcmlnaHQnLFxuICAgICAgJ21hcmdpbi1sZWZ0JzogJ21hcmdpbi10b3AnLFxuICAgICAgJ21hcmdpbi1yaWdodCc6ICdtYXJnaW4tYm90dG9tJyxcbiAgICAgICdwYWRkaW5nLWxlZnQnOiAncGFkZGluZy10b3AnLFxuICAgICAgJ3BhZGRpbmctcmlnaHQnOiAncGFkZGluZy1ib3R0b20nLFxuICAgICAgJ21hcmdpblJpZ2h0JzogJ21hcmdpbkJvdHRvbSdcbiAgICB9W3Byb3BlcnR5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUobm9kZSwgbGFiZWwpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChub2RlLmdldFByb3BlcnR5VmFsdWUoZ2V0RGlyZWN0aW9uTGFiZWwobGFiZWwpKSB8fCAwKTtcbiAgfVxuXG4gIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgc3dpcGVyU2l6ZSA9IHN3aXBlci5zaXplLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgIHdyb25nUlRMID0gc3dpcGVyLndyb25nUlRMO1xuICB2YXIgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgdmFyIHByZXZpb3VzU2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICB2YXIgc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyk7XG4gIHZhciBzbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc2xpZGVzLmxlbmd0aDtcbiAgdmFyIHNuYXBHcmlkID0gW107XG4gIHZhciBzbGlkZXNHcmlkID0gW107XG4gIHZhciBzbGlkZXNTaXplc0dyaWQgPSBbXTtcbiAgdmFyIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG5cbiAgaWYgKHR5cGVvZiBvZmZzZXRCZWZvcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvZmZzZXRCZWZvcmUgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlLmNhbGwoc3dpcGVyKTtcbiAgfVxuXG4gIHZhciBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlcjtcblxuICBpZiAodHlwZW9mIG9mZnNldEFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICB9XG5cbiAgdmFyIHByZXZpb3VzU25hcEdyaWRMZW5ndGggPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICB2YXIgcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoID0gc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoO1xuICB2YXIgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgdmFyIHNsaWRlUG9zaXRpb24gPSAtb2Zmc2V0QmVmb3JlO1xuICB2YXIgcHJldlNsaWRlU2l6ZSA9IDA7XG4gIHZhciBpbmRleCA9IDA7XG5cbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlclNpemU7XG4gIH1cblxuICBzd2lwZXIudmlydHVhbFNpemUgPSAtc3BhY2VCZXR3ZWVuOyAvLyByZXNldCBtYXJnaW5zXG5cbiAgaWYgKHJ0bCkgc2xpZGVzLmNzcyh7XG4gICAgbWFyZ2luTGVmdDogJycsXG4gICAgbWFyZ2luQm90dG9tOiAnJyxcbiAgICBtYXJnaW5Ub3A6ICcnXG4gIH0pO2Vsc2Ugc2xpZGVzLmNzcyh7XG4gICAgbWFyZ2luUmlnaHQ6ICcnLFxuICAgIG1hcmdpbkJvdHRvbTogJycsXG4gICAgbWFyZ2luVG9wOiAnJ1xuICB9KTtcbiAgdmFyIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3M7XG5cbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxKSB7XG4gICAgaWYgKE1hdGguZmxvb3Ioc2xpZGVzTGVuZ3RoIC8gcGFyYW1zLnNsaWRlc1BlckNvbHVtbikgPT09IHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSB7XG4gICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gc2xpZGVzTGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pICogcGFyYW1zLnNsaWRlc1BlckNvbHVtbjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ3JvdycpIHtcbiAgICAgIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgPSBNYXRoLm1heChzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzLCBwYXJhbXMuc2xpZGVzUGVyVmlldyAqIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pO1xuICAgIH1cbiAgfSAvLyBDYWxjIHNsaWRlc1xuXG5cbiAgdmFyIHNsaWRlU2l6ZTtcbiAgdmFyIHNsaWRlc1BlckNvbHVtbiA9IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW47XG4gIHZhciBzbGlkZXNQZXJSb3cgPSBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzIC8gc2xpZGVzUGVyQ29sdW1uO1xuICB2YXIgbnVtRnVsbENvbHVtbnMgPSBNYXRoLmZsb29yKHNsaWRlc0xlbmd0aCAvIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzTGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZVNpemUgPSAwO1xuICAgIHZhciBzbGlkZSA9IHNsaWRlcy5lcShpKTtcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMSkge1xuICAgICAgLy8gU2V0IHNsaWRlcyBvcmRlclxuICAgICAgdmFyIG5ld1NsaWRlT3JkZXJJbmRleCA9IHZvaWQgMDtcbiAgICAgIHZhciBjb2x1bW4gPSB2b2lkIDA7XG4gICAgICB2YXIgcm93ID0gdm9pZCAwO1xuXG4gICAgICBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgPT09ICdyb3cnICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgICAgdmFyIGdyb3VwSW5kZXggPSBNYXRoLmZsb29yKGkgLyAocGFyYW1zLnNsaWRlc1Blckdyb3VwICogcGFyYW1zLnNsaWRlc1BlckNvbHVtbikpO1xuICAgICAgICB2YXIgc2xpZGVJbmRleEluR3JvdXAgPSBpIC0gcGFyYW1zLnNsaWRlc1BlckNvbHVtbiAqIHBhcmFtcy5zbGlkZXNQZXJHcm91cCAqIGdyb3VwSW5kZXg7XG4gICAgICAgIHZhciBjb2x1bW5zSW5Hcm91cCA9IGdyb3VwSW5kZXggPT09IDAgPyBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgOiBNYXRoLm1pbihNYXRoLmNlaWwoKHNsaWRlc0xlbmd0aCAtIGdyb3VwSW5kZXggKiBzbGlkZXNQZXJDb2x1bW4gKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIC8gc2xpZGVzUGVyQ29sdW1uKSwgcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICAgICAgcm93ID0gTWF0aC5mbG9vcihzbGlkZUluZGV4SW5Hcm91cCAvIGNvbHVtbnNJbkdyb3VwKTtcbiAgICAgICAgY29sdW1uID0gc2xpZGVJbmRleEluR3JvdXAgLSByb3cgKiBjb2x1bW5zSW5Hcm91cCArIGdyb3VwSW5kZXggKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICAgIG5ld1NsaWRlT3JkZXJJbmRleCA9IGNvbHVtbiArIHJvdyAqIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyBzbGlkZXNQZXJDb2x1bW47XG4gICAgICAgIHNsaWRlLmNzcyh7XG4gICAgICAgICAgJy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAnOiBuZXdTbGlkZU9yZGVySW5kZXgsXG4gICAgICAgICAgJy1tb3otYm94LW9yZGluYWwtZ3JvdXAnOiBuZXdTbGlkZU9yZGVySW5kZXgsXG4gICAgICAgICAgJy1tcy1mbGV4LW9yZGVyJzogbmV3U2xpZGVPcmRlckluZGV4LFxuICAgICAgICAgICctd2Via2l0LW9yZGVyJzogbmV3U2xpZGVPcmRlckluZGV4LFxuICAgICAgICAgIG9yZGVyOiBuZXdTbGlkZU9yZGVySW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAnY29sdW1uJykge1xuICAgICAgICBjb2x1bW4gPSBNYXRoLmZsb29yKGkgLyBzbGlkZXNQZXJDb2x1bW4pO1xuICAgICAgICByb3cgPSBpIC0gY29sdW1uICogc2xpZGVzUGVyQ29sdW1uO1xuXG4gICAgICAgIGlmIChjb2x1bW4gPiBudW1GdWxsQ29sdW1ucyB8fCBjb2x1bW4gPT09IG51bUZ1bGxDb2x1bW5zICYmIHJvdyA9PT0gc2xpZGVzUGVyQ29sdW1uIC0gMSkge1xuICAgICAgICAgIHJvdyArPSAxO1xuXG4gICAgICAgICAgaWYgKHJvdyA+PSBzbGlkZXNQZXJDb2x1bW4pIHtcbiAgICAgICAgICAgIHJvdyA9IDA7XG4gICAgICAgICAgICBjb2x1bW4gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdyA9IE1hdGguZmxvb3IoaSAvIHNsaWRlc1BlclJvdyk7XG4gICAgICAgIGNvbHVtbiA9IGkgLSByb3cgKiBzbGlkZXNQZXJSb3c7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLmNzcyhnZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpLCByb3cgIT09IDAgPyBwYXJhbXMuc3BhY2VCZXR3ZWVuICYmIHBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCIgOiAnJyk7XG4gICAgfVxuXG4gICAgaWYgKHNsaWRlLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgdmFyIHNsaWRlU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZVswXSk7XG4gICAgICB2YXIgY3VycmVudFRyYW5zZm9ybSA9IHNsaWRlWzBdLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgIHZhciBjdXJyZW50V2ViS2l0VHJhbnNmb3JtID0gc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtO1xuXG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZVswXS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlWzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHtcbiAgICAgICAgc2xpZGVTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc2xpZGUub3V0ZXJXaWR0aCh0cnVlKSA6IHNsaWRlLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHZhciB3aWR0aCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICd3aWR0aCcpO1xuICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1sZWZ0Jyk7XG4gICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICB2YXIgbWFyZ2luTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tbGVmdCcpO1xuICAgICAgICB2YXIgbWFyZ2luUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIHZhciBib3hTaXppbmcgPSBzbGlkZVN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJyk7XG5cbiAgICAgICAgaWYgKGJveFNpemluZyAmJiBib3hTaXppbmcgPT09ICdib3JkZXItYm94Jykge1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfc2xpZGUkID0gc2xpZGVbMF0sXG4gICAgICAgICAgICAgIGNsaWVudFdpZHRoID0gX3NsaWRlJC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSBfc2xpZGUkLm9mZnNldFdpZHRoO1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQgKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQgKyAob2Zmc2V0V2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGVbMF0uc3R5bGUudHJhbnNmb3JtID0gY3VycmVudFRyYW5zZm9ybTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gY3VycmVudFdlYktpdFRyYW5zZm9ybTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVTaXplID0gKHN3aXBlclNpemUgLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgLSAxKSAqIHNwYWNlQmV0d2VlbikgLyBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG5cbiAgICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW2dldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IHNsaWRlU2l6ZSArIFwicHhcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIH1cblxuICAgIHNsaWRlc1NpemVzR3JpZC5wdXNoKHNsaWRlU2l6ZSk7XG5cbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChwcmV2U2xpZGVTaXplID09PSAwICYmIGkgIT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoaSA9PT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmIChpbmRleCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIH1cblxuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSArPSBzbGlkZVNpemUgKyBzcGFjZUJldHdlZW47XG4gICAgcHJldlNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICBpbmRleCArPSAxO1xuICB9XG5cbiAgc3dpcGVyLnZpcnR1YWxTaXplID0gTWF0aC5tYXgoc3dpcGVyLnZpcnR1YWxTaXplLCBzd2lwZXJTaXplKSArIG9mZnNldEFmdGVyO1xuICB2YXIgbmV3U2xpZGVzR3JpZDtcblxuICBpZiAocnRsICYmIHdyb25nUlRMICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdjb3ZlcmZsb3cnKSkge1xuICAgICR3cmFwcGVyRWwuY3NzKHtcbiAgICAgIHdpZHRoOiBzd2lwZXIudmlydHVhbFNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgdmFyIF8kd3JhcHBlckVsJGNzcztcblxuICAgICR3cmFwcGVyRWwuY3NzKChfJHdyYXBwZXJFbCRjc3MgPSB7fSwgXyR3cmFwcGVyRWwkY3NzW2dldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IHN3aXBlci52aXJ0dWFsU2l6ZSArIHBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCIsIF8kd3JhcHBlckVsJGNzcykpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxKSB7XG4gICAgdmFyIF8kd3JhcHBlckVsJGNzczI7XG5cbiAgICBzd2lwZXIudmlydHVhbFNpemUgPSAoc2xpZGVTaXplICsgcGFyYW1zLnNwYWNlQmV0d2VlbikgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbChzd2lwZXIudmlydHVhbFNpemUgLyBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSAtIHBhcmFtcy5zcGFjZUJldHdlZW47XG4gICAgJHdyYXBwZXJFbC5jc3MoKF8kd3JhcHBlckVsJGNzczIgPSB7fSwgXyR3cmFwcGVyRWwkY3NzMltnZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBzd2lwZXIudmlydHVhbFNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiLCBfJHdyYXBwZXJFbCRjc3MyKSk7XG5cbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBuZXdTbGlkZXNHcmlkID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzbmFwR3JpZC5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICAgICAgdmFyIHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbX2ldO1xuICAgICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgICAgaWYgKHNuYXBHcmlkW19pXSA8IHN3aXBlci52aXJ0dWFsU2l6ZSArIHNuYXBHcmlkWzBdKSBuZXdTbGlkZXNHcmlkLnB1c2goc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgfVxuXG4gICAgICBzbmFwR3JpZCA9IG5ld1NsaWRlc0dyaWQ7XG4gICAgfVxuICB9IC8vIFJlbW92ZSBsYXN0IGdyaWQgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdpZHRoXG5cblxuICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgIG5ld1NsaWRlc0dyaWQgPSBbXTtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHNuYXBHcmlkLmxlbmd0aDsgX2kyICs9IDEpIHtcbiAgICAgIHZhciBfc2xpZGVzR3JpZEl0ZW0gPSBzbmFwR3JpZFtfaTJdO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIF9zbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3IoX3NsaWRlc0dyaWRJdGVtKTtcblxuICAgICAgaWYgKHNuYXBHcmlkW19pMl0gPD0gc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkge1xuICAgICAgICBuZXdTbGlkZXNHcmlkLnB1c2goX3NsaWRlc0dyaWRJdGVtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzbmFwR3JpZCA9IG5ld1NsaWRlc0dyaWQ7XG5cbiAgICBpZiAoTWF0aC5mbG9vcihzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSAtIE1hdGguZmxvb3Ioc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSkge1xuICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICB9XG4gIH1cblxuICBpZiAoc25hcEdyaWQubGVuZ3RoID09PSAwKSBzbmFwR3JpZCA9IFswXTtcblxuICBpZiAocGFyYW1zLnNwYWNlQmV0d2VlbiAhPT0gMCkge1xuICAgIHZhciBfc2xpZGVzJGZpbHRlciRjc3M7XG5cbiAgICB2YXIga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IGdldERpcmVjdGlvbkxhYmVsKCdtYXJnaW5SaWdodCcpO1xuICAgIHNsaWRlcy5maWx0ZXIoZnVuY3Rpb24gKF8sIHNsaWRlSW5kZXgpIHtcbiAgICAgIGlmICghcGFyYW1zLmNzc01vZGUpIHJldHVybiB0cnVlO1xuXG4gICAgICBpZiAoc2xpZGVJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KS5jc3MoKF9zbGlkZXMkZmlsdGVyJGNzcyA9IHt9LCBfc2xpZGVzJGZpbHRlciRjc3Nba2V5XSA9IHNwYWNlQmV0d2VlbiArIFwicHhcIiwgX3NsaWRlcyRmaWx0ZXIkY3NzKSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIHZhciBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGVTaXplVmFsdWUpIHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAocGFyYW1zLnNwYWNlQmV0d2VlbiA/IHBhcmFtcy5zcGFjZUJldHdlZW4gOiAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHBhcmFtcy5zcGFjZUJldHdlZW47XG4gICAgdmFyIG1heFNuYXAgPSBhbGxTbGlkZXNTaXplIC0gc3dpcGVyU2l6ZTtcbiAgICBzbmFwR3JpZCA9IHNuYXBHcmlkLm1hcChmdW5jdGlvbiAoc25hcCkge1xuICAgICAgaWYgKHNuYXAgPCAwKSByZXR1cm4gLW9mZnNldEJlZm9yZTtcbiAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgIHJldHVybiBzbmFwO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXMpIHtcbiAgICB2YXIgX2FsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZVNpemVWYWx1ZSkge1xuICAgICAgX2FsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAocGFyYW1zLnNwYWNlQmV0d2VlbiA/IHBhcmFtcy5zcGFjZUJldHdlZW4gOiAwKTtcbiAgICB9KTtcbiAgICBfYWxsU2xpZGVzU2l6ZSAtPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuXG4gICAgaWYgKF9hbGxTbGlkZXNTaXplIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgdmFyIGFsbFNsaWRlc09mZnNldCA9IChzd2lwZXJTaXplIC0gX2FsbFNsaWRlc1NpemUpIC8gMjtcbiAgICAgIHNuYXBHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNuYXAsIHNuYXBJbmRleCkge1xuICAgICAgICBzbmFwR3JpZFtzbmFwSW5kZXhdID0gc25hcCAtIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgICAgc2xpZGVzR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbmFwLCBzbmFwSW5kZXgpIHtcbiAgICAgICAgc2xpZGVzR3JpZFtzbmFwSW5kZXhdID0gc25hcCArIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIsIHtcbiAgICBzbGlkZXM6IHNsaWRlcyxcbiAgICBzbmFwR3JpZDogc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZDogc2xpZGVzR3JpZCxcbiAgICBzbGlkZXNTaXplc0dyaWQ6IHNsaWRlc1NpemVzR3JpZFxuICB9KTtcblxuICBpZiAoc2xpZGVzTGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0xlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuXG4gIGlmIChzbmFwR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU25hcEdyaWRMZW5ndGgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIHN3aXBlci5lbWl0KCdzbmFwR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG5cbiAgaWYgKHNsaWRlc0dyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVzR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IHBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZVNsaWRlc0NsYXNzZXM7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc0NsYXNzZXMoKSB7XG4gIHZhciBzd2lwZXIgPSB0aGlzO1xuICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgIHJlYWxJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBzbGlkZXMucmVtb3ZlQ2xhc3MocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZU5leHRDbGFzcyArIFwiIFwiICsgcGFyYW1zLnNsaWRlUHJldkNsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyArIFwiIFwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlTmV4dENsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpO1xuICB2YXIgYWN0aXZlU2xpZGU7XG5cbiAgaWYgKGlzVmlydHVhbCkge1xuICAgIGFjdGl2ZVNsaWRlID0gc3dpcGVyLiR3cmFwcGVyRWwuZmluZChcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgYWN0aXZlSW5kZXggKyBcIlxcXCJdXCIpO1xuICB9IGVsc2Uge1xuICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzLmVxKGFjdGl2ZUluZGV4KTtcbiAgfSAvLyBBY3RpdmUgY2xhc3Nlc1xuXG5cbiAgYWN0aXZlU2xpZGUuYWRkQ2xhc3MocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIC8vIER1cGxpY2F0ZSB0byBhbGwgbG9vcGVkIHNsaWRlc1xuICAgIGlmIChhY3RpdmVTbGlkZS5oYXNDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiOm5vdCguXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyByZWFsSW5kZXggKyBcIlxcXCJdXCIpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpO1xuICAgIH1cbiAgfSAvLyBOZXh0IFNsaWRlXG5cblxuICB2YXIgbmV4dFNsaWRlID0gYWN0aXZlU2xpZGUubmV4dEFsbChcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKS5lcSgwKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuXG4gIGlmIChwYXJhbXMubG9vcCAmJiBuZXh0U2xpZGUubGVuZ3RoID09PSAwKSB7XG4gICAgbmV4dFNsaWRlID0gc2xpZGVzLmVxKDApO1xuICAgIG5leHRTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICB9IC8vIFByZXYgU2xpZGVcblxuXG4gIHZhciBwcmV2U2xpZGUgPSBhY3RpdmVTbGlkZS5wcmV2QWxsKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpLmVxKDApLmFkZENsYXNzKHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG5cbiAgaWYgKHBhcmFtcy5sb29wICYmIHByZXZTbGlkZS5sZW5ndGggPT09IDApIHtcbiAgICBwcmV2U2xpZGUgPSBzbGlkZXMuZXEoLTEpO1xuICAgIHByZXZTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgLy8gRHVwbGljYXRlIHRvIGFsbCBsb29wZWQgc2xpZGVzXG4gICAgaWYgKG5leHRTbGlkZS5oYXNDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiOm5vdCguXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBuZXh0U2xpZGUuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlTmV4dENsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIG5leHRTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpO1xuICAgIH1cblxuICAgIGlmIChwcmV2U2xpZGUuaGFzQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIjpub3QoLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcHJldlNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBwcmV2U2xpZGUuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlUHJldkNsYXNzKTtcbiAgICB9XG4gIH1cblxuICBzd2lwZXIuZW1pdFNsaWRlc0NsYXNzZXMoKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZVNsaWRlc09mZnNldDtcblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzT2Zmc2V0KCkge1xuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNbaV0uc3dpcGVyU2xpZGVPZmZzZXQgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZXNbaV0ub2Zmc2V0TGVmdCA6IHNsaWRlc1tpXS5vZmZzZXRUb3A7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVwZGF0ZVNsaWRlc1Byb2dyZXNzO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSB0aGlzICYmIHRoaXMudHJhbnNsYXRlIHx8IDA7XG4gIH1cblxuICB2YXIgc3dpcGVyID0gdGhpcztcbiAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQgPT09ICd1bmRlZmluZWQnKSBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIHZhciBvZmZzZXRDZW50ZXIgPSAtdHJhbnNsYXRlO1xuICBpZiAocnRsKSBvZmZzZXRDZW50ZXIgPSB0cmFuc2xhdGU7IC8vIFZpc2libGUgU2xpZGVzXG5cbiAgc2xpZGVzLnJlbW92ZUNsYXNzKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIHNsaWRlID0gc2xpZGVzW2ldO1xuICAgIHZhciBzbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlLnN3aXBlclNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuKTtcblxuICAgIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5IHx8IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgdmFyIHNsaWRlQmVmb3JlID0gLShvZmZzZXRDZW50ZXIgLSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldCk7XG4gICAgICB2YXIgc2xpZGVBZnRlciA9IHNsaWRlQmVmb3JlICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICAgIHZhciBpc1Zpc2libGUgPSBzbGlkZUJlZm9yZSA+PSAwICYmIHNsaWRlQmVmb3JlIDwgc3dpcGVyLnNpemUgLSAxIHx8IHNsaWRlQWZ0ZXIgPiAxICYmIHNsaWRlQWZ0ZXIgPD0gc3dpcGVyLnNpemUgfHwgc2xpZGVCZWZvcmUgPD0gMCAmJiBzbGlkZUFmdGVyID49IHN3aXBlci5zaXplO1xuXG4gICAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzLnB1c2goc2xpZGUpO1xuICAgICAgICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgICAgc2xpZGVzLmVxKGkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2xpZGUucHJvZ3Jlc3MgPSBydGwgPyAtc2xpZGVQcm9ncmVzcyA6IHNsaWRlUHJvZ3Jlc3M7XG4gIH1cblxuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9ICgwLCBfZG9tLmRlZmF1bHQpKHN3aXBlci52aXNpYmxlU2xpZGVzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgQ292ZXJmbG93ID0ge1xuICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc3dpcGVyV2lkdGggPSBzd2lwZXIud2lkdGgsXG4gICAgICAgIHN3aXBlckhlaWdodCA9IHN3aXBlci5oZWlnaHQsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIHNsaWRlc1NpemVzR3JpZCA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWQ7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY292ZXJmbG93RWZmZWN0O1xuICAgIHZhciBpc0hvcml6b250YWwgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgdmFyIHRyYW5zZm9ybSA9IHN3aXBlci50cmFuc2xhdGU7XG4gICAgdmFyIGNlbnRlciA9IGlzSG9yaXpvbnRhbCA/IC10cmFuc2Zvcm0gKyBzd2lwZXJXaWR0aCAvIDIgOiAtdHJhbnNmb3JtICsgc3dpcGVySGVpZ2h0IC8gMjtcbiAgICB2YXIgcm90YXRlID0gaXNIb3Jpem9udGFsID8gcGFyYW1zLnJvdGF0ZSA6IC1wYXJhbXMucm90YXRlO1xuICAgIHZhciB0cmFuc2xhdGUgPSBwYXJhbXMuZGVwdGg7IC8vIEVhY2ggc2xpZGUgb2Zmc2V0IGZyb20gY2VudGVyXG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2xpZGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICB2YXIgc2xpZGVTaXplID0gc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgICAgdmFyIHNsaWRlT2Zmc2V0ID0gJHNsaWRlRWxbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICB2YXIgb2Zmc2V0TXVsdGlwbGllciA9IChjZW50ZXIgLSBzbGlkZU9mZnNldCAtIHNsaWRlU2l6ZSAvIDIpIC8gc2xpZGVTaXplICogcGFyYW1zLm1vZGlmaWVyO1xuICAgICAgdmFyIHJvdGF0ZVkgPSBpc0hvcml6b250YWwgPyByb3RhdGUgKiBvZmZzZXRNdWx0aXBsaWVyIDogMDtcbiAgICAgIHZhciByb3RhdGVYID0gaXNIb3Jpem9udGFsID8gMCA6IHJvdGF0ZSAqIG9mZnNldE11bHRpcGxpZXI7IC8vIHZhciByb3RhdGVaID0gMFxuXG4gICAgICB2YXIgdHJhbnNsYXRlWiA9IC10cmFuc2xhdGUgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTtcbiAgICAgIHZhciBzdHJldGNoID0gcGFyYW1zLnN0cmV0Y2g7IC8vIEFsbG93IHBlcmNlbnRhZ2UgdG8gbWFrZSBhIHJlbGF0aXZlIHN0cmV0Y2ggZm9yIHJlc3BvbnNpdmUgc2xpZGVyc1xuXG4gICAgICBpZiAodHlwZW9mIHN0cmV0Y2ggPT09ICdzdHJpbmcnICYmIHN0cmV0Y2guaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgICAgICBzdHJldGNoID0gcGFyc2VGbG9hdChwYXJhbXMuc3RyZXRjaCkgLyAxMDAgKiBzbGlkZVNpemU7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2xhdGVZID0gaXNIb3Jpem9udGFsID8gMCA6IHN0cmV0Y2ggKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgdmFyIHRyYW5zbGF0ZVggPSBpc0hvcml6b250YWwgPyBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICB2YXIgc2NhbGUgPSAxIC0gKDEgLSBwYXJhbXMuc2NhbGUpICogTWF0aC5hYnMob2Zmc2V0TXVsdGlwbGllcik7IC8vIEZpeCBmb3IgdWx0cmEgc21hbGwgdmFsdWVzXG5cbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVYKSA8IDAuMDAxKSB0cmFuc2xhdGVYID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVZKSA8IDAuMDAxKSB0cmFuc2xhdGVZID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVaKSA8IDAuMDAxKSB0cmFuc2xhdGVaID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVZKSA8IDAuMDAxKSByb3RhdGVZID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVYKSA8IDAuMDAxKSByb3RhdGVYID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhzY2FsZSkgPCAwLjAwMSkgc2NhbGUgPSAwO1xuICAgICAgdmFyIHNsaWRlVHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZChcIiArIHRyYW5zbGF0ZVggKyBcInB4LFwiICsgdHJhbnNsYXRlWSArIFwicHgsXCIgKyB0cmFuc2xhdGVaICsgXCJweCkgIHJvdGF0ZVgoXCIgKyByb3RhdGVYICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyByb3RhdGVZICsgXCJkZWcpIHNjYWxlKFwiICsgc2NhbGUgKyBcIilcIjtcbiAgICAgICRzbGlkZUVsLnRyYW5zZm9ybShzbGlkZVRyYW5zZm9ybSk7XG4gICAgICAkc2xpZGVFbFswXS5zdHlsZS56SW5kZXggPSAtTWF0aC5hYnMoTWF0aC5yb3VuZChvZmZzZXRNdWx0aXBsaWVyKSkgKyAxO1xuXG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICB2YXIgJHNoYWRvd0JlZm9yZUVsID0gaXNIb3Jpem9udGFsID8gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wJyk7XG4gICAgICAgIHZhciAkc2hhZG93QWZ0ZXJFbCA9IGlzSG9yaXpvbnRhbCA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcblxuICAgICAgICBpZiAoJHNoYWRvd0JlZm9yZUVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRzaGFkb3dCZWZvcmVFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZCgkc2hhZG93QmVmb3JlRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRzaGFkb3dBZnRlckVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRzaGFkb3dBZnRlckVsID0gKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJzd2lwZXItc2xpZGUtc2hhZG93LVwiICsgKGlzSG9yaXpvbnRhbCA/ICdyaWdodCcgOiAnYm90dG9tJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZCgkc2hhZG93QWZ0ZXJFbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNoYWRvd0JlZm9yZUVsLmxlbmd0aCkgJHNoYWRvd0JlZm9yZUVsWzBdLnN0eWxlLm9wYWNpdHkgPSBvZmZzZXRNdWx0aXBsaWVyID4gMCA/IG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgICBpZiAoJHNoYWRvd0FmdGVyRWwubGVuZ3RoKSAkc2hhZG93QWZ0ZXJFbFswXS5zdHlsZS5vcGFjaXR5ID0gLW9mZnNldE11bHRpcGxpZXIgPiAwID8gLW9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5zbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdlZmZlY3QtY292ZXJmbG93JyxcbiAgcGFyYW1zOiB7XG4gICAgY292ZXJmbG93RWZmZWN0OiB7XG4gICAgICByb3RhdGU6IDUwLFxuICAgICAgc3RyZXRjaDogMCxcbiAgICAgIGRlcHRoOiAxMDAsXG4gICAgICBzY2FsZTogMSxcbiAgICAgIG1vZGlmaWVyOiAxLFxuICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGNvdmVyZmxvd0VmZmVjdDogX2V4dGVuZHMoe30sIENvdmVyZmxvdylcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY292ZXJmbG93JykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcImNvdmVyZmxvd1wiKTtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCIzZFwiKTtcbiAgICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgICBzd2lwZXIub3JpZ2luYWxQYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2NvdmVyZmxvdycpIHJldHVybjtcbiAgICAgIHN3aXBlci5jb3ZlcmZsb3dFZmZlY3Quc2V0VHJhbnNsYXRlKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2NvdmVyZmxvdycpIHJldHVybjtcbiAgICAgIHN3aXBlci5jb3ZlcmZsb3dFZmZlY3Quc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEN1YmUgPSB7XG4gIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIHN3aXBlcldpZHRoID0gc3dpcGVyLndpZHRoLFxuICAgICAgICBzd2lwZXJIZWlnaHQgPSBzd2lwZXIuaGVpZ2h0LFxuICAgICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgICBzd2lwZXJTaXplID0gc3dpcGVyLnNpemUsXG4gICAgICAgIGJyb3dzZXIgPSBzd2lwZXIuYnJvd3NlcjtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jdWJlRWZmZWN0O1xuICAgIHZhciBpc0hvcml6b250YWwgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICAgIHZhciB3cmFwcGVyUm90YXRlID0gMDtcbiAgICB2YXIgJGN1YmVTaGFkb3dFbDtcblxuICAgIGlmIChwYXJhbXMuc2hhZG93KSB7XG4gICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICRjdWJlU2hhZG93RWwgPSAkd3JhcHBlckVsLmZpbmQoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcblxuICAgICAgICBpZiAoJGN1YmVTaGFkb3dFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAkY3ViZVNoYWRvd0VsID0gKDAsIF9kb20uZGVmYXVsdCkoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAkd3JhcHBlckVsLmFwcGVuZCgkY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRjdWJlU2hhZG93RWwuY3NzKHtcbiAgICAgICAgICBoZWlnaHQ6IHN3aXBlcldpZHRoICsgXCJweFwiXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICRlbC5maW5kKCcuc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG5cbiAgICAgICAgaWYgKCRjdWJlU2hhZG93RWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgJGVsLmFwcGVuZCgkY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICB2YXIgc2xpZGVJbmRleCA9IGk7XG5cbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IHBhcnNlSW50KCRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNsaWRlQW5nbGUgPSBzbGlkZUluZGV4ICogOTA7XG4gICAgICB2YXIgcm91bmQgPSBNYXRoLmZsb29yKHNsaWRlQW5nbGUgLyAzNjApO1xuXG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHNsaWRlQW5nbGUgPSAtc2xpZGVBbmdsZTtcbiAgICAgICAgcm91bmQgPSBNYXRoLmZsb29yKC1zbGlkZUFuZ2xlIC8gMzYwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIDEpLCAtMSk7XG4gICAgICB2YXIgdHggPSAwO1xuICAgICAgdmFyIHR5ID0gMDtcbiAgICAgIHZhciB0eiA9IDA7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4ICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1yb3VuZCAqIDQgKiBzd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDA7XG4gICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMSkgJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgICAgdHogPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAyKSAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSBzd2lwZXJTaXplICsgcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgdHogPSBzd2lwZXJTaXplO1xuICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDMpICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1zd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDMgKiBzd2lwZXJTaXplICsgc3dpcGVyU2l6ZSAqIDQgKiByb3VuZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJ0bCkge1xuICAgICAgICB0eCA9IC10eDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0hvcml6b250YWwpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhbnNmb3JtID0gXCJyb3RhdGVYKFwiICsgKGlzSG9yaXpvbnRhbCA/IDAgOiAtc2xpZGVBbmdsZSkgKyBcImRlZykgcm90YXRlWShcIiArIChpc0hvcml6b250YWwgPyBzbGlkZUFuZ2xlIDogMCkgKyBcImRlZykgdHJhbnNsYXRlM2QoXCIgKyB0eCArIFwicHgsIFwiICsgdHkgKyBcInB4LCBcIiArIHR6ICsgXCJweClcIjtcblxuICAgICAgaWYgKHByb2dyZXNzIDw9IDEgJiYgcHJvZ3Jlc3MgPiAtMSkge1xuICAgICAgICB3cmFwcGVyUm90YXRlID0gc2xpZGVJbmRleCAqIDkwICsgcHJvZ3Jlc3MgKiA5MDtcbiAgICAgICAgaWYgKHJ0bCkgd3JhcHBlclJvdGF0ZSA9IC1zbGlkZUluZGV4ICogOTAgLSBwcm9ncmVzcyAqIDkwO1xuICAgICAgfVxuXG4gICAgICAkc2xpZGVFbC50cmFuc2Zvcm0odHJhbnNmb3JtKTtcblxuICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgLy8gU2V0IHNoYWRvd3NcbiAgICAgICAgdmFyIHNoYWRvd0JlZm9yZSA9IGlzSG9yaXpvbnRhbCA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCcpO1xuICAgICAgICB2YXIgc2hhZG93QWZ0ZXIgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tJyk7XG5cbiAgICAgICAgaWYgKHNoYWRvd0JlZm9yZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzaGFkb3dCZWZvcmUgPSAoMCwgX2RvbS5kZWZhdWx0KShcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcpICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAkc2xpZGVFbC5hcHBlbmQoc2hhZG93QmVmb3JlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGFkb3dBZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzaGFkb3dBZnRlciA9ICgwLCBfZG9tLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChpc0hvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbScpICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAkc2xpZGVFbC5hcHBlbmQoc2hhZG93QWZ0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYWRvd0JlZm9yZS5sZW5ndGgpIHNoYWRvd0JlZm9yZVswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgoLXByb2dyZXNzLCAwKTtcbiAgICAgICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCkgc2hhZG93QWZ0ZXJbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkd3JhcHBlckVsLmNzcyh7XG4gICAgICAnLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luJzogXCI1MCUgNTAlIC1cIiArIHN3aXBlclNpemUgLyAyICsgXCJweFwiLFxuICAgICAgJy1tb3otdHJhbnNmb3JtLW9yaWdpbic6IFwiNTAlIDUwJSAtXCIgKyBzd2lwZXJTaXplIC8gMiArIFwicHhcIixcbiAgICAgICctbXMtdHJhbnNmb3JtLW9yaWdpbic6IFwiNTAlIDUwJSAtXCIgKyBzd2lwZXJTaXplIC8gMiArIFwicHhcIixcbiAgICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogXCI1MCUgNTAlIC1cIiArIHN3aXBlclNpemUgLyAyICsgXCJweFwiXG4gICAgfSk7XG5cbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAkY3ViZVNoYWRvd0VsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwgXCIgKyAoc3dpcGVyV2lkdGggLyAyICsgcGFyYW1zLnNoYWRvd09mZnNldCkgKyBcInB4LCBcIiArIC1zd2lwZXJXaWR0aCAvIDIgKyBcInB4KSByb3RhdGVYKDkwZGVnKSByb3RhdGVaKDBkZWcpIHNjYWxlKFwiICsgcGFyYW1zLnNoYWRvd1NjYWxlICsgXCIpXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNoYWRvd0FuZ2xlID0gTWF0aC5hYnMod3JhcHBlclJvdGF0ZSkgLSBNYXRoLmZsb29yKE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC8gOTApICogOTA7XG4gICAgICAgIHZhciBtdWx0aXBsaWVyID0gMS41IC0gKE1hdGguc2luKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMiArIE1hdGguY29zKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMik7XG4gICAgICAgIHZhciBzY2FsZTEgPSBwYXJhbXMuc2hhZG93U2NhbGU7XG4gICAgICAgIHZhciBzY2FsZTIgPSBwYXJhbXMuc2hhZG93U2NhbGUgLyBtdWx0aXBsaWVyO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyYW1zLnNoYWRvd09mZnNldDtcbiAgICAgICAgJGN1YmVTaGFkb3dFbC50cmFuc2Zvcm0oXCJzY2FsZTNkKFwiICsgc2NhbGUxICsgXCIsIDEsIFwiICsgc2NhbGUyICsgXCIpIHRyYW5zbGF0ZTNkKDBweCwgXCIgKyAoc3dpcGVySGVpZ2h0IC8gMiArIG9mZnNldCkgKyBcInB4LCBcIiArIC1zd2lwZXJIZWlnaHQgLyAyIC8gc2NhbGUyICsgXCJweCkgcm90YXRlWCgtOTBkZWcpXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB6RmFjdG9yID0gYnJvd3Nlci5pc1NhZmFyaSB8fCBicm93c2VyLmlzV2ViVmlldyA/IC1zd2lwZXJTaXplIC8gMiA6IDA7XG4gICAgJHdyYXBwZXJFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwcHgsMCxcIiArIHpGYWN0b3IgKyBcInB4KSByb3RhdGVYKFwiICsgKHN3aXBlci5pc0hvcml6b250YWwoKSA/IDAgOiB3cmFwcGVyUm90YXRlKSArIFwiZGVnKSByb3RhdGVZKFwiICsgKHN3aXBlci5pc0hvcml6b250YWwoKSA/IC13cmFwcGVyUm90YXRlIDogMCkgKyBcImRlZylcIik7XG4gIH0sXG4gIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgJGVsID0gc3dpcGVyLiRlbCxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcbiAgICBzbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jdWJlRWZmZWN0LnNoYWRvdyAmJiAhc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAkZWwuZmluZCgnLnN3aXBlci1jdWJlLXNoYWRvdycpLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH1cbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ2VmZmVjdC1jdWJlJyxcbiAgcGFyYW1zOiB7XG4gICAgY3ViZUVmZmVjdDoge1xuICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlLFxuICAgICAgc2hhZG93OiB0cnVlLFxuICAgICAgc2hhZG93T2Zmc2V0OiAyMCxcbiAgICAgIHNoYWRvd1NjYWxlOiAwLjk0XG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGN1YmVFZmZlY3Q6IF9leHRlbmRzKHt9LCBDdWJlKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdjdWJlJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcImN1YmVcIik7XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiM2RcIik7XG4gICAgICB2YXIgb3ZlcndyaXRlUGFyYW1zID0ge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICByZXNpc3RhbmNlUmF0aW86IDAsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgICB2aXJ0dWFsVHJhbnNsYXRlOiB0cnVlXG4gICAgICB9O1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdjdWJlJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmN1YmVFZmZlY3Quc2V0VHJhbnNsYXRlKCk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2N1YmUnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY3ViZUVmZmVjdC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZhZGUgPSB7XG4gIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciAkc2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgICB2YXIgb2Zmc2V0ID0gJHNsaWRlRWxbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICB2YXIgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICB2YXIgdHkgPSAwO1xuXG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBzbGlkZU9wYWNpdHkgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlID8gTWF0aC5tYXgoMSAtIE1hdGguYWJzKCRzbGlkZUVsWzBdLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIC0xKSwgMCk7XG4gICAgICAkc2xpZGVFbC5jc3Moe1xuICAgICAgICBvcGFjaXR5OiBzbGlkZU9wYWNpdHlcbiAgICAgIH0pLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgdHggKyBcInB4LCBcIiArIHR5ICsgXCJweCwgMHB4KVwiKTtcbiAgICB9XG4gIH0sXG4gIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICAgIHNsaWRlcy50cmFuc2l0aW9uKGR1cmF0aW9uKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgZHVyYXRpb24gIT09IDApIHtcbiAgICAgIHZhciBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgc2xpZGVzLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZXZlbnRUcmlnZ2VyZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBldmVudFRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRyaWdnZXJFdmVudHMgPSBbJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCAndHJhbnNpdGlvbmVuZCddO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJpZ2dlckV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICR3cmFwcGVyRWwudHJpZ2dlcih0cmlnZ2VyRXZlbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnZWZmZWN0LWZhZGUnLFxuICBwYXJhbXM6IHtcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGZhZGVFZmZlY3Q6IF9leHRlbmRzKHt9LCBGYWRlKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmYWRlJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcImZhZGVcIik7XG4gICAgICB2YXIgb3ZlcndyaXRlUGFyYW1zID0ge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICAgIH07XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZhZGUnKSByZXR1cm47XG4gICAgICBzd2lwZXIuZmFkZUVmZmVjdC5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmFkZScpIHJldHVybjtcbiAgICAgIHN3aXBlci5mYWRlRWZmZWN0LnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBGbGlwID0ge1xuICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAkc2xpZGVFbFswXS5wcm9ncmVzcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uKSB7XG4gICAgICAgIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIDEpLCAtMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvZmZzZXQgPSAkc2xpZGVFbFswXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIHZhciByb3RhdGUgPSAtMTgwICogcHJvZ3Jlc3M7XG4gICAgICB2YXIgcm90YXRlWSA9IHJvdGF0ZTtcbiAgICAgIHZhciByb3RhdGVYID0gMDtcbiAgICAgIHZhciB0eCA9IC1vZmZzZXQ7XG4gICAgICB2YXIgdHkgPSAwO1xuXG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICAgIHJvdGF0ZVggPSAtcm90YXRlWTtcbiAgICAgICAgcm90YXRlWSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJ0bCkge1xuICAgICAgICByb3RhdGVZID0gLXJvdGF0ZVk7XG4gICAgICB9XG5cbiAgICAgICRzbGlkZUVsWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHByb2dyZXNzKSkgKyBzbGlkZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICB2YXIgc2hhZG93QmVmb3JlID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wJyk7XG4gICAgICAgIHZhciBzaGFkb3dBZnRlciA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcblxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNoYWRvd0JlZm9yZSA9ICgwLCBfZG9tLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dCZWZvcmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNoYWRvd0FmdGVyID0gKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJzd2lwZXItc2xpZGUtc2hhZG93LVwiICsgKHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdyaWdodCcgOiAnYm90dG9tJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dBZnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCkgc2hhZG93QmVmb3JlWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgICAgICBpZiAoc2hhZG93QWZ0ZXIubGVuZ3RoKSBzaGFkb3dBZnRlclswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgocHJvZ3Jlc3MsIDApO1xuICAgICAgfVxuXG4gICAgICAkc2xpZGVFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHR4ICsgXCJweCwgXCIgKyB0eSArIFwicHgsIDBweCkgcm90YXRlWChcIiArIHJvdGF0ZVggKyBcImRlZykgcm90YXRlWShcIiArIHJvdGF0ZVkgKyBcImRlZylcIik7XG4gICAgfVxuICB9LFxuICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgc2xpZGVzLnRyYW5zaXRpb24oZHVyYXRpb24pLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgICAgdmFyIGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgICBzbGlkZXMuZXEoYWN0aXZlSW5kZXgpLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICBpZiAoZXZlbnRUcmlnZ2VyZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuOyAvLyBpZiAoISQodGhpcykuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKSkgcmV0dXJuO1xuXG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJpZ2dlckV2ZW50cyA9IFsnd2Via2l0VHJhbnNpdGlvbkVuZCcsICd0cmFuc2l0aW9uZW5kJ107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2VyRXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgJHdyYXBwZXJFbC50cmlnZ2VyKHRyaWdnZXJFdmVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdlZmZlY3QtZmxpcCcsXG4gIHBhcmFtczoge1xuICAgIGZsaXBFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIGxpbWl0Um90YXRpb246IHRydWVcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgZmxpcEVmZmVjdDogX2V4dGVuZHMoe30sIEZsaXApXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZsaXAnKSByZXR1cm47XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiZmxpcFwiKTtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCIzZFwiKTtcbiAgICAgIHZhciBvdmVyd3JpdGVQYXJhbXMgPSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgdmlydHVhbFRyYW5zbGF0ZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmxpcCcpIHJldHVybjtcbiAgICAgIHN3aXBlci5mbGlwRWZmZWN0LnNldFRyYW5zbGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmbGlwJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLmZsaXBFZmZlY3Quc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEhhc2hOYXZpZ2F0aW9uID0ge1xuICBvbkhhc2hDaGFuZ2U6IGZ1bmN0aW9uIG9uSGFzaENoYW5nZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICBzd2lwZXIuZW1pdCgnaGFzaENoYW5nZScpO1xuICAgIHZhciBuZXdIYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIHZhciBhY3RpdmVTbGlkZUhhc2ggPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCkuYXR0cignZGF0YS1oYXNoJyk7XG5cbiAgICBpZiAobmV3SGFzaCAhPT0gYWN0aXZlU2xpZGVIYXNoKSB7XG4gICAgICB2YXIgbmV3SW5kZXggPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtaGFzaD1cXFwiXCIgKyBuZXdIYXNoICsgXCJcXFwiXVwiKS5pbmRleCgpO1xuICAgICAgaWYgKHR5cGVvZiBuZXdJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4KTtcbiAgICB9XG4gIH0sXG4gIHNldEhhc2g6IGZ1bmN0aW9uIHNldEhhc2goKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICBpZiAoIXN3aXBlci5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCB8fCAhc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5yZXBsYWNlU3RhdGUgJiYgd2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgXCIjXCIgKyBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCkuYXR0cignZGF0YS1oYXNoJykgfHwgJycpO1xuICAgICAgc3dpcGVyLmVtaXQoJ2hhc2hTZXQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgdmFyIGhhc2ggPSBzbGlkZS5hdHRyKCdkYXRhLWhhc2gnKSB8fCBzbGlkZS5hdHRyKCdkYXRhLWhpc3RvcnknKTtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBoYXNoIHx8ICcnO1xuICAgICAgc3dpcGVyLmVtaXQoJ2hhc2hTZXQnKTtcbiAgICB9XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCB8fCBzd2lwZXIucGFyYW1zLmhpc3RvcnkgJiYgc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBoYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgaWYgKGhhc2gpIHtcbiAgICAgIHZhciBzcGVlZCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgICAgIHZhciBzbGlkZUhhc2ggPSBzbGlkZS5hdHRyKCdkYXRhLWhhc2gnKSB8fCBzbGlkZS5hdHRyKCdkYXRhLWhpc3RvcnknKTtcblxuICAgICAgICBpZiAoc2xpZGVIYXNoID09PSBoYXNoICYmICFzbGlkZS5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhpbmRleCwgc3BlZWQsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUpIHtcbiAgICAgICgwLCBfZG9tLmRlZmF1bHQpKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBzd2lwZXIuaGFzaE5hdmlnYXRpb24ub25IYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUpIHtcbiAgICAgICgwLCBfZG9tLmRlZmF1bHQpKHdpbmRvdykub2ZmKCdoYXNoY2hhbmdlJywgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLm9uSGFzaENoYW5nZSk7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnaGFzaC1uYXZpZ2F0aW9uJyxcbiAgcGFyYW1zOiB7XG4gICAgaGFzaE5hdmlnYXRpb246IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgIHdhdGNoU3RhdGU6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGhhc2hOYXZpZ2F0aW9uOiBfZXh0ZW5kcyh7XG4gICAgICAgIGluaXRpYWxpemVkOiBmYWxzZVxuICAgICAgfSwgSGFzaE5hdmlnYXRpb24pXG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmluaXQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAndHJhbnNpdGlvbkVuZCBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZSc6IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLnNldEhhc2goKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5zZXRIYXNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBIaXN0b3J5ID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkpIHJldHVybjtcblxuICAgIGlmICghd2luZG93Lmhpc3RvcnkgfHwgIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xuICAgICAgc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgIHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGhpc3RvcnkgPSBzd2lwZXIuaGlzdG9yeTtcbiAgICBoaXN0b3J5LmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBoaXN0b3J5LnBhdGhzID0gSGlzdG9yeS5nZXRQYXRoVmFsdWVzKHN3aXBlci5wYXJhbXMudXJsKTtcbiAgICBpZiAoIWhpc3RvcnkucGF0aHMua2V5ICYmICFoaXN0b3J5LnBhdGhzLnZhbHVlKSByZXR1cm47XG4gICAgaGlzdG9yeS5zY3JvbGxUb1NsaWRlKDAsIGhpc3RvcnkucGF0aHMudmFsdWUsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KTtcblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc3dpcGVyLmhpc3Rvcnkuc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc3dpcGVyLmhpc3Rvcnkuc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICB9XG4gIH0sXG4gIHNldEhpc3RvcnlQb3BTdGF0ZTogZnVuY3Rpb24gc2V0SGlzdG9yeVBvcFN0YXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5oaXN0b3J5LnBhdGhzID0gSGlzdG9yeS5nZXRQYXRoVmFsdWVzKHN3aXBlci5wYXJhbXMudXJsKTtcbiAgICBzd2lwZXIuaGlzdG9yeS5zY3JvbGxUb1NsaWRlKHN3aXBlci5wYXJhbXMuc3BlZWQsIHN3aXBlci5oaXN0b3J5LnBhdGhzLnZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIGdldFBhdGhWYWx1ZXM6IGZ1bmN0aW9uIGdldFBhdGhWYWx1ZXModXJsT3ZlcnJpZGUpIHtcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICAgIHZhciBsb2NhdGlvbjtcblxuICAgIGlmICh1cmxPdmVycmlkZSkge1xuICAgICAgbG9jYXRpb24gPSBuZXcgVVJMKHVybE92ZXJyaWRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgfVxuXG4gICAgdmFyIHBhdGhBcnJheSA9IGxvY2F0aW9uLnBhdGhuYW1lLnNsaWNlKDEpLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICByZXR1cm4gcGFydCAhPT0gJyc7XG4gICAgfSk7XG4gICAgdmFyIHRvdGFsID0gcGF0aEFycmF5Lmxlbmd0aDtcbiAgICB2YXIga2V5ID0gcGF0aEFycmF5W3RvdGFsIC0gMl07XG4gICAgdmFyIHZhbHVlID0gcGF0aEFycmF5W3RvdGFsIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleToga2V5LFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfSxcbiAgc2V0SGlzdG9yeTogZnVuY3Rpb24gc2V0SGlzdG9yeShrZXksIGluZGV4KSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICBpZiAoIXN3aXBlci5oaXN0b3J5LmluaXRpYWxpemVkIHx8ICFzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBsb2NhdGlvbjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnVybCkge1xuICAgICAgbG9jYXRpb24gPSBuZXcgVVJMKHN3aXBlci5wYXJhbXMudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgfVxuXG4gICAgdmFyIHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShpbmRleCk7XG4gICAgdmFyIHZhbHVlID0gSGlzdG9yeS5zbHVnaWZ5KHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3Rvcnkucm9vdC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgcm9vdCA9IHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290O1xuICAgICAgaWYgKHJvb3Rbcm9vdC5sZW5ndGggLSAxXSA9PT0gJy8nKSByb290ID0gcm9vdC5zbGljZSgwLCByb290Lmxlbmd0aCAtIDEpO1xuICAgICAgdmFsdWUgPSByb290ICsgXCIvXCIgKyBrZXkgKyBcIi9cIiArIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHZhbHVlID0ga2V5ICsgXCIvXCIgKyB2YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudFN0YXRlID0gd2luZG93Lmhpc3Rvcnkuc3RhdGU7XG5cbiAgICBpZiAoY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSwgbnVsbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgc2x1Z2lmeTogZnVuY3Rpb24gc2x1Z2lmeSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQudG9TdHJpbmcoKS5yZXBsYWNlKC9cXHMrL2csICctJykucmVwbGFjZSgvW15cXHctXSsvZywgJycpLnJlcGxhY2UoLy0tKy9nLCAnLScpLnJlcGxhY2UoL14tKy8sICcnKS5yZXBsYWNlKC8tKyQvLCAnJyk7XG4gIH0sXG4gIHNjcm9sbFRvU2xpZGU6IGZ1bmN0aW9uIHNjcm9sbFRvU2xpZGUoc3BlZWQsIHZhbHVlLCBydW5DYWxsYmFja3MpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgICAgdmFyIHNsaWRlSGlzdG9yeSA9IEhpc3Rvcnkuc2x1Z2lmeShzbGlkZS5hdHRyKCdkYXRhLWhpc3RvcnknKSk7XG5cbiAgICAgICAgaWYgKHNsaWRlSGlzdG9yeSA9PT0gdmFsdWUgJiYgIXNsaWRlLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzbGlkZS5pbmRleCgpO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbygwLCBzcGVlZCwgcnVuQ2FsbGJhY2tzKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdoaXN0b3J5JyxcbiAgcGFyYW1zOiB7XG4gICAgaGlzdG9yeToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByb290OiAnJyxcbiAgICAgIHJlcGxhY2VTdGF0ZTogZmFsc2UsXG4gICAgICBrZXk6ICdzbGlkZXMnXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIGhpc3Rvcnk6IF9leHRlbmRzKHt9LCBIaXN0b3J5KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmhpc3RvcnkuaW5pdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIuaGlzdG9yeS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAndHJhbnNpdGlvbkVuZCBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZSc6IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIuaGlzdG9yeS5pbml0aWFsaXplZCkge1xuICAgICAgICBzd2lwZXIuaGlzdG9yeS5zZXRIaXN0b3J5KHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZXksIHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLmhpc3RvcnkuaW5pdGlhbGl6ZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci5oaXN0b3J5LnNldEhpc3Rvcnkoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtleSwgc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgS2V5Ym9hcmQgPSB7XG4gIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgdmFyIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gICAgdmFyIGUgPSBldmVudDtcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50OyAvLyBqcXVlcnkgZml4XG5cbiAgICB2YXIga2MgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcbiAgICB2YXIgcGFnZVVwRG93biA9IHN3aXBlci5wYXJhbXMua2V5Ym9hcmQucGFnZVVwRG93bjtcbiAgICB2YXIgaXNQYWdlVXAgPSBwYWdlVXBEb3duICYmIGtjID09PSAzMztcbiAgICB2YXIgaXNQYWdlRG93biA9IHBhZ2VVcERvd24gJiYga2MgPT09IDM0O1xuICAgIHZhciBpc0Fycm93TGVmdCA9IGtjID09PSAzNztcbiAgICB2YXIgaXNBcnJvd1JpZ2h0ID0ga2MgPT09IDM5O1xuICAgIHZhciBpc0Fycm93VXAgPSBrYyA9PT0gMzg7XG4gICAgdmFyIGlzQXJyb3dEb3duID0ga2MgPT09IDQwOyAvLyBEaXJlY3Rpb25zIGxvY2tzXG5cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dSaWdodCB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIGlzQXJyb3dEb3duIHx8IGlzUGFnZURvd24pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBpc0Fycm93TGVmdCB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIGlzQXJyb3dVcCB8fCBpc1BhZ2VVcCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUgJiYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYScpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmtleWJvYXJkLm9ubHlJblZpZXdwb3J0ICYmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dMZWZ0IHx8IGlzQXJyb3dSaWdodCB8fCBpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24pKSB7XG4gICAgICB2YXIgaW5WaWV3ID0gZmFsc2U7IC8vIENoZWNrIHRoYXQgc3dpcGVyIHNob3VsZCBiZSBpbnNpZGUgb2YgdmlzaWJsZSBhcmVhIG9mIHdpbmRvd1xuXG4gICAgICBpZiAoc3dpcGVyLiRlbC5wYXJlbnRzKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKS5sZW5ndGggPiAwICYmIHN3aXBlci4kZWwucGFyZW50cyhcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsO1xuICAgICAgdmFyIHN3aXBlcldpZHRoID0gJGVsWzBdLmNsaWVudFdpZHRoO1xuICAgICAgdmFyIHN3aXBlckhlaWdodCA9ICRlbFswXS5jbGllbnRIZWlnaHQ7XG4gICAgICB2YXIgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgc3dpcGVyT2Zmc2V0ID0gc3dpcGVyLiRlbC5vZmZzZXQoKTtcbiAgICAgIGlmIChydGwpIHN3aXBlck9mZnNldC5sZWZ0IC09IHN3aXBlci4kZWxbMF0uc2Nyb2xsTGVmdDtcbiAgICAgIHZhciBzd2lwZXJDb29yZCA9IFtbc3dpcGVyT2Zmc2V0LmxlZnQsIHN3aXBlck9mZnNldC50b3BdLCBbc3dpcGVyT2Zmc2V0LmxlZnQgKyBzd2lwZXJXaWR0aCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlckhlaWdodF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XV07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3dpcGVyQ29vcmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIHBvaW50ID0gc3dpcGVyQ29vcmRbaV07XG5cbiAgICAgICAgaWYgKHBvaW50WzBdID49IDAgJiYgcG9pbnRbMF0gPD0gd2luZG93V2lkdGggJiYgcG9pbnRbMV0gPj0gMCAmJiBwb2ludFsxXSA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICBpZiAocG9pbnRbMF0gPT09IDAgJiYgcG9pbnRbMV0gPT09IDApIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgICAgICBpblZpZXcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaW5WaWV3KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIGlmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dMZWZ0IHx8IGlzQXJyb3dSaWdodCkge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzUGFnZURvd24gfHwgaXNBcnJvd1JpZ2h0KSAmJiAhcnRsIHx8IChpc1BhZ2VVcCB8fCBpc0Fycm93TGVmdCkgJiYgcnRsKSBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICBpZiAoKGlzUGFnZVVwIHx8IGlzQXJyb3dMZWZ0KSAmJiAhcnRsIHx8IChpc1BhZ2VEb3duIHx8IGlzQXJyb3dSaWdodCkgJiYgcnRsKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dVcCB8fCBpc0Fycm93RG93bikge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNQYWdlRG93biB8fCBpc0Fycm93RG93bikgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzQXJyb3dVcCkgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdrZXlQcmVzcycsIGtjKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LFxuICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICBpZiAoc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHJldHVybjtcbiAgICAoMCwgX2RvbS5kZWZhdWx0KShkb2N1bWVudCkub24oJ2tleWRvd24nLCBzd2lwZXIua2V5Ym9hcmQuaGFuZGxlKTtcbiAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gIH0sXG4gIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGRvY3VtZW50ID0gKDAsIF9zc3JXaW5kb3cuZ2V0RG9jdW1lbnQpKCk7XG4gICAgaWYgKCFzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkgcmV0dXJuO1xuICAgICgwLCBfZG9tLmRlZmF1bHQpKGRvY3VtZW50KS5vZmYoJ2tleWRvd24nLCBzd2lwZXIua2V5Ym9hcmQuaGFuZGxlKTtcbiAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAna2V5Ym9hcmQnLFxuICBwYXJhbXM6IHtcbiAgICBrZXlib2FyZDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBvbmx5SW5WaWV3cG9ydDogdHJ1ZSxcbiAgICAgIHBhZ2VVcERvd246IHRydWVcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAga2V5Ym9hcmQ6IF9leHRlbmRzKHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgIH0sIEtleWJvYXJkKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5rZXlib2FyZC5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmtleWJvYXJkLmRpc2FibGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgTGF6eSA9IHtcbiAgbG9hZEluU2xpZGU6IGZ1bmN0aW9uIGxvYWRJblNsaWRlKGluZGV4LCBsb2FkSW5EdXBsaWNhdGUpIHtcbiAgICBpZiAobG9hZEluRHVwbGljYXRlID09PSB2b2lkIDApIHtcbiAgICAgIGxvYWRJbkR1cGxpY2F0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubGF6eTtcbiAgICBpZiAodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICB2YXIgJHNsaWRlRWwgPSBpc1ZpcnR1YWwgPyBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGluZGV4ICsgXCJcXFwiXVwiKSA6IHN3aXBlci5zbGlkZXMuZXEoaW5kZXgpO1xuICAgIHZhciAkaW1hZ2VzID0gJHNsaWRlRWwuZmluZChcIi5cIiArIHBhcmFtcy5lbGVtZW50Q2xhc3MgKyBcIjpub3QoLlwiICsgcGFyYW1zLmxvYWRlZENsYXNzICsgXCIpOm5vdCguXCIgKyBwYXJhbXMubG9hZGluZ0NsYXNzICsgXCIpXCIpO1xuXG4gICAgaWYgKCRzbGlkZUVsLmhhc0NsYXNzKHBhcmFtcy5lbGVtZW50Q2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGVkQ2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKSkge1xuICAgICAgJGltYWdlcy5wdXNoKCRzbGlkZUVsWzBdKTtcbiAgICB9XG5cbiAgICBpZiAoJGltYWdlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAkaW1hZ2VzLmVhY2goZnVuY3Rpb24gKGltYWdlRWwpIHtcbiAgICAgIHZhciAkaW1hZ2VFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGltYWdlRWwpO1xuICAgICAgJGltYWdlRWwuYWRkQ2xhc3MocGFyYW1zLmxvYWRpbmdDbGFzcyk7XG4gICAgICB2YXIgYmFja2dyb3VuZCA9ICRpbWFnZUVsLmF0dHIoJ2RhdGEtYmFja2dyb3VuZCcpO1xuICAgICAgdmFyIHNyYyA9ICRpbWFnZUVsLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICB2YXIgc3Jjc2V0ID0gJGltYWdlRWwuYXR0cignZGF0YS1zcmNzZXQnKTtcbiAgICAgIHZhciBzaXplcyA9ICRpbWFnZUVsLmF0dHIoJ2RhdGEtc2l6ZXMnKTtcbiAgICAgIHZhciAkcGljdHVyZUVsID0gJGltYWdlRWwucGFyZW50KCdwaWN0dXJlJyk7XG4gICAgICBzd2lwZXIubG9hZEltYWdlKCRpbWFnZUVsWzBdLCBzcmMgfHwgYmFja2dyb3VuZCwgc3Jjc2V0LCBzaXplcywgZmFsc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzd2lwZXIgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlciA9PT0gbnVsbCB8fCAhc3dpcGVyIHx8IHN3aXBlciAmJiAhc3dpcGVyLnBhcmFtcyB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAkaW1hZ2VFbC5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBcInVybChcXFwiXCIgKyBiYWNrZ3JvdW5kICsgXCJcXFwiKVwiKTtcbiAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLWJhY2tncm91bmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgICAgICAkaW1hZ2VFbC5hdHRyKCdzcmNzZXQnLCBzcmNzZXQpO1xuICAgICAgICAgICAgJGltYWdlRWwucmVtb3ZlQXR0cignZGF0YS1zcmNzZXQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2l6ZXMpIHtcbiAgICAgICAgICAgICRpbWFnZUVsLmF0dHIoJ3NpemVzJywgc2l6ZXMpO1xuICAgICAgICAgICAgJGltYWdlRWwucmVtb3ZlQXR0cignZGF0YS1zaXplcycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkcGljdHVyZUVsLmxlbmd0aCkge1xuICAgICAgICAgICAgJHBpY3R1cmVFbC5jaGlsZHJlbignc291cmNlJykuZWFjaChmdW5jdGlvbiAoc291cmNlRWwpIHtcbiAgICAgICAgICAgICAgdmFyICRzb3VyY2UgPSAoMCwgX2RvbS5kZWZhdWx0KShzb3VyY2VFbCk7XG5cbiAgICAgICAgICAgICAgaWYgKCRzb3VyY2UuYXR0cignZGF0YS1zcmNzZXQnKSkge1xuICAgICAgICAgICAgICAgICRzb3VyY2UuYXR0cignc3Jjc2V0JywgJHNvdXJjZS5hdHRyKCdkYXRhLXNyY3NldCcpKTtcbiAgICAgICAgICAgICAgICAkc291cmNlLnJlbW92ZUF0dHIoJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICRpbWFnZUVsLmF0dHIoJ3NyYycsIHNyYyk7XG4gICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRpbWFnZUVsLmFkZENsYXNzKHBhcmFtcy5sb2FkZWRDbGFzcykucmVtb3ZlQ2xhc3MocGFyYW1zLmxvYWRpbmdDbGFzcyk7XG4gICAgICAgICRzbGlkZUVsLmZpbmQoXCIuXCIgKyBwYXJhbXMucHJlbG9hZGVyQ2xhc3MpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgbG9hZEluRHVwbGljYXRlKSB7XG4gICAgICAgICAgdmFyIHNsaWRlT3JpZ2luYWxJbmRleCA9ICRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG5cbiAgICAgICAgICBpZiAoJHNsaWRlRWwuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU2xpZGUgPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBzbGlkZU9yaWdpbmFsSW5kZXggKyBcIlxcXCJdOm5vdCguXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilcIik7XG4gICAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShvcmlnaW5hbFNsaWRlLmluZGV4KCksIGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGR1cGxpY2F0ZWRTbGlkZSA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgc2xpZGVPcmlnaW5hbEluZGV4ICsgXCJcXFwiXVwiKTtcbiAgICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKGR1cGxpY2F0ZWRTbGlkZS5pbmRleCgpLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpcGVyLmVtaXQoJ2xhenlJbWFnZVJlYWR5JywgJHNsaWRlRWxbMF0sICRpbWFnZUVsWzBdKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIuZW1pdCgnbGF6eUltYWdlTG9hZCcsICRzbGlkZUVsWzBdLCAkaW1hZ2VFbFswXSk7XG4gICAgfSk7XG4gIH0sXG4gIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgc3dpcGVyUGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlclBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlclBhcmFtcy5sYXp5O1xuICAgIHZhciBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyUGFyYW1zLnNsaWRlc1BlclZpZXc7XG5cbiAgICBpZiAoc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBzbGlkZXNQZXJWaWV3ID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzbGlkZUV4aXN0KGluZGV4KSB7XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIGlmICgkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyUGFyYW1zLnNsaWRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBpbmRleCArIFwiXFxcIl1cIikubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2xpZGVzW2luZGV4XSkgcmV0dXJuIHRydWU7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzbGlkZUluZGV4KHNsaWRlRWwpIHtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlRWwpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoMCwgX2RvbS5kZWZhdWx0KShzbGlkZUVsKS5pbmRleCgpO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkKSBzd2lwZXIubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQgPSB0cnVlO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyUGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKS5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGlzVmlydHVhbCA/ICgwLCBfZG9tLmRlZmF1bHQpKHNsaWRlRWwpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgOiAoMCwgX2RvbS5kZWZhdWx0KShzbGlkZUVsKS5pbmRleCgpO1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShpbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHNsaWRlc1BlclZpZXcgPiAxKSB7XG4gICAgICBmb3IgKHZhciBpID0gYWN0aXZlSW5kZXg7IGkgPCBhY3RpdmVJbmRleCArIHNsaWRlc1BlclZpZXc7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVFeGlzdChpKSkgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKGFjdGl2ZUluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmxvYWRQcmV2TmV4dCkge1xuICAgICAgaWYgKHNsaWRlc1BlclZpZXcgPiAxIHx8IHBhcmFtcy5sb2FkUHJldk5leHRBbW91bnQgJiYgcGFyYW1zLmxvYWRQcmV2TmV4dEFtb3VudCA+IDEpIHtcbiAgICAgICAgdmFyIGFtb3VudCA9IHBhcmFtcy5sb2FkUHJldk5leHRBbW91bnQ7XG4gICAgICAgIHZhciBzcHYgPSBzbGlkZXNQZXJWaWV3O1xuICAgICAgICB2YXIgbWF4SW5kZXggPSBNYXRoLm1pbihhY3RpdmVJbmRleCArIHNwdiArIE1hdGgubWF4KGFtb3VudCwgc3B2KSwgc2xpZGVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtaW5JbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4IC0gTWF0aC5tYXgoc3B2LCBhbW91bnQpLCAwKTsgLy8gTmV4dCBTbGlkZXNcblxuICAgICAgICBmb3IgKHZhciBfaSA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldzsgX2kgPCBtYXhJbmRleDsgX2kgKz0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZUV4aXN0KF9pKSkgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoX2kpO1xuICAgICAgICB9IC8vIFByZXYgU2xpZGVzXG5cblxuICAgICAgICBmb3IgKHZhciBfaTIgPSBtaW5JbmRleDsgX2kyIDwgYWN0aXZlSW5kZXg7IF9pMiArPSAxKSB7XG4gICAgICAgICAgaWYgKHNsaWRlRXhpc3QoX2kyKSkgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoX2kyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5leHRTbGlkZSA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXJQYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICAgICAgICBpZiAobmV4dFNsaWRlLmxlbmd0aCA+IDApIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKHNsaWRlSW5kZXgobmV4dFNsaWRlKSk7XG4gICAgICAgIHZhciBwcmV2U2xpZGUgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyUGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgICAgaWYgKHByZXZTbGlkZS5sZW5ndGggPiAwKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShzbGlkZUluZGV4KHByZXZTbGlkZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2hlY2tJblZpZXdPbkxvYWQ6IGZ1bmN0aW9uIGNoZWNrSW5WaWV3T25Mb2FkKCkge1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIHZhciAkc2Nyb2xsRWxlbWVudCA9IHN3aXBlci5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50ID8gKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnBhcmFtcy5sYXp5LnNjcm9sbGluZ0VsZW1lbnQpIDogKDAsIF9kb20uZGVmYXVsdCkod2luZG93KTtcbiAgICB2YXIgaXNXaW5kb3cgPSAkc2Nyb2xsRWxlbWVudFswXSA9PT0gd2luZG93O1xuICAgIHZhciBzY3JvbGxFbGVtZW50V2lkdGggPSBpc1dpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogJHNjcm9sbEVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7XG4gICAgdmFyIHNjcm9sbEVsZW1lbnRIZWlnaHQgPSBpc1dpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6ICRzY3JvbGxFbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAgICB2YXIgc3dpcGVyT2Zmc2V0ID0gc3dpcGVyLiRlbC5vZmZzZXQoKTtcbiAgICB2YXIgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgICB2YXIgaW5WaWV3ID0gZmFsc2U7XG4gICAgaWYgKHJ0bCkgc3dpcGVyT2Zmc2V0LmxlZnQgLT0gc3dpcGVyLiRlbFswXS5zY3JvbGxMZWZ0O1xuICAgIHZhciBzd2lwZXJDb29yZCA9IFtbc3dpcGVyT2Zmc2V0LmxlZnQsIHN3aXBlck9mZnNldC50b3BdLCBbc3dpcGVyT2Zmc2V0LmxlZnQgKyBzd2lwZXIud2lkdGgsIHN3aXBlck9mZnNldC50b3BdLCBbc3dpcGVyT2Zmc2V0LmxlZnQsIHN3aXBlck9mZnNldC50b3AgKyBzd2lwZXIuaGVpZ2h0XSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyLndpZHRoLCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVyLmhlaWdodF1dO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXJDb29yZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIHBvaW50ID0gc3dpcGVyQ29vcmRbaV07XG5cbiAgICAgIGlmIChwb2ludFswXSA+PSAwICYmIHBvaW50WzBdIDw9IHNjcm9sbEVsZW1lbnRXaWR0aCAmJiBwb2ludFsxXSA+PSAwICYmIHBvaW50WzFdIDw9IHNjcm9sbEVsZW1lbnRIZWlnaHQpIHtcbiAgICAgICAgaWYgKHBvaW50WzBdID09PSAwICYmIHBvaW50WzFdID09PSAwKSBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgIGluVmlldyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnICYmIHN3aXBlci5zdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBzd2lwZXIucGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9IDogZmFsc2U7XG5cbiAgICBpZiAoaW5WaWV3KSB7XG4gICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICAkc2Nyb2xsRWxlbWVudC5vZmYoJ3Njcm9sbCcsIHN3aXBlci5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0gZWxzZSBpZiAoIXN3aXBlci5sYXp5LnNjcm9sbEhhbmRsZXJBdHRhY2hlZCkge1xuICAgICAgc3dpcGVyLmxhenkuc2Nyb2xsSGFuZGxlckF0dGFjaGVkID0gdHJ1ZTtcbiAgICAgICRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwnLCBzd2lwZXIubGF6eS5jaGVja0luVmlld09uTG9hZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdsYXp5JyxcbiAgcGFyYW1zOiB7XG4gICAgbGF6eToge1xuICAgICAgY2hlY2tJblZpZXc6IGZhbHNlLFxuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBsb2FkUHJldk5leHQ6IGZhbHNlLFxuICAgICAgbG9hZFByZXZOZXh0QW1vdW50OiAxLFxuICAgICAgbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiBmYWxzZSxcbiAgICAgIHNjcm9sbGluZ0VsZW1lbnQ6ICcnLFxuICAgICAgZWxlbWVudENsYXNzOiAnc3dpcGVyLWxhenknLFxuICAgICAgbG9hZGluZ0NsYXNzOiAnc3dpcGVyLWxhenktbG9hZGluZycsXG4gICAgICBsb2FkZWRDbGFzczogJ3N3aXBlci1sYXp5LWxvYWRlZCcsXG4gICAgICBwcmVsb2FkZXJDbGFzczogJ3N3aXBlci1sYXp5LXByZWxvYWRlcidcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgbGF6eTogX2V4dGVuZHMoe1xuICAgICAgICBpbml0aWFsSW1hZ2VMb2FkZWQ6IGZhbHNlXG4gICAgICB9LCBMYXp5KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzKSB7XG4gICAgICAgIHN3aXBlci5wYXJhbXMucHJlbG9hZEltYWdlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlID09PSAwKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuY2hlY2tJblZpZXcpIHtcbiAgICAgICAgICBzd2lwZXIubGF6eS5jaGVja0luVmlld09uTG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiAhc3dpcGVyLnBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnc2Nyb2xsYmFyRHJhZ01vdmUgcmVzaXplIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJzogZnVuY3Rpb24gbGF6eUxvYWQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNpdGlvblN0YXJ0OiBmdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5sb2FkT25UcmFuc2l0aW9uU3RhcnQgfHwgIXN3aXBlci5wYXJhbXMubGF6eS5sb2FkT25UcmFuc2l0aW9uU3RhcnQgJiYgIXN3aXBlci5sYXp5LmluaXRpYWxJbWFnZUxvYWRlZCkge1xuICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCAmJiAhc3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCkge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICB2YXIgX3N3aXBlciRwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAgIGxhenkgPSBfc3dpcGVyJHBhcmFtcy5sYXp5LFxuICAgICAgICAgIGNzc01vZGUgPSBfc3dpcGVyJHBhcmFtcy5jc3NNb2RlLFxuICAgICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eSA9IF9zd2lwZXIkcGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSxcbiAgICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzID0gX3N3aXBlciRwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyxcbiAgICAgICAgICB0b3VjaFJlbGVhc2VPbkVkZ2VzID0gX3N3aXBlciRwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcyxcbiAgICAgICAgICByZXNpc3RhbmNlUmF0aW8gPSBfc3dpcGVyJHBhcmFtcy5yZXNpc3RhbmNlUmF0aW87XG5cbiAgICAgIGlmIChsYXp5LmVuYWJsZWQgJiYgKGNzc01vZGUgfHwgKHdhdGNoU2xpZGVzVmlzaWJpbGl0eSB8fCB3YXRjaFNsaWRlc1Byb2dyZXNzKSAmJiAodG91Y2hSZWxlYXNlT25FZGdlcyB8fCByZXNpc3RhbmNlUmF0aW8gPT09IDApKSkge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoKSB7XG4gIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICB2YXIgZXZlbnROYW1lID0gJ29ud2hlZWwnO1xuICB2YXIgaXNTdXBwb3J0ZWQgPSAoZXZlbnROYW1lIGluIGRvY3VtZW50KTtcblxuICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgaXNTdXBwb3J0ZWQgPSB0eXBlb2YgZWxlbWVudFtldmVudE5hbWVdID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKCFpc1N1cHBvcnRlZCAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmIC8vIGFsd2F5cyByZXR1cm5zIHRydWUgaW4gbmV3ZXIgYnJvd3NlcnMgYXMgcGVyIHRoZSBzdGFuZGFyZC5cbiAgLy8gQHNlZSBodHRwOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jZG9tLWRvbWltcGxlbWVudGF0aW9uLWhhc2ZlYXR1cmVcbiAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgb25seSB3YXkgdG8gdGVzdCBzdXBwb3J0IGZvciB0aGUgYHdoZWVsYCBldmVudCBpbiBJRTkrLlxuICAgIGlzU3VwcG9ydGVkID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnRXZlbnRzLndoZWVsJywgJzMuMCcpO1xuICB9XG5cbiAgcmV0dXJuIGlzU3VwcG9ydGVkO1xufVxuXG52YXIgTW91c2V3aGVlbCA9IHtcbiAgbGFzdFNjcm9sbFRpbWU6ICgwLCBfdXRpbHMubm93KSgpLFxuICBsYXN0RXZlbnRCZWZvcmVTbmFwOiB1bmRlZmluZWQsXG4gIHJlY2VudFdoZWVsRXZlbnRzOiBbXSxcbiAgZXZlbnQ6IGZ1bmN0aW9uIGV2ZW50KCkge1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ2ZpcmVmb3gnKSA+IC0xKSByZXR1cm4gJ0RPTU1vdXNlU2Nyb2xsJztcbiAgICByZXR1cm4gaXNFdmVudFN1cHBvcnRlZCgpID8gJ3doZWVsJyA6ICdtb3VzZXdoZWVsJztcbiAgfSxcbiAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUoZSkge1xuICAgIC8vIFJlYXNvbmFibGUgZGVmYXVsdHNcbiAgICB2YXIgUElYRUxfU1RFUCA9IDEwO1xuICAgIHZhciBMSU5FX0hFSUdIVCA9IDQwO1xuICAgIHZhciBQQUdFX0hFSUdIVCA9IDgwMDtcbiAgICB2YXIgc1ggPSAwO1xuICAgIHZhciBzWSA9IDA7IC8vIHNwaW5YLCBzcGluWVxuXG4gICAgdmFyIHBYID0gMDtcbiAgICB2YXIgcFkgPSAwOyAvLyBwaXhlbFgsIHBpeGVsWVxuICAgIC8vIExlZ2FjeVxuXG4gICAgaWYgKCdkZXRhaWwnIGluIGUpIHtcbiAgICAgIHNZID0gZS5kZXRhaWw7XG4gICAgfVxuXG4gICAgaWYgKCd3aGVlbERlbHRhJyBpbiBlKSB7XG4gICAgICBzWSA9IC1lLndoZWVsRGVsdGEgLyAxMjA7XG4gICAgfVxuXG4gICAgaWYgKCd3aGVlbERlbHRhWScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhWSAvIDEyMDtcbiAgICB9XG5cbiAgICBpZiAoJ3doZWVsRGVsdGFYJyBpbiBlKSB7XG4gICAgICBzWCA9IC1lLndoZWVsRGVsdGFYIC8gMTIwO1xuICAgIH0gLy8gc2lkZSBzY3JvbGxpbmcgb24gRkYgd2l0aCBET01Nb3VzZVNjcm9sbFxuXG5cbiAgICBpZiAoJ2F4aXMnIGluIGUgJiYgZS5heGlzID09PSBlLkhPUklaT05UQUxfQVhJUykge1xuICAgICAgc1ggPSBzWTtcbiAgICAgIHNZID0gMDtcbiAgICB9XG5cbiAgICBwWCA9IHNYICogUElYRUxfU1RFUDtcbiAgICBwWSA9IHNZICogUElYRUxfU1RFUDtcblxuICAgIGlmICgnZGVsdGFZJyBpbiBlKSB7XG4gICAgICBwWSA9IGUuZGVsdGFZO1xuICAgIH1cblxuICAgIGlmICgnZGVsdGFYJyBpbiBlKSB7XG4gICAgICBwWCA9IGUuZGVsdGFYO1xuICAgIH1cblxuICAgIGlmIChlLnNoaWZ0S2V5ICYmICFwWCkge1xuICAgICAgLy8gaWYgdXNlciBzY3JvbGxzIHdpdGggc2hpZnQgaGUgd2FudHMgaG9yaXpvbnRhbCBzY3JvbGxcbiAgICAgIHBYID0gcFk7XG4gICAgICBwWSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKChwWCB8fCBwWSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICAgIGlmIChlLmRlbHRhTW9kZSA9PT0gMSkge1xuICAgICAgICAvLyBkZWx0YSBpbiBMSU5FIHVuaXRzXG4gICAgICAgIHBYICo9IExJTkVfSEVJR0hUO1xuICAgICAgICBwWSAqPSBMSU5FX0hFSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbHRhIGluIFBBR0UgdW5pdHNcbiAgICAgICAgcFggKj0gUEFHRV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IFBBR0VfSEVJR0hUO1xuICAgICAgfVxuICAgIH0gLy8gRmFsbC1iYWNrIGlmIHNwaW4gY2Fubm90IGJlIGRldGVybWluZWRcblxuXG4gICAgaWYgKHBYICYmICFzWCkge1xuICAgICAgc1ggPSBwWCA8IDEgPyAtMSA6IDE7XG4gICAgfVxuXG4gICAgaWYgKHBZICYmICFzWSkge1xuICAgICAgc1kgPSBwWSA8IDEgPyAtMSA6IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNwaW5YOiBzWCxcbiAgICAgIHNwaW5ZOiBzWSxcbiAgICAgIHBpeGVsWDogcFgsXG4gICAgICBwaXhlbFk6IHBZXG4gICAgfTtcbiAgfSxcbiAgaGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLm1vdXNlRW50ZXJlZCA9IHRydWU7XG4gIH0sXG4gIGhhbmRsZU1vdXNlTGVhdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSBmYWxzZTtcbiAgfSxcbiAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICB2YXIgZSA9IGV2ZW50O1xuICAgIHZhciBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0ID0gc3dpcGVyLiRlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0ID0gKDAsIF9kb20uZGVmYXVsdCkoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuXG4gICAgaWYgKCFzd2lwZXIubW91c2VFbnRlcmVkICYmICF0YXJnZXRbMF0uY29udGFpbnMoZS50YXJnZXQpICYmICFwYXJhbXMucmVsZWFzZU9uRWRnZXMpIHJldHVybiB0cnVlO1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7IC8vIGpxdWVyeSBmaXhcblxuICAgIHZhciBkZWx0YSA9IDA7XG4gICAgdmFyIHJ0bEZhY3RvciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgdmFyIGRhdGEgPSBNb3VzZXdoZWVsLm5vcm1hbGl6ZShlKTtcblxuICAgIGlmIChwYXJhbXMuZm9yY2VUb0F4aXMpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRhdGEucGl4ZWxYKSA+IE1hdGguYWJzKGRhdGEucGl4ZWxZKSkgZGVsdGEgPSAtZGF0YS5waXhlbFggKiBydGxGYWN0b3I7ZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFkpID4gTWF0aC5hYnMoZGF0YS5waXhlbFgpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWTtlbHNlIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWx0YSA9IE1hdGguYWJzKGRhdGEucGl4ZWxYKSA+IE1hdGguYWJzKGRhdGEucGl4ZWxZKSA/IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvciA6IC1kYXRhLnBpeGVsWTtcbiAgICB9XG5cbiAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChwYXJhbXMuaW52ZXJ0KSBkZWx0YSA9IC1kZWx0YTsgLy8gR2V0IHRoZSBzY3JvbGwgcG9zaXRpb25zXG5cbiAgICB2YXIgcG9zaXRpb25zID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpICsgZGVsdGEgKiBwYXJhbXMuc2Vuc2l0aXZpdHk7XG4gICAgaWYgKHBvc2l0aW9ucyA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHBvc2l0aW9ucyA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICBpZiAocG9zaXRpb25zIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcG9zaXRpb25zID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpOyAvLyBXaGVuIGxvb3AgaXMgdHJ1ZTpcbiAgICAvLyAgICAgdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vIFdoZW4gbG9vcCBpcyBmYWxzZTpcbiAgICAvLyAgICAgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbnMgaXMgbm90IG9uIGVkZ2UsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zLFxuICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgZmFsc2UuXG5cbiAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gc3dpcGVyLnBhcmFtcy5sb29wID8gdHJ1ZSA6ICEocG9zaXRpb25zID09PSBzd2lwZXIubWluVHJhbnNsYXRlKCkgfHwgcG9zaXRpb25zID09PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpO1xuICAgIGlmIChkaXNhYmxlUGFyZW50U3dpcGVyICYmIHN3aXBlci5wYXJhbXMubmVzdGVkKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGV2ZW50IGluIGEgdmFyaWFibGUgd2hpY2ggc3RvcmVzIHRoZSByZWxldmFudCBkYXRhXG4gICAgICB2YXIgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6ICgwLCBfdXRpbHMubm93KSgpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSksXG4gICAgICAgIHJhdzogZXZlbnRcbiAgICAgIH07IC8vIEtlZXAgdGhlIG1vc3QgcmVjZW50IGV2ZW50c1xuXG4gICAgICB2YXIgcmVjZW50V2hlZWxFdmVudHMgPSBzd2lwZXIubW91c2V3aGVlbC5yZWNlbnRXaGVlbEV2ZW50cztcblxuICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IHJlY2VudFdoZWVsRXZlbnRzW3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgcmVjZW50V2hlZWxFdmVudHMucHVzaChuZXdFdmVudCk7IC8vIElmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwcmV2aW91cyByZWNvcmRlZCBldmVudDpcbiAgICAgIC8vICAgSWYgZGlyZWN0aW9uIGhhcyBjaGFuZ2VkIG9yXG4gICAgICAvLyAgIGlmIHRoZSBzY3JvbGwgaXMgcXVpY2tlciB0aGFuIHRoZSBwcmV2aW91cyBvbmU6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuICAgICAgLy8gRWxzZSAodGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgd2hlZWwgaXMgbW92ZWQpOlxuICAgICAgLy8gICAgIEFuaW1hdGUgdGhlIHNsaWRlci5cblxuICAgICAgaWYgKHByZXZFdmVudCkge1xuICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5hbmltYXRlU2xpZGVyKG5ld0V2ZW50KTtcbiAgICAgIH0gLy8gSWYgaXQncyB0aW1lIHRvIHJlbGVhc2UgdGhlIHNjcm9sbDpcbiAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cblxuXG4gICAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwucmVsZWFzZVNjcm9sbChuZXdFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZyZWVtb2RlIG9yIHNjcm9sbENvbnRhaW5lcjpcbiAgICAgIC8vIElmIHdlIHJlY2VudGx5IHNuYXBwZWQgYWZ0ZXIgYSBtb21lbnR1bSBzY3JvbGwsIHRoZW4gaWdub3JlIHdoZWVsIGV2ZW50c1xuICAgICAgLy8gdG8gZ2l2ZSB0aW1lIGZvciB0aGUgZGVjZWxlcmF0aW9uIHRvIGZpbmlzaC4gU3RvcCBpZ25vcmluZyBhZnRlciA1MDAgbXNlY3NcbiAgICAgIC8vIG9yIGlmIGl0J3MgYSBuZXcgc2Nyb2xsIChsYXJnZXIgZGVsdGEgb3IgaW52ZXJzZSBzaWduIGFzIGxhc3QgZXZlbnQgYmVmb3JlXG4gICAgICAvLyBhbiBlbmQtb2YtbW9tZW50dW0gc25hcCkuXG4gICAgICB2YXIgX25ld0V2ZW50ID0ge1xuICAgICAgICB0aW1lOiAoMCwgX3V0aWxzLm5vdykoKSxcbiAgICAgICAgZGVsdGE6IE1hdGguYWJzKGRlbHRhKSxcbiAgICAgICAgZGlyZWN0aW9uOiBNYXRoLnNpZ24oZGVsdGEpXG4gICAgICB9O1xuICAgICAgdmFyIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwO1xuICAgICAgdmFyIGlnbm9yZVdoZWVsRXZlbnRzID0gbGFzdEV2ZW50QmVmb3JlU25hcCAmJiBfbmV3RXZlbnQudGltZSA8IGxhc3RFdmVudEJlZm9yZVNuYXAudGltZSArIDUwMCAmJiBfbmV3RXZlbnQuZGVsdGEgPD0gbGFzdEV2ZW50QmVmb3JlU25hcC5kZWx0YSAmJiBfbmV3RXZlbnQuZGlyZWN0aW9uID09PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRpcmVjdGlvbjtcblxuICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykge1xuICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpICsgZGVsdGEgKiBwYXJhbXMuc2Vuc2l0aXZpdHk7XG4gICAgICAgIHZhciB3YXNCZWdpbm5pbmcgPSBzd2lwZXIuaXNCZWdpbm5pbmc7XG4gICAgICAgIHZhciB3YXNFbmQgPSBzd2lwZXIuaXNFbmQ7XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHBvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgICBpZiAocG9zaXRpb24gPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUocG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG5cbiAgICAgICAgaWYgKCF3YXNCZWdpbm5pbmcgJiYgc3dpcGVyLmlzQmVnaW5uaW5nIHx8ICF3YXNFbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG4gICAgICAgICAgLy8gV2hlbiB3aGVlbCBzY3JvbGxpbmcgc3RhcnRzIHdpdGggc3RpY2t5IChha2Egc25hcCkgZW5hYmxlZCwgdGhlbiBkZXRlY3RcbiAgICAgICAgICAvLyB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGJ5IHN0b3JpbmcgcmVjZW50IChOPTE1Pykgd2hlZWwgZXZlbnRzLlxuICAgICAgICAgIC8vIDEuIGRvIGFsbCBOIGV2ZW50cyBoYXZlIGRlY3JlYXNpbmcgb3Igc2FtZSAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhP1xuICAgICAgICAgIC8vIDIuIGRpZCBhbGwgTiBldmVudHMgYXJyaXZlIGluIHRoZSBsYXN0IE0gKE09NTAwPykgbXNlY3M/XG4gICAgICAgICAgLy8gMy4gZG9lcyB0aGUgZWFybGllc3QgZXZlbnQgaGF2ZSBhbiAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhIHRoYXQnc1xuICAgICAgICAgIC8vICAgIGF0IGxlYXN0IFAgKFA9MT8pIGxhcmdlciB0aGFuIHRoZSBtb3N0IHJlY2VudCBldmVudCdzIGRlbHRhP1xuICAgICAgICAgIC8vIDQuIGRvZXMgdGhlIGxhdGVzdCBldmVudCBoYXZlIGEgZGVsdGEgdGhhdCdzIHNtYWxsZXIgdGhhbiBRIChRPTY/KSBwaXhlbHM/XG4gICAgICAgICAgLy8gSWYgMS00IGFyZSBcInllc1wiIHRoZW4gd2UncmUgbmVhciB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGRlY2VsZXJhdGlvbi5cbiAgICAgICAgICAvLyBTbmFwIGltbWVkaWF0ZWx5IGFuZCBpZ25vcmUgcmVtYWluaW5nIHdoZWVsIGV2ZW50cyBpbiB0aGlzIHNjcm9sbC5cbiAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZSBmb3IgXCJyZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsXCIgZGV0ZXJtaW5hdGlvbi5cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlbid0IHNhdGlzZmllZCwgdGhlbiB3YWl0IHRvIHNuYXAgdW50aWwgNTAwbXMgYWZ0ZXIgdGhlIGxhc3QgZXZlbnQuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHN3aXBlci5tb3VzZXdoZWVsLnRpbWVvdXQpO1xuICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLnRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdmFyIF9yZWNlbnRXaGVlbEV2ZW50cyA9IHN3aXBlci5tb3VzZXdoZWVsLnJlY2VudFdoZWVsRXZlbnRzO1xuXG4gICAgICAgICAgaWYgKF9yZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPj0gMTUpIHtcbiAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5zaGlmdCgpOyAvLyBvbmx5IHN0b3JlIHRoZSBsYXN0IE4gZXZlbnRzXG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX3ByZXZFdmVudCA9IF9yZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPyBfcmVjZW50V2hlZWxFdmVudHNbX3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGZpcnN0RXZlbnQgPSBfcmVjZW50V2hlZWxFdmVudHNbMF07XG5cbiAgICAgICAgICBfcmVjZW50V2hlZWxFdmVudHMucHVzaChfbmV3RXZlbnQpO1xuXG4gICAgICAgICAgaWYgKF9wcmV2RXZlbnQgJiYgKF9uZXdFdmVudC5kZWx0YSA+IF9wcmV2RXZlbnQuZGVsdGEgfHwgX25ld0V2ZW50LmRpcmVjdGlvbiAhPT0gX3ByZXZFdmVudC5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5zcGxpY2UoMCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChfcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDE1ICYmIF9uZXdFdmVudC50aW1lIC0gZmlyc3RFdmVudC50aW1lIDwgNTAwICYmIGZpcnN0RXZlbnQuZGVsdGEgLSBfbmV3RXZlbnQuZGVsdGEgPj0gMSAmJiBfbmV3RXZlbnQuZGVsdGEgPD0gNikge1xuICAgICAgICAgICAgLy8gV2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgZGVjZWxlcmF0aW9uIG9mIGEgbW9tZW50dW0gc2Nyb2xsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHdhaXQgZm9yIG1vcmUgZXZlbnRzLiBTbmFwIEFTQVAgb24gdGhlIG5leHQgdGljay5cbiAgICAgICAgICAgIC8vIEFsc28sIGJlY2F1c2UgdGhlcmUncyBzb21lIHJlbWFpbmluZyBtb21lbnR1bSB3ZSdsbCBiaWFzIHRoZSBzbmFwIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlyZWN0aW9uIG9mIHRoZSBvbmdvaW5nIHNjcm9sbCBiZWNhdXNlIGl0J3MgYmV0dGVyIFVYIGZvciB0aGUgc2Nyb2xsIHRvIHNuYXBcbiAgICAgICAgICAgIC8vIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhcyB0aGUgc2Nyb2xsIGluc3RlYWQgb2YgcmV2ZXJzaW5nIHRvIHNuYXAuICBUaGVyZWZvcmUsXG4gICAgICAgICAgICAvLyBpZiBpdCdzIGFscmVhZHkgc2Nyb2xsZWQgbW9yZSB0aGFuIDIwJSBpbiB0aGUgY3VycmVudCBkaXJlY3Rpb24sIGtlZXAgZ29pbmcuXG4gICAgICAgICAgICB2YXIgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwubGFzdEV2ZW50QmVmb3JlU25hcCA9IF9uZXdFdmVudDtcblxuICAgICAgICAgICAgX3JlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcblxuICAgICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCA9ICgwLCBfdXRpbHMubmV4dFRpY2spKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBubyBkZWxheTsgbW92ZSBvbiBuZXh0IHRpY2tcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXN3aXBlci5tb3VzZXdoZWVsLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB0aGVuIHdlIGhhdmVuJ3QgZGV0ZWN0ZWQgdGhlIGVuZCBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc29cbiAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAvLyBmb3IgNTAwbXMuXG4gICAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC50aW1lb3V0ID0gKDAsIF91dGlscy5uZXh0VGljaykoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgc25hcFRvVGhyZXNob2xkID0gMC41O1xuICAgICAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwID0gX25ld0V2ZW50O1xuXG4gICAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5zcGxpY2UoMCk7XG5cbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEVtaXQgZXZlbnRcblxuXG4gICAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIHN3aXBlci5lbWl0KCdzY3JvbGwnLCBlKTsgLy8gU3RvcCBhdXRvcGxheVxuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5ICYmIHN3aXBlci5wYXJhbXMuYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbikgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTsgLy8gUmV0dXJuIHBhZ2Ugc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zXG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSBzd2lwZXIubWluVHJhbnNsYXRlKCkgfHwgcG9zaXRpb24gPT09IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGFuaW1hdGVTbGlkZXI6IGZ1bmN0aW9uIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuXG4gICAgaWYgKHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEgJiYgbmV3RXZlbnQuZGVsdGEgPCB0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZERlbHRhKSB7XG4gICAgICAvLyBQcmV2ZW50IGlmIGRlbHRhIG9mIHdoZWVsIHNjcm9sbCBkZWx0YSBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZFRpbWUgJiYgKDAsIF91dGlscy5ub3cpKCkgLSBzd2lwZXIubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZSA8IHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSkge1xuICAgICAgLy8gUHJldmVudCBpZiB0aW1lIGJldHdlZW4gc2Nyb2xscyBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gSWYgdGhlIG1vdmVtZW50IGlzIE5PVCBiaWcgZW5vdWdoIGFuZFxuICAgIC8vIGlmIHRoZSBsYXN0IHRpbWUgdGhlIHVzZXIgc2Nyb2xsZWQgd2FzIHRvbyBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgKGF2b2lkIGNvbnRpbnVvdXNseSB0cmlnZ2VyaW5nIHRoZSBzbGlkZXIpOlxuICAgIC8vICAgRG9uJ3QgZ28gYW55IGZ1cnRoZXIgKGF2b2lkIGluc2lnbmlmaWNhbnQgc2Nyb2xsIG1vdmVtZW50KS5cblxuXG4gICAgaWYgKG5ld0V2ZW50LmRlbHRhID49IDYgJiYgKDAsIF91dGlscy5ub3cpKCkgLSBzd2lwZXIubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZSA8IDYwKSB7XG4gICAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIElmIHVzZXIgaXMgc2Nyb2xsaW5nIHRvd2FyZHMgdGhlIGVuZDpcbiAgICAvLyAgIElmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgbGF0ZXN0IHNsaWRlIG9yXG4gICAgLy8gICBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXNuJ3QgbW92aW5nIHJpZ2h0IG5vdzpcbiAgICAvLyAgICAgR28gdG8gbmV4dCBzbGlkZSBhbmRcbiAgICAvLyAgICAgZW1pdCBhIHNjcm9sbCBldmVudC5cbiAgICAvLyBFbHNlICh0aGUgdXNlciBpcyBzY3JvbGxpbmcgdG93YXJkcyB0aGUgYmVnaW5uaW5nKSBhbmRcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGhhc24ndCBoaXQgdGhlIGZpcnN0IHNsaWRlIG9yXG4gICAgLy8gaWYgdGhlIHNsaWRlciBpcyBhIGxvb3AgYW5kXG4gICAgLy8gaWYgdGhlIHNsaWRlciBpc24ndCBtb3ZpbmcgcmlnaHQgbm93OlxuICAgIC8vICAgR28gdG8gcHJldiBzbGlkZSBhbmRcbiAgICAvLyAgIGVtaXQgYSBzY3JvbGwgZXZlbnQuXG5cblxuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoKCFzd2lwZXIuaXNFbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICAgIHN3aXBlci5lbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3Njcm9sbCcsIG5ld0V2ZW50LnJhdyk7XG4gICAgfSAvLyBJZiB5b3UgZ290IGhlcmUgaXMgYmVjYXVzZSBhbiBhbmltYXRpb24gaGFzIGJlZW4gdHJpZ2dlcmVkIHNvIHN0b3JlIHRoZSBjdXJyZW50IHRpbWVcblxuXG4gICAgc3dpcGVyLm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWUgPSBuZXcgd2luZG93LkRhdGUoKS5nZXRUaW1lKCk7IC8vIFJldHVybiBmYWxzZSBhcyBhIGRlZmF1bHRcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgcmVsZWFzZVNjcm9sbDogZnVuY3Rpb24gcmVsZWFzZVNjcm9sbChuZXdFdmVudCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWw7XG5cbiAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaWYgKHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIHBhcmFtcy5yZWxlYXNlT25FZGdlcykge1xuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIHBhcmFtcy5yZWxlYXNlT25FZGdlcykge1xuICAgICAgLy8gUmV0dXJuIHRydWUgdG8gYW5pbWF0ZSBzY3JvbGwgb24gZWRnZXNcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGV2ZW50ID0gTW91c2V3aGVlbC5ldmVudCgpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBzd2lwZXIubW91c2V3aGVlbC5oYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHRhcmdldCA9IHN3aXBlci4kZWw7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgIHRhcmdldCA9ICgwLCBfZG9tLmRlZmF1bHQpKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cblxuICAgIHRhcmdldC5vbignbW91c2VlbnRlcicsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZU1vdXNlRW50ZXIpO1xuICAgIHRhcmdldC5vbignbW91c2VsZWF2ZScsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZU1vdXNlTGVhdmUpO1xuICAgIHRhcmdldC5vbihldmVudCwgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlKTtcbiAgICBzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZXZlbnQgPSBNb3VzZXdoZWVsLmV2ZW50KCk7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHRhcmdldCA9IHN3aXBlci4kZWw7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgIHRhcmdldCA9ICgwLCBfZG9tLmRlZmF1bHQpKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cblxuICAgIHRhcmdldC5vZmYoZXZlbnQsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZSk7XG4gICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAnbW91c2V3aGVlbCcsXG4gIHBhcmFtczoge1xuICAgIG1vdXNld2hlZWw6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAgICAgaW52ZXJ0OiBmYWxzZSxcbiAgICAgIGZvcmNlVG9BeGlzOiBmYWxzZSxcbiAgICAgIHNlbnNpdGl2aXR5OiAxLFxuICAgICAgZXZlbnRzVGFyZ2V0OiAnY29udGFpbmVyJyxcbiAgICAgIHRocmVzaG9sZERlbHRhOiBudWxsLFxuICAgICAgdGhyZXNob2xkVGltZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBtb3VzZXdoZWVsOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBsYXN0U2Nyb2xsVGltZTogKDAsIF91dGlscy5ub3cpKCksXG4gICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXA6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVjZW50V2hlZWxFdmVudHM6IFtdLFxuICAgICAgICBlbmFibGU6IE1vdXNld2hlZWwuZW5hYmxlLFxuICAgICAgICBkaXNhYmxlOiBNb3VzZXdoZWVsLmRpc2FibGUsXG4gICAgICAgIGhhbmRsZTogTW91c2V3aGVlbC5oYW5kbGUsXG4gICAgICAgIGhhbmRsZU1vdXNlRW50ZXI6IE1vdXNld2hlZWwuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgaGFuZGxlTW91c2VMZWF2ZTogTW91c2V3aGVlbC5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICBhbmltYXRlU2xpZGVyOiBNb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIsXG4gICAgICAgIHJlbGVhc2VTY3JvbGw6IE1vdXNld2hlZWwucmVsZWFzZVNjcm9sbFxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5kaXNhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZW5hYmxlZCkgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlKCk7XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5lbmFibGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIHN3aXBlci5tb3VzZXdoZWVsLmRpc2FibGUoKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgTmF2aWdhdGlvbiA9IHtcbiAgdG9nZ2xlRWw6IGZ1bmN0aW9uIHRvZ2dsZUVsKCRlbCwgZGlzYWJsZWQpIHtcbiAgICAkZWxbZGlzYWJsZWQgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10odGhpcy5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzKTtcbiAgICBpZiAoJGVsWzBdICYmICRlbFswXS50YWdOYW1lID09PSAnQlVUVE9OJykgJGVsWzBdLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIC8vIFVwZGF0ZSBOYXZpZ2F0aW9uIEJ1dHRvbnNcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIHZhciB0b2dnbGVFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLnRvZ2dsZUVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uID0gc3dpcGVyLm5hdmlnYXRpb24sXG4gICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24uJG5leHRFbCxcbiAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbi4kcHJldkVsO1xuXG4gICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgIHRvZ2dsZUVsKCRwcmV2RWwsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9nZ2xlRWwoJHByZXZFbCwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgICRwcmV2RWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgICB0b2dnbGVFbCgkbmV4dEVsLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvZ2dsZUVsKCRuZXh0RWwsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAkbmV4dEVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG9uUHJldkNsaWNrOiBmdW5jdGlvbiBvblByZXZDbGljayhlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgfSxcbiAgb25OZXh0Q2xpY2s6IGZ1bmN0aW9uIG9uTmV4dENsaWNrKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gKDAsIF91dGlscy5jcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKShzd2lwZXIuJGVsLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMsIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIHZhciAkbmV4dEVsO1xuICAgIHZhciAkcHJldkVsO1xuXG4gICAgaWYgKHBhcmFtcy5uZXh0RWwpIHtcbiAgICAgICRuZXh0RWwgPSAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbXMubmV4dEVsKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5uZXh0RWwgPT09ICdzdHJpbmcnICYmICRuZXh0RWwubGVuZ3RoID4gMSAmJiBzd2lwZXIuJGVsLmZpbmQocGFyYW1zLm5leHRFbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICRuZXh0RWwgPSBzd2lwZXIuJGVsLmZpbmQocGFyYW1zLm5leHRFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5wcmV2RWwpIHtcbiAgICAgICRwcmV2RWwgPSAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbXMucHJldkVsKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5wcmV2RWwgPT09ICdzdHJpbmcnICYmICRwcmV2RWwubGVuZ3RoID4gMSAmJiBzd2lwZXIuJGVsLmZpbmQocGFyYW1zLnByZXZFbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICRwcmV2RWwgPSBzd2lwZXIuJGVsLmZpbmQocGFyYW1zLnByZXZFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGggPiAwKSB7XG4gICAgICAkbmV4dEVsLm9uKCdjbGljaycsIHN3aXBlci5uYXZpZ2F0aW9uLm9uTmV4dENsaWNrKTtcbiAgICB9XG5cbiAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCA+IDApIHtcbiAgICAgICRwcmV2RWwub24oJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25QcmV2Q2xpY2spO1xuICAgIH1cblxuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgJG5leHRFbDogJG5leHRFbCxcbiAgICAgIG5leHRFbDogJG5leHRFbCAmJiAkbmV4dEVsWzBdLFxuICAgICAgJHByZXZFbDogJHByZXZFbCxcbiAgICAgIHByZXZFbDogJHByZXZFbCAmJiAkcHJldkVsWzBdXG4gICAgfSk7XG5cbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSB7XG4gICAgICBpZiAoJG5leHRFbCkgJG5leHRFbC5hZGRDbGFzcyhwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIGlmICgkcHJldkVsKSAkcHJldkVsLmFkZENsYXNzKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uMiA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAkbmV4dEVsID0gX3N3aXBlciRuYXZpZ2F0aW9uMi4kbmV4dEVsLFxuICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uMi4kcHJldkVsO1xuXG4gICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGgpIHtcbiAgICAgICRuZXh0RWwub2ZmKCdjbGljaycsIHN3aXBlci5uYXZpZ2F0aW9uLm9uTmV4dENsaWNrKTtcbiAgICAgICRuZXh0RWwucmVtb3ZlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmICgkcHJldkVsICYmICRwcmV2RWwubGVuZ3RoKSB7XG4gICAgICAkcHJldkVsLm9mZignY2xpY2snLCBzd2lwZXIubmF2aWdhdGlvbi5vblByZXZDbGljayk7XG4gICAgICAkcHJldkVsLnJlbW92ZUNsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzKTtcbiAgICB9XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICduYXZpZ2F0aW9uJyxcbiAgcGFyYW1zOiB7XG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBudWxsLFxuICAgICAgcHJldkVsOiBudWxsLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgZGlzYWJsZWRDbGFzczogJ3N3aXBlci1idXR0b24tZGlzYWJsZWQnLFxuICAgICAgaGlkZGVuQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWhpZGRlbicsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWxvY2snXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIG5hdmlnYXRpb246IF9leHRlbmRzKHt9LCBOYXZpZ2F0aW9uKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIubmF2aWdhdGlvbi5pbml0KCk7XG4gICAgICBzd2lwZXIubmF2aWdhdGlvbi51cGRhdGUoKTtcbiAgICB9LFxuICAgIHRvRWRnZTogZnVuY3Rpb24gdG9FZGdlKHN3aXBlcikge1xuICAgICAgc3dpcGVyLm5hdmlnYXRpb24udXBkYXRlKCk7XG4gICAgfSxcbiAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2Uoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIubmF2aWdhdGlvbi51cGRhdGUoKTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBzd2lwZXIubmF2aWdhdGlvbi5kZXN0cm95KCk7XG4gICAgfSxcbiAgICAnZW5hYmxlIGRpc2FibGUnOiBmdW5jdGlvbiBlbmFibGVEaXNhYmxlKHN3aXBlcikge1xuICAgICAgdmFyIF9zd2lwZXIkbmF2aWdhdGlvbjMgPSBzd2lwZXIubmF2aWdhdGlvbixcbiAgICAgICAgICAkbmV4dEVsID0gX3N3aXBlciRuYXZpZ2F0aW9uMy4kbmV4dEVsLFxuICAgICAgICAgICRwcmV2RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24zLiRwcmV2RWw7XG5cbiAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgICRuZXh0RWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkcHJldkVsKSB7XG4gICAgICAgICRwcmV2RWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGljazogZnVuY3Rpb24gY2xpY2soc3dpcGVyLCBlKSB7XG4gICAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uNCA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb240LiRuZXh0RWwsXG4gICAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbjQuJHByZXZFbDtcbiAgICAgIHZhciB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICEoMCwgX2RvbS5kZWZhdWx0KSh0YXJnZXRFbCkuaXMoJHByZXZFbCkgJiYgISgwLCBfZG9tLmRlZmF1bHQpKHRhcmdldEVsKS5pcygkbmV4dEVsKSkge1xuICAgICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICAgIHZhciBpc0hpZGRlbjtcblxuICAgICAgICBpZiAoJG5leHRFbCkge1xuICAgICAgICAgIGlzSGlkZGVuID0gJG5leHRFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgICB9IGVsc2UgaWYgKCRwcmV2RWwpIHtcbiAgICAgICAgICBpc0hpZGRlbiA9ICRwcmV2RWwuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHN3aXBlci5lbWl0KCduYXZpZ2F0aW9uU2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5lbWl0KCduYXZpZ2F0aW9uSGlkZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRuZXh0RWwpIHtcbiAgICAgICAgICAkbmV4dEVsLnRvZ2dsZUNsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHByZXZFbCkge1xuICAgICAgICAgICRwcmV2RWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBQYWdpbmF0aW9uID0ge1xuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAvLyBSZW5kZXIgfHwgVXBkYXRlIFBhZ2luYXRpb24gYnVsbGV0cy9pdGVtc1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBydGwgPSBzd2lwZXIucnRsO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFwYXJhbXMuZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi4kZWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHZhciBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICB2YXIgJGVsID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsOyAvLyBDdXJyZW50L1RvdGFsXG5cbiAgICB2YXIgY3VycmVudDtcbiAgICB2YXIgdG90YWwgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBNYXRoLmNlaWwoKHNsaWRlc0xlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKiAyKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIGN1cnJlbnQgPSBNYXRoLmNlaWwoKHN3aXBlci5hY3RpdmVJbmRleCAtIHN3aXBlci5sb29wZWRTbGlkZXMpIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG5cbiAgICAgIGlmIChjdXJyZW50ID4gc2xpZGVzTGVuZ3RoIC0gMSAtIHN3aXBlci5sb29wZWRTbGlkZXMgKiAyKSB7XG4gICAgICAgIGN1cnJlbnQgLT0gc2xpZGVzTGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyAqIDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50ID4gdG90YWwgLSAxKSBjdXJyZW50IC09IHRvdGFsO1xuICAgICAgaWYgKGN1cnJlbnQgPCAwICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvblR5cGUgIT09ICdidWxsZXRzJykgY3VycmVudCA9IHRvdGFsICsgY3VycmVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzd2lwZXIuc25hcEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY3VycmVudCA9IHN3aXBlci5zbmFwSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnQgPSBzd2lwZXIuYWN0aXZlSW5kZXggfHwgMDtcbiAgICB9IC8vIFR5cGVzXG5cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgYnVsbGV0cyA9IHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHM7XG4gICAgICB2YXIgZmlyc3RJbmRleDtcbiAgICAgIHZhciBsYXN0SW5kZXg7XG4gICAgICB2YXIgbWlkSW5kZXg7XG5cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSA9IGJ1bGxldHMuZXEoMClbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ291dGVyV2lkdGgnIDogJ291dGVySGVpZ2h0J10odHJ1ZSk7XG4gICAgICAgICRlbC5jc3Moc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplICogKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgKyA0KSArIFwicHhcIik7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPiAxICYmIHN3aXBlci5wcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggKz0gY3VycmVudCAtIHN3aXBlci5wcmV2aW91c0luZGV4O1xuXG4gICAgICAgICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA+IHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgLSAxKSB7XG4gICAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZmlyc3RJbmRleCA9IGN1cnJlbnQgLSBzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXg7XG4gICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgIG1pZEluZGV4ID0gKGxhc3RJbmRleCArIGZpcnN0SW5kZXgpIC8gMjtcbiAgICAgIH1cblxuICAgICAgYnVsbGV0cy5yZW1vdmVDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIiBcIiArIHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0LW5leHQgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2IFwiICsgcGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldi1wcmV2IFwiICsgcGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbWFpblwiKTtcblxuICAgICAgaWYgKCRlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGJ1bGxldHMuZWFjaChmdW5jdGlvbiAoYnVsbGV0KSB7XG4gICAgICAgICAgdmFyICRidWxsZXQgPSAoMCwgX2RvbS5kZWZhdWx0KShidWxsZXQpO1xuICAgICAgICAgIHZhciBidWxsZXRJbmRleCA9ICRidWxsZXQuaW5kZXgoKTtcblxuICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgJGJ1bGxldC5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA+PSBmaXJzdEluZGV4ICYmIGJ1bGxldEluZGV4IDw9IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAkYnVsbGV0LmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW1haW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gZmlyc3RJbmRleCkge1xuICAgICAgICAgICAgICAkYnVsbGV0LnByZXYoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2XCIpLnByZXYoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2LXByZXZcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICRidWxsZXQubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQtbmV4dFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyICRidWxsZXQgPSBidWxsZXRzLmVxKGN1cnJlbnQpO1xuICAgICAgICB2YXIgYnVsbGV0SW5kZXggPSAkYnVsbGV0LmluZGV4KCk7XG4gICAgICAgICRidWxsZXQuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgICAgdmFyICRmaXJzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHMuZXEoZmlyc3RJbmRleCk7XG4gICAgICAgICAgdmFyICRsYXN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0cy5lcShsYXN0SW5kZXgpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW5kZXg7IGkgPD0gbGFzdEluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGJ1bGxldHMuZXEoaSkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbWFpblwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPj0gYnVsbGV0cy5sZW5ndGggLSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0czsgX2kgPj0gMDsgX2kgLT0gMSkge1xuICAgICAgICAgICAgICAgIGJ1bGxldHMuZXEoYnVsbGV0cy5sZW5ndGggLSBfaSkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbWFpblwiKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJ1bGxldHMuZXEoYnVsbGV0cy5sZW5ndGggLSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICRmaXJzdERpc3BsYXllZEJ1bGxldC5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldlwiKS5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldi1wcmV2XCIpO1xuICAgICAgICAgICAgICAkbGFzdERpc3BsYXllZEJ1bGxldC5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dFwiKS5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dC1uZXh0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkZmlyc3REaXNwbGF5ZWRCdWxsZXQucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXZcIikucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXYtcHJldlwiKTtcbiAgICAgICAgICAgICRsYXN0RGlzcGxheWVkQnVsbGV0Lm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0XCIpLm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0LW5leHRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgdmFyIGR5bmFtaWNCdWxsZXRzTGVuZ3RoID0gTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgKyA0KTtcbiAgICAgICAgdmFyIGJ1bGxldHNPZmZzZXQgPSAoc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSAqIGR5bmFtaWNCdWxsZXRzTGVuZ3RoIC0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSkgLyAyIC0gbWlkSW5kZXggKiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplO1xuICAgICAgICB2YXIgb2Zmc2V0UHJvcCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIGJ1bGxldHMuY3NzKHN3aXBlci5pc0hvcml6b250YWwoKSA/IG9mZnNldFByb3AgOiAndG9wJywgYnVsbGV0c09mZnNldCArIFwicHhcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAkZWwuZmluZCgoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShwYXJhbXMuY3VycmVudENsYXNzKSkudGV4dChwYXJhbXMuZm9ybWF0RnJhY3Rpb25DdXJyZW50KGN1cnJlbnQgKyAxKSk7XG4gICAgICAkZWwuZmluZCgoMCwgX3V0aWxzLmNsYXNzZXNUb1NlbGVjdG9yKShwYXJhbXMudG90YWxDbGFzcykpLnRleHQocGFyYW1zLmZvcm1hdEZyYWN0aW9uVG90YWwodG90YWwpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIHZhciBwcm9ncmVzc2JhckRpcmVjdGlvbjtcblxuICAgICAgaWYgKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlKSB7XG4gICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICAgIH1cblxuICAgICAgdmFyIHNjYWxlID0gKGN1cnJlbnQgKyAxKSAvIHRvdGFsO1xuICAgICAgdmFyIHNjYWxlWCA9IDE7XG4gICAgICB2YXIgc2NhbGVZID0gMTtcblxuICAgICAgaWYgKHByb2dyZXNzYmFyRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZVkgPSBzY2FsZTtcbiAgICAgIH1cblxuICAgICAgJGVsLmZpbmQoKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3RvcikocGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzKSkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlWChcIiArIHNjYWxlWCArIFwiKSBzY2FsZVkoXCIgKyBzY2FsZVkgKyBcIilcIikudHJhbnNpdGlvbihzd2lwZXIucGFyYW1zLnNwZWVkKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICRlbC5odG1sKHBhcmFtcy5yZW5kZXJDdXN0b20oc3dpcGVyLCBjdXJyZW50ICsgMSwgdG90YWwpKTtcbiAgICAgIHN3aXBlci5lbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgJGVsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVtaXQoJ3BhZ2luYXRpb25VcGRhdGUnLCAkZWxbMF0pO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICRlbFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAvLyBSZW5kZXIgQ29udGFpbmVyXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoIXBhcmFtcy5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLiRlbCB8fCBzd2lwZXIucGFnaW5hdGlvbi4kZWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgdmFyIHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIHZhciAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7XG4gICAgdmFyIHBhZ2luYXRpb25IVE1MID0gJyc7XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJykge1xuICAgICAgdmFyIG51bWJlck9mQnVsbGV0cyA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbCgoc2xpZGVzTGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyAqIDIpIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIG51bWJlck9mQnVsbGV0cyA+IHNsaWRlc0xlbmd0aCkge1xuICAgICAgICBudW1iZXJPZkJ1bGxldHMgPSBzbGlkZXNMZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZCdWxsZXRzOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5yZW5kZXJCdWxsZXQpIHtcbiAgICAgICAgICBwYWdpbmF0aW9uSFRNTCArPSBwYXJhbXMucmVuZGVyQnVsbGV0LmNhbGwoc3dpcGVyLCBpLCBwYXJhbXMuYnVsbGV0Q2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IFwiPFwiICsgcGFyYW1zLmJ1bGxldEVsZW1lbnQgKyBcIiBjbGFzcz1cXFwiXCIgKyBwYXJhbXMuYnVsbGV0Q2xhc3MgKyBcIlxcXCI+PC9cIiArIHBhcmFtcy5idWxsZXRFbGVtZW50ICsgXCI+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGVsLmh0bWwocGFnaW5hdGlvbkhUTUwpO1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyA9ICRlbC5maW5kKCgwLCBfdXRpbHMuY2xhc3Nlc1RvU2VsZWN0b3IpKHBhcmFtcy5idWxsZXRDbGFzcykpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2ZyYWN0aW9uJykge1xuICAgICAgaWYgKHBhcmFtcy5yZW5kZXJGcmFjdGlvbikge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IHBhcmFtcy5yZW5kZXJGcmFjdGlvbi5jYWxsKHN3aXBlciwgcGFyYW1zLmN1cnJlbnRDbGFzcywgcGFyYW1zLnRvdGFsQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHBhcmFtcy5jdXJyZW50Q2xhc3MgKyBcIlxcXCI+PC9zcGFuPlwiICsgJyAvICcgKyAoXCI8c3BhbiBjbGFzcz1cXFwiXCIgKyBwYXJhbXMudG90YWxDbGFzcyArIFwiXFxcIj48L3NwYW4+XCIpO1xuICAgICAgfVxuXG4gICAgICAkZWwuaHRtbChwYWdpbmF0aW9uSFRNTCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAncHJvZ3Jlc3NiYXInKSB7XG4gICAgICBpZiAocGFyYW1zLnJlbmRlclByb2dyZXNzYmFyKSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gcGFyYW1zLnJlbmRlclByb2dyZXNzYmFyLmNhbGwoc3dpcGVyLCBwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyArIFwiXFxcIj48L3NwYW4+XCI7XG4gICAgICB9XG5cbiAgICAgICRlbC5odG1sKHBhZ2luYXRpb25IVE1MKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvblJlbmRlcicsIHN3aXBlci5wYWdpbmF0aW9uLiRlbFswXSk7XG4gICAgfVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbiA9ICgwLCBfdXRpbHMuY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCkoc3dpcGVyLiRlbCwgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLCBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzLCB7XG4gICAgICBlbDogJ3N3aXBlci1wYWdpbmF0aW9uJ1xuICAgIH0pO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFwYXJhbXMuZWwpIHJldHVybjtcbiAgICB2YXIgJGVsID0gKDAsIF9kb20uZGVmYXVsdCkocGFyYW1zLmVsKTtcbiAgICBpZiAoJGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICRlbCA9IHN3aXBlci4kZWwuZmluZChwYXJhbXMuZWwpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICRlbC5hZGRDbGFzcyhwYXJhbXMuY2xpY2thYmxlQ2xhc3MpO1xuICAgIH1cblxuICAgICRlbC5hZGRDbGFzcyhwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgJGVsLmFkZENsYXNzKFwiXCIgKyBwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlICsgXCItZHluYW1pY1wiKTtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG5cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIDwgMSkge1xuICAgICAgICBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicgJiYgcGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICRlbC5hZGRDbGFzcyhwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgJGVsLm9uKCdjbGljaycsICgwLCBfdXRpbHMuY2xhc3Nlc1RvU2VsZWN0b3IpKHBhcmFtcy5idWxsZXRDbGFzcyksIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpbmRleCA9ICgwLCBfZG9tLmRlZmF1bHQpKHRoaXMpLmluZGV4KCkgKiBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSBpbmRleCArPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICAgICRlbDogJGVsLFxuICAgICAgZWw6ICRlbFswXVxuICAgIH0pO1xuXG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uJGVsIHx8IHN3aXBlci5wYWdpbmF0aW9uLiRlbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB2YXIgJGVsID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsO1xuICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cykgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5yZW1vdmVDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpO1xuXG4gICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICRlbC5vZmYoJ2NsaWNrJywgKDAsIF91dGlscy5jbGFzc2VzVG9TZWxlY3RvcikocGFyYW1zLmJ1bGxldENsYXNzKSk7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAncGFnaW5hdGlvbicsXG4gIHBhcmFtczoge1xuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBudWxsLFxuICAgICAgYnVsbGV0RWxlbWVudDogJ3NwYW4nLFxuICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgIGhpZGVPbkNsaWNrOiBmYWxzZSxcbiAgICAgIHJlbmRlckJ1bGxldDogbnVsbCxcbiAgICAgIHJlbmRlclByb2dyZXNzYmFyOiBudWxsLFxuICAgICAgcmVuZGVyRnJhY3Rpb246IG51bGwsXG4gICAgICByZW5kZXJDdXN0b206IG51bGwsXG4gICAgICBwcm9ncmVzc2Jhck9wcG9zaXRlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdidWxsZXRzJyxcbiAgICAgIC8vICdidWxsZXRzJyBvciAncHJvZ3Jlc3NiYXInIG9yICdmcmFjdGlvbicgb3IgJ2N1c3RvbSdcbiAgICAgIGR5bmFtaWNCdWxsZXRzOiBmYWxzZSxcbiAgICAgIGR5bmFtaWNNYWluQnVsbGV0czogMSxcbiAgICAgIGZvcm1hdEZyYWN0aW9uQ3VycmVudDogZnVuY3Rpb24gZm9ybWF0RnJhY3Rpb25DdXJyZW50KG51bWJlcikge1xuICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgfSxcbiAgICAgIGZvcm1hdEZyYWN0aW9uVG90YWw6IGZ1bmN0aW9uIGZvcm1hdEZyYWN0aW9uVG90YWwobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9LFxuICAgICAgYnVsbGV0Q2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQnLFxuICAgICAgYnVsbGV0QWN0aXZlQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQtYWN0aXZlJyxcbiAgICAgIG1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi0nLFxuICAgICAgLy8gTkVXXG4gICAgICBjdXJyZW50Q2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1jdXJyZW50JyxcbiAgICAgIHRvdGFsQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi10b3RhbCcsXG4gICAgICBoaWRkZW5DbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWhpZGRlbicsXG4gICAgICBwcm9ncmVzc2JhckZpbGxDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyLWZpbGwnLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tcHJvZ3Jlc3NiYXItb3Bwb3NpdGUnLFxuICAgICAgY2xpY2thYmxlQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1jbGlja2FibGUnLFxuICAgICAgLy8gTkVXXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1sb2NrJ1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBwYWdpbmF0aW9uOiBfZXh0ZW5kcyh7XG4gICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleDogMFxuICAgICAgfSwgUGFnaW5hdGlvbilcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uaW5pdCgpO1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24ucmVuZGVyKCk7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi51cGRhdGUoKTtcbiAgICB9LFxuICAgIGFjdGl2ZUluZGV4Q2hhbmdlOiBmdW5jdGlvbiBhY3RpdmVJbmRleENoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzd2lwZXIuc25hcEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNuYXBJbmRleENoYW5nZTogZnVuY3Rpb24gc25hcEluZGV4Q2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGlkZXNMZW5ndGhDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlc0xlbmd0aENoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24ucmVuZGVyKCk7XG4gICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc25hcEdyaWRMZW5ndGhDaGFuZ2U6IGZ1bmN0aW9uIHNuYXBHcmlkTGVuZ3RoQ2hhbmdlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24ucmVuZGVyKCk7XG4gICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmRlc3Ryb3koKTtcbiAgICB9LFxuICAgICdlbmFibGUgZGlzYWJsZSc6IGZ1bmN0aW9uIGVuYWJsZURpc2FibGUoc3dpcGVyKSB7XG4gICAgICB2YXIgJGVsID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsO1xuXG4gICAgICBpZiAoJGVsKSB7XG4gICAgICAgICRlbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhzd2lwZXIsIGUpIHtcbiAgICAgIHZhciB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayAmJiBzd2lwZXIucGFnaW5hdGlvbi4kZWwubGVuZ3RoID4gMCAmJiAhKDAsIF9kb20uZGVmYXVsdCkodGFyZ2V0RWwpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpIHtcbiAgICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIChzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCkpIHJldHVybjtcbiAgICAgICAgdmFyIGlzSGlkZGVuID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG5cbiAgICAgICAgaWYgKGlzSGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ3BhZ2luYXRpb25TaG93Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ3BhZ2luYXRpb25IaWRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi4kZWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgUGFyYWxsYXggPSB7XG4gIHNldFRyYW5zZm9ybTogZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsLCBwcm9ncmVzcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBydGwgPSBzd2lwZXIucnRsO1xuICAgIHZhciAkZWwgPSAoMCwgX2RvbS5kZWZhdWx0KShlbCk7XG4gICAgdmFyIHJ0bEZhY3RvciA9IHJ0bCA/IC0xIDogMTtcbiAgICB2YXIgcCA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheCcpIHx8ICcwJztcbiAgICB2YXIgeCA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC14Jyk7XG4gICAgdmFyIHkgPSAkZWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgteScpO1xuICAgIHZhciBzY2FsZSA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZScpO1xuICAgIHZhciBvcGFjaXR5ID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHknKTtcblxuICAgIGlmICh4IHx8IHkpIHtcbiAgICAgIHggPSB4IHx8ICcwJztcbiAgICAgIHkgPSB5IHx8ICcwJztcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgeCA9IHA7XG4gICAgICB5ID0gJzAnO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ID0gcDtcbiAgICAgIHggPSAnMCc7XG4gICAgfVxuXG4gICAgaWYgKHguaW5kZXhPZignJScpID49IDApIHtcbiAgICAgIHggPSBwYXJzZUludCh4LCAxMCkgKiBwcm9ncmVzcyAqIHJ0bEZhY3RvciArIFwiJVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0geCAqIHByb2dyZXNzICogcnRsRmFjdG9yICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmICh5LmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICB5ID0gcGFyc2VJbnQoeSwgMTApICogcHJvZ3Jlc3MgKyBcIiVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHkgKiBwcm9ncmVzcyArIFwicHhcIjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnICYmIG9wYWNpdHkgIT09IG51bGwpIHtcbiAgICAgIHZhciBjdXJyZW50T3BhY2l0eSA9IG9wYWNpdHkgLSAob3BhY2l0eSAtIDEpICogKDEgLSBNYXRoLmFicyhwcm9ncmVzcykpO1xuICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSBjdXJyZW50T3BhY2l0eTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNjYWxlID09PSAndW5kZWZpbmVkJyB8fCBzY2FsZSA9PT0gbnVsbCkge1xuICAgICAgJGVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwiLCBcIiArIHkgKyBcIiwgMHB4KVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGN1cnJlbnRTY2FsZSA9IHNjYWxlIC0gKHNjYWxlIC0gMSkgKiAoMSAtIE1hdGguYWJzKHByb2dyZXNzKSk7XG4gICAgICAkZWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCIsIFwiICsgeSArIFwiLCAwcHgpIHNjYWxlKFwiICsgY3VycmVudFNjYWxlICsgXCIpXCIpO1xuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIHByb2dyZXNzID0gc3dpcGVyLnByb2dyZXNzLFxuICAgICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZDtcbiAgICAkZWwuY2hpbGRyZW4oJ1tkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV0nKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zZm9ybShlbCwgcHJvZ3Jlc3MpO1xuICAgIH0pO1xuICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsLCBzbGlkZUluZGV4KSB7XG4gICAgICB2YXIgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID4gMSAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJykge1xuICAgICAgICBzbGlkZVByb2dyZXNzICs9IE1hdGguY2VpbChzbGlkZUluZGV4IC8gMikgLSBwcm9ncmVzcyAqIChzbmFwR3JpZC5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGVQcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHNsaWRlUHJvZ3Jlc3MsIC0xKSwgMSk7XG4gICAgICAoMCwgX2RvbS5kZWZhdWx0KShzbGlkZUVsKS5maW5kKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zZm9ybShlbCwgc2xpZGVQcm9ncmVzcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBkdXJhdGlvbiA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICAgIH1cblxuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsO1xuICAgICRlbC5maW5kKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChmdW5jdGlvbiAocGFyYWxsYXhFbCkge1xuICAgICAgdmFyICRwYXJhbGxheEVsID0gKDAsIF9kb20uZGVmYXVsdCkocGFyYWxsYXhFbCk7XG4gICAgICB2YXIgcGFyYWxsYXhEdXJhdGlvbiA9IHBhcnNlSW50KCRwYXJhbGxheEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uJyksIDEwKSB8fCBkdXJhdGlvbjtcbiAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkgcGFyYWxsYXhEdXJhdGlvbiA9IDA7XG4gICAgICAkcGFyYWxsYXhFbC50cmFuc2l0aW9uKHBhcmFsbGF4RHVyYXRpb24pO1xuICAgIH0pO1xuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAncGFyYWxsYXgnLFxuICBwYXJhbXM6IHtcbiAgICBwYXJhbGxheDoge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgcGFyYWxsYXg6IF9leHRlbmRzKHt9LCBQYXJhbGxheClcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgICBzd2lwZXIub3JpZ2luYWxQYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5wYXJhbGxheC5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5wYXJhbGxheC5zZXRUcmFuc2xhdGUoKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5wYXJhbGxheC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgU2Nyb2xsYmFyID0ge1xuICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAgIHByb2dyZXNzID0gc3dpcGVyLnByb2dyZXNzO1xuICAgIHZhciBkcmFnU2l6ZSA9IHNjcm9sbGJhci5kcmFnU2l6ZSxcbiAgICAgICAgdHJhY2tTaXplID0gc2Nyb2xsYmFyLnRyYWNrU2l6ZSxcbiAgICAgICAgJGRyYWdFbCA9IHNjcm9sbGJhci4kZHJhZ0VsLFxuICAgICAgICAkZWwgPSBzY3JvbGxiYXIuJGVsO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICB2YXIgbmV3U2l6ZSA9IGRyYWdTaXplO1xuICAgIHZhciBuZXdQb3MgPSAodHJhY2tTaXplIC0gZHJhZ1NpemUpICogcHJvZ3Jlc3M7XG5cbiAgICBpZiAocnRsKSB7XG4gICAgICBuZXdQb3MgPSAtbmV3UG9zO1xuXG4gICAgICBpZiAobmV3UG9zID4gMCkge1xuICAgICAgICBuZXdTaXplID0gZHJhZ1NpemUgLSBuZXdQb3M7XG4gICAgICAgIG5ld1BvcyA9IDA7XG4gICAgICB9IGVsc2UgaWYgKC1uZXdQb3MgKyBkcmFnU2l6ZSA+IHRyYWNrU2l6ZSkge1xuICAgICAgICBuZXdTaXplID0gdHJhY2tTaXplICsgbmV3UG9zO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV3UG9zIDwgMCkge1xuICAgICAgbmV3U2l6ZSA9IGRyYWdTaXplICsgbmV3UG9zO1xuICAgICAgbmV3UG9zID0gMDtcbiAgICB9IGVsc2UgaWYgKG5ld1BvcyArIGRyYWdTaXplID4gdHJhY2tTaXplKSB7XG4gICAgICBuZXdTaXplID0gdHJhY2tTaXplIC0gbmV3UG9zO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICRkcmFnRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBuZXdQb3MgKyBcInB4LCAwLCAwKVwiKTtcbiAgICAgICRkcmFnRWxbMF0uc3R5bGUud2lkdGggPSBuZXdTaXplICsgXCJweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZHJhZ0VsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwgXCIgKyBuZXdQb3MgKyBcInB4LCAwKVwiKTtcbiAgICAgICRkcmFnRWxbMF0uc3R5bGUuaGVpZ2h0ID0gbmV3U2l6ZSArIFwicHhcIjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChzd2lwZXIuc2Nyb2xsYmFyLnRpbWVvdXQpO1xuICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICRlbFswXS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgJGVsLnRyYW5zaXRpb24oNDAwKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBzd2lwZXIuc2Nyb2xsYmFyLiRkcmFnRWwudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0sXG4gIHVwZGF0ZVNpemU6IGZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyO1xuICAgIHZhciAkZHJhZ0VsID0gc2Nyb2xsYmFyLiRkcmFnRWwsXG4gICAgICAgICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgJGRyYWdFbFswXS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICRkcmFnRWxbMF0uc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgdmFyIHRyYWNrU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRlbFswXS5vZmZzZXRXaWR0aCA6ICRlbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIGRpdmlkZXIgPSBzd2lwZXIuc2l6ZSAvIHN3aXBlci52aXJ0dWFsU2l6ZTtcbiAgICB2YXIgbW92ZURpdmlkZXIgPSBkaXZpZGVyICogKHRyYWNrU2l6ZSAvIHN3aXBlci5zaXplKTtcbiAgICB2YXIgZHJhZ1NpemU7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUgPT09ICdhdXRvJykge1xuICAgICAgZHJhZ1NpemUgPSB0cmFja1NpemUgKiBkaXZpZGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBkcmFnU2l6ZSA9IHBhcnNlSW50KHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgJGRyYWdFbFswXS5zdHlsZS53aWR0aCA9IGRyYWdTaXplICsgXCJweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLmhlaWdodCA9IGRyYWdTaXplICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmIChkaXZpZGVyID49IDEpIHtcbiAgICAgICRlbFswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZWxbMF0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5oaWRlKSB7XG4gICAgICAkZWxbMF0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgfVxuXG4gICAgKDAsIF91dGlscy5leHRlbmQpKHNjcm9sbGJhciwge1xuICAgICAgdHJhY2tTaXplOiB0cmFja1NpemUsXG4gICAgICBkaXZpZGVyOiBkaXZpZGVyLFxuICAgICAgbW92ZURpdmlkZXI6IG1vdmVEaXZpZGVyLFxuICAgICAgZHJhZ1NpemU6IGRyYWdTaXplXG4gICAgfSk7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzY3JvbGxiYXIuJGVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgZ2V0UG9pbnRlclBvc2l0aW9uOiBmdW5jdGlvbiBnZXRQb2ludGVyUG9zaXRpb24oZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgPyBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCA6IGUuY2xpZW50WDtcbiAgICB9XG5cbiAgICByZXR1cm4gZS50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJyA/IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZIDogZS5jbGllbnRZO1xuICB9LFxuICBzZXREcmFnUG9zaXRpb246IGZ1bmN0aW9uIHNldERyYWdQb3NpdGlvbihlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gICAgdmFyICRlbCA9IHNjcm9sbGJhci4kZWwsXG4gICAgICAgIGRyYWdTaXplID0gc2Nyb2xsYmFyLmRyYWdTaXplLFxuICAgICAgICB0cmFja1NpemUgPSBzY3JvbGxiYXIudHJhY2tTaXplLFxuICAgICAgICBkcmFnU3RhcnRQb3MgPSBzY3JvbGxiYXIuZHJhZ1N0YXJ0UG9zO1xuICAgIHZhciBwb3NpdGlvblJhdGlvO1xuICAgIHBvc2l0aW9uUmF0aW8gPSAoc2Nyb2xsYmFyLmdldFBvaW50ZXJQb3NpdGlvbihlKSAtICRlbC5vZmZzZXQoKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJ10gLSAoZHJhZ1N0YXJ0UG9zICE9PSBudWxsID8gZHJhZ1N0YXJ0UG9zIDogZHJhZ1NpemUgLyAyKSkgLyAodHJhY2tTaXplIC0gZHJhZ1NpemUpO1xuICAgIHBvc2l0aW9uUmF0aW8gPSBNYXRoLm1heChNYXRoLm1pbihwb3NpdGlvblJhdGlvLCAxKSwgMCk7XG5cbiAgICBpZiAocnRsKSB7XG4gICAgICBwb3NpdGlvblJhdGlvID0gMSAtIHBvc2l0aW9uUmF0aW87XG4gICAgfVxuXG4gICAgdmFyIHBvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpICsgKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgKiBwb3NpdGlvblJhdGlvO1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhwb3NpdGlvbik7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfSxcbiAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbCxcbiAgICAgICAgJGRyYWdFbCA9IHNjcm9sbGJhci4kZHJhZ0VsO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBzd2lwZXIuc2Nyb2xsYmFyLmRyYWdTdGFydFBvcyA9IGUudGFyZ2V0ID09PSAkZHJhZ0VsWzBdIHx8IGUudGFyZ2V0ID09PSAkZHJhZ0VsID8gc2Nyb2xsYmFyLmdldFBvaW50ZXJQb3NpdGlvbihlKSAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSA6IG51bGw7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uKDEwMCk7XG4gICAgJGRyYWdFbC50cmFuc2l0aW9uKDEwMCk7XG4gICAgc2Nyb2xsYmFyLnNldERyYWdQb3NpdGlvbihlKTtcbiAgICBjbGVhclRpbWVvdXQoc3dpcGVyLnNjcm9sbGJhci5kcmFnVGltZW91dCk7XG4gICAgJGVsLnRyYW5zaXRpb24oMCk7XG5cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgICRlbC5jc3MoJ29wYWNpdHknLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5jc3MoJ3Njcm9sbC1zbmFwLXR5cGUnLCAnbm9uZScpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdzY3JvbGxiYXJEcmFnU3RhcnQnLCBlKTtcbiAgfSxcbiAgb25EcmFnTW92ZTogZnVuY3Rpb24gb25EcmFnTW92ZShlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbCxcbiAgICAgICAgJGRyYWdFbCA9IHNjcm9sbGJhci4kZHJhZ0VsO1xuICAgIGlmICghc3dpcGVyLnNjcm9sbGJhci5pc1RvdWNoZWQpIHJldHVybjtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIHNjcm9sbGJhci5zZXREcmFnUG9zaXRpb24oZSk7XG4gICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uKDApO1xuICAgICRlbC50cmFuc2l0aW9uKDApO1xuICAgICRkcmFnRWwudHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuZW1pdCgnc2Nyb2xsYmFyRHJhZ01vdmUnLCBlKTtcbiAgfSxcbiAgb25EcmFnRW5kOiBmdW5jdGlvbiBvbkRyYWdFbmQoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsO1xuICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsO1xuICAgIGlmICghc3dpcGVyLnNjcm9sbGJhci5pc1RvdWNoZWQpIHJldHVybjtcbiAgICBzd2lwZXIuc2Nyb2xsYmFyLmlzVG91Y2hlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwuY3NzKCdzY3JvbGwtc25hcC10eXBlJywgJycpO1xuICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uKCcnKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChzd2lwZXIuc2Nyb2xsYmFyLmRyYWdUaW1lb3V0KTtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQgPSAoMCwgX3V0aWxzLm5leHRUaWNrKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICRlbC5jc3MoJ29wYWNpdHknLCAwKTtcbiAgICAgICAgJGVsLnRyYW5zaXRpb24oNDAwKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdzY3JvbGxiYXJEcmFnRW5kJywgZSk7XG5cbiAgICBpZiAocGFyYW1zLnNuYXBPblJlbGVhc2UpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgIH1cbiAgfSxcbiAgZW5hYmxlRHJhZ2dhYmxlOiBmdW5jdGlvbiBlbmFibGVEcmFnZ2FibGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHZhciBkb2N1bWVudCA9ICgwLCBfc3NyV2luZG93LmdldERvY3VtZW50KSgpO1xuICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICB0b3VjaEV2ZW50c1RvdWNoID0gc3dpcGVyLnRvdWNoRXZlbnRzVG91Y2gsXG4gICAgICAgIHRvdWNoRXZlbnRzRGVza3RvcCA9IHN3aXBlci50b3VjaEV2ZW50c0Rlc2t0b3AsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbDtcbiAgICB2YXIgdGFyZ2V0ID0gJGVsWzBdO1xuICAgIHZhciBhY3RpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9IDogZmFsc2U7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcblxuICAgIGlmICghc3VwcG9ydC50b3VjaCkge1xuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNEZXNrdG9wLnN0YXJ0LCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ1N0YXJ0LCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNEZXNrdG9wLmVuZCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2guc3RhcnQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnU3RhcnQsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2gubW92ZSwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c1RvdWNoLmVuZCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuICBkaXNhYmxlRHJhZ2dhYmxlOiBmdW5jdGlvbiBkaXNhYmxlRHJhZ2dhYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgdG91Y2hFdmVudHNUb3VjaCA9IHN3aXBlci50b3VjaEV2ZW50c1RvdWNoLFxuICAgICAgICB0b3VjaEV2ZW50c0Rlc2t0b3AgPSBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgdmFyICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgdmFyIHRhcmdldCA9ICRlbFswXTtcbiAgICB2YXIgYWN0aXZlTGlzdGVuZXIgPSBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBwYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9IDogZmFsc2U7XG4gICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG5cbiAgICBpZiAoIXN1cHBvcnQudG91Y2gpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5zdGFydCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c0Rlc2t0b3AubW92ZSwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5lbmQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c1RvdWNoLnN0YXJ0LCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ1N0YXJ0LCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c1RvdWNoLm1vdmUsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnTW92ZSwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5lbmQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH1cbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgJHN3aXBlckVsID0gc3dpcGVyLiRlbDtcbiAgICBzd2lwZXIucGFyYW1zLnNjcm9sbGJhciA9ICgwLCBfdXRpbHMuY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCkoJHN3aXBlckVsLCBzd2lwZXIucGFyYW1zLnNjcm9sbGJhciwgc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cywge1xuICAgICAgZWw6ICdzd2lwZXItc2Nyb2xsYmFyJ1xuICAgIH0pO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBpZiAoIXBhcmFtcy5lbCkgcmV0dXJuO1xuICAgIHZhciAkZWwgPSAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbXMuZWwpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgJGVsLmxlbmd0aCA+IDEgJiYgJHN3aXBlckVsLmZpbmQocGFyYW1zLmVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICRlbCA9ICRzd2lwZXJFbC5maW5kKHBhcmFtcy5lbCk7XG4gICAgfVxuXG4gICAgdmFyICRkcmFnRWwgPSAkZWwuZmluZChcIi5cIiArIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdDbGFzcyk7XG5cbiAgICBpZiAoJGRyYWdFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICRkcmFnRWwgPSAoMCwgX2RvbS5kZWZhdWx0KShcIjxkaXYgY2xhc3M9XFxcIlwiICsgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICRlbC5hcHBlbmQoJGRyYWdFbCk7XG4gICAgfVxuXG4gICAgKDAsIF91dGlscy5leHRlbmQpKHNjcm9sbGJhciwge1xuICAgICAgJGVsOiAkZWwsXG4gICAgICBlbDogJGVsWzBdLFxuICAgICAgJGRyYWdFbDogJGRyYWdFbCxcbiAgICAgIGRyYWdFbDogJGRyYWdFbFswXVxuICAgIH0pO1xuXG4gICAgaWYgKHBhcmFtcy5kcmFnZ2FibGUpIHtcbiAgICAgIHNjcm9sbGJhci5lbmFibGVEcmFnZ2FibGUoKTtcbiAgICB9XG5cbiAgICBpZiAoJGVsKSB7XG4gICAgICAkZWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLnNjcm9sbGJhci5kaXNhYmxlRHJhZ2dhYmxlKCk7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdzY3JvbGxiYXInLFxuICBwYXJhbXM6IHtcbiAgICBzY3JvbGxiYXI6IHtcbiAgICAgIGVsOiBudWxsLFxuICAgICAgZHJhZ1NpemU6ICdhdXRvJyxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIHNuYXBPblJlbGVhc2U6IHRydWUsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWxvY2snLFxuICAgICAgZHJhZ0NsYXNzOiAnc3dpcGVyLXNjcm9sbGJhci1kcmFnJ1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5iaW5kTW9kdWxlTWV0aG9kcykoc3dpcGVyLCB7XG4gICAgICBzY3JvbGxiYXI6IF9leHRlbmRzKHtcbiAgICAgICAgaXNUb3VjaGVkOiBmYWxzZSxcbiAgICAgICAgdGltZW91dDogbnVsbCxcbiAgICAgICAgZHJhZ1RpbWVvdXQ6IG51bGxcbiAgICAgIH0sIFNjcm9sbGJhcilcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci5pbml0KCk7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKTtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuc2V0VHJhbnNsYXRlKCk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpO1xuICAgIH0sXG4gICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKTtcbiAgICB9LFxuICAgIG9ic2VydmVyVXBkYXRlOiBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLnNldFRyYW5zbGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH0sXG4gICAgJ2VuYWJsZSBkaXNhYmxlJzogZnVuY3Rpb24gZW5hYmxlRGlzYWJsZShzd2lwZXIpIHtcbiAgICAgIHZhciAkZWwgPSBzd2lwZXIuc2Nyb2xsYmFyLiRlbDtcblxuICAgICAgaWYgKCRlbCkge1xuICAgICAgICAkZWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxudmFyIF9kb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi91dGlscy9kb21cIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgVGh1bWJzID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB0aHVtYnNQYXJhbXMgPSBzd2lwZXIucGFyYW1zLnRodW1icztcbiAgICBpZiAoc3dpcGVyLnRodW1icy5pbml0aWFsaXplZCkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci50aHVtYnMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBTd2lwZXJDbGFzcyA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcblxuICAgIGlmICh0aHVtYnNQYXJhbXMuc3dpcGVyIGluc3RhbmNlb2YgU3dpcGVyQ2xhc3MpIHtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gdGh1bWJzUGFyYW1zLnN3aXBlcjtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIudGh1bWJzLnN3aXBlci5vcmlnaW5hbFBhcmFtcywge1xuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnRodW1icy5zd2lwZXIucGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHRodW1ic1BhcmFtcy5zd2lwZXIpKSB7XG4gICAgICBzd2lwZXIudGh1bWJzLnN3aXBlciA9IG5ldyBTd2lwZXJDbGFzcygoMCwgX3V0aWxzLmV4dGVuZCkoe30sIHRodW1ic1BhcmFtcy5zd2lwZXIsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXJDcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzd2lwZXIudGh1bWJzLnN3aXBlci4kZWwuYWRkQ2xhc3Moc3dpcGVyLnBhcmFtcy50aHVtYnMudGh1bWJzQ29udGFpbmVyQ2xhc3MpO1xuICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLm9uKCd0YXAnLCBzd2lwZXIudGh1bWJzLm9uVGh1bWJDbGljayk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIG9uVGh1bWJDbGljazogZnVuY3Rpb24gb25UaHVtYkNsaWNrKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuICAgIHZhciBjbGlja2VkSW5kZXggPSB0aHVtYnNTd2lwZXIuY2xpY2tlZEluZGV4O1xuICAgIHZhciBjbGlja2VkU2xpZGUgPSB0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlO1xuICAgIGlmIChjbGlja2VkU2xpZGUgJiYgKDAsIF9kb20uZGVmYXVsdCkoY2xpY2tlZFNsaWRlKS5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3MpKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBjbGlja2VkSW5kZXggPT09ICd1bmRlZmluZWQnIHx8IGNsaWNrZWRJbmRleCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBzbGlkZVRvSW5kZXg7XG5cbiAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzbGlkZVRvSW5kZXggPSBwYXJzZUludCgoMCwgX2RvbS5kZWZhdWx0KSh0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlVG9JbmRleCA9IGNsaWNrZWRJbmRleDtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB2YXIgY3VycmVudEluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuXG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5lcShjdXJyZW50SW5kZXgpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDtcbiAgICAgICAgY3VycmVudEluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldkluZGV4ID0gc3dpcGVyLnNsaWRlcy5lcShjdXJyZW50SW5kZXgpLnByZXZBbGwoXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgc2xpZGVUb0luZGV4ICsgXCJcXFwiXVwiKS5lcSgwKS5pbmRleCgpO1xuICAgICAgdmFyIG5leHRJbmRleCA9IHN3aXBlci5zbGlkZXMuZXEoY3VycmVudEluZGV4KS5uZXh0QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHNsaWRlVG9JbmRleCArIFwiXFxcIl1cIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgIGlmICh0eXBlb2YgcHJldkluZGV4ID09PSAndW5kZWZpbmVkJykgc2xpZGVUb0luZGV4ID0gbmV4dEluZGV4O2Vsc2UgaWYgKHR5cGVvZiBuZXh0SW5kZXggPT09ICd1bmRlZmluZWQnKSBzbGlkZVRvSW5kZXggPSBwcmV2SW5kZXg7ZWxzZSBpZiAobmV4dEluZGV4IC0gY3VycmVudEluZGV4IDwgY3VycmVudEluZGV4IC0gcHJldkluZGV4KSBzbGlkZVRvSW5kZXggPSBuZXh0SW5kZXg7ZWxzZSBzbGlkZVRvSW5kZXggPSBwcmV2SW5kZXg7XG4gICAgfVxuXG4gICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoaW5pdGlhbCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuICAgIHZhciBzbGlkZXNQZXJWaWV3ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyB0aHVtYnNTd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICB2YXIgYXV0b1Njcm9sbE9mZnNldCA9IHN3aXBlci5wYXJhbXMudGh1bWJzLmF1dG9TY3JvbGxPZmZzZXQ7XG4gICAgdmFyIHVzZU9mZnNldCA9IGF1dG9TY3JvbGxPZmZzZXQgJiYgIXRodW1ic1N3aXBlci5wYXJhbXMubG9vcDtcblxuICAgIGlmIChzd2lwZXIucmVhbEluZGV4ICE9PSB0aHVtYnNTd2lwZXIucmVhbEluZGV4IHx8IHVzZU9mZnNldCkge1xuICAgICAgdmFyIGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIHZhciBuZXdUaHVtYnNJbmRleDtcbiAgICAgIHZhciBkaXJlY3Rpb247XG5cbiAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5oYXNDbGFzcyh0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgdGh1bWJzU3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgICAgICB0aHVtYnNTd2lwZXIuX2NsaWVudExlZnQgPSB0aHVtYnNTd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICAgICAgICAgIGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgICAgfSAvLyBGaW5kIGFjdHVhbCB0aHVtYnMgaW5kZXggdG8gc2xpZGUgdG9cblxuXG4gICAgICAgIHZhciBwcmV2VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRUaHVtYnNJbmRleCkucHJldkFsbChcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBzd2lwZXIucmVhbEluZGV4ICsgXCJcXFwiXVwiKS5lcSgwKS5pbmRleCgpO1xuICAgICAgICB2YXIgbmV4dFRodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLnNsaWRlcy5lcShjdXJyZW50VGh1bWJzSW5kZXgpLm5leHRBbGwoXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgc3dpcGVyLnJlYWxJbmRleCArIFwiXFxcIl1cIikuZXEoMCkuaW5kZXgoKTtcblxuICAgICAgICBpZiAodHlwZW9mIHByZXZUaHVtYnNJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5leHRUaHVtYnNJbmRleDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFRodW1ic0luZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gcHJldlRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKG5leHRUaHVtYnNJbmRleCAtIGN1cnJlbnRUaHVtYnNJbmRleCA9PT0gY3VycmVudFRodW1ic0luZGV4IC0gcHJldlRodW1ic0luZGV4KSB7XG4gICAgICAgICAgbmV3VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID4gMSA/IG5leHRUaHVtYnNJbmRleCA6IGN1cnJlbnRUaHVtYnNJbmRleDtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0VGh1bWJzSW5kZXggLSBjdXJyZW50VGh1bWJzSW5kZXggPCBjdXJyZW50VGh1bWJzSW5kZXggLSBwcmV2VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5leHRUaHVtYnNJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHByZXZUaHVtYnNJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdGlvbiA9IHN3aXBlci5hY3RpdmVJbmRleCA+IHN3aXBlci5wcmV2aW91c0luZGV4ID8gJ25leHQnIDogJ3ByZXYnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggPSBzd2lwZXIucmVhbEluZGV4O1xuICAgICAgICBkaXJlY3Rpb24gPSBuZXdUaHVtYnNJbmRleCA+IHN3aXBlci5wcmV2aW91c0luZGV4ID8gJ25leHQnIDogJ3ByZXYnO1xuICAgICAgfVxuXG4gICAgICBpZiAodXNlT2Zmc2V0KSB7XG4gICAgICAgIG5ld1RodW1ic0luZGV4ICs9IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gYXV0b1Njcm9sbE9mZnNldCA6IC0xICogYXV0b1Njcm9sbE9mZnNldDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyAmJiB0aHVtYnNTd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihuZXdUaHVtYnNJbmRleCkgPCAwKSB7XG4gICAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgICAgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4KSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4IC0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4ICsgTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXdUaHVtYnNJbmRleCA+IGN1cnJlbnRUaHVtYnNJbmRleCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxKSB7Ly8gbmV3VGh1bWJzSW5kZXggPSBuZXdUaHVtYnNJbmRleCAtIHNsaWRlc1BlclZpZXcgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGh1bWJzU3dpcGVyLnNsaWRlVG8obmV3VGh1bWJzSW5kZXgsIGluaXRpYWwgPyAwIDogdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IC8vIEFjdGl2YXRlIHRodW1ic1xuXG5cbiAgICB2YXIgdGh1bWJzVG9BY3RpdmF0ZSA9IDE7XG4gICAgdmFyIHRodW1iQWN0aXZlQ2xhc3MgPSBzd2lwZXIucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3M7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgdGh1bWJzVG9BY3RpdmF0ZSA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudGh1bWJzLm11bHRpcGxlQWN0aXZlVGh1bWJzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICB9XG5cbiAgICB0aHVtYnNUb0FjdGl2YXRlID0gTWF0aC5mbG9vcih0aHVtYnNUb0FjdGl2YXRlKTtcbiAgICB0aHVtYnNTd2lwZXIuc2xpZGVzLnJlbW92ZUNsYXNzKHRodW1iQWN0aXZlQ2xhc3MpO1xuXG4gICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCB8fCB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgdGh1bWJzU3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGh1bWJzVG9BY3RpdmF0ZTsgaSArPSAxKSB7XG4gICAgICAgIHRodW1ic1N3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIChzd2lwZXIucmVhbEluZGV4ICsgaSkgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGh1bWJzVG9BY3RpdmF0ZTsgX2kgKz0gMSkge1xuICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5yZWFsSW5kZXggKyBfaSkuYWRkQ2xhc3ModGh1bWJBY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAndGh1bWJzJyxcbiAgcGFyYW1zOiB7XG4gICAgdGh1bWJzOiB7XG4gICAgICBzd2lwZXI6IG51bGwsXG4gICAgICBtdWx0aXBsZUFjdGl2ZVRodW1iczogdHJ1ZSxcbiAgICAgIGF1dG9TY3JvbGxPZmZzZXQ6IDAsXG4gICAgICBzbGlkZVRodW1iQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtdGh1bWItYWN0aXZlJyxcbiAgICAgIHRodW1ic0NvbnRhaW5lckNsYXNzOiAnc3dpcGVyLWNvbnRhaW5lci10aHVtYnMnXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIHRodW1iczogX2V4dGVuZHMoe1xuICAgICAgICBzd2lwZXI6IG51bGwsXG4gICAgICAgIGluaXRpYWxpemVkOiBmYWxzZVxuICAgICAgfSwgVGh1bWJzKVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICB2YXIgdGh1bWJzID0gc3dpcGVyLnBhcmFtcy50aHVtYnM7XG4gICAgICBpZiAoIXRodW1icyB8fCAhdGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgICAgc3dpcGVyLnRodW1icy5pbml0KCk7XG4gICAgICBzd2lwZXIudGh1bWJzLnVwZGF0ZSh0cnVlKTtcbiAgICB9LFxuICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKCk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKCk7XG4gICAgfSxcbiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKCk7XG4gICAgfSxcbiAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci50aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgICBzd2lwZXIudGh1bWJzLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uKSB7XG4gICAgICB2YXIgdGh1bWJzU3dpcGVyID0gc3dpcGVyLnRodW1icy5zd2lwZXI7XG4gICAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuICAgICAgdGh1bWJzU3dpcGVyLnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH0sXG4gICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHZhciB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICAgIGlmICghdGh1bWJzU3dpcGVyKSByZXR1cm47XG5cbiAgICAgIGlmIChzd2lwZXIudGh1bWJzLnN3aXBlckNyZWF0ZWQgJiYgdGh1bWJzU3dpcGVyKSB7XG4gICAgICAgIHRodW1ic1N3aXBlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vdXRpbHMvZG9tXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFZpcnR1YWwgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGZvcmNlKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIF9zd2lwZXIkcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IF9zd2lwZXIkcGFyYW1zLnNsaWRlc1BlclZpZXcsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwID0gX3N3aXBlciRwYXJhbXMuc2xpZGVzUGVyR3JvdXAsXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzID0gX3N3aXBlciRwYXJhbXMuY2VudGVyZWRTbGlkZXM7XG4gICAgdmFyIF9zd2lwZXIkcGFyYW1zJHZpcnR1YSA9IHN3aXBlci5wYXJhbXMudmlydHVhbCxcbiAgICAgICAgYWRkU2xpZGVzQmVmb3JlID0gX3N3aXBlciRwYXJhbXMkdmlydHVhLmFkZFNsaWRlc0JlZm9yZSxcbiAgICAgICAgYWRkU2xpZGVzQWZ0ZXIgPSBfc3dpcGVyJHBhcmFtcyR2aXJ0dWEuYWRkU2xpZGVzQWZ0ZXI7XG4gICAgdmFyIF9zd2lwZXIkdmlydHVhbCA9IHN3aXBlci52aXJ0dWFsLFxuICAgICAgICBwcmV2aW91c0Zyb20gPSBfc3dpcGVyJHZpcnR1YWwuZnJvbSxcbiAgICAgICAgcHJldmlvdXNUbyA9IF9zd2lwZXIkdmlydHVhbC50byxcbiAgICAgICAgc2xpZGVzID0gX3N3aXBlciR2aXJ0dWFsLnNsaWRlcyxcbiAgICAgICAgcHJldmlvdXNTbGlkZXNHcmlkID0gX3N3aXBlciR2aXJ0dWFsLnNsaWRlc0dyaWQsXG4gICAgICAgIHJlbmRlclNsaWRlID0gX3N3aXBlciR2aXJ0dWFsLnJlbmRlclNsaWRlLFxuICAgICAgICBwcmV2aW91c09mZnNldCA9IF9zd2lwZXIkdmlydHVhbC5vZmZzZXQ7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgdmFyIG9mZnNldFByb3A7XG4gICAgaWYgKHN3aXBlci5ydGxUcmFuc2xhdGUpIG9mZnNldFByb3AgPSAncmlnaHQnO2Vsc2Ugb2Zmc2V0UHJvcCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIHZhciBzbGlkZXNBZnRlcjtcbiAgICB2YXIgc2xpZGVzQmVmb3JlO1xuXG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZXNBZnRlciA9IE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpICsgc2xpZGVzUGVyR3JvdXAgKyBhZGRTbGlkZXNBZnRlcjtcbiAgICAgIHNsaWRlc0JlZm9yZSA9IE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpICsgc2xpZGVzUGVyR3JvdXAgKyBhZGRTbGlkZXNCZWZvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlc0FmdGVyID0gc2xpZGVzUGVyVmlldyArIChzbGlkZXNQZXJHcm91cCAtIDEpICsgYWRkU2xpZGVzQWZ0ZXI7XG4gICAgICBzbGlkZXNCZWZvcmUgPSBzbGlkZXNQZXJHcm91cCArIGFkZFNsaWRlc0JlZm9yZTtcbiAgICB9XG5cbiAgICB2YXIgZnJvbSA9IE1hdGgubWF4KChhY3RpdmVJbmRleCB8fCAwKSAtIHNsaWRlc0JlZm9yZSwgMCk7XG4gICAgdmFyIHRvID0gTWF0aC5taW4oKGFjdGl2ZUluZGV4IHx8IDApICsgc2xpZGVzQWZ0ZXIsIHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICB2YXIgb2Zmc2V0ID0gKHN3aXBlci5zbGlkZXNHcmlkW2Zyb21dIHx8IDApIC0gKHN3aXBlci5zbGlkZXNHcmlkWzBdIHx8IDApO1xuICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIudmlydHVhbCwge1xuICAgICAgZnJvbTogZnJvbSxcbiAgICAgIHRvOiB0byxcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgc2xpZGVzR3JpZDogc3dpcGVyLnNsaWRlc0dyaWRcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG9uUmVuZGVyZWQoKSB7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG5cbiAgICAgIGlmIChzd2lwZXIubGF6eSAmJiBzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCkge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzRnJvbSA9PT0gZnJvbSAmJiBwcmV2aW91c1RvID09PSB0byAmJiAhZm9yY2UpIHtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzR3JpZCAhPT0gcHJldmlvdXNTbGlkZXNHcmlkICYmIG9mZnNldCAhPT0gcHJldmlvdXNPZmZzZXQpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlcy5jc3Mob2Zmc2V0UHJvcCwgb2Zmc2V0ICsgXCJweFwiKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbCkge1xuICAgICAgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnJlbmRlckV4dGVybmFsLmNhbGwoc3dpcGVyLCB7XG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICB0bzogdG8sXG4gICAgICAgIHNsaWRlczogZnVuY3Rpb24gZ2V0U2xpZGVzKCkge1xuICAgICAgICAgIHZhciBzbGlkZXNUb1JlbmRlciA9IFtdO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IGZyb207IGkgPD0gdG87IGkgKz0gMSkge1xuICAgICAgICAgICAgc2xpZGVzVG9SZW5kZXIucHVzaChzbGlkZXNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzbGlkZXNUb1JlbmRlcjtcbiAgICAgICAgfSgpXG4gICAgICB9KTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbFVwZGF0ZSkge1xuICAgICAgICBvblJlbmRlcmVkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJlcGVuZEluZGV4ZXMgPSBbXTtcbiAgICB2YXIgYXBwZW5kSW5kZXhlcyA9IFtdO1xuXG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5maW5kKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IHByZXZpb3VzRnJvbTsgaSA8PSBwcmV2aW91c1RvOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGkgPCBmcm9tIHx8IGkgPiB0bykge1xuICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsLmZpbmQoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MgKyBcIltkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBpICsgXCJcXFwiXVwiKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzbGlkZXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICBpZiAoX2kgPj0gZnJvbSAmJiBfaSA8PSB0bykge1xuICAgICAgICBpZiAodHlwZW9mIHByZXZpb3VzVG8gPT09ICd1bmRlZmluZWQnIHx8IGZvcmNlKSB7XG4gICAgICAgICAgYXBwZW5kSW5kZXhlcy5wdXNoKF9pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoX2kgPiBwcmV2aW91c1RvKSBhcHBlbmRJbmRleGVzLnB1c2goX2kpO1xuICAgICAgICAgIGlmIChfaSA8IHByZXZpb3VzRnJvbSkgcHJlcGVuZEluZGV4ZXMucHVzaChfaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRJbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5hcHBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICB9KTtcbiAgICBwcmVwZW5kSW5kZXhlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYiAtIGE7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLnByZXBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICB9KTtcbiAgICBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbignLnN3aXBlci1zbGlkZScpLmNzcyhvZmZzZXRQcm9wLCBvZmZzZXQgKyBcInB4XCIpO1xuICAgIG9uUmVuZGVyZWQoKTtcbiAgfSxcbiAgcmVuZGVyU2xpZGU6IGZ1bmN0aW9uIHJlbmRlclNsaWRlKHNsaWRlLCBpbmRleCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnZpcnR1YWw7XG5cbiAgICBpZiAocGFyYW1zLmNhY2hlICYmIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSkge1xuICAgICAgcmV0dXJuIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XTtcbiAgICB9XG5cbiAgICB2YXIgJHNsaWRlRWwgPSBwYXJhbXMucmVuZGVyU2xpZGUgPyAoMCwgX2RvbS5kZWZhdWx0KShwYXJhbXMucmVuZGVyU2xpZGUuY2FsbChzd2lwZXIsIHNsaWRlLCBpbmRleCkpIDogKDAsIF9kb20uZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPVxcXCJcIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyArIFwiXFxcIiBkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cXFwiXCIgKyBpbmRleCArIFwiXFxcIj5cIiArIHNsaWRlICsgXCI8L2Rpdj5cIik7XG4gICAgaWYgKCEkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpKSAkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGluZGV4KTtcbiAgICBpZiAocGFyYW1zLmNhY2hlKSBzd2lwZXIudmlydHVhbC5jYWNoZVtpbmRleF0gPSAkc2xpZGVFbDtcbiAgICByZXR1cm4gJHNsaWRlRWw7XG4gIH0sXG4gIGFwcGVuZFNsaWRlOiBmdW5jdGlvbiBhcHBlbmRTbGlkZShzbGlkZXMpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlcyk7XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICB9LFxuICBwcmVwZW5kU2xpZGU6IGZ1bmN0aW9uIHByZXBlbmRTbGlkZShzbGlkZXMpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuICAgIHZhciBudW1iZXJPZk5ld1NsaWRlcyA9IDE7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbGlkZXMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldKSBzd2lwZXIudmlydHVhbC5zbGlkZXMudW5zaGlmdChzbGlkZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzLmxlbmd0aDtcbiAgICAgIG51bWJlck9mTmV3U2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoc2xpZGVzKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICB2YXIgY2FjaGUgPSBzd2lwZXIudmlydHVhbC5jYWNoZTtcbiAgICAgIHZhciBuZXdDYWNoZSA9IHt9O1xuICAgICAgT2JqZWN0LmtleXMoY2FjaGUpLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlZEluZGV4KSB7XG4gICAgICAgIHZhciAkY2FjaGVkRWwgPSBjYWNoZVtjYWNoZWRJbmRleF07XG4gICAgICAgIHZhciBjYWNoZWRFbEluZGV4ID0gJGNhY2hlZEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG5cbiAgICAgICAgaWYgKGNhY2hlZEVsSW5kZXgpIHtcbiAgICAgICAgICAkY2FjaGVkRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBwYXJzZUludChjYWNoZWRFbEluZGV4LCAxMCkgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0NhY2hlW3BhcnNlSW50KGNhY2hlZEluZGV4LCAxMCkgKyBudW1iZXJPZk5ld1NsaWRlc10gPSAkY2FjaGVkRWw7XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0gbmV3Q2FjaGU7XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgfSxcbiAgcmVtb3ZlU2xpZGU6IGZ1bmN0aW9uIHJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHNsaWRlc0luZGV4ZXMgPT09ICd1bmRlZmluZWQnIHx8IHNsaWRlc0luZGV4ZXMgPT09IG51bGwpIHJldHVybjtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbGlkZXNJbmRleGVzKSkge1xuICAgICAgZm9yICh2YXIgaSA9IHNsaWRlc0luZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnNwbGljZShzbGlkZXNJbmRleGVzW2ldLCAxKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci52aXJ0dWFsLmNhY2hlW3NsaWRlc0luZGV4ZXNbaV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNsaWRlc0luZGV4ZXNbaV0gPCBhY3RpdmVJbmRleCkgYWN0aXZlSW5kZXggLT0gMTtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBNYXRoLm1heChhY3RpdmVJbmRleCwgMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5zcGxpY2Uoc2xpZGVzSW5kZXhlcywgMSk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIHN3aXBlci52aXJ0dWFsLmNhY2hlW3NsaWRlc0luZGV4ZXNdO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2xpZGVzSW5kZXhlcyA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgYWN0aXZlSW5kZXggPSBNYXRoLm1heChhY3RpdmVJbmRleCwgMCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4LCAwKTtcbiAgfSxcbiAgcmVtb3ZlQWxsU2xpZGVzOiBmdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzID0gW107XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIHN3aXBlci52aXJ0dWFsLnVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbygwLCAwKTtcbiAgfVxufTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgbmFtZTogJ3ZpcnR1YWwnLFxuICBwYXJhbXM6IHtcbiAgICB2aXJ0dWFsOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIHNsaWRlczogW10sXG4gICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIHJlbmRlclNsaWRlOiBudWxsLFxuICAgICAgcmVuZGVyRXh0ZXJuYWw6IG51bGwsXG4gICAgICByZW5kZXJFeHRlcm5hbFVwZGF0ZTogdHJ1ZSxcbiAgICAgIGFkZFNsaWRlc0JlZm9yZTogMCxcbiAgICAgIGFkZFNsaWRlc0FmdGVyOiAwXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIHZpcnR1YWw6IF9leHRlbmRzKHt9LCBWaXJ0dWFsLCB7XG4gICAgICAgIHNsaWRlczogc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnNsaWRlcyxcbiAgICAgICAgY2FjaGU6IHt9XG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwidmlydHVhbFwiKTtcbiAgICAgIHZhciBvdmVyd3JpdGVQYXJhbXMgPSB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWVcbiAgICAgIH07XG4gICAgICAoMCwgX3V0aWxzLmV4dGVuZCkoc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICAgICgwLCBfdXRpbHMuZXh0ZW5kKShzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG5cbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUpIHtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2RvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3V0aWxzL2RvbVwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBab29tID0ge1xuICAvLyBDYWxjIFNjYWxlIEZyb20gTXVsdGktdG91Y2hlc1xuICBnZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzOiBmdW5jdGlvbiBnZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzKGUpIHtcbiAgICBpZiAoZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiAxO1xuICAgIHZhciB4MSA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICB2YXIgeTEgPSBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgdmFyIHgyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VYO1xuICAgIHZhciB5MiA9IGUudGFyZ2V0VG91Y2hlc1sxXS5wYWdlWTtcbiAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XG4gICAgcmV0dXJuIGRpc3RhbmNlO1xuICB9LFxuICAvLyBFdmVudHNcbiAgb25HZXN0dXJlU3RhcnQ6IGZ1bmN0aW9uIG9uR2VzdHVyZVN0YXJ0KGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZTtcbiAgICB6b29tLmZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgIHpvb20uZmFrZUdlc3R1cmVNb3ZlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICBpZiAoZS50eXBlICE9PSAndG91Y2hzdGFydCcgfHwgZS50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB6b29tLmZha2VHZXN0dXJlVG91Y2hlZCA9IHRydWU7XG4gICAgICBnZXN0dXJlLnNjYWxlU3RhcnQgPSBab29tLmdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsIHx8ICFnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCkge1xuICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9ICgwLCBfZG9tLmRlZmF1bHQpKGUudGFyZ2V0KS5jbG9zZXN0KFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICAgIGlmIChnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCA9PT0gMCkgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwgPSBnZXN0dXJlLiRzbGlkZUVsLmZpbmQoJ2ltZywgc3ZnLCBjYW52YXMsIHBpY3R1cmUsIC5zd2lwZXItem9vbS10YXJnZXQnKTtcbiAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsID0gZ2VzdHVyZS4kaW1hZ2VFbC5wYXJlbnQoXCIuXCIgKyBwYXJhbXMuY29udGFpbmVyQ2xhc3MpO1xuICAgICAgZ2VzdHVyZS5tYXhSYXRpbyA9IGdlc3R1cmUuJGltYWdlV3JhcEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXpvb20nKSB8fCBwYXJhbXMubWF4UmF0aW87XG5cbiAgICAgIGlmIChnZXN0dXJlLiRpbWFnZVdyYXBFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnZXN0dXJlLiRpbWFnZUVsKSB7XG4gICAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zaXRpb24oMCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLnpvb20uaXNTY2FsaW5nID0gdHJ1ZTtcbiAgfSxcbiAgb25HZXN0dXJlQ2hhbmdlOiBmdW5jdGlvbiBvbkdlc3R1cmVDaGFuZ2UoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlO1xuXG4gICAgaWYgKCFzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICBpZiAoZS50eXBlICE9PSAndG91Y2htb3ZlJyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgem9vbS5mYWtlR2VzdHVyZU1vdmVkID0gdHJ1ZTtcbiAgICAgIGdlc3R1cmUuc2NhbGVNb3ZlID0gWm9vbS5nZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzKGUpO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ2dlc3R1cmVjaGFuZ2UnKSB6b29tLm9uR2VzdHVyZVN0YXJ0KGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICB6b29tLnNjYWxlID0gZS5zY2FsZSAqIHpvb20uY3VycmVudFNjYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICB6b29tLnNjYWxlID0gZ2VzdHVyZS5zY2FsZU1vdmUgLyBnZXN0dXJlLnNjYWxlU3RhcnQgKiB6b29tLmN1cnJlbnRTY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoem9vbS5zY2FsZSA+IGdlc3R1cmUubWF4UmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLm1heFJhdGlvIC0gMSArIE1hdGgucG93KHpvb20uc2NhbGUgLSBnZXN0dXJlLm1heFJhdGlvICsgMSwgMC41KTtcbiAgICB9XG5cbiAgICBpZiAoem9vbS5zY2FsZSA8IHBhcmFtcy5taW5SYXRpbykge1xuICAgICAgem9vbS5zY2FsZSA9IHBhcmFtcy5taW5SYXRpbyArIDEgLSBNYXRoLnBvdyhwYXJhbXMubWluUmF0aW8gLSB6b29tLnNjYWxlICsgMSwgMC41KTtcbiAgICB9XG5cbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gIH0sXG4gIG9uR2VzdHVyZUVuZDogZnVuY3Rpb24gb25HZXN0dXJlRW5kKGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZGV2aWNlID0gc3dpcGVyLmRldmljZTtcbiAgICB2YXIgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZTtcblxuICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgaWYgKCF6b29tLmZha2VHZXN0dXJlVG91Y2hlZCB8fCAhem9vbS5mYWtlR2VzdHVyZU1vdmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGVuZCcgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPCAyICYmICFkZXZpY2UuYW5kcm9pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHpvb20uZmFrZUdlc3R1cmVUb3VjaGVkID0gZmFsc2U7XG4gICAgICB6b29tLmZha2VHZXN0dXJlTW92ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB6b29tLnNjYWxlID0gTWF0aC5tYXgoTWF0aC5taW4oem9vbS5zY2FsZSwgZ2VzdHVyZS5tYXhSYXRpbyksIHBhcmFtcy5taW5SYXRpbyk7XG4gICAgZ2VzdHVyZS4kaW1hZ2VFbC50cmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gICAgem9vbS5jdXJyZW50U2NhbGUgPSB6b29tLnNjYWxlO1xuICAgIHpvb20uaXNTY2FsaW5nID0gZmFsc2U7XG4gICAgaWYgKHpvb20uc2NhbGUgPT09IDEpIGdlc3R1cmUuJHNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gIH0sXG4gIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZGV2aWNlID0gc3dpcGVyLmRldmljZTtcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlLFxuICAgICAgICBpbWFnZSA9IHpvb20uaW1hZ2U7XG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgaWYgKGltYWdlLmlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGlmIChkZXZpY2UuYW5kcm9pZCAmJiBlLmNhbmNlbGFibGUpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpbWFnZS5pc1RvdWNoZWQgPSB0cnVlO1xuICAgIGltYWdlLnRvdWNoZXNTdGFydC54ID0gZS50eXBlID09PSAndG91Y2hzdGFydCcgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICAgIGltYWdlLnRvdWNoZXNTdGFydC55ID0gZS50eXBlID09PSAndG91Y2hzdGFydCcgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICB9LFxuICBvblRvdWNoTW92ZTogZnVuY3Rpb24gb25Ub3VjaE1vdmUoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgIGltYWdlID0gem9vbS5pbWFnZSxcbiAgICAgICAgdmVsb2NpdHkgPSB6b29tLnZlbG9jaXR5O1xuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgaWYgKCFpbWFnZS5pc1RvdWNoZWQgfHwgIWdlc3R1cmUuJHNsaWRlRWwpIHJldHVybjtcblxuICAgIGlmICghaW1hZ2UuaXNNb3ZlZCkge1xuICAgICAgaW1hZ2Uud2lkdGggPSBnZXN0dXJlLiRpbWFnZUVsWzBdLm9mZnNldFdpZHRoO1xuICAgICAgaW1hZ2UuaGVpZ2h0ID0gZ2VzdHVyZS4kaW1hZ2VFbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBpbWFnZS5zdGFydFggPSAoMCwgX3V0aWxzLmdldFRyYW5zbGF0ZSkoZ2VzdHVyZS4kaW1hZ2VXcmFwRWxbMF0sICd4JykgfHwgMDtcbiAgICAgIGltYWdlLnN0YXJ0WSA9ICgwLCBfdXRpbHMuZ2V0VHJhbnNsYXRlKShnZXN0dXJlLiRpbWFnZVdyYXBFbFswXSwgJ3knKSB8fCAwO1xuICAgICAgZ2VzdHVyZS5zbGlkZVdpZHRoID0gZ2VzdHVyZS4kc2xpZGVFbFswXS5vZmZzZXRXaWR0aDtcbiAgICAgIGdlc3R1cmUuc2xpZGVIZWlnaHQgPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oMCk7XG4gICAgfSAvLyBEZWZpbmUgaWYgd2UgbmVlZCBpbWFnZSBkcmFnXG5cblxuICAgIHZhciBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICB2YXIgc2NhbGVkSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogem9vbS5zY2FsZTtcbiAgICBpZiAoc2NhbGVkV2lkdGggPCBnZXN0dXJlLnNsaWRlV2lkdGggJiYgc2NhbGVkSGVpZ2h0IDwgZ2VzdHVyZS5zbGlkZUhlaWdodCkgcmV0dXJuO1xuICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhYID0gLWltYWdlLm1pblg7XG4gICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICBpbWFnZS50b3VjaGVzQ3VycmVudC55ID0gZS50eXBlID09PSAndG91Y2htb3ZlJyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG5cbiAgICBpZiAoIWltYWdlLmlzTW92ZWQgJiYgIXpvb20uaXNTY2FsaW5nKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIChNYXRoLmZsb29yKGltYWdlLm1pblgpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WCkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueCA8IGltYWdlLnRvdWNoZXNTdGFydC54IHx8IE1hdGguZmxvb3IoaW1hZ2UubWF4WCkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRYKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC54ID4gaW1hZ2UudG91Y2hlc1N0YXJ0LngpKSB7XG4gICAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIChNYXRoLmZsb29yKGltYWdlLm1pblkpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WSkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA8IGltYWdlLnRvdWNoZXNTdGFydC55IHx8IE1hdGguZmxvb3IoaW1hZ2UubWF4WSkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRZKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC55ID4gaW1hZ2UudG91Y2hlc1N0YXJ0LnkpKSB7XG4gICAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUuY2FuY2VsYWJsZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaW1hZ2UuaXNNb3ZlZCA9IHRydWU7XG4gICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gaW1hZ2UudG91Y2hlc1N0YXJ0LnggKyBpbWFnZS5zdGFydFg7XG4gICAgaW1hZ2UuY3VycmVudFkgPSBpbWFnZS50b3VjaGVzQ3VycmVudC55IC0gaW1hZ2UudG91Y2hlc1N0YXJ0LnkgKyBpbWFnZS5zdGFydFk7XG5cbiAgICBpZiAoaW1hZ2UuY3VycmVudFggPCBpbWFnZS5taW5YKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WCA9IGltYWdlLm1pblggKyAxIC0gTWF0aC5wb3coaW1hZ2UubWluWCAtIGltYWdlLmN1cnJlbnRYICsgMSwgMC44KTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2UuY3VycmVudFggPiBpbWFnZS5tYXhYKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WCA9IGltYWdlLm1heFggLSAxICsgTWF0aC5wb3coaW1hZ2UuY3VycmVudFggLSBpbWFnZS5tYXhYICsgMSwgMC44KTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2UuY3VycmVudFkgPCBpbWFnZS5taW5ZKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1pblkgKyAxIC0gTWF0aC5wb3coaW1hZ2UubWluWSAtIGltYWdlLmN1cnJlbnRZICsgMSwgMC44KTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2UuY3VycmVudFkgPiBpbWFnZS5tYXhZKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1heFkgLSAxICsgTWF0aC5wb3coaW1hZ2UuY3VycmVudFkgLSBpbWFnZS5tYXhZICsgMSwgMC44KTtcbiAgICB9IC8vIFZlbG9jaXR5XG5cblxuICAgIGlmICghdmVsb2NpdHkucHJldlBvc2l0aW9uWCkgdmVsb2NpdHkucHJldlBvc2l0aW9uWCA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lng7XG4gICAgaWYgKCF2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZKSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueTtcbiAgICBpZiAoIXZlbG9jaXR5LnByZXZUaW1lKSB2ZWxvY2l0eS5wcmV2VGltZSA9IERhdGUubm93KCk7XG4gICAgdmVsb2NpdHkueCA9IChpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWCkgLyAoRGF0ZS5ub3coKSAtIHZlbG9jaXR5LnByZXZUaW1lKSAvIDI7XG4gICAgdmVsb2NpdHkueSA9IChpbWFnZS50b3VjaGVzQ3VycmVudC55IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgLyAoRGF0ZS5ub3coKSAtIHZlbG9jaXR5LnByZXZUaW1lKSAvIDI7XG4gICAgaWYgKE1hdGguYWJzKGltYWdlLnRvdWNoZXNDdXJyZW50LnggLSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25YKSA8IDIpIHZlbG9jaXR5LnggPSAwO1xuICAgIGlmIChNYXRoLmFicyhpbWFnZS50b3VjaGVzQ3VycmVudC55IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgPCAyKSB2ZWxvY2l0eS55ID0gMDtcbiAgICB2ZWxvY2l0eS5wcmV2UG9zaXRpb25YID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueDtcbiAgICB2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueTtcbiAgICB2ZWxvY2l0eS5wcmV2VGltZSA9IERhdGUubm93KCk7XG4gICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBpbWFnZS5jdXJyZW50WCArIFwicHgsIFwiICsgaW1hZ2UuY3VycmVudFkgKyBcInB4LDApXCIpO1xuICB9LFxuICBvblRvdWNoRW5kOiBmdW5jdGlvbiBvblRvdWNoRW5kKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgIGltYWdlID0gem9vbS5pbWFnZSxcbiAgICAgICAgdmVsb2NpdHkgPSB6b29tLnZlbG9jaXR5O1xuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgaWYgKCFpbWFnZS5pc1RvdWNoZWQgfHwgIWltYWdlLmlzTW92ZWQpIHtcbiAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgaW1hZ2UuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGltYWdlLmlzTW92ZWQgPSBmYWxzZTtcbiAgICB2YXIgbW9tZW50dW1EdXJhdGlvblggPSAzMDA7XG4gICAgdmFyIG1vbWVudHVtRHVyYXRpb25ZID0gMzAwO1xuICAgIHZhciBtb21lbnR1bURpc3RhbmNlWCA9IHZlbG9jaXR5LnggKiBtb21lbnR1bUR1cmF0aW9uWDtcbiAgICB2YXIgbmV3UG9zaXRpb25YID0gaW1hZ2UuY3VycmVudFggKyBtb21lbnR1bURpc3RhbmNlWDtcbiAgICB2YXIgbW9tZW50dW1EaXN0YW5jZVkgPSB2ZWxvY2l0eS55ICogbW9tZW50dW1EdXJhdGlvblk7XG4gICAgdmFyIG5ld1Bvc2l0aW9uWSA9IGltYWdlLmN1cnJlbnRZICsgbW9tZW50dW1EaXN0YW5jZVk7IC8vIEZpeCBkdXJhdGlvblxuXG4gICAgaWYgKHZlbG9jaXR5LnggIT09IDApIG1vbWVudHVtRHVyYXRpb25YID0gTWF0aC5hYnMoKG5ld1Bvc2l0aW9uWCAtIGltYWdlLmN1cnJlbnRYKSAvIHZlbG9jaXR5LngpO1xuICAgIGlmICh2ZWxvY2l0eS55ICE9PSAwKSBtb21lbnR1bUR1cmF0aW9uWSA9IE1hdGguYWJzKChuZXdQb3NpdGlvblkgLSBpbWFnZS5jdXJyZW50WSkgLyB2ZWxvY2l0eS55KTtcbiAgICB2YXIgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGgubWF4KG1vbWVudHVtRHVyYXRpb25YLCBtb21lbnR1bUR1cmF0aW9uWSk7XG4gICAgaW1hZ2UuY3VycmVudFggPSBuZXdQb3NpdGlvblg7XG4gICAgaW1hZ2UuY3VycmVudFkgPSBuZXdQb3NpdGlvblk7IC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcblxuICAgIHZhciBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICB2YXIgc2NhbGVkSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogem9vbS5zY2FsZTtcbiAgICBpbWFnZS5taW5YID0gTWF0aC5taW4oZ2VzdHVyZS5zbGlkZVdpZHRoIC8gMiAtIHNjYWxlZFdpZHRoIC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WCA9IC1pbWFnZS5taW5YO1xuICAgIGltYWdlLm1pblkgPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgIGltYWdlLm1heFkgPSAtaW1hZ2UubWluWTtcbiAgICBpbWFnZS5jdXJyZW50WCA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRYLCBpbWFnZS5tYXhYKSwgaW1hZ2UubWluWCk7XG4gICAgaW1hZ2UuY3VycmVudFkgPSBNYXRoLm1heChNYXRoLm1pbihpbWFnZS5jdXJyZW50WSwgaW1hZ2UubWF4WSksIGltYWdlLm1pblkpO1xuICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbikudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBpbWFnZS5jdXJyZW50WCArIFwicHgsIFwiICsgaW1hZ2UuY3VycmVudFkgKyBcInB4LDApXCIpO1xuICB9LFxuICBvblRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlO1xuXG4gICAgaWYgKGdlc3R1cmUuJHNsaWRlRWwgJiYgc3dpcGVyLnByZXZpb3VzSW5kZXggIT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgICAgaWYgKGdlc3R1cmUuJGltYWdlRWwpIHtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VFbC50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2VzdHVyZS4kaW1hZ2VXcmFwRWwpIHtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICAgIH1cblxuICAgICAgem9vbS5zY2FsZSA9IDE7XG4gICAgICB6b29tLmN1cnJlbnRTY2FsZSA9IDE7XG4gICAgICBnZXN0dXJlLiRzbGlkZUVsID0gdW5kZWZpbmVkO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IHVuZGVmaW5lZDtcbiAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy8gVG9nZ2xlIFpvb21cbiAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG5cbiAgICBpZiAoem9vbS5zY2FsZSAmJiB6b29tLnNjYWxlICE9PSAxKSB7XG4gICAgICAvLyBab29tIE91dFxuICAgICAgem9vbS5vdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gWm9vbSBJblxuICAgICAgem9vbS5pbihlKTtcbiAgICB9XG4gIH0sXG4gIGluOiBmdW5jdGlvbiBfaW4oZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlLFxuICAgICAgICBpbWFnZSA9IHpvb20uaW1hZ2U7XG5cbiAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwpIHtcbiAgICAgIGlmIChlICYmIGUudGFyZ2V0KSB7XG4gICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSAoMCwgX2RvbS5kZWZhdWx0KShlLnRhcmdldCkuY2xvc2VzdChcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2VzdHVyZS4kc2xpZGVFbCkge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdlc3R1cmUuJGltYWdlRWwgPSBnZXN0dXJlLiRzbGlkZUVsLmZpbmQoJ2ltZywgc3ZnLCBjYW52YXMsIHBpY3R1cmUsIC5zd2lwZXItem9vbS10YXJnZXQnKTtcbiAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsID0gZ2VzdHVyZS4kaW1hZ2VFbC5wYXJlbnQoXCIuXCIgKyBwYXJhbXMuY29udGFpbmVyQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCB8fCAhZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgfHwgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgZ2VzdHVyZS4kc2xpZGVFbC5hZGRDbGFzcyhcIlwiICsgcGFyYW1zLnpvb21lZFNsaWRlQ2xhc3MpO1xuICAgIHZhciB0b3VjaFg7XG4gICAgdmFyIHRvdWNoWTtcbiAgICB2YXIgb2Zmc2V0WDtcbiAgICB2YXIgb2Zmc2V0WTtcbiAgICB2YXIgZGlmZlg7XG4gICAgdmFyIGRpZmZZO1xuICAgIHZhciB0cmFuc2xhdGVYO1xuICAgIHZhciB0cmFuc2xhdGVZO1xuICAgIHZhciBpbWFnZVdpZHRoO1xuICAgIHZhciBpbWFnZUhlaWdodDtcbiAgICB2YXIgc2NhbGVkV2lkdGg7XG4gICAgdmFyIHNjYWxlZEhlaWdodDtcbiAgICB2YXIgdHJhbnNsYXRlTWluWDtcbiAgICB2YXIgdHJhbnNsYXRlTWluWTtcbiAgICB2YXIgdHJhbnNsYXRlTWF4WDtcbiAgICB2YXIgdHJhbnNsYXRlTWF4WTtcbiAgICB2YXIgc2xpZGVXaWR0aDtcbiAgICB2YXIgc2xpZGVIZWlnaHQ7XG5cbiAgICBpZiAodHlwZW9mIGltYWdlLnRvdWNoZXNTdGFydC54ID09PSAndW5kZWZpbmVkJyAmJiBlKSB7XG4gICAgICB0b3VjaFggPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICAgIHRvdWNoWSA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaFggPSBpbWFnZS50b3VjaGVzU3RhcnQueDtcbiAgICAgIHRvdWNoWSA9IGltYWdlLnRvdWNoZXNTdGFydC55O1xuICAgIH1cblxuICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLiRpbWFnZVdyYXBFbC5hdHRyKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIHpvb20uY3VycmVudFNjYWxlID0gZ2VzdHVyZS4kaW1hZ2VXcmFwRWwuYXR0cignZGF0YS1zd2lwZXItem9vbScpIHx8IHBhcmFtcy5tYXhSYXRpbztcblxuICAgIGlmIChlKSB7XG4gICAgICBzbGlkZVdpZHRoID0gZ2VzdHVyZS4kc2xpZGVFbFswXS5vZmZzZXRXaWR0aDtcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZ2VzdHVyZS4kc2xpZGVFbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBvZmZzZXRYID0gZ2VzdHVyZS4kc2xpZGVFbC5vZmZzZXQoKS5sZWZ0ICsgd2luZG93LnNjcm9sbFg7XG4gICAgICBvZmZzZXRZID0gZ2VzdHVyZS4kc2xpZGVFbC5vZmZzZXQoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIGRpZmZYID0gb2Zmc2V0WCArIHNsaWRlV2lkdGggLyAyIC0gdG91Y2hYO1xuICAgICAgZGlmZlkgPSBvZmZzZXRZICsgc2xpZGVIZWlnaHQgLyAyIC0gdG91Y2hZO1xuICAgICAgaW1hZ2VXaWR0aCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICBpbWFnZUhlaWdodCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgc2NhbGVkV2lkdGggPSBpbWFnZVdpZHRoICogem9vbS5zY2FsZTtcbiAgICAgIHNjYWxlZEhlaWdodCA9IGltYWdlSGVpZ2h0ICogem9vbS5zY2FsZTtcbiAgICAgIHRyYW5zbGF0ZU1pblggPSBNYXRoLm1pbihzbGlkZVdpZHRoIC8gMiAtIHNjYWxlZFdpZHRoIC8gMiwgMCk7XG4gICAgICB0cmFuc2xhdGVNaW5ZID0gTWF0aC5taW4oc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgICB0cmFuc2xhdGVNYXhYID0gLXRyYW5zbGF0ZU1pblg7XG4gICAgICB0cmFuc2xhdGVNYXhZID0gLXRyYW5zbGF0ZU1pblk7XG4gICAgICB0cmFuc2xhdGVYID0gZGlmZlggKiB6b29tLnNjYWxlO1xuICAgICAgdHJhbnNsYXRlWSA9IGRpZmZZICogem9vbS5zY2FsZTtcblxuICAgICAgaWYgKHRyYW5zbGF0ZVggPCB0cmFuc2xhdGVNaW5YKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGVNaW5YO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNsYXRlWCA+IHRyYW5zbGF0ZU1heFgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1heFg7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFuc2xhdGVZIDwgdHJhbnNsYXRlTWluWSkge1xuICAgICAgICB0cmFuc2xhdGVZID0gdHJhbnNsYXRlTWluWTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYW5zbGF0ZVkgPiB0cmFuc2xhdGVNYXhZKSB7XG4gICAgICAgIHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGVNYXhZO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2xhdGVYID0gMDtcbiAgICAgIHRyYW5zbGF0ZVkgPSAwO1xuICAgIH1cblxuICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHRyYW5zbGF0ZVggKyBcInB4LCBcIiArIHRyYW5zbGF0ZVkgKyBcInB4LDApXCIpO1xuICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gIH0sXG4gIG91dDogZnVuY3Rpb24gb3V0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZTtcblxuICAgIGlmICghZ2VzdHVyZS4kc2xpZGVFbCkge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCkge1xuICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIH1cblxuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IGdlc3R1cmUuJHNsaWRlRWwuZmluZCgnaW1nLCBzdmcsIGNhbnZhcywgcGljdHVyZSwgLnN3aXBlci16b29tLXRhcmdldCcpO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSBnZXN0dXJlLiRpbWFnZUVsLnBhcmVudChcIi5cIiArIHBhcmFtcy5jb250YWluZXJDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwIHx8ICFnZXN0dXJlLiRpbWFnZVdyYXBFbCB8fCBnZXN0dXJlLiRpbWFnZVdyYXBFbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB6b29tLnNjYWxlID0gMTtcbiAgICB6b29tLmN1cnJlbnRTY2FsZSA9IDE7XG4gICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwwLDApJyk7XG4gICAgZ2VzdHVyZS4kaW1hZ2VFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoMSknKTtcbiAgICBnZXN0dXJlLiRzbGlkZUVsLnJlbW92ZUNsYXNzKFwiXCIgKyBwYXJhbXMuem9vbWVkU2xpZGVDbGFzcyk7XG4gICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHVuZGVmaW5lZDtcbiAgfSxcbiAgdG9nZ2xlR2VzdHVyZXM6IGZ1bmN0aW9uIHRvZ2dsZUdlc3R1cmVzKG1ldGhvZCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgdmFyIHNlbGVjdG9yID0gem9vbS5zbGlkZVNlbGVjdG9yLFxuICAgICAgICBwYXNzaXZlID0gem9vbS5wYXNzaXZlTGlzdGVuZXI7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWxbbWV0aG9kXSgnZ2VzdHVyZXN0YXJ0Jywgc2VsZWN0b3IsIHpvb20ub25HZXN0dXJlU3RhcnQsIHBhc3NpdmUpO1xuICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVjaGFuZ2UnLCBzZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVDaGFuZ2UsIHBhc3NpdmUpO1xuICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVlbmQnLCBzZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVFbmQsIHBhc3NpdmUpO1xuICB9LFxuICBlbmFibGVHZXN0dXJlczogZnVuY3Rpb24gZW5hYmxlR2VzdHVyZXMoKSB7XG4gICAgaWYgKHRoaXMuem9vbS5nZXN0dXJlc0VuYWJsZWQpIHJldHVybjtcbiAgICB0aGlzLnpvb20uZ2VzdHVyZXNFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnpvb20udG9nZ2xlR2VzdHVyZXMoJ29uJyk7XG4gIH0sXG4gIGRpc2FibGVHZXN0dXJlczogZnVuY3Rpb24gZGlzYWJsZUdlc3R1cmVzKCkge1xuICAgIGlmICghdGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMuem9vbS5nZXN0dXJlc0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnpvb20udG9nZ2xlR2VzdHVyZXMoJ29mZicpO1xuICB9LFxuICAvLyBBdHRhY2gvRGV0YWNoIEV2ZW50c1xuICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKHpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIHpvb20uZW5hYmxlZCA9IHRydWU7XG4gICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnICYmIHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICB2YXIgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSA6IHRydWU7XG4gICAgdmFyIHNsaWRlU2VsZWN0b3IgPSBcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcztcbiAgICBzd2lwZXIuem9vbS5wYXNzaXZlTGlzdGVuZXIgPSBwYXNzaXZlTGlzdGVuZXI7XG4gICAgc3dpcGVyLnpvb20uc2xpZGVTZWxlY3RvciA9IHNsaWRlU2VsZWN0b3I7IC8vIFNjYWxlIGltYWdlXG5cbiAgICBpZiAoc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIuem9vbS5lbmFibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIHN3aXBlci56b29tLmRpc2FibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVDaGFuZ2UsIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLmVuZCwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgIGlmIChzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gLy8gTW92ZSBpbWFnZVxuXG5cbiAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgXCIuXCIgKyBzd2lwZXIucGFyYW1zLnpvb20uY29udGFpbmVyQ2xhc3MsIHpvb20ub25Ub3VjaE1vdmUsIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUpO1xuICB9LFxuICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCF6b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICB2YXIgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHN3aXBlci56b29tLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgc3dpcGVyLnBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIHZhciBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9IDogdHJ1ZTtcbiAgICB2YXIgc2xpZGVTZWxlY3RvciA9IFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzOyAvLyBTY2FsZSBpbWFnZVxuXG4gICAgaWYgKHN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci56b29tLmVuYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIHN3aXBlci56b29tLmRpc2FibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5tb3ZlLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLmVuZCwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgIGlmIChzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IC8vIE1vdmUgaW1hZ2VcblxuXG4gICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5tb3ZlLCBcIi5cIiArIHN3aXBlci5wYXJhbXMuem9vbS5jb250YWluZXJDbGFzcywgem9vbS5vblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICd6b29tJyxcbiAgcGFyYW1zOiB7XG4gICAgem9vbToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBtYXhSYXRpbzogMyxcbiAgICAgIG1pblJhdGlvOiAxLFxuICAgICAgdG9nZ2xlOiB0cnVlLFxuICAgICAgY29udGFpbmVyQ2xhc3M6ICdzd2lwZXItem9vbS1jb250YWluZXInLFxuICAgICAgem9vbWVkU2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZS16b29tZWQnXG4gICAgfVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAoMCwgX3V0aWxzLmJpbmRNb2R1bGVNZXRob2RzKShzd2lwZXIsIHtcbiAgICAgIHpvb206IF9leHRlbmRzKHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBjdXJyZW50U2NhbGU6IDEsXG4gICAgICAgIGlzU2NhbGluZzogZmFsc2UsXG4gICAgICAgIGdlc3R1cmU6IHtcbiAgICAgICAgICAkc2xpZGVFbDogdW5kZWZpbmVkLFxuICAgICAgICAgIHNsaWRlV2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzbGlkZUhlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgICRpbWFnZUVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgJGltYWdlV3JhcEVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWF4UmF0aW86IDNcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgY3VycmVudFg6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjdXJyZW50WTogdW5kZWZpbmVkLFxuICAgICAgICAgIG1pblg6IHVuZGVmaW5lZCxcbiAgICAgICAgICBtaW5ZOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWF4WDogdW5kZWZpbmVkLFxuICAgICAgICAgIG1heFk6IHVuZGVmaW5lZCxcbiAgICAgICAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgICAgICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YXJ0WDogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YXJ0WTogdW5kZWZpbmVkLFxuICAgICAgICAgIHRvdWNoZXNTdGFydDoge30sXG4gICAgICAgICAgdG91Y2hlc0N1cnJlbnQ6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHZlbG9jaXR5OiB7XG4gICAgICAgICAgeDogdW5kZWZpbmVkLFxuICAgICAgICAgIHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICBwcmV2UG9zaXRpb25YOiB1bmRlZmluZWQsXG4gICAgICAgICAgcHJldlBvc2l0aW9uWTogdW5kZWZpbmVkLFxuICAgICAgICAgIHByZXZUaW1lOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgfSwgWm9vbSlcbiAgICB9KTtcbiAgICB2YXIgc2NhbGUgPSAxO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzd2lwZXIuem9vbSwgJ3NjYWxlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAoc2NhbGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGltYWdlRWwgPSBzd2lwZXIuem9vbS5nZXN0dXJlLiRpbWFnZUVsID8gc3dpcGVyLnpvb20uZ2VzdHVyZS4kaW1hZ2VFbFswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICB2YXIgc2xpZGVFbCA9IHN3aXBlci56b29tLmdlc3R1cmUuJHNsaWRlRWwgPyBzd2lwZXIuem9vbS5nZXN0dXJlLiRzbGlkZUVsWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCd6b29tQ2hhbmdlJywgdmFsdWUsIGltYWdlRWwsIHNsaWRlRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NhbGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci56b29tLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci56b29tLmRpc2FibGUoKTtcbiAgICB9LFxuICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIHRvdWNoU3RhcnQoc3dpcGVyLCBlKSB7XG4gICAgICBpZiAoIXN3aXBlci56b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci56b29tLm9uVG91Y2hTdGFydChlKTtcbiAgICB9LFxuICAgIHRvdWNoRW5kOiBmdW5jdGlvbiB0b3VjaEVuZChzd2lwZXIsIGUpIHtcbiAgICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnpvb20ub25Ub3VjaEVuZChlKTtcbiAgICB9LFxuICAgIGRvdWJsZVRhcDogZnVuY3Rpb24gZG91YmxlVGFwKHN3aXBlciwgZSkge1xuICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nICYmIHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkICYmIHN3aXBlci56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy56b29tLnRvZ2dsZSkge1xuICAgICAgICBzd2lwZXIuem9vbS50b2dnbGUoZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKHN3aXBlcikge1xuICAgICAgaWYgKHN3aXBlci56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLnpvb20ub25UcmFuc2l0aW9uRW5kKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICBpZiAoc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgc3dpcGVyLnpvb20ub25UcmFuc2l0aW9uRW5kKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBPYnNlcnZlciA9IHtcbiAgYXR0YWNoOiBmdW5jdGlvbiBhdHRhY2godGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBPYnNlcnZlckZ1bmMoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgLy8gVGhlIG9ic2VydmVyVXBkYXRlIGV2ZW50IHNob3VsZCBvbmx5IGJlIHRyaWdnZXJlZFxuICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgLy8gdHJpZ2dlcnMgYXJlIHJlZHVuZGFudCBhbmQgYXJlIHZlcnkgY29zdGx5XG4gICAgICBpZiAobXV0YXRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBzd2lwZXIuZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvYnNlcnZlclVwZGF0ZSA9IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKCkge1xuICAgICAgICBzd2lwZXIuZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShvYnNlcnZlclVwZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvYnNlcnZlclVwZGF0ZSwgMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuYXR0cmlidXRlcyxcbiAgICAgIGNoaWxkTGlzdDogdHlwZW9mIG9wdGlvbnMuY2hpbGRMaXN0ID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoaWxkTGlzdCxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHR5cGVvZiBvcHRpb25zLmNoYXJhY3RlckRhdGEgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuY2hhcmFjdGVyRGF0YVxuICAgIH0pO1xuICAgIHN3aXBlci5vYnNlcnZlci5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5vYnNlcnZlciB8fCAhc3dpcGVyLnBhcmFtcy5vYnNlcnZlcikgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIHtcbiAgICAgIHZhciBjb250YWluZXJQYXJlbnRzID0gc3dpcGVyLiRlbC5wYXJlbnRzKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzd2lwZXIub2JzZXJ2ZXIuYXR0YWNoKGNvbnRhaW5lclBhcmVudHNbaV0pO1xuICAgICAgfVxuICAgIH0gLy8gT2JzZXJ2ZSBjb250YWluZXJcblxuXG4gICAgc3dpcGVyLm9ic2VydmVyLmF0dGFjaChzd2lwZXIuJGVsWzBdLCB7XG4gICAgICBjaGlsZExpc3Q6IHN3aXBlci5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW5cbiAgICB9KTsgLy8gT2JzZXJ2ZSB3cmFwcGVyXG5cbiAgICBzd2lwZXIub2JzZXJ2ZXIuYXR0YWNoKHN3aXBlci4kd3JhcHBlckVsWzBdLCB7XG4gICAgICBhdHRyaWJ1dGVzOiBmYWxzZVxuICAgIH0pO1xuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5vYnNlcnZlci5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgICBzd2lwZXIub2JzZXJ2ZXIub2JzZXJ2ZXJzID0gW107XG4gIH1cbn07XG52YXIgX2RlZmF1bHQgPSB7XG4gIG5hbWU6ICdvYnNlcnZlcicsXG4gIHBhcmFtczoge1xuICAgIG9ic2VydmVyOiBmYWxzZSxcbiAgICBvYnNlcnZlUGFyZW50czogZmFsc2UsXG4gICAgb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46IGZhbHNlXG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICgwLCBfdXRpbHMuYmluZE1vZHVsZU1ldGhvZHMpKHN3aXBlciwge1xuICAgICAgb2JzZXJ2ZXI6IF9leHRlbmRzKHt9LCBPYnNlcnZlciwge1xuICAgICAgICBvYnNlcnZlcnM6IFtdXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICBzd2lwZXIub2JzZXJ2ZXIuaW5pdCgpO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5vYnNlcnZlci5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfc3NyV2luZG93ID0gcmVxdWlyZShcInNzci13aW5kb3dcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5cbnZhciBzdXBwb3J0c1Jlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24gc3VwcG9ydHNSZXNpemVPYnNlcnZlcigpIHtcbiAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnO1xufTtcblxudmFyIF9kZWZhdWx0ID0ge1xuICBuYW1lOiAncmVzaXplJyxcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgKDAsIF91dGlscy5leHRlbmQpKHN3aXBlciwge1xuICAgICAgcmVzaXplOiB7XG4gICAgICAgIG9ic2VydmVyOiBudWxsLFxuICAgICAgICBjcmVhdGVPYnNlcnZlcjogZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLnJlc2l6ZS5vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3dpcGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHN3aXBlci5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHZhciBuZXdIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgICAgdmFyIGNvbnRlbnRCb3hTaXplID0gX3JlZi5jb250ZW50Qm94U2l6ZSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRSZWN0ID0gX3JlZi5jb250ZW50UmVjdCxcbiAgICAgICAgICAgICAgICAgIHRhcmdldCA9IF9yZWYudGFyZ2V0O1xuICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgICAgIG5ld1dpZHRoID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC53aWR0aCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuaW5saW5lU2l6ZTtcbiAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC5oZWlnaHQgOiAoY29udGVudEJveFNpemVbMF0gfHwgY29udGVudEJveFNpemUpLmJsb2NrU2l6ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHN3aXBlci5yZXNpemUucmVzaXplSGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN3aXBlci5yZXNpemUub2JzZXJ2ZXIub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVPYnNlcnZlcjogZnVuY3Rpb24gcmVtb3ZlT2JzZXJ2ZXIoKSB7XG4gICAgICAgICAgaWYgKHN3aXBlci5yZXNpemUub2JzZXJ2ZXIgJiYgc3dpcGVyLnJlc2l6ZS5vYnNlcnZlci51bm9ic2VydmUgJiYgc3dpcGVyLmVsKSB7XG4gICAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgICAgICAgc3dpcGVyLnJlc2l6ZS5vYnNlcnZlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXNpemVIYW5kbGVyOiBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVSZXNpemUnKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgncmVzaXplJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdvcmllbnRhdGlvbmNoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIG9uOiB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnJlc2l6ZU9ic2VydmVyICYmIHN1cHBvcnRzUmVzaXplT2JzZXJ2ZXIoKSkge1xuICAgICAgICBzd2lwZXIucmVzaXplLmNyZWF0ZU9ic2VydmVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gRW1pdCByZXNpemVcblxuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3dpcGVyLnJlc2l6ZS5yZXNpemVIYW5kbGVyKTsgLy8gRW1pdCBvcmllbnRhdGlvbmNoYW5nZVxuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBzd2lwZXIucmVzaXplLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgICAgIHN3aXBlci5yZXNpemUucmVtb3ZlT2JzZXJ2ZXIoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzd2lwZXIucmVzaXplLnJlc2l6ZUhhbmRsZXIpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgc3dpcGVyLnJlc2l6ZS5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCJkb203XCIpO1xuXG52YXIgTWV0aG9kcyA9IHtcbiAgYWRkQ2xhc3M6IF9kb20uYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBfZG9tLnJlbW92ZUNsYXNzLFxuICBoYXNDbGFzczogX2RvbS5oYXNDbGFzcyxcbiAgdG9nZ2xlQ2xhc3M6IF9kb20udG9nZ2xlQ2xhc3MsXG4gIGF0dHI6IF9kb20uYXR0cixcbiAgcmVtb3ZlQXR0cjogX2RvbS5yZW1vdmVBdHRyLFxuICB0cmFuc2Zvcm06IF9kb20udHJhbnNmb3JtLFxuICB0cmFuc2l0aW9uOiBfZG9tLnRyYW5zaXRpb24sXG4gIG9uOiBfZG9tLm9uLFxuICBvZmY6IF9kb20ub2ZmLFxuICB0cmlnZ2VyOiBfZG9tLnRyaWdnZXIsXG4gIHRyYW5zaXRpb25FbmQ6IF9kb20udHJhbnNpdGlvbkVuZCxcbiAgb3V0ZXJXaWR0aDogX2RvbS5vdXRlcldpZHRoLFxuICBvdXRlckhlaWdodDogX2RvbS5vdXRlckhlaWdodCxcbiAgc3R5bGVzOiBfZG9tLnN0eWxlcyxcbiAgb2Zmc2V0OiBfZG9tLm9mZnNldCxcbiAgY3NzOiBfZG9tLmNzcyxcbiAgZWFjaDogX2RvbS5lYWNoLFxuICBodG1sOiBfZG9tLmh0bWwsXG4gIHRleHQ6IF9kb20udGV4dCxcbiAgaXM6IF9kb20uaXMsXG4gIGluZGV4OiBfZG9tLmluZGV4LFxuICBlcTogX2RvbS5lcSxcbiAgYXBwZW5kOiBfZG9tLmFwcGVuZCxcbiAgcHJlcGVuZDogX2RvbS5wcmVwZW5kLFxuICBuZXh0OiBfZG9tLm5leHQsXG4gIG5leHRBbGw6IF9kb20ubmV4dEFsbCxcbiAgcHJldjogX2RvbS5wcmV2LFxuICBwcmV2QWxsOiBfZG9tLnByZXZBbGwsXG4gIHBhcmVudDogX2RvbS5wYXJlbnQsXG4gIHBhcmVudHM6IF9kb20ucGFyZW50cyxcbiAgY2xvc2VzdDogX2RvbS5jbG9zZXN0LFxuICBmaW5kOiBfZG9tLmZpbmQsXG4gIGNoaWxkcmVuOiBfZG9tLmNoaWxkcmVuLFxuICBmaWx0ZXI6IF9kb20uZmlsdGVyLFxuICByZW1vdmU6IF9kb20ucmVtb3ZlXG59O1xuT2JqZWN0LmtleXMoTWV0aG9kcykuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2RvbS4kLmZuLCBtZXRob2ROYW1lLCB7XG4gICAgdmFsdWU6IE1ldGhvZHNbbWV0aG9kTmFtZV0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSk7XG59KTtcbnZhciBfZGVmYXVsdCA9IF9kb20uJDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXRCcm93c2VyID0gZ2V0QnJvd3NlcjtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIGJyb3dzZXI7XG5cbmZ1bmN0aW9uIGNhbGNCcm93c2VyKCkge1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuXG4gIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ3NhZmFyaScpID49IDAgJiYgdWEuaW5kZXhPZignY2hyb21lJykgPCAwICYmIHVhLmluZGV4T2YoJ2FuZHJvaWQnKSA8IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzRWRnZTogISF3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZS9nKSxcbiAgICBpc1NhZmFyaTogaXNTYWZhcmkoKSxcbiAgICBpc1dlYlZpZXc6IC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlcigpIHtcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgYnJvd3NlciA9IGNhbGNCcm93c2VyKCk7XG4gIH1cblxuICByZXR1cm4gYnJvd3Nlcjtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0RGV2aWNlID0gZ2V0RGV2aWNlO1xuXG52YXIgX3NzcldpbmRvdyA9IHJlcXVpcmUoXCJzc3Itd2luZG93XCIpO1xuXG52YXIgX2dldFN1cHBvcnQgPSByZXF1aXJlKFwiLi9nZXQtc3VwcG9ydFwiKTtcblxudmFyIGRldmljZTtcblxuZnVuY3Rpb24gY2FsY0RldmljZShfdGVtcCkge1xuICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgdXNlckFnZW50ID0gX3JlZi51c2VyQWdlbnQ7XG5cbiAgdmFyIHN1cHBvcnQgPSAoMCwgX2dldFN1cHBvcnQuZ2V0U3VwcG9ydCkoKTtcbiAgdmFyIHdpbmRvdyA9ICgwLCBfc3NyV2luZG93LmdldFdpbmRvdykoKTtcbiAgdmFyIHBsYXRmb3JtID0gd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybTtcbiAgdmFyIHVhID0gdXNlckFnZW50IHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICB2YXIgZGV2aWNlID0ge1xuICAgIGlvczogZmFsc2UsXG4gICAgYW5kcm9pZDogZmFsc2VcbiAgfTtcbiAgdmFyIHNjcmVlbldpZHRoID0gd2luZG93LnNjcmVlbi53aWR0aDtcbiAgdmFyIHNjcmVlbkhlaWdodCA9IHdpbmRvdy5zY3JlZW4uaGVpZ2h0O1xuICB2YXIgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIHZhciBpcGFkID0gdWEubWF0Y2goLyhpUGFkKS4qT1NcXHMoW1xcZF9dKykvKTtcbiAgdmFyIGlwb2QgPSB1YS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pO1xuICB2YXIgaXBob25lID0gIWlwYWQgJiYgdWEubWF0Y2goLyhpUGhvbmVcXHNPU3xpT1MpXFxzKFtcXGRfXSspLyk7XG4gIHZhciB3aW5kb3dzID0gcGxhdGZvcm0gPT09ICdXaW4zMic7XG4gIHZhciBtYWNvcyA9IHBsYXRmb3JtID09PSAnTWFjSW50ZWwnOyAvLyBpUGFkT3MgMTMgZml4XG5cbiAgdmFyIGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG5cbiAgaWYgKCFpcGFkICYmIG1hY29zICYmIHN1cHBvcnQudG91Y2ggJiYgaVBhZFNjcmVlbnMuaW5kZXhPZihzY3JlZW5XaWR0aCArIFwieFwiICsgc2NyZWVuSGVpZ2h0KSA+PSAwKSB7XG4gICAgaXBhZCA9IHVhLm1hdGNoKC8oVmVyc2lvbilcXC8oW1xcZC5dKykvKTtcbiAgICBpZiAoIWlwYWQpIGlwYWQgPSBbMCwgMSwgJzEzXzBfMCddO1xuICAgIG1hY29zID0gZmFsc2U7XG4gIH0gLy8gQW5kcm9pZFxuXG5cbiAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICBkZXZpY2Uub3MgPSAnYW5kcm9pZCc7XG4gICAgZGV2aWNlLmFuZHJvaWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGlwYWQgfHwgaXBob25lIHx8IGlwb2QpIHtcbiAgICBkZXZpY2Uub3MgPSAnaW9zJztcbiAgICBkZXZpY2UuaW9zID0gdHJ1ZTtcbiAgfSAvLyBFeHBvcnQgb2JqZWN0XG5cblxuICByZXR1cm4gZGV2aWNlO1xufVxuXG5mdW5jdGlvbiBnZXREZXZpY2Uob3ZlcnJpZGVzKSB7XG4gIGlmIChvdmVycmlkZXMgPT09IHZvaWQgMCkge1xuICAgIG92ZXJyaWRlcyA9IHt9O1xuICB9XG5cbiAgaWYgKCFkZXZpY2UpIHtcbiAgICBkZXZpY2UgPSBjYWxjRGV2aWNlKG92ZXJyaWRlcyk7XG4gIH1cblxuICByZXR1cm4gZGV2aWNlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXRTdXBwb3J0ID0gZ2V0U3VwcG9ydDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxudmFyIHN1cHBvcnQ7XG5cbmZ1bmN0aW9uIGNhbGNTdXBwb3J0KCkge1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcbiAgcmV0dXJuIHtcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpLFxuICAgIHBvaW50ZXJFdmVudHM6ICEhd2luZG93LlBvaW50ZXJFdmVudCAmJiAnbWF4VG91Y2hQb2ludHMnIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+PSAwLFxuICAgIG9ic2VydmVyOiBmdW5jdGlvbiBjaGVja09ic2VydmVyKCkge1xuICAgICAgcmV0dXJuICdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cgfHwgJ1dlYmtpdE11dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdztcbiAgICB9KCksXG4gICAgcGFzc2l2ZUxpc3RlbmVyOiBmdW5jdGlvbiBjaGVja1Bhc3NpdmVMaXN0ZW5lcigpIHtcbiAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmVMaXN0ZW5lcicsIG51bGwsIG9wdHMpO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIE5vIHN1cHBvcnRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9KCksXG4gICAgZ2VzdHVyZXM6IGZ1bmN0aW9uIGNoZWNrR2VzdHVyZXMoKSB7XG4gICAgICByZXR1cm4gJ29uZ2VzdHVyZXN0YXJ0JyBpbiB3aW5kb3c7XG4gICAgfSgpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFN1cHBvcnQoKSB7XG4gIGlmICghc3VwcG9ydCkge1xuICAgIHN1cHBvcnQgPSBjYWxjU3VwcG9ydCgpO1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnQ7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlbGV0ZVByb3BzID0gZGVsZXRlUHJvcHM7XG5leHBvcnRzLm5leHRUaWNrID0gbmV4dFRpY2s7XG5leHBvcnRzLm5vdyA9IG5vdztcbmV4cG9ydHMuZ2V0VHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5leHBvcnRzLmJpbmRNb2R1bGVNZXRob2RzID0gYmluZE1vZHVsZU1ldGhvZHM7XG5leHBvcnRzLmdldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlO1xuZXhwb3J0cy5jbGFzc2VzVG9TZWxlY3RvciA9IGNsYXNzZXNUb1NlbGVjdG9yO1xuZXhwb3J0cy5jcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZDtcblxudmFyIF9zc3JXaW5kb3cgPSByZXF1aXJlKFwic3NyLXdpbmRvd1wiKTtcblxuZnVuY3Rpb24gZGVsZXRlUHJvcHMob2JqKSB7XG4gIHZhciBvYmplY3QgPSBvYmo7XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdHJ5IHtcbiAgICAgIG9iamVjdFtrZXldID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7Ly8gbm8gZ2V0dGVyIGZvciBvYmplY3RcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9iamVjdFtrZXldO1xuICAgIH0gY2F0Y2ggKGUpIHsvLyBzb21ldGhpbmcgZ290IHdyb25nXG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gbmV4dFRpY2soY2FsbGJhY2ssIGRlbGF5KSB7XG4gIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgZGVsYXkgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbn1cblxuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbCkge1xuICB2YXIgd2luZG93ID0gKDAsIF9zc3JXaW5kb3cuZ2V0V2luZG93KSgpO1xuICB2YXIgc3R5bGU7XG5cbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG4gIH1cblxuICBpZiAoIXN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZSkge1xuICAgIHN0eWxlID0gZWwuY3VycmVudFN0eWxlO1xuICB9XG5cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZWwuc3R5bGU7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbCwgYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9ICd4JztcbiAgfVxuXG4gIHZhciB3aW5kb3cgPSAoMCwgX3NzcldpbmRvdy5nZXRXaW5kb3cpKCk7XG4gIHZhciBtYXRyaXg7XG4gIHZhciBjdXJUcmFuc2Zvcm07XG4gIHZhciB0cmFuc2Zvcm1NYXRyaXg7XG4gIHZhciBjdXJTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuXG4gIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSB7XG4gICAgY3VyVHJhbnNmb3JtID0gY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLndlYmtpdFRyYW5zZm9ybTtcblxuICAgIGlmIChjdXJUcmFuc2Zvcm0uc3BsaXQoJywnKS5sZW5ndGggPiA2KSB7XG4gICAgICBjdXJUcmFuc2Zvcm0gPSBjdXJUcmFuc2Zvcm0uc3BsaXQoJywgJykubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBhLnJlcGxhY2UoJywnLCAnLicpO1xuICAgICAgfSkuam9pbignLCAnKTtcbiAgICB9IC8vIFNvbWUgb2xkIHZlcnNpb25zIG9mIFdlYmtpdCBjaG9rZSB3aGVuICdub25lJyBpcyBwYXNzZWQ7IHBhc3NcbiAgICAvLyBlbXB0eSBzdHJpbmcgaW5zdGVhZCBpbiB0aGlzIGNhc2VcblxuXG4gICAgdHJhbnNmb3JtTWF0cml4ID0gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoY3VyVHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IGN1clRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNmb3JtTWF0cml4ID0gY3VyU3R5bGUuTW96VHJhbnNmb3JtIHx8IGN1clN0eWxlLk9UcmFuc2Zvcm0gfHwgY3VyU3R5bGUuTXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUubXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpLnJlcGxhY2UoJ3RyYW5zbGF0ZSgnLCAnbWF0cml4KDEsIDAsIDAsIDEsJyk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4LnRvU3RyaW5nKCkuc3BsaXQoJywnKTtcbiAgfVxuXG4gIGlmIChheGlzID09PSAneCcpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQxOyAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxMl0pOyAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNF0pO1xuICB9XG5cbiAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDI7IC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEzXSk7IC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gIH1cblxuICByZXR1cm4gY3VyVHJhbnNmb3JtIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCc7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IDEgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gIHZhciB0byA9IE9iamVjdChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pO1xuICB2YXIgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBuZXh0U291cmNlID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldO1xuXG4gICAgaWYgKG5leHRTb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBuZXh0U291cmNlICE9PSBudWxsICYmICFpc05vZGUobmV4dFNvdXJjZSkpIHtcbiAgICAgIHZhciBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBub0V4dGVuZC5pbmRleE9mKGtleSkgPCAwO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAodmFyIG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4ICs9IDEpIHtcbiAgICAgICAgdmFyIG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5leHRTb3VyY2UsIG5leHRLZXkpO1xuXG4gICAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSB7fTtcblxuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiBiaW5kTW9kdWxlTWV0aG9kcyhpbnN0YW5jZSwgb2JqKSB7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGlzT2JqZWN0KG9ialtrZXldKSkge1xuICAgICAgT2JqZWN0LmtleXMob2JqW2tleV0pLmZvckVhY2goZnVuY3Rpb24gKHN1YktleSkge1xuICAgICAgICBpZiAodHlwZW9mIG9ialtrZXldW3N1YktleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvYmpba2V5XVtzdWJLZXldID0gb2JqW2tleV1bc3ViS2V5XS5iaW5kKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5zdGFuY2Vba2V5XSA9IG9ialtrZXldO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvU2VsZWN0b3IoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIFwiLlwiICsgY2xhc3Nlcy50cmltKCkucmVwbGFjZSgvKFtcXC46IVxcL10pL2csICdcXFxcJDEnKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIC5yZXBsYWNlKC8gL2csICcuJyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoJGNvbnRhaW5lciwgcGFyYW1zLCBjcmVhdGVFbGVtZW50cywgY2hlY2tQcm9wcykge1xuICB2YXIgZG9jdW1lbnQgPSAoMCwgX3NzcldpbmRvdy5nZXREb2N1bWVudCkoKTtcblxuICBpZiAoY3JlYXRlRWxlbWVudHMpIHtcbiAgICBPYmplY3Qua2V5cyhjaGVja1Byb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghcGFyYW1zW2tleV0gJiYgcGFyYW1zLmF1dG8gPT09IHRydWUpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjaGVja1Byb3BzW2tleV07XG4gICAgICAgICRjb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICBwYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGFyYW1zO1xufSIsIi8qKlxuICogU3dpcGVyIDYuOC40XG4gKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9uc1xuICogaHR0cHM6Ly9zd2lwZXJqcy5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDIxIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKlxuICogUmVsZWFzZWQgb246IEF1Z3VzdCAyMywgMjAyMVxuICovXG5cblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvY29yZS9jb3JlLWNsYXNzJykuZGVmYXVsdDtcbmV4cG9ydHMuU3dpcGVyID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9jb3JlL2NvcmUtY2xhc3MnKS5kZWZhdWx0O1xuZXhwb3J0cy5WaXJ0dWFsID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy92aXJ0dWFsL3ZpcnR1YWwnKS5kZWZhdWx0O1xuZXhwb3J0cy5LZXlib2FyZCA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMva2V5Ym9hcmQva2V5Ym9hcmQnKS5kZWZhdWx0O1xuZXhwb3J0cy5Nb3VzZXdoZWVsID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9tb3VzZXdoZWVsL21vdXNld2hlZWwnKS5kZWZhdWx0O1xuZXhwb3J0cy5OYXZpZ2F0aW9uID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL25hdmlnYXRpb24nKS5kZWZhdWx0O1xuZXhwb3J0cy5QYWdpbmF0aW9uID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9wYWdpbmF0aW9uL3BhZ2luYXRpb24nKS5kZWZhdWx0O1xuZXhwb3J0cy5TY3JvbGxiYXIgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL3Njcm9sbGJhci9zY3JvbGxiYXInKS5kZWZhdWx0O1xuZXhwb3J0cy5QYXJhbGxheCA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvcGFyYWxsYXgvcGFyYWxsYXgnKS5kZWZhdWx0O1xuZXhwb3J0cy5ab29tID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy96b29tL3pvb20nKS5kZWZhdWx0O1xuZXhwb3J0cy5MYXp5ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9sYXp5L2xhenknKS5kZWZhdWx0O1xuZXhwb3J0cy5Db250cm9sbGVyID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9jb250cm9sbGVyL2NvbnRyb2xsZXInKS5kZWZhdWx0O1xuZXhwb3J0cy5BMTF5ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9hMTF5L2ExMXknKS5kZWZhdWx0O1xuZXhwb3J0cy5IaXN0b3J5ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9oaXN0b3J5L2hpc3RvcnknKS5kZWZhdWx0O1xuZXhwb3J0cy5IYXNoTmF2aWdhdGlvbiA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvaGFzaC1uYXZpZ2F0aW9uL2hhc2gtbmF2aWdhdGlvbicpLmRlZmF1bHQ7XG5leHBvcnRzLkF1dG9wbGF5ID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9hdXRvcGxheS9hdXRvcGxheScpLmRlZmF1bHQ7XG5leHBvcnRzLkVmZmVjdEZhZGUgPSByZXF1aXJlKCcuL2Nqcy9jb21wb25lbnRzL2VmZmVjdC1mYWRlL2VmZmVjdC1mYWRlJykuZGVmYXVsdDtcbmV4cG9ydHMuRWZmZWN0Q3ViZSA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvZWZmZWN0LWN1YmUvZWZmZWN0LWN1YmUnKS5kZWZhdWx0O1xuZXhwb3J0cy5FZmZlY3RGbGlwID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy9lZmZlY3QtZmxpcC9lZmZlY3QtZmxpcCcpLmRlZmF1bHQ7XG5leHBvcnRzLkVmZmVjdENvdmVyZmxvdyA9IHJlcXVpcmUoJy4vY2pzL2NvbXBvbmVudHMvZWZmZWN0LWNvdmVyZmxvdy9lZmZlY3QtY292ZXJmbG93JykuZGVmYXVsdDtcbmV4cG9ydHMuVGh1bWJzID0gcmVxdWlyZSgnLi9janMvY29tcG9uZW50cy90aHVtYnMvdGh1bWJzJykuZGVmYXVsdDsiLCIvLyBQb2x5ZmlsbHNcbmltcG9ydCAndXRpbHMvcG9seWZpbGxzJztcbi8vIEhlbHBlcnNcbmltcG9ydCAndXRpbHMvY2xhc3NMaXN0Jztcbi8vIENvbXBvbmVudHMgbG9hZGVyXG5pbXBvcnQgbG9hZF9jb21wb25lbnRzIGZyb20gJy4vY29tcG9uZW50cy9fY29tcG9uZW50LWxvYWRlcic7XG5cbi8vIExvYWQgYWxsIHRoZSBjb21wb25lbnRzXG5sb2FkX2NvbXBvbmVudHMoKTtcblxuLy8gRml4IHRvcCBvZmZzZXQgZm9yIGFuY2hvciBsaW5rcyAoZml4ZWQgdG9wIG5hdilcbnJlcXVpcmUoJ3NlcnZpY2UvYW5jaG9yLmpzJyk7XG4iLCIvLyBVdGlsc1xuaW1wb3J0IGVsZW1lbnRFeGlzdCBmcm9tICd1dGlscy9lbGVtZW50RXhpc3QnO1xuXG4vKipcbiAqICBJbXBvcnQgaGVyZSBiZWxvdyB5b3UgY29tcG9uZW50XG4gKlxuICogRXhhbXBsZTogdGhlIHBhdGggaXMgcmVsYXRpdmUgZnJvbSB0aGlzIGZpbGVcbiAqICAgIGltcG9ydCBNeUNvbXBvbmVudCBmcm9tIFwib3JnYW5pc21zL215LWNvbXBvbmVudC9teS1jb21wb25lbnQuanNcIjtcbiAqL1xuaW1wb3J0IE1NZW51IGZyb20gJ21vbGVjdWxlcy9tLW1lbnUvbS1tZW51LmpzJztcbmltcG9ydCBBSW5wdXQgZnJvbSAnYXRvbXMvZm9ybS1lbGVtZW50cy9hLWlucHV0L2EtaW5wdXQuanMnO1xuaW1wb3J0IEFTZWxlY3QgZnJvbSAnYXRvbXMvZm9ybS1lbGVtZW50cy9hLXNlbGVjdC9hLXNlbGVjdC5qcyc7XG5pbXBvcnQgT0hlYWRlciBmcm9tICcuL29yZ2FuaXNtcy9vLWhlYWRlci9vLWhlYWRlcic7XG5pbXBvcnQgT0NhbXBhaWduIGZyb20gJy4vb3JnYW5pc21zL28tY2FtcGFpZ24vby1jYW1wYWlnbic7XG5pbXBvcnQgT1Blb3BsZUdyaWQgZnJvbSAnLi9vcmdhbmlzbXMvby1wZW9wbGUtZ3JpZC9vLXBlb3BsZS1ncmlkJztcbmltcG9ydCBNTWFwIGZyb20gJy4vbW9sZWN1bGVzL20tbWFwL20tbWFwJztcbmltcG9ydCBNU2hhcmUgZnJvbSAnLi9tb2xlY3VsZXMvbS1zaGFyZS9tLXNoYXJlJztcbmltcG9ydCBBU2VhcmNoIGZyb20gJy4vYXRvbXMvYS1zZWFyY2gvYS1zZWFyY2gnO1xuaW1wb3J0IE1QZXJzb24gZnJvbSAnLi9tb2xlY3VsZXMvbS1wZXJzb24vbS1wZXJzb24nO1xuaW1wb3J0IEFJbWFnZUxhenkgZnJvbSAnLi9hdG9tcy9hLWltYWdlL2EtaW1hZ2UtbGF6eSc7XG5pbXBvcnQgQUltYWdlQ292ZXIgZnJvbSAnLi9hdG9tcy9hLWltYWdlL2EtaW1hZ2UtY292ZXInO1xuaW1wb3J0IE1Gb3JtIGZyb20gJy4vbW9sZWN1bGVzL20tZm9ybS9tLWZvcm0nO1xuaW1wb3J0IEFCcmVhZGNydW1icyBmcm9tICcuL2F0b21zL2EtYnJlYWRjcnVtYnMvYS1icmVhZGNydW1icyc7XG5pbXBvcnQgQVByb2dyZXNzIGZyb20gJy4vYXRvbXMvYS1wcm9ncmVzcy9hLXByb2dyZXNzJztcbmltcG9ydCBQYWdlIGZyb20gJy4vdGVtcGxhdGVzL3BhZ2UvcGFnZSc7XG5pbXBvcnQgT0Zvb3RlciBmcm9tICcuL29yZ2FuaXNtcy9vLWZvb3Rlci9vLWZvb3Rlcic7XG5pbXBvcnQgQVNvY2lhbEljb24gZnJvbSAnLi9hdG9tcy9hLXNvY2lhbC1pY29uL2Etc29jaWFsLWljb24nO1xuXG4vLyA9PT09PT09PT09PT09PT09PSBTVE9QIFRPIEFERCBIRVJFXG5cbi8qKlxuICogQWRkIHlvdXIgY29tcG9uZW50IGluIHRoZSBDT01QT05FTlRTX1RPX0xPQUQgYXJyYXkgd2l0aCB0aGUgdHJlZSBwcm9wZXJ0aWVzXG4gKiBcInZpZXdcIiwgXCJuYW1lXCIgJiBcInNlbGVjdG9yXCJcbiAqXG4gKiBFeGFtcGxlOiB3aGVyZSB0aGUgc2VsZWN0b3IgaXMgdGhlIERPTSBzZWxlY3RvciBmb3IgcXVlcnlTZWxlY3RvclxuICogICAgeyB2aWV3OiBNeUNvbXBvbmVudCwgbmFtZTogJ015Q29tcG9uZW50Jywgc2VsZWN0b3I6ICdbZGF0YS1teS1jb21wb25lbnRdJ1xuICogfVxuICovXG5jb25zdCBDT01QT05FTlRTX1RPX0xPQUQgPSBbXG5cdHsgdmlldzogTU1lbnUsIG5hbWU6ICdNTWVudScsIHNlbGVjdG9yOiAnLm0tbWVudScgfSwgLy8gbG9hZCBhcyB2ZXJ5IGZpcnN0IChwZXJmb3JtYW5jZSlcblx0eyB2aWV3OiBPSGVhZGVyLCBuYW1lOiAnT0hlYWRlcicsIHNlbGVjdG9yOiAnLm8taGVhZGVyJyB9LCAvLyBsb2FkIHNlY29uZCAocGVyZm9ybWFuY2UpXG5cdHsgdmlldzogQVNlYXJjaCwgbmFtZTogJ0FTZWFyY2gnLCBzZWxlY3RvcjogJy5hLXNlYXJjaCd9LFxuXHR7IHZpZXc6IE9DYW1wYWlnbiwgbmFtZTogJ09DYW1wYWlnbicsIHNlbGVjdG9yOiAnLm8tY2FtcGFpZ24nIH0sXG5cdHsgdmlldzogQUlucHV0LCBuYW1lOiAnQUlucHV0Jywgc2VsZWN0b3I6ICcuYS1pbnB1dCcgfSxcblx0eyB2aWV3OiBBU2VsZWN0LCBuYW1lOiAnQVNlbGVjdCcsIHNlbGVjdG9yOiAnLmEtc2VsZWN0JyB9LFxuXHR7XG5cdFx0dmlldzogT1Blb3BsZUdyaWQsXG5cdFx0bmFtZTogJ09QZW9wbGVHcmlkJyxcblx0XHRzZWxlY3RvcjogJy5vLXBlb3BsZS1ncmlkLS1ob3Jpem9udGFsJyxcblx0fSxcblx0eyB2aWV3OiBNTWFwLCBuYW1lOiAnTU1hcCcsIHNlbGVjdG9yOiAnLm0tbWFwJyB9LFxuXHR7IHZpZXc6IE1TaGFyZSwgbmFtZTogJ01TaGFyZScsIHNlbGVjdG9yOiAnLm0tc2hhcmUnIH0sXG5cdHsgdmlldzogTVBlcnNvbiwgbmFtZTogJ01QZXJzb24nLCBzZWxlY3RvcjogJy5tLXBlcnNvbi0tZXhwYW5kYWJsZScgfSxcblx0eyB2aWV3OiBBSW1hZ2VMYXp5LCBuYW1lOiAnQUltYWdlTGF6eScsIHNlbGVjdG9yOiAnLmEtaW1hZ2VfX2ltYWdlLS1sYXp5JyB9LFxuXHR7IHZpZXc6IEFJbWFnZUNvdmVyLCBuYW1lOiAnQUltYWdlQ292ZXInLCBzZWxlY3RvcjogJy5hLWltYWdlJyB9LFxuXHR7IHZpZXc6IE1Gb3JtLCBuYW1lOiAnTUZvcm0nLCBzZWxlY3RvcjogJy5tLWZvcm0nIH0sXG5cdHsgdmlldzogQUJyZWFkY3J1bWJzLCBuYW1lOiAnQUJyZWFkY3J1bWJzJywgc2VsZWN0b3I6ICcuYS1icmVhZGNydW1icycgfSxcblx0eyB2aWV3OiBBUHJvZ3Jlc3MsIG5hbWU6ICdBUHJvZ3Jlc3MnLCBzZWxlY3RvcjogJy5hLXByb2dyZXNzJyB9LFxuXHR7IHZpZXc6IFBhZ2UsIG5hbWU6ICdQYWdlJywgc2VsZWN0b3I6ICcucGFnZScgfSxcblx0eyB2aWV3OiBPRm9vdGVyLCBuYW1lOiAnT0Zvb3RlcicsIHNlbGVjdG9yOiAnLm8tZm9vdGVyJyB9LFxuXHR7IHZpZXc6IEFTb2NpYWxJY29uLCBuYW1lOiAnQVNvY2lhbEljb24nLCBzZWxlY3RvcjogJy5hLXNvY2lhbC1pY29uJyB9LFxuXTtcblxuY29uc3QgTE9BREVEX0NPTVBPTkVOVFMgPSB7fTtcblxuLyoqXG4gKiBMb2FkIGFsbCB0aGUgY29tcG9uZW50cy5cbiAqIEFsbCB0aGUgY29tcG9uZW50IGFyZSBidWlsZGVkIHVzaW5nIHRoZSBzYW1lIGludGVyZmFjZSwgc28uLi5cbiAqIHRoZSAuYmluZCBtZXRob2QgZG9lcyB0aGUgbWFnaWMgZm9yIGV2ZXJ5b25lLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBDT01QT05FTlRTX1RPX0xPQUQubGVuZ3RoOyBpICsrKSB7XG5cdFx0bGV0IHsgc2VsZWN0b3IsIHZpZXcsIG5hbWUgfSA9IENPTVBPTkVOVFNfVE9fTE9BRFsgaSBdO1xuXHRcdGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKTtcblx0XHQvLyBPbmx5IGlmIHRoZSBET00gZWxlbWVudCBleGlzdFxuXHRcdC8vIHdlIGxvYWQgdGhlIHZpZXcuXG5cdFx0aWYgKGVsZW1lbnRFeGlzdCggZWxlbWVudCApKSB7XG5cblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGogKyspIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSB2aWV3IGluc3RhbmNlXG5cdFx0XHRcdC8vIGFuZCBwdXNoIHRoZSB2aWV3IGluIHRoZSBsb2FkZWQgdmlldyBjYWNoZSBvYmplY3QuXG5cdFx0XHRcdGxldCB2ID0gbmV3IHZpZXcoIGVsZW1lbnRbIGogXSApO1xuXHRcdFx0XHR2LnNldENvbXBvbmVudHNSZWZlcmVuY2UoIExPQURFRF9DT01QT05FTlRTICk7XG5cdFx0XHRcdExPQURFRF9DT01QT05FTlRTWyBuYW1lICsgaiBdID0gdjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRPYmplY3QuZW50cmllcyggTE9BREVEX0NPTVBPTkVOVFMgKS5mb3JFYWNoKCAoIFsgLCBjb21wb25lbnQgXSApID0+IHtcblx0XHRjb21wb25lbnQuYmluZCgpO1xuXHR9ICk7XG5cblx0Ly8gRXhwb3NlcyB0aGUgbG9hZGVkIHZpZXdzIGZvciBkZXYgcHVycG9zZXNcblx0Ly8gd2luZG93LkNPTVBPTkVOVFMgPSBMT0FERURfQ09NUE9ORU5UUztcblxuXHRyZXR1cm4gTE9BREVEX0NPTVBPTkVOVFM7XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcblxuY29uc3QgRklSU1RfTElOS19TRUxFQ1RPUiA9ICdkaXYgPiBzcGFuID4gc3BhbiA+IGEnO1xuY29uc3QgTUVOVV9TRUxFQ1RPUiA9ICcuby1oZWFkZXJfX2Rpc3BsYXknO1xuY29uc3QgSVRFTV9TRUxFQ1RPUiA9ICcubS1tZW51X19uYXYtbGluay0tJztcbmNvbnN0IEhBTUJVUkdFUl9TRUxFQ1RPUiA9ICcuYS1oYW1idXJnZXInO1xuXG5jb25zdCBQQVJFTlRfQ0xBU1MgPSAnbS1tZW51X19uYXYtbGluay0tcGFyZW50JztcblxuY29uc3QgSEFTSF9QUkVGSVggPSAnI21lbnUtaXRlbS0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBQnJlYWRjcnVtYnMgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5tZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihNRU5VX1NFTEVDVE9SKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbignY2xpY2snLCBGSVJTVF9MSU5LX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlQ2xpY2soZXZlbnQpKTtcblx0fVxuXG5cdGhhbmRsZUNsaWNrKGV2ZW50KSB7XG5cdFx0Y29uc3QgaGFzaCA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0Lmhhc2g7XG5cdFx0Y29uc3QgaWQgPSBoYXNoLnJlcGxhY2UoSEFTSF9QUkVGSVgsICcnKTtcblxuXHRcdGNvbnN0IGl0ZW0gPSB0aGlzLm1lbnUucXVlcnlTZWxlY3RvcihJVEVNX1NFTEVDVE9SICsgaWQpO1xuXG5cdFx0aWYgKGl0ZW0gJiYgaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoUEFSRU5UX0NMQVNTKSkge1xuXHRcdFx0dGhpcy5vcGVuTmF2KGl0ZW0pO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH1cblxuXHRvcGVuTmF2KGl0ZW0pIHtcblx0XHRpZiAoIXRoaXMuaXNEZXNrdG9wKCkpIHtcblx0XHRcdHRoaXMubWVudS5xdWVyeVNlbGVjdG9yKEhBTUJVUkdFUl9TRUxFQ1RPUikuY2xpY2soKTtcblx0XHR9XG5cblx0XHRpdGVtLmNsaWNrKCk7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5jb25zdCBDT1ZFUl9JTUFHRV9TRUxFQ1RPUiA9ICcuYS1pbWFnZV9faW1hZ2UtLWZwJztcblxuY29uc3QgTEFaWV9MT0FERUQgPSAnYS1pbWFnZV9faW1hZ2UtLWxvYWRlZCc7XG5jb25zdCBDT01QQVRJQklMSVRZX1NUQVRFID0gJ29iamVjdC1maXQtaWUnO1xuXG5jb25zdCBMQVpZX0xPQURfV0FJVF9NUyA9IDIwMDtcblxuLyoqXG4gKiBTaW5jZSBJRSBhbmQgRWRnZSBkb24ndCBzdXBwb3J0IG9iamVjdC1maXQsIHVzZSBiYWNrZ3JvdW5kOiBjb3ZlciBjc3MgZm9yXG4gKiB0aGVtXG4gKlxuICogQHNlZSBodHRwczovL21lZGl1bS5jb20vQHByaW1vemNpZ2xlci9uZWF0LXRyaWNrLWZvci1jc3Mtb2JqZWN0LWZpdC1mYWxsYmFjay1vbi1lZGdlLWFuZC1vdGhlci1icm93c2Vycy1hZmJjNTNiYmIyYzNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUltYWdlQ292ZXIgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5pbml0VXJsID0gdGhpcy5nZXRVcmwoKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2FmdGVyUmVwbGFjZUltYWdlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5zZXRTaXplcygpO1xuXHRcdFx0dGhpcy5vYmplY3RGaXQoKTtcblx0XHR9ICk7XG5cdH1cblxuXHRvYmplY3RGaXQoKSB7XG5cdFx0aWYgKCdvYmplY3RGaXQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAhPT0gZmFsc2UpIHtcblx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGltZyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChDT1ZFUl9JTUFHRV9TRUxFQ1RPUik7XG5cblx0XHRpZiAoIWltZykge1xuXHRcdFx0dGhpcy5kZXN0cm95KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5wb2x5ZmlsbChpbWcpO1xuXHR9XG5cblx0cG9seWZpbGwoaW1nKSB7XG5cdFx0Y29uc3QgdXJsID0gdGhpcy5nZXRVcmwoKTtcblxuXHRcdC8vIHdhaXQgZm9yIGxhenkgbG9hZGluZyB0byBiZSBjb21wbGV0ZVxuXHRcdGlmIChpbWcuY2xhc3NMaXN0LmNvbnRhaW5zKExBWllfTE9BREVEKSkge1xuXHRcdFx0aWYgKHRoaXMuaW5pdFVybCA9PT0gdXJsKSB7XG5cdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMucG9seWZpbGwoaW1nKSwgTEFaWV9MT0FEX1dBSVRfTVMpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IGZwID0gaW1nLmNsYXNzTmFtZS5tYXRjaCgvXFxiYS1pbWFnZV9faW1hZ2UtLWZwLVteXFxzXStcXGIvZyk7XG5cdFx0aWYgKGZwKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKCdhLWltYWdlX19pbWFnZS0tZnAnKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoZnBbMF0pO1xuXHRcdH1cblxuXHRcdHRoaXMuYWRkQ2xhc3MoQ09NUEFUSUJJTElUWV9TVEFURSk7XG5cdFx0dGhpcy5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIit1cmwrXCInKVwiO1xuXG5cdFx0dGhpcy5hZGRDbGFzcyhpbWcsIENPTVBBVElCSUxJVFlfU1RBVEUpO1xuXHR9XG5cblx0Z2V0VXJsKCkge1xuXHRcdGNvbnN0IGltZyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggQ09WRVJfSU1BR0VfU0VMRUNUT1IgKTtcblxuXHRcdGlmIChpbWcpIHtcblx0XHRcdHJldHVybiBpbWcuc3JjO1xuXHRcdH1cblxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHNldFNpemVzKCkge1xuXHRcdGNvbnN0IGltZyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggQ09WRVJfSU1BR0VfU0VMRUNUT1IgKTtcblx0XHRjb25zdCBjRGltcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRjb25zdCBjUmF0aW8gPSBjRGltcy53aWR0aCAvIGNEaW1zLmhlaWdodDtcblx0XHRjb25zdCBpUmF0aW8gPSBpbWcubmF0dXJhbFdpZHRoIC8gaW1nLm5hdHVyYWxIZWlnaHQ7XG5cblx0XHRjb25zdCB6b29tID0gaVJhdGlvID4gY1JhdGlvID8gaVJhdGlvIC8gY1JhdGlvIDogY1JhdGlvIC8gaVJhdGlvO1xuXG5cdFx0aW1nLnNpemVzID0gY0RpbXMud2lkdGggKiB6b29tICsgJ3B4Jztcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgaW5WaWV3IGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvaW52aWV3JztcblxuY29uc3QgQkFTRV9DT05UQUlORVJfU0VMRUNUT1IgPSAnLmEtaW1hZ2UnO1xuXG5jb25zdCBMQVpZX1NUQVRFID0gJ2EtaW1hZ2VfX2ltYWdlLS1sYXp5JztcbmNvbnN0IExBWllfTE9BREVEID0gJ2EtaW1hZ2VfX2ltYWdlLS1sb2FkZWQnO1xuY29uc3QgREVCT1VOQ0VfREVMQVlfTVMgPSAzMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFJbWFnZUxhenkgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdGluVmlldyh0aGlzLmVsZW1lbnQsIERFQk9VTkNFX0RFTEFZX01TKS50aGVuKCgpID0+IHRoaXMubWF5YmVMb2FkSW1hZ2UoKSk7XG5cdH1cblxuXHRtYXliZUxvYWRJbWFnZSgpIHtcblx0XHRpZiAoIXRoaXMubG9hZGluZyl7XG5cdFx0XHR0aGlzLmxvYWRpbmcgPSB0cnVlO1xuXHRcdFx0bGV0IGltZyA9IHRoaXMubG9hZEZ1bGxJbWFnZSgpO1xuXHRcdFx0aWYgKGltZy5jb21wbGV0ZSkge1xuXHRcdFx0XHR0aGlzLnJlcGxhY2VJbWFnZSggaW1nICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbWcub25sb2FkID0gKCkgPT4gdGhpcy5yZXBsYWNlSW1hZ2UoIGltZyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGxvYWRGdWxsSW1hZ2UoKSB7XG5cdFx0bGV0IGltZyA9IHRoaXMuZWxlbWVudC5jbG9uZU5vZGUoIHRydWUgKTtcblx0XHRpbWcuc3Jjc2V0ID0gaW1nLmRhdGFzZXQuc3Jjc2V0IHx8ICcnO1xuXHRcdGltZy5zaXplcyA9IGltZy5kYXRhc2V0LnNpemVzIHx8ICcnO1xuXHRcdGltZy5yZW1vdmVBdHRyaWJ1dGUoICdkYXRhLXNyY3NldCcgKTtcblx0XHRpbWcucmVtb3ZlQXR0cmlidXRlKCAnZGF0YS1zaXplZCcgKTtcblxuXHRcdC8vIG90aGVyd2lzZSBzYWZhcmkgb24gaU9TIGRvZXNuJ3QgbG9hZCBpbWFnZXMgd2hlblxuXHRcdC8vIHNjcm9sbGluZywgZXZlbiBpZiB0aGV5IGFyZSBpbiB0aGUgdmlld3BvcnRcblx0XHRpbWcubG9hZGluZyA9ICdlYWdlcic7XG5cblx0XHRyZXR1cm4gaW1nO1xuXHR9XG5cblx0cmVwbGFjZUltYWdlKCBpbWcgKSB7XG5cdFx0aWYgKHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoIGltZywgdGhpcy5lbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0aW1nLmNsYXNzTGlzdC5hZGQoIExBWllfTE9BREVEICk7XG5cdFx0aW1nLmNsYXNzTGlzdC5yZW1vdmUoIExBWllfU1RBVEUgKTtcblxuXHRcdHRoaXMudHJpZ2dlckFmdGVyUmVwbGFjZUV2ZW50KCBpbWcuY2xvc2VzdCggQkFTRV9DT05UQUlORVJfU0VMRUNUT1IgKSApO1xuXG5cdFx0dGhpcy5kZXN0cm95KCk7XG5cdH1cblxuXHR0cmlnZ2VyQWZ0ZXJSZXBsYWNlRXZlbnQoZWxlbSkge1xuXHRcdC8vIHVzZSB0aGUgb2xkIGZhc2hpb25lZCB3YXksIGNhdXNlIHdlIG5lZWQgaXQgaW4gSUVcblx0XHRsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRldmVudC5pbml0RXZlbnQoJ2FmdGVyUmVwbGFjZUltYWdlJywgdHJ1ZSwgdHJ1ZSk7XG5cdFx0ZWxlbS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgaW5WaWV3IGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvaW52aWV3JztcbmltcG9ydCBhamF4IGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvYWpheCc7XG5cbmNvbnN0IEJBUl9TRUxFQ1RPUiA9ICcuYS1wcm9ncmVzc19fYmFyJztcbmNvbnN0IFZBTFVFX1NFTEVDVE9SID0gJy5hLXByb2dyZXNzX192YWx1ZSc7XG5jb25zdCBMRUdFTkRfU0VMRUNUT1IgPSAnLmEtcHJvZ3Jlc3NfX2xlZ2VuZCc7XG5jb25zdCBMRUdFTkRfVkFMVUVfU0VMRUNUT1IgPSAnLmEtcHJvZ3Jlc3NfX2xlZ2VuZC12YWx1ZSc7XG5cbmNvbnN0IExPQURJTkdfQ0xBU1MgPSAnYS1wcm9ncmVzcy0tbG9hZGluZyc7XG5cbmNvbnN0IERFQk9VTkNFX0RFTEFZX01TID0gMzAwO1xuY29uc3QgU1RFUFMgPSAyMDA7XG5jb25zdCBTVEVQX0RFTEFZID0gMjU7IC8vIG1zXG5cbi8vIHN5bmMgd2l0aCBtLWZvcm0uanNcbmNvbnN0IFNVQk1JU1NJT05fTk9USUZJQ0FUSU9OX0VWRU5UID0gJ3N1cHRfZm9ybV9zdWJtaXNzaW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVByb2dyZXNzIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMuZmlyc3RSdW4gPSB0cnVlO1xuXHRcdHRoaXMuYmFyID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBCQVJfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMubGlzdGVuRm9yU3VibWlzc2lvbnMoKTtcblxuXHRcdHRoaXMudXBkYXRlRGF0YSgpLmZpbmFsbHkoICgpID0+IHtcblx0XHRcdGluVmlldyggdGhpcy5lbGVtZW50LCBERUJPVU5DRV9ERUxBWV9NUyApLlxuXHRcdFx0XHR0aGVuKCAoKSA9PiB0aGlzLnN0YXJ0QW5pbWF0aW9uKCkgKTtcblx0XHR9ICk7XG5cdH1cblxuXHR1cGRhdGVEYXRhKCkge1xuXHRcdGlmICghKCAndXJsJyBpbiB0aGlzLmJhci5kYXRhc2V0ICkpIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiByZXNvbHZlKCkgKTtcblx0XHR9XG5cblx0XHRjb25zdCB1cmwgPSB0aGlzLmJhci5kYXRhc2V0LnVybDtcblx0XHRyZXR1cm4gYWpheCggdXJsLCAnR0VUJyApLnRoZW4oICggcmVzcCApID0+IHtcblx0XHRcdGlmIChyZXNwIGluc3RhbmNlb2YgT2JqZWN0XG5cdFx0XHRcdCYmICdjdXJyZW50JyBpbiByZXNwXG5cdFx0XHRcdCYmICdnb2FsJyBpbiByZXNwXG5cdFx0XHRcdCYmICdsZWdlbmQnIGluIHJlc3Bcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLmJhci5zZXRBdHRyaWJ1dGUoICdhcmlhLXZhbHVlbm93JywgcmVzcC5jdXJyZW50ICk7XG5cdFx0XHRcdHRoaXMuYmFyLnNldEF0dHJpYnV0ZSggJ2FyaWEtdmFsdWVtYXgnLCByZXNwLmdvYWwgKTtcblx0XHRcdFx0dGhpcy5nZXRTY29wZWRFbGVtZW50KCBMRUdFTkRfU0VMRUNUT1IgKS5pbm5lckhUTUwgPSByZXNwLmxlZ2VuZDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cblxuXHRzdGFydEFuaW1hdGlvbigpIHtcblx0XHR0aGlzLnZhbHVlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBWQUxVRV9TRUxFQ1RPUiApO1xuXHRcdHRoaXMubGVnZW5kX3ZhbHVlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBMRUdFTkRfVkFMVUVfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMubWluID0gdGhpcy5iYXIuZ2V0QXR0cmlidXRlKCAnYXJpYS12YWx1ZW1pbicgKTtcblx0XHR0aGlzLm1heCA9IHRoaXMuYmFyLmdldEF0dHJpYnV0ZSggJ2FyaWEtdmFsdWVtYXgnICk7XG5cdFx0dGhpcy5jdXJyZW50ID0gdGhpcy5iYXIuZ2V0QXR0cmlidXRlKCAnYXJpYS12YWx1ZW5vdycgKTtcblxuXHRcdGlmICh0aGlzLmZpcnN0UnVuKSB7XG5cdFx0XHR0aGlzLnN0ZXBfY291bnQgPSAwO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDA7XG5cdFx0XHR0aGlzLnN0YXRlX3BlcmNlbnQgPSAwO1xuXHRcdH1cblxuXHRcdHRoaXMuc3VtT2ZTdGVwcyA9IDEgLyAyICogU1RFUFMgKiAoIFNURVBTICsgMSApO1xuXHRcdHRoaXMuc3ByZWFkID0gdGhpcy5jdXJyZW50IC0gdGhpcy5taW47XG5cblx0XHR0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoIHRoaXMuYW5pbWF0ZS5iaW5kKCB0aGlzICksIFNURVBfREVMQVkgKTtcblx0fVxuXG5cdGFkZFN1Ym1pc3Npb24oKSB7XG5cdFx0dGhpcy51cGRhdGVEYXRhKCkudGhlbiggdGhpcy5zdGFydEFuaW1hdGlvbi5iaW5kKCB0aGlzICkgKTtcblx0fVxuXG5cdGFuaW1hdGUoKSB7XG5cdFx0aWYgKHRoaXMuZmlyc3RSdW4pIHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMuZWxlbWVudCwgTE9BRElOR19DTEFTUyApO1xuXHRcdFx0dGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnN0ZXBfY291bnQgPiBTVEVQUykge1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCggdGhpcy50aW1lciApO1xuXG5cdFx0XHQvLyB3ZSBuZWVkIHRoaXMgZXh0cmEgc3RlcCB0byBjaXJjdW12ZW50IGZsb2F0IGNhbGN1bGF0aW9uIGVycm9yc1xuXHRcdFx0Y29uc3QgY3VycmVudCA9ICggdGhpcy5zcHJlYWQgLyAoIHRoaXMubWF4IC0gdGhpcy5taW4gKSApO1xuXHRcdFx0dGhpcy5iYXIuc3R5bGUud2lkdGggPSBjdXJyZW50ICogMTAwICsgJyUnO1xuXHRcdFx0dGhpcy5zZXRMYWJlbFZhbHVlKCB0aGlzLmN1cnJlbnQgKTtcblxuXHRcdH1cblx0XHRlbHNlIHtcblxuXHRcdFx0dGhpcy5zdGVwX2NvdW50ICsrO1xuXG5cdFx0XHRjb25zdCBlYXNpbmcgPSAoIFNURVBTIC0gdGhpcy5zdGVwX2NvdW50ICkgLyB0aGlzLnN1bU9mU3RlcHM7XG5cdFx0XHRjb25zdCBzdGVwX3NpemUgPSB0aGlzLnNwcmVhZCAqIGVhc2luZztcblx0XHRcdGNvbnN0IHN0ZXBfcGVyY2VudCA9IHN0ZXBfc2l6ZSAvICggdGhpcy5tYXggLSB0aGlzLm1pbiApO1xuXG5cdFx0XHR0aGlzLnN0YXRlICs9IHN0ZXBfc2l6ZTtcblx0XHRcdHRoaXMuc3RhdGVfcGVyY2VudCArPSBzdGVwX3BlcmNlbnQ7XG5cblx0XHRcdHRoaXMuYmFyLnN0eWxlLndpZHRoID0gdGhpcy5zdGF0ZV9wZXJjZW50ICogMTAwICsgJyUnO1xuXHRcdFx0dGhpcy5zZXRMYWJlbFZhbHVlKCBNYXRoLnJvdW5kKCB0aGlzLnN0YXRlICkgKTtcblx0XHR9XG5cdH1cblxuXHRzZXRMYWJlbFZhbHVlKCB2YWx1ZSApIHtcblx0XHRpZiAodGhpcy5sZWdlbmRfdmFsdWUpIHtcblx0XHRcdHRoaXMubGVnZW5kX3ZhbHVlLmlubmVyVGV4dCA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMudmFsdWUuaW5uZXJUZXh0ID0gdmFsdWU7XG5cdH1cblxuXHRsaXN0ZW5Gb3JTdWJtaXNzaW9ucygpIHtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBTVUJNSVNTSU9OX05PVElGSUNBVElPTl9FVkVOVCwgZXZlbnQgPT4ge1xuXHRcdFx0aWYgKCEoICdmb3JtJyBpbiB0aGlzLmJhci5kYXRhc2V0ICkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwcm9ncmVzc0Zvcm1JZCA9IHBhcnNlSW50KCB0aGlzLmJhci5kYXRhc2V0LmZvcm0gKTtcblx0XHRcdGNvbnN0IGV2ZW50Rm9ybUlkID0gcGFyc2VJbnQoIGV2ZW50LmRldGFpbC5mb3JtSWQgKTtcblxuXHRcdFx0aWYgKHByb2dyZXNzRm9ybUlkID09PSBldmVudEZvcm1JZCkge1xuXHRcdFx0XHR0aGlzLmFkZFN1Ym1pc3Npb24oKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcy5ldmVudEhhbmRsZXIgKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMuZXZlbnRIYW5kbGVyICk7XG5cblx0XHRzdXBlci5kZXN0cm95KCk7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuaW1wb3J0IGJyb3dzZXJTdXBwb3J0c0NsYXNzTGlzdCBmcm9tICcuLy4uLy4uLy4uL2pzL3V0aWxzL2NsYXNzTGlzdCc7XG5cbmNvbnN0IElDT05fU0VMRUNUT1IgPSAnLmEtc2VhcmNoX19pY29uJztcbmNvbnN0IEZJRUxEX1NFTEVDVE9SID0gJy5hLXNlYXJjaF9fZmllbGQnO1xuY29uc3QgU1VCTUlUX0xBQkVMX1NFTEVDVE9SID0gJy5hLXNlYXJjaF9fc3VibWl0LWxhYmVsJztcblxuY29uc3QgQ09WRVJJTkdfQ0xBU1MgPSAnYS1zZWFyY2gtLWNvdmVyaW5nJztcblxuY29uc3QgQUNUSVZFX1NUQVRFID0gJ2lzLWFjdGl2ZSc7XG5jb25zdCBIT1ZFUl9TVEFURSA9ICdoaWdobGlnaHQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBU2VhcmNoIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuaWNvbiA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChJQ09OX1NFTEVDVE9SKTtcblx0XHR0aGlzLmZpZWxkID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KEZJRUxEX1NFTEVDVE9SKTtcblxuXHRcdHRoaXMub3Zlckljb24gPSBmYWxzZTtcblx0XHR0aGlzLm92ZXJGaWVsZCA9IGZhbHNlO1xuXHRcdHRoaXMuYWN0aXZlID0gZmFsc2U7XG5cblx0XHR0aGlzLmNvdmVyaW5nID0gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDT1ZFUklOR19DTEFTUyk7XG5cblx0XHRpZiAodGhpcy5jb3ZlcmluZykge1xuXHRcdFx0dGhpcy5pbml0aWFsV2lkdGggPSB0aGlzLmVsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCdtb3VzZW92ZXInLCBJQ09OX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuc2V0SG92ZXIoZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdtb3VzZW92ZXInLCBGSUVMRF9TRUxFQ1RPUiwgKGV2ZW50KSA9PiB0aGlzLnNldEhvdmVyKGV2ZW50KSk7XG5cdFx0dGhpcy5vbignbW91c2VvdXQnLCBJQ09OX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuc2V0SG92ZXIoZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdtb3VzZW91dCcsIEZJRUxEX1NFTEVDVE9SLCAoZXZlbnQpID0+IHRoaXMuc2V0SG92ZXIoZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdjbGljaycsIFNVQk1JVF9MQUJFTF9TRUxFQ1RPUiwgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZUdsYXNzQ2xpY2soZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdmb2N1cycsIEZJRUxEX1NFTEVDVE9SLCAoKSA9PiB0aGlzLnNldEZvY3VzKHRydWUpKTtcblx0XHR0aGlzLm9uKCdibHVyJywgRklFTERfU0VMRUNUT1IsICgpID0+IHRoaXMuc2V0Rm9jdXMoZmFsc2UpKTtcblx0fVxuXG5cdHNldEhvdmVyKGV2ZW50KSB7XG5cdFx0bGV0IG92ZXJTdGF0ZSA9ICdtb3VzZW92ZXInID09PSBldmVudC50eXBlO1xuXHRcdHRoaXMuc2V0T3ZlclN0YXRlKGV2ZW50LnRhcmdldCwgb3ZlclN0YXRlKTtcblxuXHRcdGxldCBob3ZlclN0YXRlID0gKCF0aGlzLmFjdGl2ZSAmJiAodGhpcy5vdmVySWNvbiB8fCB0aGlzLm92ZXJGaWVsZCkpO1xuXHRcdHRoaXMuc2V0SG92ZXJTdGF0ZShob3ZlclN0YXRlKTtcblx0fVxuXG5cdHNldEhvdmVyU3RhdGUoYWN0aXZlKSB7XG5cdFx0aWYgKGFjdGl2ZSkge1xuXHRcdFx0aWYgKGJyb3dzZXJTdXBwb3J0c0NsYXNzTGlzdCh0aGlzLmljb24pKSB7XG5cdFx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5pY29uLCBIT1ZFUl9TVEFURSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuZmllbGQsIEhPVkVSX1NUQVRFKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGJyb3dzZXJTdXBwb3J0c0NsYXNzTGlzdCh0aGlzLmljb24pKSB7XG5cdFx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5pY29uLCBIT1ZFUl9TVEFURSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuZmllbGQsIEhPVkVSX1NUQVRFKTtcblx0XHR9XG5cdH1cblxuXHRoYW5kbGVHbGFzc0NsaWNrKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLmFjdGl2ZSkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuc2V0Rm9jdXModHJ1ZSk7XG5cdFx0fSBlbHNlIGlmICghdGhpcy5maWVsZC52YWx1ZSkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuc2V0Rm9jdXMoZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdHNldEZvY3VzKGFjdGl2ZSkge1xuXHRcdGlmIChhY3RpdmUpIHtcblx0XHRcdHRoaXMub3BlbigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0Ly8gd2l0aG91dCBkZWxheSB3ZSBjYW4ndCBjbGljayB0aGUgaWNvblxuXHRcdFx0XHQvLyB0aGlzIGFsbG93cyB1cyBzZW5kIHRoZSBmb3JtIGJ5IGNsaWNrXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH0sIDIwMCk7XG5cdFx0fVxuXHR9XG5cblx0b3BlbigpIHtcblx0XHR0aGlzLmFjdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy5maWVsZC5mb2N1cygpO1xuXHRcdHRoaXMuc2V0SG92ZXJTdGF0ZShmYWxzZSk7XG5cdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmZpZWxkLCBBQ1RJVkVfU1RBVEUpO1xuXG5cdFx0Ly8gZXhwYW5kIHRoZSB3aG9sZSBlbGVtZW50IHRvIG1ha2Ugc3VyZSB3ZSBoaWRlIGFsbCBlbGVtZW50cyBvbiB0aGUgcmlnaHRcblx0XHRpZiAodGhpcy5jb3ZlcmluZykge1xuXHRcdFx0bGV0IGxlZnQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0TGVmdDtcblx0XHRcdGxldCB2dyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG5cdFx0XHR0aGlzLmVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAodncgLSBsZWZ0KSArICdweCc7XG5cdFx0XHR0aGlzLmFkZENsYXNzKEFDVElWRV9TVEFURSk7XG5cdFx0fVxuXHR9XG5cblx0Y2xvc2UoKSB7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmZpZWxkLCBBQ1RJVkVfU1RBVEUpO1xuXHRcdHRoaXMuYWN0aXZlID0gZmFsc2U7XG5cblx0XHQvLyBzaHJpbmsgdGhlIGJhY2tncm91bmRcblx0XHRpZiAodGhpcy5jb3ZlcmluZykge1xuXHRcdFx0dGhpcy5lbGVtZW50LnN0eWxlLm1heFdpZHRoID0gbnVsbDtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoQUNUSVZFX1NUQVRFKTtcblx0XHR9XG5cdH1cblxuXHRzZXRPdmVyU3RhdGUodGFyZ2V0LCBzdGF0ZSkge1xuXHRcdGlmICgndGV4dCcgPT09IHRhcmdldC50eXBlKSB7XG5cdFx0XHR0aGlzLm92ZXJGaWVsZCA9IHN0YXRlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm92ZXJJY29uID0gc3RhdGU7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcblxuY29uc3QgTUVTU0FHRV9TRUxFQ1RPUiA9ICcuYS1zb2NpYWwtaWNvbl9fY29waWVkJztcbmNvbnN0IE1FU1NBR0VfVklTSUJMRV9DTEFTUyA9ICdhLXNvY2lhbC1pY29uX19jb3BpZWQtLXZpc2libGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNU2hhcmVCbG9jayBleHRlbmRzIEJhc2VWaWV3IHtcblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHRpZiAodGhpcy5pc0xpbmtCdXR0b24oKSkge1xuXHRcdFx0dGhpcy5vbiggJ2NsaWNrJywgKCkgPT4gdGhpcy5jb3B5TGluaygpICk7XG5cdFx0fVxuXHR9XG5cblx0aXNMaW5rQnV0dG9uKCkge1xuXHRcdHJldHVybiAnbGluaycgaW4gdGhpcy5lbGVtZW50LmRhdGFzZXQ7XG5cdH1cblxuXHRjb3B5TGluaygpIHtcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCggdGhpcy5lbGVtZW50LmRhdGFzZXQubGluayApLlxuXHRcdFx0dGhlbiggdGhpcy5zaG93TWVzc2FnZS5iaW5kKCB0aGlzICkgKTtcblx0fVxuXG5cdHNob3dNZXNzYWdlKCkge1xuXHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIE1FU1NBR0VfU0VMRUNUT1IgKTtcblx0XHR0aGlzLmFkZENsYXNzKCBtZXNzYWdlLCBNRVNTQUdFX1ZJU0lCTEVfQ0xBU1MgKTtcblx0XHR3aW5kb3cuc2V0VGltZW91dCggKCkgPT4ge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggbWVzc2FnZSwgTUVTU0FHRV9WSVNJQkxFX0NMQVNTICk7XG5cdFx0fSwgMTAwICk7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5jb25zdCBJTlBVVF9TRUxFQ1RPUiA9ICcuYS1pbnB1dF9fZmllbGQnO1xuY29uc3QgTEFCRUxfU0VMRUNUT1IgPSAnLmEtaW5wdXRfX2xhYmVsJztcbmNvbnN0IEVNUFRZX1NUQVRFID0gJ2lzLWVtcHR5JztcbmNvbnN0IFRPVUNIRURfU1RBVEUgPSAnaXMtdG91Y2hlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFJbnB1dCBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmlucHV0ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBJTlBVVF9TRUxFQ1RPUiApO1xuXHRcdHRoaXMubGFiZWwgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIExBQkVMX1NFTEVDVE9SICk7XG5cblx0XHR0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2tleXVwJywgSU5QVVRfU0VMRUNUT1IsICgpID0+IHRoaXMuc2V0U3RhdGVDbGFzc2VzKCkgKTtcblx0XHR0aGlzLm9uKCAnYmx1cicsIElOUFVUX1NFTEVDVE9SLCAoKSA9PiB0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKSApO1xuXHRcdC8vIGRvbid0IHVzZSB0aGUgZm9jdXMgZXZlbnQsIHNpbmNlIGl0IG1ha2VzIGlucHV0IGZpZWxkcyB1bnVzYWJsZSBvbiBGRiBtb2JpbGUgZm9yIEFuZHJvaWRcblx0fVxuXG5cdHNldFN0YXRlQ2xhc3NlcygpIHtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmlucHV0LCBUT1VDSEVEX1NUQVRFICk7XG5cdFx0dGhpcy5tYW5hZ2VFbXB0eVN0YXRlKCk7XG5cdH1cblxuXHRtYW5hZ2VFbXB0eVN0YXRlKCkge1xuXHRcdGlmICh0aGlzLmlzRW1wdHkoKSkge1xuXHRcdFx0dGhpcy5zZXRFbXB0eVN0YXRlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmVtb3ZlRW1wdHlTdGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHNldEVtcHR5U3RhdGUoKSB7XG5cdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5sYWJlbCwgRU1QVFlfU1RBVEUgKTtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmlucHV0LCBFTVBUWV9TVEFURSApO1xuXHR9XG5cblx0cmVtb3ZlRW1wdHlTdGF0ZSgpIHtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLmxhYmVsLCBFTVBUWV9TVEFURSApO1xuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMuaW5wdXQsIEVNUFRZX1NUQVRFICk7XG5cdH1cblxuXHRpc0VtcHR5KCkge1xuXHRcdHJldHVybiAhIHRoaXMuaW5wdXQudmFsdWU7XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5jb25zdCBJTlBVVF9TRUxFQ1RPUiA9ICcuYS1zZWxlY3RfX2ZpZWxkJztcbmNvbnN0IEJBQ0tHUk9VTkRfU0VMRUNUT1IgPSAnLmEtc2VsZWN0X19iYWNrZ3JvdW5kJztcbmNvbnN0IExBQkVMX1NFTEVDVE9SID0gJy5hLXNlbGVjdF9fbGFiZWwnO1xuXG5jb25zdCBGT0NVU19XSVRISU5fU1RBVEUgPSAnaGFzLWZvY3VzLXdpdGhpbic7XG5jb25zdCBFTVBUWV9TVEFURSA9ICdpcy1lbXB0eSc7XG5jb25zdCBUT1VDSEVEX1NUQVRFID0gJ2lzLXRvdWNoZWQnO1xuY29uc3QgVkFMSURfU1RBVEUgPSAnaXMtdmFsaWQnO1xuY29uc3QgSU5WQUxJRF9TVEFURSA9ICdpcy1pbnZhbGlkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVNlbGVjdCBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLnNlbGVjdCA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggSU5QVVRfU0VMRUNUT1IgKTtcblx0XHR0aGlzLmJhY2tncm91bmQgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEJBQ0tHUk9VTkRfU0VMRUNUT1IgKTtcblx0XHR0aGlzLmxhYmVsID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBMQUJFTF9TRUxFQ1RPUiApO1xuXG5cdFx0dGhpcy5tYW5hZ2VFbXB0eVN0YXRlKCk7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMub24oICdmb2N1cycsIElOUFVUX1NFTEVDVE9SLCAoKSA9PiB0aGlzLm9uU2V0Rm9jdXMoKSApO1xuXHRcdHRoaXMub24oICdibHVyJywgSU5QVVRfU0VMRUNUT1IsICgpID0+IHRoaXMub25SZW1vdmVGb2N1cygpICk7XG5cdFx0dGhpcy5vbiggJ2NoYW5nZScsIElOUFVUX1NFTEVDVE9SLCAoKSA9PiB0aGlzLm9uQ2hhbmdlKCksIGZhbHNlLCBmYWxzZSApO1xuXHRcdHRoaXMub24oICdjbGljaycsIExBQkVMX1NFTEVDVE9SLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnNlbGVjdC5mb2N1cygpO1xuXHRcdH0gKTtcblx0fVxuXG5cdG9uQ2hhbmdlKCkge1xuXHRcdHRoaXMubWFuYWdlRW1wdHlTdGF0ZSgpO1xuXHRcdHRoaXMuc2V0VG91Y2hlZFN0YXRlKCk7XG5cdFx0dGhpcy5tYW5hZ2VWYWxpZFN0YXRlKCk7XG5cdH1cblxuXHRvblNldEZvY3VzKCkge1xuXHRcdHRoaXMuc2V0VG91Y2hlZFN0YXRlKCk7XG5cdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5iYWNrZ3JvdW5kLCBGT0NVU19XSVRISU5fU1RBVEUgKTtcblx0XHR0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKTtcblx0fVxuXG5cdG9uUmVtb3ZlRm9jdXMoKSB7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5iYWNrZ3JvdW5kLCBGT0NVU19XSVRISU5fU1RBVEUgKTtcblx0XHR0aGlzLm1hbmFnZUVtcHR5U3RhdGUoKTtcblx0XHR0aGlzLm1hbmFnZVZhbGlkU3RhdGUoKTtcblx0fVxuXG5cdG1hbmFnZUVtcHR5U3RhdGUoKSB7XG5cdFx0aWYgKHRoaXMuaXNFbXB0eSgpKSB7XG5cdFx0XHR0aGlzLnNldEVtcHR5U3RhdGUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5yZW1vdmVFbXB0eVN0YXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0aXNFbXB0eSgpIHtcblx0XHRyZXR1cm4gISB0aGlzLnNlbGVjdC52YWx1ZTtcblx0fVxuXG5cdHNldEVtcHR5U3RhdGUoKSB7XG5cdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5sYWJlbCwgRU1QVFlfU1RBVEUgKTtcblx0fVxuXG5cdHJlbW92ZUVtcHR5U3RhdGUoKSB7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5sYWJlbCwgRU1QVFlfU1RBVEUgKTtcblx0fVxuXG5cdHNldFRvdWNoZWRTdGF0ZSgpIHtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmJhY2tncm91bmQsIFRPVUNIRURfU1RBVEUgKTtcblx0fVxuXG5cdG1hbmFnZVZhbGlkU3RhdGUoKSB7XG5cdFx0aWYgKCEgdGhpcy5zZWxlY3QuaGFzQXR0cmlidXRlKCAncmVxdWlyZWQnICkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoISB0aGlzLmlzRW1wdHkoKSkge1xuXHRcdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5iYWNrZ3JvdW5kLCBWQUxJRF9TVEFURSApO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5iYWNrZ3JvdW5kLCBJTlZBTElEX1NUQVRFICk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc2VsZWN0Lmhhc0F0dHJpYnV0ZSggJ3JlcXVpcmVkJyApICYmIHRoaXMuaXNFbXB0eSgpKSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCB0aGlzLmJhY2tncm91bmQsIFZBTElEX1NUQVRFICk7XG5cdFx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmJhY2tncm91bmQsIElOVkFMSURfU1RBVEUgKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuaW1wb3J0IGFqYXggZnJvbSAnLi4vLi4vLi4vanMvc2VydmljZS9hamF4JztcblxuY29uc3QgU1VCTUlUX0JVVFRPTl9TRUxFQ1RPUiA9ICdbZGF0YS1mb3JtLXN1Ym1pdF0nO1xuY29uc3QgU1VCTUlUX1dSQVBQRVJfU0VMRUNUT1IgPSAnLm0tZm9ybV9fc3VibWl0LXdyYXBwZXInO1xuY29uc3QgU1VDQ0VTU19NRVNTQUdFX1NFTEVDVE9SID0gJy5tLWZvcm1fX21lc3NhZ2UtLXN1Y2Nlc3MnO1xuY29uc3QgRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiA9ICcubS1mb3JtX19tZXNzYWdlLS1mYWlsdXJlJztcbmNvbnN0IElOVkFMSURfTUVTU0FHRV9TRUxFQ1RPUiA9ICcubS1mb3JtX19tZXNzYWdlLS1pbnZhbGlkJztcbmNvbnN0IFNFUlZFUl9GRUVEQkFDS19NRVNTQUdFX1NFTEVDVE9SID0gJy5tLWZvcm1fX21lc3NhZ2UtZXJyb3InO1xuY29uc3QgRk9STV9TRUxFQ1RPUiA9ICcubS1mb3JtJztcblxuY29uc3QgSElEREVOX1NUQVRFID0gJ2lzLWhpZGRlbic7XG5jb25zdCBTSE9XTl9TVEFURSA9ICdpcy1zaG93bic7XG5jb25zdCBJTlZBTElEX1NUQVRFID0gJ2lzLWludmFsaWQnO1xuXG5jb25zdCBMQVNUX1NVQk1JU1NJT04gPSAncHJlZCc7XG5cbi8vIHN5bmMgd2l0aCBhLXByb2dyZXNzLmpzXG5jb25zdCBTVUJNSVNTSU9OX05PVElGSUNBVElPTl9FVkVOVCA9ICdzdXB0X2Zvcm1fc3VibWlzc2lvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1Gb3JtIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRzdGF0aWMgZ2V0VXJsUGFyYW0oIHBhcmFtLCBkZWZhdWx0VmFsdWUgKSB7XG5cdFx0Y29uc3QgdXJsID0gbmV3IFVSTCggd2luZG93LmxvY2F0aW9uLmhyZWYgKTtcblx0XHRjb25zdCB2YWx1ZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCBwYXJhbSApO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdC8qIEBub2luc3BlY3Rpb24gSlNDaGVja0Z1bmN0aW9uU2lnbmF0dXJlc0luc3BlY3Rpb24gKi9cblx0XHR0aGlzLm9uKCAnc3VibWl0JywgZSA9PiB0aGlzLnN1Ym1pdCggZSApICk7XG5cdH1cblxuXHRzdGF0aWMgYnVpbGRSZWRpcmVjdFVybCggdXJsLCBmb3JtSWQgKSB7XG5cdFx0dXJsID0gbmV3IFVSTCggdXJsICk7XG5cdFx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoIExBU1RfU1VCTUlTU0lPTiwgZm9ybUlkICk7XG5cdFx0cmV0dXJuIHVybC50b1N0cmluZygpO1xuXHR9XG5cblx0aGFuZGxlRXJyb3IoIHJlc3AgKSB7XG5cdFx0aWYgKHJlc3AgaW5zdGFuY2VvZiBPYmplY3QgJiYgJ2RhdGEnIGluIHJlc3ApIHtcblx0XHRcdGlmICgnbm9uY2UnIGluIHJlc3AuZGF0YSkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQuZGF0YXNldC5ub25jZSA9IHJlc3AuZGF0YS5ub25jZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCdnZW5lcmFsJyBpbiByZXNwLmRhdGEpIHtcblx0XHRcdFx0dGhpcy5zaG93RXJyb3JNZXNzYWdlKCByZXNwLmRhdGEuZ2VuZXJhbCApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoJ3ZhbGlkYXRpb24nIGluIHJlc3AuZGF0YSkge1xuXHRcdFx0XHR0aGlzLnNob3dJbnZhbGlkTWVzc2FnZSggcmVzcC5kYXRhLnZhbGlkYXRpb24gKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNob3dFcnJvck1lc3NhZ2UoICcnICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy5zaG93RXJyb3JNZXNzYWdlKCAnJyApO1xuXHRcdH1cblx0fVxuXG5cdGNsZWFyU2VuZGluZ1N0YXRlKCkge1xuXHRcdGNsZWFySW50ZXJ2YWwoIHRoaXMuc2VuZGluZ1RpbWVyICk7XG5cdFx0dGhpcy5zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHR0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuXHRcdHRoaXMuc3VibWl0QnV0dG9uLmlubmVySFRNTCA9IHRoaXMub3JpZ1N1Ym1pdExibDtcblx0fVxuXG5cdHNob3dJbnZhbGlkTWVzc2FnZSggbWVzc2FnZXMgKSB7XG5cdFx0bGV0IGludmFsaWRNZXNzYWdlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBJTlZBTElEX01FU1NBR0VfU0VMRUNUT1IgKTtcblx0XHRsZXQgc2VydmVyTWVzc2FnZSA9IGludmFsaWRNZXNzYWdlLnF1ZXJ5U2VsZWN0b3IoXG5cdFx0XHRTRVJWRVJfRkVFREJBQ0tfTUVTU0FHRV9TRUxFQ1RPUiApO1xuXHRcdGxldCBtZXNzYWdlID0gJyc7XG5cblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyggbWVzc2FnZXMgKSkge1xuXHRcdFx0bGV0IGVsID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCAnW25hbWU9JyArIGtleSArICddJyApO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyggZWwsIElOVkFMSURfU1RBVEUgKTtcblx0XHRcdG1lc3NhZ2UgKz0gYDxsaT4keyBtZXNzYWdlc1sga2V5IF0gfTwvbGk+YDtcblx0XHR9XG5cblx0XHRzZXJ2ZXJNZXNzYWdlLmlubmVySFRNTCA9IGA8dWw+JHsgbWVzc2FnZSB9PC91bD5gO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIGludmFsaWRNZXNzYWdlLCBTSE9XTl9TVEFURSApO1xuXHRcdGludmFsaWRNZXNzYWdlLnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyApO1xuXHR9XG5cblx0c2hvd0Vycm9yTWVzc2FnZSggbWVzc2FnZSApIHtcblx0XHRsZXQgZXJyb3JNZXNzYWdlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBFUlJPUl9NRVNTQUdFX1NFTEVDVE9SICk7XG5cdFx0bGV0IHNlcnZlck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UucXVlcnlTZWxlY3Rvcihcblx0XHRcdFNFUlZFUl9GRUVEQkFDS19NRVNTQUdFX1NFTEVDVE9SICk7XG5cblx0XHRzZXJ2ZXJNZXNzYWdlLmlubmVySFRNTCA9IGA8dWw+PGxpPiR7IG1lc3NhZ2UgfTwvbGk+PC91bD5gO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIGVycm9yTWVzc2FnZSwgU0hPV05fU1RBVEUgKTtcblx0XHRlcnJvck1lc3NhZ2Uuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAnZmFsc2UnICk7XG5cdH1cblxuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBTVUJNSVRfQlVUVE9OX1NFTEVDVE9SICk7XG5cblx0XHR0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuXHRcdHRoaXMuc2VuZGluZ1RpbWVyID0gbnVsbDtcblx0XHR0aGlzLm9yaWdTdWJtaXRMYmwgPSB0aGlzLnN1Ym1pdEJ1dHRvbi5pbm5lckhUTUw7XG5cdFx0dGhpcy5wcmVkZWNlc3NvcklkID0gTUZvcm0uZ2V0VXJsUGFyYW0oIExBU1RfU1VCTUlTU0lPTiwgLSAxICk7XG5cdH1cblxuXHRzaG93U2VuZGluZygpIHtcblx0XHRsZXQgbGJsID0gdGhpcy5lbGVtZW50LmRhdGFzZXQuc2VuZGluZ0xibDtcblx0XHRsZXQgY291bnRlciA9IDA7XG5cdFx0dGhpcy5zZW5kaW5nVGltZXIgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xuXHRcdFx0Y291bnRlciArKztcblx0XHRcdGNvdW50ZXIgPSBjb3VudGVyIDw9IDMgPyBjb3VudGVyIDogMDtcblxuXHRcdFx0bGV0IGxibEFkZCA9ICcnO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudGVyOyBpICsrKSB7XG5cdFx0XHRcdGxibEFkZCArPSAnLic7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuc3VibWl0QnV0dG9uLmlubmVySFRNTCA9IGxibCArICc8c3BhbiBjbGFzcz1cIm0tZm9ybV9fc2VuZGluZ1wiPicgK1xuXHRcdFx0XHRsYmxBZGQgKyAnPC9zcGFuPic7XG5cdFx0fSwgMzAwICk7XG5cdH1cblxuXHRzdWJtaXQoIGV2ZW50ICkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQvLyBoaWRlIGVycm9yIG1lc3NhZ2VzXG5cdFx0bGV0IGVycm9yTWVzc2FnZSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiApO1xuXHRcdGxldCBpbnZhbGlkTWVzc2FnZSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggSU5WQUxJRF9NRVNTQUdFX1NFTEVDVE9SICk7XG5cdFx0ZXJyb3JNZXNzYWdlLnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ3RydWUnICk7XG5cdFx0aW52YWxpZE1lc3NhZ2Uuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScgKTtcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCBlcnJvck1lc3NhZ2UsIFNIT1dOX1NUQVRFICk7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggaW52YWxpZE1lc3NhZ2UsIFNIT1dOX1NUQVRFICk7XG5cblx0XHQvLyBwcmV2ZW50IGRvdWJsZSBzdWJtaXRcblx0XHRpZiAodGhpcy5zdWJtaXR0ZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXHRcdHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcblxuXHRcdC8vIG1hcmsgYXMgc2VuZGluZ1xuXHRcdHRoaXMuc2hvd1NlbmRpbmcoKTtcblxuXHRcdC8vIHRoZSBmb3JtIGRhdGFcblx0XHRjb25zdCBkYXRhID0gdGhpcy5nZXRGb3JtRGF0YSgpO1xuXHRcdGNvbnN0IHVybCA9IHRoaXMuZWxlbWVudC5hY3Rpb247XG5cblx0XHQvLyBnZXQgYSBub25jZSwgdGhlbiBzdWJtaXQgdGhlIGZvcm1cblx0XHR0aGlzLmdldE5vbmNlKCkuXG5cdFx0XHR0aGVuKCBub25jZSA9PiBkYXRhLmFwcGVuZCggJ25vbmNlJywgbm9uY2UgKSApLlxuXHRcdFx0dGhlbiggKCkgPT4gdGhpcy5zZW5kRm9ybSggdXJsLCBkYXRhICkgKS5cblx0XHRcdHRoZW4oIHJlc3AgPT4gdGhpcy5zaG93U3VjY2VzcyggcmVzcCApICkuXG5cdFx0XHR0aGVuKCAoKSA9PiB0aGlzLnNlbmRTdWJtaXNzaW9uTm90aWZpY2F0aW9uKCkgKS5cblx0XHRcdGNhdGNoKCByZXNwID0+IHRoaXMuaGFuZGxlRXJyb3IoIHJlc3AgKSApLlxuXHRcdFx0ZmluYWxseSggdGhpcy5jbGVhclNlbmRpbmdTdGF0ZS5iaW5kKCB0aGlzICkgKTtcblx0fVxuXG5cdHNlbmRGb3JtKCB1cmwsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGFqYXgoIHVybCwgJ1BPU1QnLCBkYXRhICkudGhlbiggKCByZXNwICkgPT4ge1xuXHRcdFx0aWYgKHJlc3AgaW5zdGFuY2VvZiBPYmplY3Rcblx0XHRcdFx0JiYgJ3N1Y2Nlc3MnIGluIHJlc3Bcblx0XHRcdFx0JiYgdHJ1ZSA9PT0gcmVzcC5zdWNjZXNzKSB7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIHJlc3AuZGF0YSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdCggcmVzcCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdGdldEZvcm1EYXRhKCkge1xuXHRcdGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdC8qKlxuXHRcdCAqIGFwcGVuZCB0aGUgZm9sbG93aW5nIGRhdGEgaW4gSlMsIHNvIHdlIGhhdmUgYSBmaXJzdCBzcGFtIGJhcnJpZXJcblx0XHQgKi9cblx0XHQvLyBhZGQgd29yZHByZXNzIGFjdGlvblxuXHRcdGRhdGEuYXBwZW5kKCAnYWN0aW9uJywgJ3N1cHRfZm9ybV9zdWJtaXQnICk7XG5cblx0XHQvLyBhZGQgZm9ybSBpZFxuXHRcdGRhdGEuYXBwZW5kKCAnZm9ybV9pZCcsIHRoaXMuZWxlbWVudC5kYXRhc2V0LmZvcm1JZCApO1xuXG5cdFx0Ly8gYWRkIGFjdGlvbiBpZCAoZW5nYWdlbWVudCBmdW5uZWwgcGx1Z2luKVxuXHRcdGlmICh0aGlzLmVsZW1lbnQuZGF0YXNldC5hY3Rpb25JZCkge1xuXHRcdFx0ZGF0YS5hcHBlbmQoICdhY3Rpb25faWQnLCB0aGlzLmVsZW1lbnQuZGF0YXNldC5hY3Rpb25JZCApO1xuXHRcdH1cblxuXHRcdC8vIGFkZCBjb25maWcgaWQgKGVuZ2FnZW1lbnQgZnVubmVsIHBsdWdpbilcblx0XHRpZiAodGhpcy5lbGVtZW50LmRhdGFzZXQuY29uZmlnSWQpIHtcblx0XHRcdGRhdGEuYXBwZW5kKCAnY29uZmlnX2lkJywgdGhpcy5lbGVtZW50LmRhdGFzZXQuY29uZmlnSWQgKTtcblx0XHR9XG5cblx0XHQvLyBhZGQgdGhlIGlkIG9mIHRoZSBsYXN0IGZvcm1cblx0XHRkYXRhLmFwcGVuZCggJ3ByZWRlY2Vzc29yX2lkJywgdGhpcy5wcmVkZWNlc3NvcklkICk7XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXG5cdHNob3dTdWNjZXNzKCBkYXRhICkge1xuXHRcdGlmICgtIDEgPT09IGRhdGEubmV4dF9hY3Rpb25faWQgfHwgIWRhdGEuaHRtbCkge1xuXHRcdFx0aWYgKGRhdGEucmVkaXJlY3QgJiYgLSAxID09PSBkYXRhLm5leHRfYWN0aW9uX2lkKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gTUZvcm0uYnVpbGRSZWRpcmVjdFVybChcblx0XHRcdFx0XHRkYXRhLnJlZGlyZWN0LFxuXHRcdFx0XHRcdGRhdGEucHJlZGVjZXNzb3JfaWRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLnByZWRlY2Vzc29ySWQgPSBkYXRhLnByZWRlY2Vzc29yX2lkO1xuXHRcdFx0XHRsZXQgc3VibWl0V3JhcHBlciA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggU1VCTUlUX1dSQVBQRVJfU0VMRUNUT1IgKTtcblx0XHRcdFx0bGV0IHN1Y2Nlc3NNZXNzYWdlID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBTVUNDRVNTX01FU1NBR0VfU0VMRUNUT1IgKTtcblx0XHRcdFx0c3VibWl0V3JhcHBlci5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICd0cnVlJyApO1xuXHRcdFx0XHRzdWNjZXNzTWVzc2FnZS5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICdmYWxzZScgKTtcblx0XHRcdFx0dGhpcy5hZGRDbGFzcyggc3VibWl0V3JhcHBlciwgSElEREVOX1NUQVRFICk7XG5cdFx0XHRcdHRoaXMuYWRkQ2xhc3MoIHN1Y2Nlc3NNZXNzYWdlLCBTSE9XTl9TVEFURSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBwYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuXHRcdFx0cGFyZW50LmlubmVySFRNTCA9IGRhdGEuaHRtbDtcblxuXHRcdFx0bGV0IGZvcm0gPSBuZXcgTUZvcm0oIHBhcmVudC5xdWVyeVNlbGVjdG9yKCBGT1JNX1NFTEVDVE9SICkgKTtcblx0XHRcdGZvcm0uYmluZCgpO1xuXG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHR9XG5cdH1cblxuXHRnZXROb25jZSgpIHtcblx0XHRyZXR1cm4gYWpheCggdGhpcy5lbGVtZW50LmRhdGFzZXQubm9uY2UsICdHRVQnICk7XG5cdH1cblxuXHRzZW5kU3VibWlzc2lvbk5vdGlmaWNhdGlvbigpIHtcblx0XHRjb25zdCBub3RpZmljYXRpb24gPSBuZXcgQ3VzdG9tRXZlbnQoIFNVQk1JU1NJT05fTk9USUZJQ0FUSU9OX0VWRU5ULCB7XG5cdFx0XHRkZXRhaWw6IHsgZm9ybUlkOiB0aGlzLmVsZW1lbnQuZGF0YXNldC5mb3JtSWQgfSxcblx0XHR9ICk7XG5cblx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KCBub3RpZmljYXRpb24gKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJy4uLy4uLy4uL2pzL2Jhc2Utdmlldyc7XG5pbXBvcnQgYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0IGZyb20gJy4uLy4uLy4uL2pzL3V0aWxzL2NsYXNzTGlzdCc7XG5cbmNvbnN0IFNFTEVDVF9TRUxFQ1RPUiA9ICcjcGFydHktc2VsZWN0b3InO1xuY29uc3QgRElBTE9HX1dSQVBQRVJfU0VMRUNUT1IgPSAnLm0tbWFwX19kaWFsb2cnO1xuY29uc3QgTUFQX1NFTEVDVE9SID0gJy5tLW1hcF9fbWFwJztcbmNvbnN0IE1BUF9TRUNUSU9OX1NFTEVDVE9SID0gTUFQX1NFTEVDVE9SICsgJyAubWFwLWl0ZW0nO1xuY29uc3QgRElBTE9HX0NMT1NFX1NFTEVDVE9SID0gJy5hLXNpbXBsZS1kaWFsb2dfX2Nsb3NlJztcbmNvbnN0IE1PREFMX1NFTEVDVE9SID0gJy5tLW1hcF9fbW9kYWwnO1xuXG5jb25zdCBESUFMT0dfSURfUFJFRklYID0gJ2Etc2ltcGxlLWRpYWxvZy0tJztcblxuY29uc3QgT1BFTl9TVEFURSA9ICdpcy1vcGVuJztcbmNvbnN0IEFMSUdOX0xFRlRfU1RBVEUgPSAncHVsbC1sZWZ0JztcbmNvbnN0IEFDVElWRV9TVEFURSA9ICdpcy1hY3RpdmUnO1xuXG4vKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJlcnJvclwiXSB9XSAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTU1hcCBleHRlbmRzIEJhc2VWaWV3IHtcblxuXHRpbml0aWFsaXplKCkge1xuXHRcdHN1cGVyLmluaXRpYWxpemUoKTtcblxuXHRcdHRoaXMuc2VsZWN0ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KFNFTEVDVF9TRUxFQ1RPUik7XG5cdFx0dGhpcy5tYXAgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoTUFQX1NFTEVDVE9SKTtcblx0XHR0aGlzLm1vZGFsID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KE1PREFMX1NFTEVDVE9SKTtcblxuXHRcdHRoaXMuZGlhbG9nID0gbnVsbDtcblx0XHR0aGlzLm1hcEl0ZW0gPSBudWxsO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCdjaGFuZ2UnLCBTRUxFQ1RfU0VMRUNUT1IsICgpID0+IHRoaXMuc2VsZWN0SGFuZGxlcigpLCBmYWxzZSwgZmFsc2UpO1xuXHRcdHRoaXMub24oJ2NsaWNrJywgTUFQX1NFQ1RJT05fU0VMRUNUT1IsIChldmVudCkgPT4gdGhpcy5tYXBDbGlja0hhbmRsZXIoZXZlbnQpKTtcblx0XHR0aGlzLm9uKCdjbGljaycsIERJQUxPR19DTE9TRV9TRUxFQ1RPUiwgKCkgPT4gdGhpcy5jbG9zZUNsaWNrSGFuZGxlcigpKTtcblx0XHR0aGlzLm9uKCdjbGljaycsIE1PREFMX1NFTEVDVE9SLCAoKSA9PiB0aGlzLmNsb3NlQ2xpY2tIYW5kbGVyKCkpO1xuXHR9XG5cblx0Y2xvc2VDbGlja0hhbmRsZXIoKSB7XG5cdFx0dGhpcy5oaWRlRGlhbG9nKCk7XG5cdFx0dGhpcy51bmhpZ2hsaWdodENsaWNrZWRNYXBJdGVtKCk7XG5cdH1cblxuXHRtYXBDbGlja0hhbmRsZXIoZXZlbnQpIHtcblx0XHR0aGlzLnNlbGVjdC52YWx1ZSA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0LmlkO1xuXHRcdHRoaXMuc2VsZWN0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG5cdFx0dGhpcy5zZXRQb3NpdGlvbihldmVudC5wYWdlWCk7XG5cdH1cblxuXHRzZWxlY3RIYW5kbGVyKCkge1xuXHRcdHRoaXMuaGlkZURpYWxvZygpO1xuXHRcdHRoaXMudW5oaWdobGlnaHRDbGlja2VkTWFwSXRlbSgpO1xuXG5cdFx0aWYgKCF0aGlzLnNlbGVjdC52YWx1ZSkge1xuXHRcdFx0dGhpcy5kaWFsb2cgPSBudWxsO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuc2hvd0RpYWxvZygpO1xuXHRcdHRoaXMuaGlnaGxpZ2h0Q2xpY2tlZE1hcEl0ZW0oKTtcblx0fVxuXG5cdHNldE1hcEl0ZW0oKSB7XG5cdFx0bGV0IHNlbGVjdG9yID0gJyMnICsgdGhpcy5zZWxlY3QudmFsdWU7XG5cdFx0bGV0IG1hcEl0ZW0gPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoTUFQX1NFTEVDVE9SKS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcblxuXHRcdGlmICghbWFwSXRlbSkge1xuXHRcdFx0dGhpcy5tYXBJdGVtID0gbnVsbDtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYE5PVCBGT1VORDogVGhlcmUgd2FzIG5vIG1hcCBpdGVtIHdpdGggdGhlIHNlbGVjdG9yICcke3NlbGVjdG9yfScuYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5tYXBJdGVtID0gbWFwSXRlbTtcblx0fVxuXG5cdHVuaGlnaGxpZ2h0Q2xpY2tlZE1hcEl0ZW0oKSB7XG5cdFx0Ly8gY2hlY2sgZm9yIGNsYXNzIGxpc3QgYXMgd2VsbCB0byBlbnN1cmUgdGhhdCBicm93c2Vycyxcblx0XHQvLyB3aGljaCBkb24ndCBzdXBwb3J0IHRoZSBjbGFzc0xpc3QgcHJvcGVydHkgb24gc3ZnIGVsZW1lbnRzLFxuXHRcdC8vIGRvbid0IGNyYXNoLlxuXHRcdGlmICh0aGlzLm1hcEl0ZW0gJiYgYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0KHRoaXMubWFwSXRlbSkpIHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5tYXBJdGVtLCBBQ1RJVkVfU1RBVEUpO1xuXHRcdH1cblx0fVxuXG5cdGhpZ2hsaWdodENsaWNrZWRNYXBJdGVtKCkge1xuXHRcdHRoaXMuc2V0TWFwSXRlbSgpO1xuXG5cdFx0Ly8gY2hlY2sgZm9yIGNsYXNzIGxpc3QgYXMgd2VsbCB0byBlbnN1cmUgdGhhdCBicm93c2Vycyxcblx0XHQvLyB3aGljaCBkb24ndCBzdXBwb3J0IHRoZSBjbGFzc0xpc3QgcHJvcGVydHkgb24gc3ZnIGVsZW1lbnRzLFxuXHRcdC8vIGRvbid0IGNyYXNoLlxuXHRcdGlmICh0aGlzLm1hcEl0ZW0gJiYgYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0KHRoaXMubWFwSXRlbSkpIHtcblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5tYXBJdGVtLCBBQ1RJVkVfU1RBVEUpO1xuXHRcdH1cblx0fVxuXG5cdHNldERpYWxvZygpIHtcblx0XHRsZXQgc2VsZWN0b3IgPSAnIycgKyBESUFMT0dfSURfUFJFRklYICsgdGhpcy5zZWxlY3QudmFsdWU7XG5cdFx0bGV0IGRpYWxvZyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChzZWxlY3Rvcik7XG5cblx0XHRpZiAoIWRpYWxvZykge1xuXHRcdFx0dGhpcy5kaWFsb2cgPSBudWxsO1xuXHRcdFx0Y29uc29sZS5lcnJvcihgTk9UIEZPVU5EOiBUaGVyZSB3YXMgbm8gYWRkcmVzcyB3aXRoIHRoZSBzZWxlY3RvciAnJHtzZWxlY3Rvcn0nLmApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuZGlhbG9nID0gZGlhbG9nLmNsb3Nlc3QoRElBTE9HX1dSQVBQRVJfU0VMRUNUT1IpO1xuXHR9XG5cblx0aGlkZURpYWxvZygpIHtcblx0XHR0aGlzLmhpZGVNb2RhbCgpO1xuXG5cdFx0aWYgKHRoaXMuZGlhbG9nKSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuZGlhbG9nLCBPUEVOX1NUQVRFKTtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5kaWFsb2csIEFMSUdOX0xFRlRfU1RBVEUpO1xuXHRcdH1cblx0fVxuXG5cdHNob3dEaWFsb2coKSB7XG5cdFx0dGhpcy5zZXREaWFsb2coKTtcblxuXHRcdGlmICh0aGlzLmRpYWxvZykge1xuXHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmRpYWxvZywgT1BFTl9TVEFURSk7XG5cblx0XHRcdHRoaXMuc2hvd01vZGFsKCk7XG5cdFx0fVxuXHR9XG5cblx0c2hvd01vZGFsKCkge1xuXHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5tb2RhbCwgT1BFTl9TVEFURSk7XG5cdH1cblxuXHRoaWRlTW9kYWwoKSB7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLm1vZGFsLCBPUEVOX1NUQVRFKTtcblx0fVxuXG5cdHNldFBvc2l0aW9uKGNsaWNrT2Zmc2V0WCkge1xuXHRcdGlmICghdGhpcy5kaWFsb2cpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgbWFwT2Zmc2V0WCA9IHRoaXMubWFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0bGV0IHJlbENsaWNrT2Zmc2V0WCA9IGNsaWNrT2Zmc2V0WCAtIG1hcE9mZnNldFg7XG5cblx0XHRpZiAoKHRoaXMubWFwLmNsaWVudFdpZHRoIC0gcmVsQ2xpY2tPZmZzZXRYKSA8IHRoaXMuZGlhbG9nLmNsaWVudFdpZHRoKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuZGlhbG9nLCBBTElHTl9MRUZUX1NUQVRFKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBCYXNlVmlldyBmcm9tICdiYXNlLXZpZXcnO1xuXG5leHBvcnQgY29uc3QgTUFJTl9FTlRSWV9TRUxFQ1RPUiA9ICcubS1tZW51X19uYXYtbGluay0tanMtaG9vayc7XG5leHBvcnQgY29uc3QgU1VCTUVOVV9TRUxFQ1RPUiA9ICcubS1tZW51X19zdWJtZW51JztcblxuZXhwb3J0IGNvbnN0IE9QRU5fU1RBVEUgPSAnaXMtb3Blbic7XG5cbmV4cG9ydCBjbGFzcyBNTWVudUJhc2UgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0c3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG5cdFx0dGhpcy5jdXJyZW50U3ViID0gbnVsbDtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgTUFJTl9FTlRSWV9TRUxFQ1RPUiwgKCBldmVudCApID0+IHRoaXMudG9nZ2xlU3ViTmF2aWdhdGlvbiggZXZlbnQgKSApO1xuXHR9XG5cblx0dG9nZ2xlU3ViTmF2aWdhdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKHRoaXMuY3VycmVudFN1YiAhPT0gZXZlbnQudGFyZ2V0KSB7XG5cdFx0XHR0aGlzLmNsb3NlU3ViTmF2aWdhdGlvbigpO1xuXHRcdFx0dGhpcy5vcGVuU3ViTmF2aWdhdGlvbiggZXZlbnQgKTtcblx0XHR9XHRlbHNlIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLmNsb3NlU3ViTmF2aWdhdGlvbigpO1xuXHRcdH1cblx0fVxuXG5cdG9wZW5TdWJOYXZpZ2F0aW9uKCBldmVudCApIHtcblx0XHRsZXQgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcblx0XHRsZXQgc3VibWVudSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCBTVUJNRU5VX1NFTEVDVE9SICk7XG5cblx0XHRpZiAobnVsbCA9PT0gc3VibWVudSkge1xuXHRcdFx0Ly8gaWYgdGhlcmUgaXMgbm8gc3VibWVudSwgaGFuZGxlIGl0IGFzIHJlZ3VsYXIgbGlua1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR0aGlzLmN1cnJlbnRTdWIgPSBlbGVtZW50O1xuXG5cdFx0dGhpcy5hZGRDbGFzcyggc3VibWVudSwgT1BFTl9TVEFURSApO1xuXHRcdHRoaXMuYWRkQ2xhc3MoIGVsZW1lbnQsIE9QRU5fU1RBVEUgKTtcblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCB0cnVlICk7XG5cblx0XHR0aGlzLmFmdGVyT3BlblN1Yk5hdmlnYXRpb24oIGVsZW1lbnQgKTtcblx0fVxuXG5cdGNsb3NlU3ViTmF2aWdhdGlvbigpIHtcblx0XHR0aGlzLmN1cnJlbnRTdWIgPSBudWxsO1xuXG5cdFx0bGV0IGVsZW1lbnRzID0gdGhpcy5nZXRTY29wZWRFbGVtZW50cyggU1VCTUVOVV9TRUxFQ1RPUiArICcsICcgKyBNQUlOX0VOVFJZX1NFTEVDVE9SICk7XG5cblx0XHRmb3IgKGxldCBrZXkgaW4gZWxlbWVudHMpIHtcblx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIGVsZW1lbnRzLCBrZXkgKSkge1xuXHRcdFx0XHR0aGlzLnJlbW92ZUNsYXNzKCBlbGVtZW50c1trZXldLCBPUEVOX1NUQVRFICk7XG5cdFx0XHRcdGVsZW1lbnRzW2tleV0uc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsIGZhbHNlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5hZnRlckNsb3NlU3ViTmF2aWdhdGlvbigpO1xuXHR9XG5cblx0Y2xvc2VOYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMuY2xvc2VTdWJOYXZpZ2F0aW9uKCk7XG5cdH1cblxuXHQvKipcblx0ICogb3ZlcndyaXRlIHRob3NlIGZ1bmN0aW9ucyB0byBkbyBzb21lIG1vcmUgc3R1ZmYgb24gb3BlbmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50XG5cdCAqL1xuXHRhZnRlck9wZW5TdWJOYXZpZ2F0aW9uKCkge1xuXHR9XG5cblx0LyoqXG5cdCAqIG92ZXJ3cml0ZSB0aG9zZSBmdW5jdGlvbnMgdG8gZG8gc29tZSBtb3JlIHN0dWZmIG9uIGNsb3Npbmdcblx0ICovXG5cdGFmdGVyQ2xvc2VTdWJOYXZpZ2F0aW9uKCkge1xuXHR9XG59XG4iLCJpbXBvcnQge01NZW51QmFzZSwgU1VCTUVOVV9TRUxFQ1RPUiwgT1BFTl9TVEFURX0gZnJvbSAnLi9tLW1lbnUtLWJhc2UnO1xuXG5jb25zdCBDTE9TRV9TRUxFQ1RPUiA9ICcubS1tZW51X19zdWJtZW51X19jbG9zZSc7XG5cbmNvbnN0IFVQID0gMTtcbmNvbnN0IERPV04gPSAyO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNTWVudURlc2t0b3AgZXh0ZW5kcyBNTWVudUJhc2Uge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHN1cGVyLmluaXRpYWxpemUoKTtcblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCdjbGljaycsIENMT1NFX1NFTEVDVE9SLCAoKSA9PiB0aGlzLmNsb3NlU3ViTmF2aWdhdGlvbigpKTtcblx0fVxuXG5cdGFmdGVyT3BlblN1Yk5hdmlnYXRpb24oKSB7XG5cdFx0dGhpcy5jbGlja2VkSXRlbSA9IHRoaXMuY3VycmVudFN1YjtcblxuXHRcdHRoaXMuc3VibWVudSA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudChTVUJNRU5VX1NFTEVDVE9SICsgJy4nICsgT1BFTl9TVEFURSk7XG5cblx0XHRpZiAodGhpcy5zdWJtZW51Lm9mZnNldEhlaWdodCAhPT0gdGhpcy5zdWJtZW51LnNjcm9sbEhlaWdodCkge1xuXHRcdFx0dGhpcy5zZXRJbml0aWFsU2Nyb2xsUG9zKCk7XG5cdFx0XHR0aGlzLnNjcm9sbEhhbmRsZXIgPSAoZXZlbnQpID0+IHRoaXMucmVxdWVzdFRpY2soZXZlbnQpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlciwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdGFmdGVyQ2xvc2VTdWJOYXZpZ2F0aW9uKCkge1xuXHRcdGlmICh0aGlzLnN1Ym1lbnUpIHtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5jbGlja2VkSXRlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuXHRcdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG5cdFx0XHR0aGlzLmNsaWNrZWRJdGVtID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRzZXRJbml0aWFsU2Nyb2xsUG9zKCkge1xuXHRcdGNvbnN0IHNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wKCk7XG5cdFx0Y29uc3Qgc3VibWVudUhlaWdodCA9IHRoaXMuc3VibWVudS5zY3JvbGxIZWlnaHQ7XG5cblx0XHRjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcblx0XHRjb25zdCBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRcdGNvbnN0IGRvY3VtZW50SGVpZ2h0ID0gTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkub2Zmc2V0SGVpZ2h0LFxuXHRcdFx0aHRtbC5jbGllbnRIZWlnaHQsIGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLm9mZnNldEhlaWdodCk7XG5cblx0XHRpZiAoc2Nyb2xsVG9wICsgc3VibWVudUhlaWdodCA+IGRvY3VtZW50SGVpZ2h0KSB7XG5cdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsVG9wIC0gc3VibWVudUhlaWdodCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5pbml0aWFsU2Nyb2xsUG9zID0gdGhpcy5sYXN0UG9zID0gdGhpcy5zY3JvbGxUb3AoKTtcblx0fVxuXG5cdHJlcXVlc3RUaWNrKCkge1xuXHRcdGlmICghdGhpcy50aWNraW5nICYmIHRoaXMuc3VibWVudSkge1xuXHRcdFx0dGhpcy50aWNraW5nID0gdHJ1ZTtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zY3JvbGxTdWJOYXZpZ2F0aW9uLmJpbmQodGhpcykpO1xuXHRcdH1cblx0fVxuXG5cdHNjcm9sbFRvcCgpIHtcblx0XHQvLyBicm93c2VyIGluY29tcGF0aWJpbGl0aWVzIGFyZSBzbyBhd2Z1bFxuXHRcdHJldHVybiB3aW5kb3cuc2Nyb2xsWVxuXHRcdFx0fHwgd2luZG93LnBhZ2VZT2Zmc2V0XG5cdFx0XHR8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCAwKTtcblx0fVxuXG5cdHNjcm9sbFN1Yk5hdmlnYXRpb24oKSB7XG5cdFx0Y29uc3Qgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AoKTtcblx0XHRsZXQgZGlyZWN0aW9uID0gRE9XTjtcblxuXHRcdGlmICh0aGlzLmxhc3RQb3MgPiBzY3JvbGxUb3ApIHtcblx0XHRcdGRpcmVjdGlvbiA9IFVQO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmxhc3REaXJlY3Rpb24gIT09IGRpcmVjdGlvbikge1xuXHRcdFx0aWYgKFVQID09PSBkaXJlY3Rpb24pIHtcblx0XHRcdFx0dGhpcy5pbml0aWFsU2Nyb2xsUG9zID0gc2Nyb2xsVG9wIC0gdGhpcy5zdWJtZW51LnNjcm9sbFRvcDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuaW5pdGlhbFNjcm9sbFBvcyA9IHNjcm9sbFRvcDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnN1Ym1lbnUuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wIC0gdGhpcy5pbml0aWFsU2Nyb2xsUG9zO1xuXG5cdFx0dGhpcy5sYXN0UG9zID0gc2Nyb2xsVG9wO1xuXHRcdHRoaXMubGFzdERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHRzdXBlci5kZXN0cm95KCk7XG5cblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTU1lbnVCYXNlLCBPUEVOX1NUQVRFIH0gZnJvbSAnLi9tLW1lbnUtLWJhc2UnO1xuXG5jb25zdCBOQVZfV1JBUFBFUl9TRUxFQ1RPUiA9ICcubS1tZW51X19uYXYnO1xuY29uc3QgTUFJTl9NRU5VX1NFTEVDVE9SID0gJy5tLW1lbnVfX25hdi1saXN0JztcbmNvbnN0IFJJR0hUX1NFTEVDVE9SID0gJy5tLW1lbnVfX3JpZ2h0JztcbmNvbnN0IEhBTUJVUkdFUl9TRUxFQ1RPUiA9ICcuYS1oYW1idXJnZXInO1xuY29uc3QgU1VCTUVOVV9JVEVNU19TRUxFQ1RPUiA9ICcubS1tZW51X19uYXYtaXRlbSc7XG5cbmNvbnN0IEhJRERFTl9TVEFURSA9ICdpcy1oaWRkZW4nO1xuY29uc3QgQUNUSVZFX1NUQVRFID0gJ2lzLWFjdGl2ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1NZW51TW9iaWxlIGV4dGVuZHMgTU1lbnVCYXNlIHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHRzdXBlci5pbml0aWFsaXplKCk7XG5cblx0XHR0aGlzLm1vYmlsZU9wZW4gPSBmYWxzZTtcblxuXHRcdHRoaXMubmF2V3JhcHBlciA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggTkFWX1dSQVBQRVJfU0VMRUNUT1IgKTtcblx0XHR0aGlzLm1haW5OYXYgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIE1BSU5fTUVOVV9TRUxFQ1RPUiApO1xuXHRcdHRoaXMuaGFtYnVyZ2VyID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBIQU1CVVJHRVJfU0VMRUNUT1IgKTtcblx0XHR0aGlzLnJpZ2h0ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBSSUdIVF9TRUxFQ1RPUiApO1xuXHRcdHRoaXMubWVudUl0ZW1zID0gdGhpcy5nZXRTY29wZWRFbGVtZW50cyggU1VCTUVOVV9JVEVNU19TRUxFQ1RPUiApO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCBIQU1CVVJHRVJfU0VMRUNUT1IsICggZXZlbnQgKSA9PiB0aGlzLnRvZ2dsZU1haW5OYXZpZ2F0aW9uKCBldmVudCApICk7XG5cdH1cblxuXHR0b2dnbGVNYWluTmF2aWdhdGlvbiggZXZlbnQgKSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICh0aGlzLm1vYmlsZU9wZW4pIHtcblx0XHRcdHRoaXMuY2xvc2VNYWluTmF2aWdhdGlvbigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm9wZW5NYWluTmF2aWdhdGlvbigpO1xuXHRcdH1cblx0fVxuXG5cdG9wZW5NYWluTmF2aWdhdGlvbigpIHtcblx0XHR0aGlzLm1vYmlsZU9wZW4gPSB0cnVlO1xuXG5cdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5uYXZXcmFwcGVyLCBPUEVOX1NUQVRFICk7XG5cdFx0dGhpcy5hZGRDbGFzcyggdGhpcy5oYW1idXJnZXIsIE9QRU5fU1RBVEUgKTtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLm1haW5OYXYsIE9QRU5fU1RBVEUgKTtcblx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLnJpZ2h0LCBPUEVOX1NUQVRFICk7XG5cblx0XHR0aGlzLmhhbWJ1cmdlci5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgdHJ1ZSApO1xuXHR9XG5cblx0Y2xvc2VNYWluTmF2aWdhdGlvbigpIHtcblx0XHR0aGlzLm1vYmlsZU9wZW4gPSBmYWxzZTtcblxuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMubmF2V3JhcHBlciwgT1BFTl9TVEFURSApO1xuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMuaGFtYnVyZ2VyLCBPUEVOX1NUQVRFICk7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5tYWluTmF2LCBPUEVOX1NUQVRFICk7XG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5yaWdodCwgT1BFTl9TVEFURSApO1xuXG5cdFx0dGhpcy5oYW1idXJnZXIuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsIGZhbHNlICk7XG5cblx0XHR0aGlzLmNsb3NlU3ViTmF2aWdhdGlvbigpO1xuXHR9XG5cblx0YWZ0ZXJPcGVuU3ViTmF2aWdhdGlvbiggZWxlbWVudCApIHtcblx0XHRjb25zdCBpc1JpZ2h0ID0gZWxlbWVudC5jbG9zZXN0KCBSSUdIVF9TRUxFQ1RPUiApO1xuXHRcdGlmIChpc1JpZ2h0KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5yZW1vdmVDbGFzcyggdGhpcy5yaWdodCwgT1BFTl9TVEFURSApO1xuXG5cdFx0Y29uc3QgbGlDbGlja2VkID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuXG5cdFx0dGhpcy5tZW51SXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG5cdFx0XHRpZiAoaXRlbSA9PT0gbGlDbGlja2VkKSB7XG5cdFx0XHRcdHRoaXMuYWRkQ2xhc3MoIGl0ZW0sIEFDVElWRV9TVEFURSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHRoaXMuYWRkQ2xhc3MoIGl0ZW0sIEhJRERFTl9TVEFURSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdGFmdGVyQ2xvc2VTdWJOYXZpZ2F0aW9uKCkge1xuXHRcdGlmICh0aGlzLm1vYmlsZU9wZW4pIHtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoIHRoaXMucmlnaHQsIE9QRU5fU1RBVEUgKTtcblx0XHR9XG5cblx0XHR0aGlzLm1lbnVJdGVtcy5mb3JFYWNoKCBpdGVtID0+IHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoIGl0ZW0sIEhJRERFTl9TVEFURSApO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggaXRlbSwgQUNUSVZFX1NUQVRFICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Y2xvc2VOYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMuY2xvc2VNYWluTmF2aWdhdGlvbigpO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnYmFzZS12aWV3JztcbmltcG9ydCBNTWVudURlc2t0b3AgZnJvbSAnLi9tLW1lbnUtLWRlc2t0b3AnO1xuaW1wb3J0IE1NZW51TW9iaWxlIGZyb20gJy4vbS1tZW51LS1tb2JpbGUnO1xuaW1wb3J0IGRpc3RyYWN0aW9uRnJlZSBmcm9tICcuLi8uLi8uLi9qcy9zZXJ2aWNlL2Rpc3RyYWN0aW9uRnJlZSc7XG5cbmNvbnN0IEZPUkNFX01PQklMRV9DTEFTUyA9ICdtLW1lbnUtLWZvcmNlLW1vYmlsZSc7XG5jb25zdCBIQU1CVVJHRVJfU0VMRUNUT1IgPSAnLmEtaGFtYnVyZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTU1lbnUgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5mb3JjZU1vYmlsZSA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIEZPUkNFX01PQklMRV9DTEFTUyApO1xuXHRcdHRoaXMuZGlzdHJhY3Rpb25GcmVlID0gZGlzdHJhY3Rpb25GcmVlKCk7XG5cblx0XHR0aGlzLnNldE1lbnVIYW5kbGVyKCk7XG5cdH1cblxuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdHRoaXMuc2V0TWVudUhhbmRsZXIgPSB0aGlzLnNldE1lbnVIYW5kbGVyLmJpbmQoIHRoaXMgKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMuc2V0TWVudUhhbmRsZXIgKTtcblxuXHRcdGlmICh0aGlzLmRpc3RyYWN0aW9uRnJlZSkge1xuXHRcdFx0dGhpcy5vbiggJ2NsaWNrJywgSEFNQlVSR0VSX1NFTEVDVE9SLCAoKSA9PiB0aGlzLnJlbW92ZUZvcmNlTW9iaWxlKCkgKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLnJlbW92ZUZvcmNlTW9iaWxlKCk7XG5cdFx0fVxuXHR9XG5cblx0cmVtb3ZlRm9yY2VNb2JpbGUoKSB7XG5cdFx0aWYgKHRoaXMuZm9yY2VNb2JpbGUpIHtcblx0XHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBGT1JDRV9NT0JJTEVfQ0xBU1MgKTtcblx0XHRcdHRoaXMuZm9yY2VNb2JpbGUgPSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRzZXRNZW51SGFuZGxlcigpIHtcblx0XHRsZXQgb2xkID0gdGhpcy5oYW5kbGVyO1xuXHRcdGxldCBvbGRfZGVza3RvcCA9IHRoaXMuZGVza3RvcDtcblx0XHR0aGlzLmRlc2t0b3AgPSB0aGlzLmlzRGVza3RvcCgpO1xuXG5cdFx0aWYgKG9sZF9kZXNrdG9wICE9PSB0aGlzLmRlc2t0b3ApIHtcblx0XHRcdGlmICh0aGlzLmRlc2t0b3ApIHtcblx0XHRcdFx0dGhpcy5oYW5kbGVyID0gbmV3IE1NZW51RGVza3RvcCggdGhpcy5lbGVtZW50ICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhpcy5oYW5kbGVyID0gbmV3IE1NZW51TW9iaWxlKCB0aGlzLmVsZW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHVuZGVmaW5lZCAhPT0gb2xkKSB7XG5cdFx0XHRcdG9sZC5jbG9zZU5hdmlnYXRpb24oKTtcblx0XHRcdFx0b2xkLmRlc3Ryb3koKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5oYW5kbGVyLmluaXRpYWxpemUoKTtcblx0XHRcdHRoaXMuaGFuZGxlci5iaW5kKCk7XG5cdFx0fVxuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHRzdXBlci5kZXN0cm95KCk7XG5cblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMuc2V0TWVudUhhbmRsZXIgKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmNvbnN0IEJVVFRPTl9TRUxFQ1RPUiA9ICcubS1wZXJzb25fX3RvZ2dsZSc7XG5jb25zdCBDT05URU5UX1NFTEVDVE9SID0gJy5tLXBlcnNvbl9fZXhwYW5kYWJsZSc7XG5cbmNvbnN0IENPTExBQlNFRF9TVEFURSA9ICdpcy1jb2xsYXBzZWQnO1xuY29uc3QgRVhQQU5ERURfU1RBVEUgPSAnaXMtZXhwYW5kZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNUGVyc29uIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuYnV0dG9uID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KEJVVFRPTl9TRUxFQ1RPUik7XG5cdFx0dGhpcy5jb250ZW50ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KENPTlRFTlRfU0VMRUNUT1IpO1xuXG5cdFx0dGhpcy5oaWRkZW5BbmNob3JUYWdzID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KENPTlRFTlRfU0VMRUNUT1IpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7XG5cdFx0dGhpcy5zZXRUYWJJbmRleGVzKC0xKTtcblxuXHRcdHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgQlVUVE9OX1NFTEVDVE9SLCAoKSA9PiB0aGlzLnRvZ2dsZSgpICk7XG5cdH1cblxuXHR0b2dnbGUoKSB7XG5cdFx0aWYgKHRoaXMuZXhwYW5kZWQpIHtcblx0XHRcdC8vIGNvbGxhcHMgaXRcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sIEVYUEFOREVEX1NUQVRFKTtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5jb250ZW50LCBFWFBBTkRFRF9TVEFURSk7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuYnV0dG9uLCBDT0xMQUJTRURfU1RBVEUpO1xuXHRcdFx0dGhpcy5hZGRDbGFzcyh0aGlzLmNvbnRlbnQsIENPTExBQlNFRF9TVEFURSk7XG5cdFx0XHR0aGlzLmJ1dHRvbi5pbm5lclRleHQgPSB0aGlzLmJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXhwYW5kJyk7XG5cdFx0XHR0aGlzLnNldFRhYkluZGV4ZXMoLTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBleHBhbmQgaXRcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sIENPTExBQlNFRF9TVEFURSk7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuY29udGVudCwgQ09MTEFCU0VEX1NUQVRFKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5idXR0b24sIEVYUEFOREVEX1NUQVRFKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3ModGhpcy5jb250ZW50LCBFWFBBTkRFRF9TVEFURSk7XG5cdFx0XHR0aGlzLmJ1dHRvbi5pbm5lclRleHQgPSB0aGlzLmJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwcycpO1xuXHRcdFx0dGhpcy5zZXRUYWJJbmRleGVzKDApO1xuXHRcdH1cblxuXHRcdHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdGhpcy5leHBhbmRlZCk7XG5cdFx0dGhpcy5leHBhbmRlZCA9ICF0aGlzLmV4cGFuZGVkO1xuXHR9XG5cblx0c2V0VGFiSW5kZXhlcyhpbnQpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGlkZGVuQW5jaG9yVGFncy5sZW5ndGg7IGkgKyspIHtcblx0XHRcdHRoaXMuaGlkZGVuQW5jaG9yVGFncy5pdGVtKGkpLnRhYkluZGV4ID0gaW50O1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJy4vLi4vLi4vLi4vanMvYmFzZS12aWV3JztcblxuY29uc3QgTU9CSUxFX1NFTEVDVE9SID0gJy5tLXNoYXJlX19tb2JpbGUnO1xuY29uc3QgTEFCRUxfU0VMRUNUT1IgPSAnLm0tc2hhcmVfX2Rlc2MnO1xuY29uc3QgQ0xPU0VfU0VMRUNUT1IgPSAnLm0tc2hhcmVfX2Nsb3NlJztcbmNvbnN0IEJVVFRPTlNfU0VMRUNUT1IgPSAnLm0tc2hhcmVfX2J1dHRvbnMnO1xuXG5jb25zdCBPUEVOX1NUQVRFID0gJ2lzLW9wZW4nO1xuY29uc3QgSEFTX1NIQVJFX0JVVFRPTlMgPSAnaGFzLXNoYXJlLWJ1dHRvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNU2hhcmUgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5idXR0b25zID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBCVVRUT05TX1NFTEVDVE9SICk7XG5cblx0XHR0aGlzLmFkZFBhZ2VCb3R0b21NYXJnaW4oKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgTU9CSUxFX1NFTEVDVE9SLCAoKSA9PiB0aGlzLnNob3coKSApO1xuXHRcdHRoaXMub24oICdjbGljaycsIExBQkVMX1NFTEVDVE9SLCAoKSA9PiB0aGlzLnNob3coKSApO1xuXHRcdHRoaXMub24oICdjbGljaycsIENMT1NFX1NFTEVDVE9SLCAoKSA9PiB0aGlzLmhpZGUoKSApO1xuXHR9XG5cblx0YWRkUGFnZUJvdHRvbU1hcmdpbigpIHtcblx0XHR0aGlzLmFkZENsYXNzKCBkb2N1bWVudC5ib2R5LCBIQVNfU0hBUkVfQlVUVE9OUyApO1xuXHR9XG5cblx0c2hvdygpIHtcblx0XHRpZiAoISB0aGlzLmlzRGVza3RvcCgpKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKCB0aGlzLmJ1dHRvbnMsIE9QRU5fU1RBVEUgKTtcblx0XHRcdHRoaXMuYWRkQ2xhc3MoIE9QRU5fU1RBVEUgKTtcblx0XHR9XG5cdH1cblxuXHRoaWRlKCkge1xuXHRcdGlmICghIHRoaXMuaXNEZXNrdG9wKCkpIHtcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoIHRoaXMuYnV0dG9ucywgT1BFTl9TVEFURSApO1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggT1BFTl9TVEFURSApO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHRocm90dGxlIGZyb20gJ2xvZGFzaC50aHJvdHRsZSc7XG5cbmltcG9ydCBCYXNlVmlldyBmcm9tICcuLy4uLy4uLy4uL2pzL2Jhc2Utdmlldyc7XG5cbmNvbnN0IElNQUdFX1NFTEVDVE9SID0gJy5vLWNhbXBhaWduX19pbWFnZSc7XG5jb25zdCBJTUFHRV9XUkFQUEVSX1NFTEVDVE9SID0gJy5vLWNhbXBhaWduX19pbWFnZS13cmFwcGVyJztcbmNvbnN0IEJBUlNfU0VMRUNUT1IgPSAnLm8tY2FtcGFpZ25fX2JhcnMnO1xuXG5jb25zdCBTQ1JPTExfU1BFRUQgPSAwLjE7XG5jb25zdCBSRVNJWkVfVEhST1RUTElOR19NUyA9IDEwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT0NhbXBhaWduIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdHRoaXMuaW1hZ2UgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIElNQUdFX1NFTEVDVE9SICk7XG5cdFx0dGhpcy5pbWFnZVdyYXBwZXIgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIElNQUdFX1dSQVBQRVJfU0VMRUNUT1IgKTtcblx0XHR0aGlzLmJhcnMgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIEJBUlNfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMuaGVhZGVyID0gdGhpcy5nZXRDb21wb25lbnQoICdPSGVhZGVyMCcgKTtcblx0XHR0aGlzLmJyYW5kaW5nID0gdGhpcy5oZWFkZXIuZ2V0QnJhbmRpbmcoKTtcblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5zZXRCYXJQb3NpdGlvbigpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHR0aGlzLnNjcm9sbEhhbmRsZXIgPSAoKSA9PiB0aGlzLnJlcXVlc3RUaWNrKCk7XG5cdFx0dGhpcy5yZXNpemVIYW5kbGVyID0gdGhyb3R0bGUoICgpID0+IHRoaXMub25SZXNpemUoKSwgUkVTSVpFX1RIUk9UVExJTkdfTVMsIHsgbGVhZGluZzogZmFsc2UsIHRyYWlsaW5nOiB0cnVlIH0gKTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5yZXNpemVIYW5kbGVyICk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHR0aGlzLnNjcm9sbEhhbmRsZXIoKTtcblx0XHR0aGlzLnJlc2l6ZUhhbmRsZXIoKTtcblx0fVxuXG5cdHJlcXVlc3RUaWNrKCkge1xuXHRcdGlmICghIHRoaXMudGlja2luZykge1xuXHRcdFx0dGhpcy50aWNraW5nID0gdHJ1ZTtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHRoaXMub25TY3JvbGwuYmluZCggdGhpcyApICk7XG5cdFx0fVxuXHR9XG5cblx0b25SZXNpemUoKSB7XG5cdFx0dGhpcy5zZXRCcmFuZGluZ0hlaWdodCgpO1xuXHRcdHRoaXMuc2V0U2Nyb2xsU3RvcCgpO1xuXHRcdHRoaXMuc2V0QmFyUG9zaXRpb24oKTtcblx0fVxuXG5cdG9uU2Nyb2xsKCkge1xuXHRcdGlmICghIHRoaXMuaGVhZGVyLmdldEZpeGVkKCkpIHtcblx0XHRcdHRoaXMuaW1hZ2VXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNsYXRlKCAtIHRoaXMuZ2V0U2Nyb2xsVG9wKCkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMuZ2V0U2Nyb2xsVG9wKCkgPCB0aGlzLnNjcm9sbFN0b3ApIHtcblx0XHRcdFx0bGV0IGRlbHRhID0gdGhpcy5nZXRTY3JvbGxUb3AoKSAtIHRoaXMuYnJhbmRpbmdIZWlnaHQ7XG5cdFx0XHRcdHRoaXMuaW1hZ2VXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNsYXRlKCAtIHRoaXMuYnJhbmRpbmdIZWlnaHQgLSBkZWx0YSAqIFNDUk9MTF9TUEVFRCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXHR9XG5cblx0c2V0QnJhbmRpbmdIZWlnaHQoKSB7XG5cdFx0aWYgKHRoaXMuYnJhbmRpbmcpe1xuXHRcdFx0dGhpcy5icmFuZGluZ0hlaWdodCA9IHRoaXMuYnJhbmRpbmcuY2xpZW50SGVpZ2h0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJyYW5kaW5nSGVpZ2h0ID0gMDtcblx0XHR9XG5cdH1cblxuXHRzZXRTY3JvbGxTdG9wKCkge1xuXHRcdHRoaXMuc2Nyb2xsU3RvcCA9IHRoaXMuYnJhbmRpbmdIZWlnaHQgKyB0aGlzLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXHR9XG5cblx0dHJhbnNsYXRlKCB5ICkge1xuXHRcdHJldHVybiBgdHJhbnNsYXRlM2QoMHB4LCAke3l9cHgsIDBweClgO1xuXHR9XG5cblx0c2V0QmFyUG9zaXRpb24oKSB7XG5cdFx0aWYgKCEgdGhpcy5iYXJzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IGJhcnNCb3R0b20gPSB0aGlzLmJhcnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuXHRcdGxldCB2aWV3cG9ydEhlaWdodCA9IE1hdGgubWF4KCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCApO1xuXHRcdGxldCBzY3JvbGxUb3AgPSB0aGlzLmdldFNjcm9sbFRvcCgpO1xuXHRcdGxldCB2aWV3cG9ydEJvdHRvbSA9IHZpZXdwb3J0SGVpZ2h0ICsgc2Nyb2xsVG9wO1xuXG5cdFx0aWYgKGJhcnNCb3R0b20gPiB2aWV3cG9ydEJvdHRvbSkge1xuXHRcdFx0dGhpcy5iYXJzLnN0eWxlLmhlaWdodCA9ICggdmlld3BvcnRIZWlnaHQgLSB0aGlzLmhlYWRlci5lbGVtZW50LmNsaWVudEhlaWdodCArIHNjcm9sbFRvcCApICsgJ3B4Jztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5iYXJzLnN0eWxlLmhlaWdodCA9IHRoaXMuaW1hZ2UuY2xpZW50SGVpZ2h0ICsgJ3B4Jztcblx0XHR9XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHN1cGVyLmRlc3Ryb3koKTtcblxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyICk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzLnJlc2l6ZUhhbmRsZXIgKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgZGlzdHJhY3Rpb25GcmVlIGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvZGlzdHJhY3Rpb25GcmVlJztcblxuY29uc3QgRElTVFJBQ1RJTkdfV0lER0VUX0NMQVNTID0gJ2Rpc3RyYWN0aW5nX3dpZGdldCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9Gb290ZXIgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5kaXN0cmFjdGlvbkZyZWUgPSBkaXN0cmFjdGlvbkZyZWUoKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0aWYgKCF0aGlzLmRpc3RyYWN0aW9uRnJlZSkge1xuXHRcdFx0dGhpcy5zaG93V2lkZ2V0cygpO1xuXHRcdH1cblx0fVxuXG5cdHNob3dXaWRnZXRzKCkge1xuXHRcdGNvbnN0IHdpZGdldHMgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnRzKCAnLicgKyBESVNUUkFDVElOR19XSURHRVRfQ0xBU1MgKTtcblxuXHRcdGZvciAoY29uc3QgZWwgb2Ygd2lkZ2V0cykge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggZWwsIERJU1RSQUNUSU5HX1dJREdFVF9DTEFTUyApO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5cbmNvbnN0IEJSQU5ESU5HX1NFTEVDVE9SID0gJy5vLWhlYWRlcl9fYnJhbmRpbmcnO1xuY29uc3QgTUVOVV9TRUxFQ1RPUiA9ICcuby1oZWFkZXJfX21lbnUnO1xuY29uc3QgVklTSUJMRV9NRU5VX1NFTEVDVE9SID0gJy5vLWhlYWRlcl9fZGlzcGxheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9IZWFkZXIgZXh0ZW5kcyBCYXNlVmlldyB7XG5cdGluaXRpYWxpemUoKSB7XG5cdFx0dGhpcy5icmFuZGluZyA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggQlJBTkRJTkdfU0VMRUNUT1IgKTtcblx0XHR0aGlzLm1lbnUgPSB0aGlzLmdldFNjb3BlZEVsZW1lbnQoIE1FTlVfU0VMRUNUT1IgKTtcblx0XHR0aGlzLnZpc2libGVNZW51ID0gdGhpcy5nZXRTY29wZWRFbGVtZW50KCBWSVNJQkxFX01FTlVfU0VMRUNUT1IgKTtcblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXHRcdHRoaXMuaXNGaXhlZCA9IGZhbHNlO1xuXG5cdFx0dGhpcy5zZXRNZW51QmFyUG9zaXRpb24oKTtcblx0fVxuXG5cdGJpbmQoKSB7XG5cdFx0c3VwZXIuYmluZCgpO1xuXG5cdFx0dGhpcy5zY3JvbGxIYW5kbGVyID0gKCkgPT4gdGhpcy5yZXF1ZXN0VGljaygpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyLCBmYWxzZSApO1xuXHR9XG5cblx0cmVxdWVzdFRpY2soKSB7XG5cdFx0aWYgKCEgdGhpcy50aWNraW5nKSB7XG5cdFx0XHR0aGlzLnRpY2tpbmcgPSB0cnVlO1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggdGhpcy5zZXRNZW51QmFyUG9zaXRpb24uYmluZCggdGhpcyApICk7XG5cdFx0fVxuXHR9XG5cblx0c2V0TWVudUJhclBvc2l0aW9uKCkge1xuXHRcdGlmICghIHRoaXMuYnJhbmRpbmcgKSB7XG5cdFx0XHR0aGlzLmlzRml4ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBzY3JvbGxUb3AgPSB0aGlzLmdldFNjcm9sbFRvcCgpO1xuXG5cdFx0aWYgKCEgdGhpcy5pc0ZpeGVkICYmIHNjcm9sbFRvcCA+PSB0aGlzLmJyYW5kaW5nLmNsaWVudEhlaWdodCkge1xuXHRcdFx0dGhpcy5pc0ZpeGVkID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy52aXNpYmxlTWVudS5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zbGF0ZSggLSB0aGlzLmJyYW5kaW5nLmNsaWVudEhlaWdodCApO1xuXHRcdH1cblxuXHRcdGlmIChzY3JvbGxUb3AgPCB0aGlzLmJyYW5kaW5nLmNsaWVudEhlaWdodCkge1xuXHRcdFx0dGhpcy52aXNpYmxlTWVudS5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zbGF0ZSggLSBzY3JvbGxUb3AgKTtcblx0XHRcdHRoaXMuaXNGaXhlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMudGlja2luZyA9IGZhbHNlO1xuXHR9XG5cblx0dHJhbnNsYXRlKCB5ICkge1xuXHRcdHJldHVybiBgdHJhbnNsYXRlM2QoMHB4LCAke3l9cHgsIDBweClgO1xuXHR9XG5cblx0Z2V0Rml4ZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXNGaXhlZDtcblx0fVxuXG5cdGdldE1lbnUoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVudTtcblx0fVxuXG5cdGdldEJyYW5kaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLmJyYW5kaW5nO1xuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHRzdXBlci5kZXN0cm95KCk7XG5cblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlciApO1xuXHR9XG59XG4iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSAnLi8uLi8uLi8uLi9qcy9iYXNlLXZpZXcnO1xuaW1wb3J0IFN3aXBlciwgeyBBMTF5LCBLZXlib2FyZCwgTmF2aWdhdGlvbiB9IGZyb20gJ3N3aXBlcic7XG5cbi8vIEluc3RhbGwgbW9kdWxlc1xuU3dpcGVyLnVzZShbS2V5Ym9hcmQsIE5hdmlnYXRpb24sIEExMXldKTtcblxuY29uc3QgU1dJUEVSX0NPTlRBSU5FUl9TRUxFQ1RPUiA9ICcuby1wZW9wbGUtZ3JpZF9fbGlicmFyeS1jb250YWluZXInO1xuY29uc3QgU0xJREVSX05FWFRfQlVUVE9OX1NFTEVDVE9SID0gJy5vLXBlb3BsZS1ncmlkX19zbGlkZS1idXR0b24tLXJpZ2h0JztcbmNvbnN0IFNMSURFUl9QUkVWSU9VU19CVVRUT05fU0VMRUNUT1IgPSAnLm8tcGVvcGxlLWdyaWRfX3NsaWRlLWJ1dHRvbi0tbGVmdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9QZW9wbGVHcmlkIGV4dGVuZHMgQmFzZVZpZXcge1xuXHRiaW5kKCkge1xuXHRcdHN1cGVyLmJpbmQoKTtcblxuXHRcdG5ldyBTd2lwZXIoIFNXSVBFUl9DT05UQUlORVJfU0VMRUNUT1IsIHtcblx0XHRcdHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0bmV4dEVsOiBTTElERVJfTkVYVF9CVVRUT05fU0VMRUNUT1IsXG5cdFx0XHRcdHByZXZFbDogU0xJREVSX1BSRVZJT1VTX0JVVFRPTl9TRUxFQ1RPUixcblx0XHRcdH0sXG5cdFx0XHRrZXlib2FyZDoge1xuXHRcdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0XHRvbmx5SW5WaWV3cG9ydDogZmFsc2UsXG5cdFx0XHR9LFxuXHRcdH0gKTtcblx0fVxufVxuIiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gJ2Jhc2Utdmlldyc7XG5pbXBvcnQgZGlzdHJhY3Rpb25GcmVlIGZyb20gJy4uLy4uLy4uL2pzL3NlcnZpY2UvZGlzdHJhY3Rpb25GcmVlJztcblxuY29uc3QgRElTVFJBQ1RJTkdfQlJFQURDUlVNQlNfQ0xBU1MgPSAncGFnZV9fYnJlYWRjcnVtYnMtLWRpc3RyYWN0aW5nJztcbmNvbnN0IERJU1RSQUNUSU5HX1BPU1RfTUVUQV9DTEFTUyA9ICdwYWdlX19wb3N0LW1ldGEtLWRpc3RyYWN0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSBleHRlbmRzIEJhc2VWaWV3IHtcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLmRpc3RyYWN0aW9uRnJlZSA9IGRpc3RyYWN0aW9uRnJlZSgpO1xuXHR9XG5cblx0YmluZCgpIHtcblx0XHRzdXBlci5iaW5kKCk7XG5cblx0XHRpZiAoIXRoaXMuZGlzdHJhY3Rpb25GcmVlKSB7XG5cdFx0XHR0aGlzLnNob3dCcmVhZGNydW1icygpO1xuXHRcdFx0dGhpcy5zaG93UG9zdE1ldGEoKTtcblx0XHR9XG5cdH1cblxuXHRzaG93QnJlYWRjcnVtYnMoKSB7XG5cdFx0dGhpcy5yZW1vdmVEaXN0cmFjdGluZ0NsYXNzKCBESVNUUkFDVElOR19CUkVBRENSVU1CU19DTEFTUyApO1xuXHR9XG5cblx0c2hvd1Bvc3RNZXRhKCkge1xuXHRcdHRoaXMucmVtb3ZlRGlzdHJhY3RpbmdDbGFzcyggRElTVFJBQ1RJTkdfUE9TVF9NRVRBX0NMQVNTICk7XG5cdH1cblxuXHRyZW1vdmVEaXN0cmFjdGluZ0NsYXNzKCBkb21DbGFzcyApIHtcblx0XHRjb25zdCBlbCA9IHRoaXMuZ2V0U2NvcGVkRWxlbWVudCggJy4nICsgZG9tQ2xhc3MgKTtcblxuXHRcdGlmIChlbCkge1xuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyggZWwsIGRvbUNsYXNzICk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgaXNGdW5jdGlvbiBmcm9tICdsb2Rhc2guaXNmdW5jdGlvbic7XG5pbXBvcnQgaXNFbXB0eSBmcm9tICdsb2Rhc2guaXNlbXB0eSc7XG5pbXBvcnQgaXNCb29sZWFuIGZyb20gJ2xvZGFzaC5pc2Jvb2xlYW4nO1xuaW1wb3J0IGRlbGVnYXRlIGZyb20gJ2RlbGVnYXRlJztcbmltcG9ydCBwdWxsQXQgZnJvbSAnbG9kYXNoLnB1bGxhdCc7XG5cbi8qKlxuICogR2VuZXJhdGUgYW4gaW5jcmVtZW50YWxcbiAqIHZpZXcgaWQuXG4gKi9cbmxldCBWSUVXX0lEID0gMDtcblxuZnVuY3Rpb24gZ2VuZXJhdGVWaWV3SWQoKSB7XG5cdHJldHVybiArKyBWSUVXX0lEO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBhcnJheSB0byByZXRyaWV2ZSB0aGUgc3RyaW5ncyBhbmQgYW4gb3B0aW9uYWwgRWxlbWVudC5cbiAqIEBwYXJhbSBhcnJheSBhcmdzIEFycmF5IGNvbnRhaW5pbmcgdGhlIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZUNsYXNzQXJndW1lbnRzKCBhcmdzICkge1xuXHRsZXQgZWwgPSB0aGlzLmVsZW1lbnQ7XG5cdGNvbnN0IGNsYXNzZXMgPSBbXTtcblxuXHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKCBhcmdzLCAoIGFyZyA9PiB7XG5cdFx0aWYgKHR5cGVvZiBhcmcgPT0gJ3N0cmluZycpIHtcblx0XHRcdGNsYXNzZXMucHVzaCggYXJnICk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGFyZy5ub2RlVHlwZSA9PSAxKSB7XG5cdFx0XHRlbCA9IGFyZztcblx0XHR9XG5cdH0gKSApO1xuXG5cdHJldHVybiB7XG5cdFx0ZWwsXG5cdFx0Y2xhc3Nlcyxcblx0fTtcbn1cblxuLyoqXG4gKiBCYXNlIHZpZXcgY2xhc3MuXG4gKiBBbGwgdGhlIGNvbXBvbmVudHMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICpcbiAqIEBjbGFzcyBCYXNlVmlld1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVmlldyB7XG5cblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yLlxuXHQgKi9cblx0Y29uc3RydWN0b3IoIGVsZW1lbnQgKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0XHR0aGlzLmNoYW5uZWwgPSBkb2N1bWVudDtcblx0XHR0aGlzLnZpZCA9IGdlbmVyYXRlVmlld0lkKCk7XG5cdFx0dGhpcy5ldmVudHMgPSB7XG5cdFx0XHRnbG9iYWw6IHt9LFxuXHRcdFx0ZWxlbWVudDoge30sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZhdWx0IGluaXRpYWxpemUgbWV0aG9kLlxuXHQgKi9cblx0aW5pdGlhbGl6ZSgpIHtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gdGhlIGV2ZW50cyBhdHRhY2hlZCB0byB0aGUgZWxlbWVudCAmIGNoYW5uZWwuXG5cdCAqXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdGdldEV2ZW50cygpIHtcblx0XHRyZXR1cm4gdGhpcy5ldmVudHM7XG5cdH1cblxuXHQvKipcblx0ICogTWFpbiBiaW5kIGZ1bmN0aW9uLlxuXHQgKiBUcmlnZ2VyIGFsbCB0aGUgY29kZSBvbiB0aGUgdmlldy5cblx0ICovXG5cdGJpbmQoKSB7XG5cdFx0Ly8gdGhpcy5kZWxlZ2F0ZUV2ZW50cygpO1xuXHRcdHRoaXMuaW5pdGlhbGl6ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBhIHNjb3BlZCBlbGVtZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3Jcblx0ICogQHJldHVybiB7RWxlbWVudH1cblx0ICovXG5cdGdldFNjb3BlZEVsZW1lbnQoIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvciggc2VsZWN0b3IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgYSBzY29wZWQgY29sbGVjdGlvbiBvZiBlbGVtZW50cy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG5cdCAqIEByZXR1cm4ge2VsZW1lbnRMaXN0fSAgICAgICAgICAgIEEgbm9uLWxpdmUgTm9kZUxpc3Qgb2YgZWxlbWVudCBvYmplY3RzLlxuXHQgKi9cblx0Z2V0U2NvcGVkRWxlbWVudHMoIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJcyBkZXNrdG9wP1xuXHQgKlxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0aXNEZXNrdG9wKCkge1xuXHRcdGlmICh3aW5kb3cgJiYgd2luZG93LmlubmVyV2lkdGgpIHtcblx0XHRcdHJldHVybiAoIHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjQgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogSG93IGZhciBoYXZlIHdlIHNjcm9sbGVkIGRvd24/XG5cdCAqXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdGdldFNjcm9sbFRvcCgpIHtcblx0XHRyZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cdH1cblxuXHQvKipcblx0ICogVHJpZ2dlciBhIGdsb2JhbCBldmVudC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50X25hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuXHQgKi9cblx0dHJpZ2dlciggZXZlbnRfbmFtZSwgcGFyYW1zID0gbnVsbCApIHtcblx0XHR0aGlzLmNoYW5uZWwuZGlzcGF0Y2hFdmVudCggbmV3IEN1c3RvbUV2ZW50KCBldmVudF9uYW1lLCBwYXJhbXMgKSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpbmQgYSBjYWxsYmFjayB0byBhbiBlbGVtZW50IGV2ZW50IG9yIGdsb2JhbCBldmVudC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICBldmVudF9uYW1lXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgc2VsZWN0b3IgICAgICAgIE9wdGlvbmFsLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBoYW5kbGVyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgIGNoYW5uZWwgICAgICAgICAgICBPcHRpb25hbC4gRGVmYXVsdDogZmFsc2UuIFdoZXRoZXIgb3Igbm90IHRvIGJpbmQgYSBnbG9iYWwgZXZlbnQuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIHN0b3BQcm9wYWdhdGlvbiAgICAgT3B0aW9uYWwuIERlZmF1bHQ6IGZhbHNlLiBXaGV0aGVyIHRoZSBoYW5kbGVyIGV2ZW50IHNob3VsZCBzdG9wIHRoZSBldmVudHMgcHJvcGFnYXRpb24uXG5cdCAqL1xuXHRvbiggZXZlbnRfbmFtZSwgc2VsZWN0b3IsIGhhbmRsZXIsIGNoYW5uZWwgPSBmYWxzZSwgc3RvcFByb3BhZ2F0aW9uID0gdHJ1ZSApIHtcblxuXHRcdC8vIEhhbmRsZSB0aGUgb3B0aW9uYWwgc2VsZWN0b3IgYXJndW1lbnRcblx0XHRpZiAoaXNGdW5jdGlvbiggc2VsZWN0b3IgKSkge1xuXHRcdFx0Y2hhbm5lbCA9IGhhbmRsZXIgfHwgZmFsc2U7XG5cdFx0XHRoYW5kbGVyID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKGNoYW5uZWwpIHtcblx0XHRcdGlmICghICggZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5nbG9iYWwgKSkge1xuXHRcdFx0XHR0aGlzLmV2ZW50cy5nbG9iYWxbIGV2ZW50X25hbWUgXSA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnRfbmFtZSwgaGFuZGxlciApO1xuXHRcdFx0dGhpcy5ldmVudHMuZ2xvYmFsWyBldmVudF9uYW1lIF0ucHVzaCggaGFuZGxlciApO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmICghICggZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5lbGVtZW50ICkpIHtcblx0XHRcdFx0dGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc0VtcHR5KCBzZWxlY3RvciApKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCBldmVudF9uYW1lLCBoYW5kbGVyICk7XG5cdFx0XHRcdHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXS5wdXNoKCB7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICdzZWxmJyxcblx0XHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdLnB1c2goIHtcblx0XHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0XHRkZWxlZ2F0ZTogZGVsZWdhdGUoIHRoaXMuZWxlbWVudCwgc2VsZWN0b3IsIGV2ZW50X25hbWUsICggZSApID0+IHtcblx0XHRcdFx0XHRcdGlmIChzdG9wUHJvcGFnYXRpb24pIHtcblx0XHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZXIoIGUgKTtcblx0XHRcdFx0XHR9LCB0cnVlICksXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVbmJpbmQgdGhlIGdpdmVuIGVsZW1lbnQgZXZlbnQgb3IgZ2xvYmFsIGV2ZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgIGV2ZW50X25hbWVcblx0ICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICBzZWxlY3RvciAgICAgICAgT3B0aW9uYWwuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgIGNoYW5uZWwgICAgICAgICAgICBPcHRpb25hbC4gRGVmYXVsdDogZmFsc2UuIFdoZXRoZXIgb3Igbm90IHRvIHVuYmluZCBhIGdsb2JhbCBldmVudC5cblx0ICovXG5cdG9mZiggZXZlbnRfbmFtZSwgc2VsZWN0b3IgPSBudWxsLCBjaGFubmVsID0gZmFsc2UgKSB7XG5cblx0XHQvLyBIYW5kbGUgdGhlIG9wdGlvbmFsIHNlbGVjdG9yIGFyZ3VtZW50XG5cdFx0aWYgKGlzQm9vbGVhbiggc2VsZWN0b3IgKSkge1xuXHRcdFx0Y2hhbm5lbCA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChjaGFubmVsKSB7XG5cdFx0XHRpZiAoZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5nbG9iYWwpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5nbG9iYWxbIGV2ZW50X25hbWUgXS5sZW5ndGg7IGkgKyspIHtcblx0XHRcdFx0XHR0aGlzLmNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnRfbmFtZSwgdGhpcy5ldmVudHMuZ2xvYmFsWyBldmVudF9uYW1lIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgdGhpcy5ldmVudHMuZ2xvYmFsWyBldmVudF9uYW1lIF07XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGV2ZW50X25hbWUgaW4gdGhpcy5ldmVudHMuZWxlbWVudCkge1xuXG5cdFx0XHRpZiAoaXNFbXB0eSggc2VsZWN0b3IgKSkge1xuXHRcdFx0XHQvLyBFdmVudHMgYmluZGVkIHRvIHRoZSBlbGVtZW50XG5cdFx0XHRcdGZvciAobGV0IGkgPSB0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC0tKSB7XG5cdFx0XHRcdFx0aWYgKCdzZWxmJyA9PSB0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF1bIGkgXS5zZWxlY3Rvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50X25hbWUsIHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXVsgaSBdLmhhbmRsZXIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF1bIGkgXS5kZWxlZ2F0ZS5kZXN0cm95KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmV2ZW50cy5lbGVtZW50WyBldmVudF9uYW1lIF07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gdW5iaW5kIGRlbGVnYXRlcyBldmVudHNcblx0XHRcdFx0Zm9yIChsZXQgaSA9IHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXS5sZW5ndGggLSAxOyBpID49IDA7IGkgLS0pIHtcblx0XHRcdFx0XHRpZiAoc2VsZWN0b3IgPT0gdGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdWyBpIF0uc2VsZWN0b3IpIHtcblx0XHRcdFx0XHRcdHRoaXMuZXZlbnRzLmVsZW1lbnRbIGV2ZW50X25hbWUgXVsgaSBdLmRlbGVnYXRlLmRlc3Ryb3koKTtcblx0XHRcdFx0XHRcdHB1bGxBdCggdGhpcy5ldmVudHMuZWxlbWVudFsgZXZlbnRfbmFtZSBdLCBpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhlbHBlciB0byBlYXNpbHkgYWRkIGNsYXNzZXMgaW4gYSBzaW5nbGUgbGluZSB3aGljaCB3aWxsIHRoZW4gYWRkIG9uZSBwZXIgY2xhc3MgKElFMTAgY29tcGF0aWJsZSlcblx0ICpcblx0ICogQHBhcmFtIHtFbGVtZW50fSAgICAgICAgZWwgICAgICAgIE9wdGlvbmFsLiBEZWZhdWx0OiBjdXJyZW50IFZpZXcgZWxlbWVudC4gVGhlIHRhcmdldCBlbGVtZW50IHRvIGFkZCBjbGFzc2VzLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgIGNscyAgICAgICAgQ2xhc3MgbmFtZSBzZXBhcmF0ZWQgYnkgYSBjb21tYSBvciBzcGFjZS5cblx0ICovXG5cdGFkZENsYXNzKCkge1xuXHRcdGNvbnN0IHsgZWwsIGNsYXNzZXMgfSA9IHBhcnNlQ2xhc3NBcmd1bWVudHMuY2FsbCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0Y2xhc3Nlcy5mb3JFYWNoKCAoIGMgKSA9PiB7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKCBjICk7XG5cdFx0fSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEhlbHBlciB0byBlYXNpbHkgcmVtb3ZlIGNsYXNzZXMgaW4gYSBzaW5nbGUgbGluZSB3aGljaCB3aWxsIHRoZW4gcmVtb3ZlIG9uZSBwZXIgY2xhc3MgKElFMTAgY29tcGF0aWJsZSlcblx0ICpcblx0ICogQHBhcmFtIHtFbGVtZW50fSAgZWwgICAgIE9wdGlvbmFsLiBEZWZhdWx0OiBjdXJyZW50IFZpZXcgZWxlbWVudC4gVGhlIHRhcmdldCBlbGVtZW50IHRvIHJlbW92ZSBjbGFzc2VzLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gICBjbGFzcyAgQ2xhc3MgbmFtZS4gTXVsdGlwbGUgY2xhc3NlcyBjYW4gYmUgcGFzc2VkIGFzIGV4dHJhIGFyZ3MuXG5cdCAqL1xuXHRyZW1vdmVDbGFzcygpIHtcblx0XHRjb25zdCB7IGVsLCBjbGFzc2VzIH0gPSBwYXJzZUNsYXNzQXJndW1lbnRzLmNhbGwoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdGNsYXNzZXMuZm9yRWFjaCggKCBjICkgPT4ge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSggYyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIGEgcmVmZXJlbmNlIHRvIHRoZSBsb2FkZWQgY29tcG9uZW50c1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50c1xuXHQgKi9cblx0c2V0Q29tcG9uZW50c1JlZmVyZW5jZSggY29tcG9uZW50cyApIHtcblx0XHR0aGlzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSByZWZlcmVuY2VkIGtleVxuXHQgKlxuXHQgKiBAcGFyYW0ga2V5XG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0Z2V0Q29tcG9uZW50KCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50c1sga2V5IF07XG5cdH1cblxuXHQvKipcblx0ICogT2ZmIGFsbCBldmVudHMgKGVsZW1lbnQgJiBnbG9iYWwpLlxuXHQgKlxuXHQgKiBAZ2xvYmFsIHZpZXdwb3J0X3NlcnZpY2Vcblx0ICovXG5cdGRlc3Ryb3koKSB7XG5cdFx0Zm9yIChsZXQgZXZlbnRfbmFtZSBpbiB0aGlzLmV2ZW50cy5nbG9iYWwpIHtcblx0XHRcdHRoaXMub2ZmKCBldmVudF9uYW1lLCBudWxsLCBudWxsLCB0cnVlICk7XG5cdFx0fVxuXHRcdGZvciAobGV0IGV2ZW50X25hbWUgaW4gdGhpcy5ldmVudHMuZWxlbWVudCkge1xuXHRcdFx0dGhpcy5vZmYoIGV2ZW50X25hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoZSB2aWV3cG9ydCBzZXJ2aWNlXG5cdFx0Ly8gdmlld3BvcnRfc2VydmljZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0fVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhamF4KCB1cmwsIG1ldGhvZCwgZGF0YSA9IG51bGwgKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24oIHJlc29sdmUsIHJlamVjdCApIHtcblx0XHRsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0eGhyLm9wZW4oIG1ldGhvZCwgdXJsICk7XG5cdFx0eGhyLnNlbmQoIGRhdGEgKTtcblx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcblx0XHRcdFx0bGV0IHJhdyA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFx0XHRcdGxldCByZXNwO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc3AgPSBKU09OLnBhcnNlKCByYXcgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaCAoIGVyciApIHtcblx0XHRcdFx0XHRyZXNwID0ge307XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZSggcmVzcCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHJlamVjdCggcmVzcCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxuIiwiLyoqXG4gKiBNYWtlIHN1cmUgYW5jaG9yIGxpbmtzIGp1bXAgZG9udCBqdW1wIHRvIGhpZ2ggKGZpeGVkIGhlYWRlcilcbiAqXG4gKiBBZGFwdGF0aW9uIG9mIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzA2NzAwOVxuICovXG4oZnVuY3Rpb24oZG9jdW1lbnQsIGhpc3RvcnksIGxvY2F0aW9uKSB7XG5cdHZhciBISVNUT1JZX1NVUFBPUlQgPSAhIShoaXN0b3J5ICYmIGhpc3RvcnkucHVzaFN0YXRlKTtcblxuXHR2YXIgYW5jaG9yU2Nyb2xscyA9IHtcblx0XHRBTkNIT1JfUkVHRVg6IC9eI1teIF0rJC8sXG5cdFx0QURESVRJT05BTF9NQVJHSU5fUFg6IDIwLFxuXG5cdFx0LyoqXG5cdFx0ICogRXN0YWJsaXNoIGV2ZW50cywgYW5kIGZpeCBpbml0aWFsIHNjcm9sbCBwb3NpdGlvbiBpZiBhIGhhc2ggaXMgcHJvdmlkZWQuXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNjcm9sbFRvQ3VycmVudCgpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLnNjcm9sbFRvQ3VycmVudC5iaW5kKHRoaXMpKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRlbGVnYXRlQW5jaG9ycy5iaW5kKHRoaXMpKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJuIHRoZSBvZmZzZXQgYW1vdW50IHRvIGRlZHVjdCBmcm9tIHRoZSBub3JtYWwgc2Nyb2xsIHBvc2l0aW9uLlxuXHRcdCAqIE1vZGlmeSBhcyBhcHByb3ByaWF0ZSB0byBhbGxvdyBmb3IgZHluYW1pYyBjYWxjdWxhdGlvbnNcblx0XHQgKi9cblx0XHRnZXRGaXhlZE9mZnNldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdvLWhlYWRlcl9fbWVudScpO1xuXHRcdFx0Y29uc3QgYWRtaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BhZG1pbmJhcicpO1xuXHRcdFx0bGV0IG9mZnNldCA9IHRoaXMuQURESVRJT05BTF9NQVJHSU5fUFg7XG5cblx0XHRcdGlmIChhZG1pbiAmJiBhZG1pbi5vZmZzZXRIZWlnaHQpIHtcblx0XHRcdFx0b2Zmc2V0ICs9IGFkbWluLm9mZnNldEhlaWdodDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5hdi5sZW5ndGggJiYgbmF2WzBdLm9mZnNldEhlaWdodCkge1xuXHRcdFx0XHRvZmZzZXQgKz0gbmF2WzBdLm9mZnNldEhlaWdodDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldDtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSWYgdGhlIHByb3ZpZGVkIGhyZWYgaXMgYW4gYW5jaG9yIHdoaWNoIHJlc29sdmVzIHRvIGFuIGVsZW1lbnQgb24gdGhlXG5cdFx0ICogcGFnZSwgc2Nyb2xsIHRvIGl0LlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gaHJlZlxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IC0gV2FzIHRoZSBocmVmIGFuIGFuY2hvci5cblx0XHQgKi9cblx0XHRzY3JvbGxJZkFuY2hvcjogZnVuY3Rpb24oaHJlZiwgcHVzaFRvSGlzdG9yeSkge1xuXHRcdFx0dmFyIG1hdGNoLCByZWN0LCBhbmNob3JPZmZzZXQ7XG5cblx0XHRcdGlmKCF0aGlzLkFOQ0hPUl9SRUdFWC50ZXN0KGhyZWYpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChocmVmLnNsaWNlKDEpKTtcblxuXHRcdFx0aWYobWF0Y2gpIHtcblx0XHRcdFx0cmVjdCA9IG1hdGNoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRhbmNob3JPZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXQgKyByZWN0LnRvcCAtIHRoaXMuZ2V0Rml4ZWRPZmZzZXQoKTtcblx0XHRcdFx0d2luZG93LnNjcm9sbFRvKHdpbmRvdy5wYWdlWE9mZnNldCwgYW5jaG9yT2Zmc2V0KTtcblxuXHRcdFx0XHQvLyBBZGQgdGhlIHN0YXRlIHRvIGhpc3RvcnkgYXMtcGVyIG5vcm1hbCBhbmNob3IgbGlua3Ncblx0XHRcdFx0aWYoSElTVE9SWV9TVVBQT1JUICYmIHB1c2hUb0hpc3RvcnkpIHtcblx0XHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSh7fSwgZG9jdW1lbnQudGl0bGUsIGxvY2F0aW9uLnBhdGhuYW1lICsgaHJlZik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICEhbWF0Y2g7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEF0dGVtcHQgdG8gc2Nyb2xsIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uJ3MgaGFzaC5cblx0XHQgKi9cblx0XHRzY3JvbGxUb0N1cnJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zY3JvbGxJZkFuY2hvcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIElmIHRoZSBjbGljayBldmVudCdzIHRhcmdldCB3YXMgYW4gYW5jaG9yLCBmaXggdGhlIHNjcm9sbCBwb3NpdGlvbi5cblx0XHQgKi9cblx0XHRkZWxlZ2F0ZUFuY2hvcnM6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBlbGVtID0gZS50YXJnZXQ7XG5cblx0XHRcdGlmKFxuXHRcdFx0XHRlbGVtLm5vZGVOYW1lID09PSAnQScgJiZcblx0XHRcdFx0dGhpcy5zY3JvbGxJZkFuY2hvcihlbGVtLmdldEF0dHJpYnV0ZSgnaHJlZicpLCB0cnVlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0J0RPTUNvbnRlbnRMb2FkZWQnLCBhbmNob3JTY3JvbGxzLmluaXQuYmluZChhbmNob3JTY3JvbGxzKVxuXHQpO1xufSkod2luZG93LmRvY3VtZW50LCB3aW5kb3cuaGlzdG9yeSwgd2luZG93LmxvY2F0aW9uKTtcbiIsIi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcGFnZSBzaG91bGQgYmUgZGlzcGxheWVkIGRpc3RyYWN0aW9uIGZyZWUuXG4gKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYWdlIHNhdGlzZmllcyBhbnkgb2YgdGhlIGZvbGxvd2luZyBjcml0ZXJpYTpcbiAqIC0gdGhlIHVybCBxdWVyeSBzdHJpbmcgYGZvY3VzYCBpcyBwcmVzZW50XG4gKiAtIHRoZSByZWZlcnJlciBpcyBub3QgdGhlIGN1cnJlbnQgc2l0ZVxuICpcbiAqIFRoZXJlZm9yZSB2aXNpdG9ycyBmb2xsb3dpbmcgaW50ZXJuYWwgbGlua3MgZG8gbm90IHNlZSB0aGVcbiAqIGRpc3RyYWN0aW9uIGZyZWUgcGFnZSwgdW5sZXNzIHRoZSBgZm9jdXNgIHF1ZXJ5IHN0cmluZyB3YXMgc2V0LlxuICpcbiAqIEByZXR1cm4gYm9vbGVhblxuICovXG5jb25zdCBkaXN0cmFjdGlvbkZyZWUgPSBmdW5jdGlvbigpIHtcblx0bGV0IHVybCwgcmVmZXJyZXI7XG5cblx0dHJ5IHtcblx0XHR1cmwgPSBuZXcgVVJMKCB3aW5kb3cubG9jYXRpb24gKTtcblx0fVxuXHRjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAodXJsLnNlYXJjaFBhcmFtcy5nZXQoICdmb2N1cycgKSAhPT0gbnVsbCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRyZWZlcnJlciA9IG5ldyBVUkwoIGRvY3VtZW50LnJlZmVycmVyICk7XG5cdH1cblx0Y2F0Y2ggKCBlICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIHVybC5ob3N0bmFtZSAhPT0gcmVmZXJyZXIuaG9zdG5hbWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBkaXN0cmFjdGlvbkZyZWU7XG4iLCJjbGFzcyBJblZpZXcge1xuXHRjb25zdHJ1Y3RvciggZWxlbWVudCwgY2FsbGJhY2ssIGRlYm91bmNlRGVsYXlNUyApIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0XHR0aGlzLmRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZURlbGF5TVM7XG5cdH1cblxuXHRyZXF1ZXN0VGljaygpIHtcblx0XHR0aGlzLnRpbWVyID0gdGhpcy50aW1lciB8fCBzZXRUaW1lb3V0KCAoKSA9PiB7XG5cdFx0XHR0aGlzLnRpbWVyID0gbnVsbDtcblx0XHRcdGlmICghdGhpcy50aWNraW5nKSB7XG5cdFx0XHRcdHRoaXMudGlja2luZyA9IHRydWU7XG5cdFx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHRoaXMubWF5YmVUcmlnZ2VyQWN0aW9uLmJpbmQoIHRoaXMgKSApO1xuXHRcdFx0fVxuXHRcdH0sIHRoaXMuZGVib3VuY2VEZWxheSApO1xuXHR9XG5cblx0bWF5YmVUcmlnZ2VyQWN0aW9uKCkge1xuXHRcdGlmICh0aGlzLmluVmlldygpKSB7XG5cdFx0XHR0aGlzLmNhbGxiYWNrKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy50aWNraW5nID0gZmFsc2U7XG5cdH1cblxuXHRpblZpZXcoKSB7XG5cdFx0Y29uc3Qgd2luZG93VG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXHRcdGNvbnN0IHdpbmRvd0JvdHRvbSA9IHdpbmRvd1RvcCArIHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRjb25zdCBpbWdSZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGltZ1RvcCA9IHdpbmRvd1RvcCArIGltZ1JlY3QudG9wO1xuXHRcdGNvbnN0IGltZ0JvdHRvbSA9IGltZ1RvcCArIGltZ1JlY3QuaGVpZ2h0O1xuXHRcdHJldHVybiAoIHdpbmRvd1RvcCA8IGltZ0JvdHRvbSAmJiB3aW5kb3dCb3R0b20gPiBpbWdUb3AgKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiggZWxlbWVudCwgZGVib3VuY2VEZWxheU1TID0gMzAwICkge1xuXHRsZXQgcmVzb2x2ZTtcblx0Y29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKCByZXMgPT4gcmVzb2x2ZSA9IHJlcyApO1xuXHRjb25zdCB3YXRjaGVyID0gbmV3IEluVmlldyggZWxlbWVudCwgKCkgPT4gcmVzb2x2ZSgpLCBkZWJvdW5jZURlbGF5TVMgKTtcblxuXHRjb25zdCBoYW5kbGVyID0gd2F0Y2hlci5yZXF1ZXN0VGljay5iaW5kKCB3YXRjaGVyICk7XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCBoYW5kbGVyLCBmYWxzZSApO1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIGhhbmRsZXIsIGZhbHNlICk7XG5cblx0d2F0Y2hlci5yZXF1ZXN0VGljaygpO1xuXG5cdHJldHVybiBwcm9taXNlLnRoZW4oICgpID0+IHtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIGhhbmRsZXIgKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIGhhbmRsZXIgKTtcblx0fSApO1xufVxuIiwiLyoqXG4gKiBDaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgY2xhc3MgbGlzdCBwcm9wZXJ0eSBmb3IgdGhpcyBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0KGVsZW1lbnQpIHtcblx0cmV0dXJuICEgISBlbGVtZW50LmNsYXNzTGlzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlclN1cHBvcnRzQ2xhc3NMaXN0O1xuXG5cblxuIiwiLyoqXG4gKiBDaGVjayBpZiBhIGRvbSBlbGVtZW50IGV4aXN0LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZWxlbWVudEV4aXN0KCBlbGVtZW50ICkge1xuXHRyZXR1cm4gISAhICggZWxlbWVudCApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBlbGVtZW50RXhpc3Q7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vKiBQb2x5ZmlsbCBzZXJ2aWNlIHYzLjM4LjBcbiAqIEZvciBkZXRhaWxlZCBjcmVkaXRzIGFuZCBsaWNlbmNlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmluYW5jaWFsLXRpbWVzL3BvbHlmaWxsLXNlcnZpY2UuXG4gKlxuICogRmVhdHVyZXMgcmVxdWVzdGVkOiBBcnJheS5wcm90b3R5cGUuZW50cmllcyxBcnJheS5wcm90b3R5cGUuZm9yRWFjaCxDdXN0b21FdmVudCxFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0LEhUTUxQaWN0dXJlRWxlbWVudCxPYmplY3QuYXNzaWduLE9iamVjdC5lbnRyaWVzLFByb21pc2UsVVJMLG1hdGNoTWVkaWFcbiAqXG4gKiAtIF9FU0Fic3RyYWN0LkFycmF5Q3JlYXRlLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkNhbGwsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIl9FU0Fic3RyYWN0LlRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeVRvUHJpbWl0aXZlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkdldCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiT2JqZWN0LmFzc2lnblwiLCBcIl9FU0Fic3RyYWN0LkVudW1lcmFibGVPd25Qcm9wZXJ0aWVzXCIsIFwiT2JqZWN0LmVudHJpZXNcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIl9FU0Fic3RyYWN0LklzUmVnRXhwXCIsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeVRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiX0VTQWJzdHJhY3QuR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5Db25zdHJ1Y3RcIilcbiAqIC0gX0VTQWJzdHJhY3QuSGFzUHJvcGVydHksIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5Jc0FycmF5LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkuaXNBcnJheVwiLCBcIlVSTFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5Jc0NhbGxhYmxlLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZFwiLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIiwgXCJPYmplY3QuYXNzaWduXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIl9FU0Fic3RyYWN0LkdldE1ldGhvZFwiLCBcIl9FU0Fic3RyYWN0LlRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeVRvUHJpbWl0aXZlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuUmVxdWlyZU9iamVjdENvZXJjaWJsZSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlRvQm9vbGVhbiwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LklzUmVnRXhwXCIsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlRvSW50ZWdlciwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LlRvTGVuZ3RoXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBfRVNBYnN0cmFjdC5Ub0xlbmd0aCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlRvT2JqZWN0LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIk9iamVjdC5hc3NpZ25cIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIsIFwiVVJMXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiLCBcIl9FU0Fic3RyYWN0LkdldFZcIiwgXCJfRVNBYnN0cmFjdC5HZXRNZXRob2RcIiwgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkdldFYsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5HZXRNZXRob2RcIiwgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIilcbiAqIC0gX0VTQWJzdHJhY3QuR2V0TWV0aG9kLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiX0VTQWJzdHJhY3QuSXNDb25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5UeXBlLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuVG9TdHJpbmdcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIl9FU0Fic3RyYWN0LkVudW1lcmFibGVPd25Qcm9wZXJ0aWVzXCIsIFwiT2JqZWN0LmVudHJpZXNcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIk9iamVjdC5jcmVhdGVcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcIiwgXCJfRVNBYnN0cmFjdC5Jc1JlZ0V4cFwiLCBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeVRvUHJpbWl0aXZlXCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIiwgXCJfRVNBYnN0cmFjdC5Jc0NvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yXCIsIFwiX0VTQWJzdHJhY3QuT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5Db25zdHJ1Y3RcIilcbiAqIC0gX0VTQWJzdHJhY3QuR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3JcIiwgXCJfRVNBYnN0cmFjdC5Db25zdHJ1Y3RcIiwgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuSXNDb25zdHJ1Y3RvciwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiKVxuICogLSBfRVNBYnN0cmFjdC5Jc1JlZ0V4cCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIF9FU0Fic3RyYWN0Lk9yZGluYXJ5VG9QcmltaXRpdmUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5Ub1ByaW1pdGl2ZVwiLCBcIl9FU0Fic3RyYWN0LlRvU3RyaW5nXCIsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIilcbiAqIC0gX0VTQWJzdHJhY3QuVG9QcmltaXRpdmUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5Ub1N0cmluZ1wiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIpXG4gKiAtIF9FU0Fic3RyYWN0LlRvU3RyaW5nLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIiwgXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIGRvY3VtZW50LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiRXZlbnRcIiwgXCJDdXN0b21FdmVudFwiLCBcIm1hdGNoTWVkaWFcIiwgXCJ+aHRtbDUtZWxlbWVudHNcIiwgXCJIVE1MUGljdHVyZUVsZW1lbnRcIiwgXCJFbGVtZW50XCIsIFwiRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1wiLCBcIkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3RcIiwgXCJkb2N1bWVudC5xdWVyeVNlbGVjdG9yXCIpXG4gKiAtIH5odG1sNS1lbGVtZW50cywgTGljZW5zZTogTUlUIChyZXF1aXJlZCBieSBcIkhUTUxQaWN0dXJlRWxlbWVudFwiKVxuICogLSBFbGVtZW50LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiRXZlbnRcIiwgXCJDdXN0b21FdmVudFwiLCBcIm1hdGNoTWVkaWFcIiwgXCJFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzXCIsIFwiRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdFwiLCBcImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JcIilcbiAqIC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNcIiwgXCJFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XCIpXG4gKiAtIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XCIpXG4gKiAtIEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QsIExpY2Vuc2U6IENDMFxuICogLSBIVE1MUGljdHVyZUVsZW1lbnQsIExpY2Vuc2U6IE1JVFxuICogLSBPYmplY3QuZGVmaW5lUHJvcGVydHksIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiX0VTQWJzdHJhY3QuQ3JlYXRlTWV0aG9kUHJvcGVydHlcIiwgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaFwiLCBcIk9iamVjdC5hc3NpZ25cIiwgXCJPYmplY3QuZW50cmllc1wiLCBcIkV2ZW50XCIsIFwiQ3VzdG9tRXZlbnRcIiwgXCJtYXRjaE1lZGlhXCIsIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIiwgXCJVUkxcIiwgXCJfSXRlcmF0b3JcIiwgXCJPYmplY3Quc2V0UHJvdG90eXBlT2ZcIiwgXCJTeW1ib2xcIiwgXCJTeW1ib2wuaXRlcmF0b3JcIiwgXCJTeW1ib2wudG9TdHJpbmdUYWdcIiwgXCJfRVNBYnN0cmFjdC5DcmVhdGVEYXRhUHJvcGVydHlcIiwgXCJfRVNBYnN0cmFjdC5DcmVhdGVEYXRhUHJvcGVydHlPclRocm93XCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiKVxuICogLSBfRVNBYnN0cmFjdC5DcmVhdGVEYXRhUHJvcGVydHksIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfRVNBYnN0cmFjdC5DcmVhdGVEYXRhUHJvcGVydHlPclRocm93XCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3csIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gX0VTQWJzdHJhY3QuQ3JlYXRlTWV0aG9kUHJvcGVydHksIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIsIFwiT2JqZWN0LmFzc2lnblwiLCBcIk9iamVjdC5lbnRyaWVzXCIsIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiLCBcIk9iamVjdC5rZXlzXCIsIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIiwgXCJVUkxcIiwgXCJBcnJheS5pc0FycmF5XCIsIFwiT2JqZWN0LmNyZWF0ZVwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXCIsIFwiX0l0ZXJhdG9yXCIsIFwiT2JqZWN0LmdldFByb3RvdHlwZU9mXCIsIFwiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcIiwgXCJTeW1ib2xcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiLCBcIk9iamVjdC5mcmVlemVcIilcbiAqIC0gQXJyYXkuaXNBcnJheSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlVSTFwiKVxuICogLSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlVSTFwiLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIilcbiAqIC0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIFwiT2JqZWN0LmFzc2lnblwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJfRVNBYnN0cmFjdC5Db25zdHJ1Y3RcIiwgXCJfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGVcIiwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBPYmplY3QuZnJlZXplLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiT2JqZWN0LmFzc2lnblwiLCBcIl9FU0Fic3RyYWN0LkVudW1lcmFibGVPd25Qcm9wZXJ0aWVzXCIsIFwiT2JqZWN0LmVudHJpZXNcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIilcbiAqIC0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJPYmplY3Quc2V0UHJvdG90eXBlT2ZcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIpXG4gKiAtIE9iamVjdC5nZXRQcm90b3R5cGVPZiwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIE9iamVjdC5rZXlzLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiT2JqZWN0LmFzc2lnblwiLCBcIl9FU0Fic3RyYWN0LkVudW1lcmFibGVPd25Qcm9wZXJ0aWVzXCIsIFwiT2JqZWN0LmVudHJpZXNcIiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiLCBcIlVSTFwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gX0VTQWJzdHJhY3QuRW51bWVyYWJsZU93blByb3BlcnRpZXMsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJPYmplY3QuZW50cmllc1wiKVxuICogLSBPYmplY3QuZW50cmllcywgTGljZW5zZTogQ0MwXG4gKiAtIE9iamVjdC5hc3NpZ24sIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiVVJMXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIk9iamVjdC5jcmVhdGVcIilcbiAqIC0gT2JqZWN0LmNyZWF0ZSwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJPYmplY3Quc2V0UHJvdG90eXBlT2ZcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfRVNBYnN0cmFjdC5PcmRpbmFyeUNyZWF0ZUZyb21Db25zdHJ1Y3RvclwiLCBcIl9FU0Fic3RyYWN0LkNvbnN0cnVjdFwiLCBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0Lk9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yLCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiX0VTQWJzdHJhY3QuQ29uc3RydWN0XCIsIFwiX0VTQWJzdHJhY3QuQXJyYXlTcGVjaWVzQ3JlYXRlXCIsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiLCBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpXG4gKiAtIF9FU0Fic3RyYWN0LkNvbnN0cnVjdCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVwiLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiwgXCJTeW1ib2xcIiwgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKVxuICogLSBfRVNBYnN0cmFjdC5BcnJheVNwZWNpZXNDcmVhdGUsIExpY2Vuc2U6IENDMCAocmVxdWlyZWQgYnkgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIsIFwiU3ltYm9sXCIsIFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIilcbiAqIC0gQXJyYXkucHJvdG90eXBlLmZpbHRlciwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gQXJyYXkucHJvdG90eXBlLm1hcCwgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIlN5bWJvbFwiLCBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gT2JqZWN0LnNldFByb3RvdHlwZU9mLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBQcm9taXNlLCBMaWNlbnNlOiBNSVRcbiAqIC0gU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gU3ltYm9sLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiX0l0ZXJhdG9yXCIsIFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBcIlN5bWJvbC5pdGVyYXRvclwiLCBcIlN5bWJvbC50b1N0cmluZ1RhZ1wiKVxuICogLSBTeW1ib2wuaXRlcmF0b3IsIExpY2Vuc2U6IE1JVCAocmVxdWlyZWQgYnkgXCJfSXRlcmF0b3JcIiwgXCJfQXJyYXlJdGVyYXRvclwiLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIFN5bWJvbC50b1N0cmluZ1RhZywgTGljZW5zZTogTUlUIChyZXF1aXJlZCBieSBcIl9JdGVyYXRvclwiLCBcIl9BcnJheUl0ZXJhdG9yXCIsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIilcbiAqIC0gX0l0ZXJhdG9yLCBMaWNlbnNlOiBNSVQgKHJlcXVpcmVkIGJ5IFwiX0FycmF5SXRlcmF0b3JcIiwgXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiKVxuICogLSBfQXJyYXlJdGVyYXRvciwgTGljZW5zZTogTUlUIChyZXF1aXJlZCBieSBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpXG4gKiAtIEFycmF5LnByb3RvdHlwZS5lbnRyaWVzLCBMaWNlbnNlOiBDQzBcbiAqIC0gVVJMLCBMaWNlbnNlOiBDQzAtMS4wXG4gKiAtIFdpbmRvdywgTGljZW5zZTogQ0MwIChyZXF1aXJlZCBieSBcIkV2ZW50XCIsIFwiQ3VzdG9tRXZlbnRcIiwgXCJtYXRjaE1lZGlhXCIpXG4gKiAtIEV2ZW50LCBMaWNlbnNlOiBDQzAgKHJlcXVpcmVkIGJ5IFwiQ3VzdG9tRXZlbnRcIiwgXCJtYXRjaE1lZGlhXCIpXG4gKiAtIEN1c3RvbUV2ZW50LCBMaWNlbnNlOiBDQzBcbiAqIC0gbWF0Y2hNZWRpYSwgTGljZW5zZTogQ0MwICovXG5cbihmdW5jdGlvbih1bmRlZmluZWQpIHtcblxuLy8gX0VTQWJzdHJhY3QuQXJyYXlDcmVhdGVcbi8vIDkuNC4yLjIuIEFycmF5Q3JlYXRlICggbGVuZ3RoIFsgLCBwcm90byBdIClcblx0ZnVuY3Rpb24gQXJyYXlDcmVhdGUobGVuZ3RoIC8qIFssIHByb3RvXSAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBsZW5ndGggaXMgYW4gaW50ZWdlciBOdW1iZXIg4omlIDAuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMi4gSWYgbGVuZ3RoIGlzIC0wLCBzZXQgbGVuZ3RoIHRvICswLlxuXHRcdGlmICgxIC8gbGVuZ3RoID09PSAtSW5maW5pdHkpIHtcblx0XHRcdGxlbmd0aCA9IDA7XG5cdFx0fVxuXHRcdC8vIDMuIElmIGxlbmd0aD4yXjMyLTEsIHRocm93IGEgUmFuZ2VFcnJvciBleGNlcHRpb24uXG5cdFx0aWYgKGxlbmd0aCA+IChNYXRoLnBvdygyLCAzMikgLSAxKSkge1xuXHRcdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgYXJyYXkgbGVuZ3RoJyk7XG5cdFx0fVxuXHRcdC8vIDQuIElmIHByb3RvIGlzIG5vdCBwcmVzZW50LCBzZXQgcHJvdG8gdG8gdGhlIGludHJpbnNpYyBvYmplY3QgJUFycmF5UHJvdG90eXBlJS5cblx0XHQvLyA1LiBMZXQgQSBiZSBhIG5ld2x5IGNyZWF0ZWQgQXJyYXkgZXhvdGljIG9iamVjdC5cblx0XHR2YXIgQSA9IFtdO1xuXHRcdC8vIDYuIFNldCBBJ3MgZXNzZW50aWFsIGludGVybmFsIG1ldGhvZHMgZXhjZXB0IGZvciBbW0RlZmluZU93blByb3BlcnR5XV0gdG8gdGhlIGRlZmF1bHQgb3JkaW5hcnkgb2JqZWN0IGRlZmluaXRpb25zIHNwZWNpZmllZCBpbiA5LjEuXG5cdFx0Ly8gNy4gU2V0IEEuW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGFzIHNwZWNpZmllZCBpbiA5LjQuMi4xLlxuXHRcdC8vIDguIFNldCBBLltbUHJvdG90eXBlXV0gdG8gcHJvdG8uXG5cdFx0Ly8gOS4gU2V0IEEuW1tFeHRlbnNpYmxlXV0gdG8gdHJ1ZS5cblx0XHQvLyAxMC4gUGVyZm9ybSAhIE9yZGluYXJ5RGVmaW5lT3duUHJvcGVydHkoQSwgXCJsZW5ndGhcIiwgUHJvcGVydHlEZXNjcmlwdG9ye1tbVmFsdWVdXTogbGVuZ3RoLCBbW1dyaXRhYmxlXV06IHRydWUsIFtbRW51bWVyYWJsZV1dOiBmYWxzZSwgW1tDb25maWd1cmFibGVdXTogZmFsc2V9KS5cblx0XHRBLmxlbmd0aCA9IGxlbmd0aDtcblx0XHQvLyAxMS4gUmV0dXJuIEEuXG5cdFx0cmV0dXJuIEE7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuQ2FsbFxuXHQvKiBnbG9iYWwgSXNDYWxsYWJsZSAqL1xuLy8gNy4zLjEyLiBDYWxsICggRiwgViBbICwgYXJndW1lbnRzTGlzdCBdIClcblx0ZnVuY3Rpb24gQ2FsbChGLCBWIC8qIFssIGFyZ3VtZW50c0xpc3RdICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDEuIElmIGFyZ3VtZW50c0xpc3QgaXMgbm90IHByZXNlbnQsIHNldCBhcmd1bWVudHNMaXN0IHRvIGEgbmV3IGVtcHR5IExpc3QuXG5cdFx0dmFyIGFyZ3VtZW50c0xpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IFtdO1xuXHRcdC8vIDIuIElmIElzQ2FsbGFibGUoRikgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRpZiAoSXNDYWxsYWJsZShGKSA9PT0gZmFsc2UpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEYpICsgJ2lzIG5vdCBhIGZ1bmN0aW9uLicpO1xuXHRcdH1cblx0XHQvLyAzLiBSZXR1cm4gPyBGLltbQ2FsbF1dKFYsIGFyZ3VtZW50c0xpc3QpLlxuXHRcdHJldHVybiBGLmFwcGx5KFYsIGFyZ3VtZW50c0xpc3QpO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkdldFxuLy8gNy4zLjEuIEdldCAoIE8sIFAgKVxuXHRmdW5jdGlvbiBHZXQoTywgUCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIEFzc2VydDogVHlwZShPKSBpcyBPYmplY3QuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDIuIEFzc2VydDogSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAzLiBSZXR1cm4gPyBPLltbR2V0XV0oUCwgTykuXG5cdFx0cmV0dXJuIE9bUF07XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuSGFzUHJvcGVydHlcbi8vIDcuMy4xMC4gSGFzUHJvcGVydHkgKCBPLCBQIClcblx0ZnVuY3Rpb24gSGFzUHJvcGVydHkoTywgUCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyBBc3NlcnQ6IElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyBSZXR1cm4gPyBPLltbSGFzUHJvcGVydHldXShQKS5cblx0XHRyZXR1cm4gUCBpbiBPO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LklzQXJyYXlcbi8vIDcuMi4yLiBJc0FycmF5ICggYXJndW1lbnQgKVxuXHRmdW5jdGlvbiBJc0FycmF5KGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBJZiBUeXBlKGFyZ3VtZW50KSBpcyBub3QgT2JqZWN0LCByZXR1cm4gZmFsc2UuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMi4gSWYgYXJndW1lbnQgaXMgYW4gQXJyYXkgZXhvdGljIG9iamVjdCwgcmV0dXJuIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMy4gSWYgYXJndW1lbnQgaXMgYSBQcm94eSBleG90aWMgb2JqZWN0LCB0aGVuXG5cdFx0Ly8gYS4gSWYgYXJndW1lbnQuW1tQcm94eUhhbmRsZXJdXSBpcyBudWxsLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0Ly8gYi4gTGV0IHRhcmdldCBiZSBhcmd1bWVudC5bW1Byb3h5VGFyZ2V0XV0uXG5cdFx0Ly8gYy4gUmV0dXJuID8gSXNBcnJheSh0YXJnZXQpLlxuXHRcdC8vIDQuIFJldHVybiBmYWxzZS5cblxuXHRcdC8vIFBvbHlmaWxsLmlvIC0gV2UgY2FuIHNraXAgYWxsIHRoZSBhYm92ZSBzdGVwcyBhbmQgY2hlY2sgdGhlIHN0cmluZyByZXR1cm5lZCBmcm9tIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKS5cblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Jc0NhbGxhYmxlXG4vLyA3LjIuMy4gSXNDYWxsYWJsZSAoIGFyZ3VtZW50IClcblx0ZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gSWYgVHlwZShhcmd1bWVudCkgaXMgbm90IE9iamVjdCwgcmV0dXJuIGZhbHNlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDIuIElmIGFyZ3VtZW50IGhhcyBhIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZCwgcmV0dXJuIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMy4gUmV0dXJuIGZhbHNlLlxuXG5cdFx0Ly8gUG9seWZpbGwuaW8gLSBPbmx5IGZ1bmN0aW9uIG9iamVjdHMgaGF2ZSBhIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZC4gVGhpcyBtZWFucyB3ZSBjYW4gc2ltcGxpZnkgdGhpcyBmdW5jdGlvbiB0byBjaGVjayB0aGF0IHRoZSBhcmd1bWVudCBoYXMgYSB0eXBlIG9mIGZ1bmN0aW9uLlxuXHRcdHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09ICdmdW5jdGlvbic7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuUmVxdWlyZU9iamVjdENvZXJjaWJsZVxuLy8gNy4yLjEuIFJlcXVpcmVPYmplY3RDb2VyY2libGUgKCBhcmd1bWVudCApXG4vLyBUaGUgYWJzdHJhY3Qgb3BlcmF0aW9uIFRvT2JqZWN0IGNvbnZlcnRzIGFyZ3VtZW50IHRvIGEgdmFsdWUgb2YgdHlwZSBPYmplY3QgYWNjb3JkaW5nIHRvIFRhYmxlIDEyOlxuLy8gVGFibGUgMTI6IFRvT2JqZWN0IENvbnZlcnNpb25zXG5cdC8qXG5cdHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IEFyZ3VtZW50IFR5cGUgfCBSZXN1bHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgVW5kZWZpbmVkICAgICB8IFRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8IE51bGwgICAgICAgICAgfCBUaHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBCb29sZWFuICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgTnVtYmVyICAgICAgICB8IFJldHVybiBhcmd1bWVudC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8IFN0cmluZyAgICAgICAgfCBSZXR1cm4gYXJndW1lbnQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBTeW1ib2wgICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgT2JqZWN0ICAgICAgICB8IFJldHVybiBhcmd1bWVudC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0Ki9cblx0ZnVuY3Rpb24gUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0aWYgKGFyZ3VtZW50ID09PSBudWxsIHx8IGFyZ3VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IFR5cGVFcnJvcigpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJndW1lbnQ7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuVG9Cb29sZWFuXG4vLyA3LjEuMi4gVG9Cb29sZWFuICggYXJndW1lbnQgKVxuLy8gVGhlIGFic3RyYWN0IG9wZXJhdGlvbiBUb0Jvb2xlYW4gY29udmVydHMgYXJndW1lbnQgdG8gYSB2YWx1ZSBvZiB0eXBlIEJvb2xlYW4gYWNjb3JkaW5nIHRvIFRhYmxlIDk6XG5cdC8qXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdHwgQXJndW1lbnQgVHlwZSB8IFJlc3VsdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdHwgVW5kZWZpbmVkICAgICB8IFJldHVybiBmYWxzZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgTnVsbCAgICAgICAgICB8IFJldHVybiBmYWxzZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgQm9vbGVhbiAgICAgICB8IFJldHVybiBhcmd1bWVudC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgTnVtYmVyICAgICAgICB8IElmIGFyZ3VtZW50IGlzICswLCAtMCwgb3IgTmFOLCByZXR1cm4gZmFsc2U7IG90aGVyd2lzZSByZXR1cm4gdHJ1ZS4gICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgU3RyaW5nICAgICAgICB8IElmIGFyZ3VtZW50IGlzIHRoZSBlbXB0eSBTdHJpbmcgKGl0cyBsZW5ndGggaXMgemVybyksIHJldHVybiBmYWxzZTsgb3RoZXJ3aXNlIHJldHVybiB0cnVlLiB8XG5cdHwgU3ltYm9sICAgICAgICB8IFJldHVybiB0cnVlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgT2JqZWN0ICAgICAgICB8IFJldHVybiB0cnVlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdCovXG5cdGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0cmV0dXJuIEJvb2xlYW4oYXJndW1lbnQpO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LlRvSW50ZWdlclxuLy8gNy4xLjQuIFRvSW50ZWdlciAoIGFyZ3VtZW50IClcblx0ZnVuY3Rpb24gVG9JbnRlZ2VyKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIExldCBudW1iZXIgYmUgPyBUb051bWJlcihhcmd1bWVudCkuXG5cdFx0dmFyIG51bWJlciA9IE51bWJlcihhcmd1bWVudCk7XG5cdFx0Ly8gMi4gSWYgbnVtYmVyIGlzIE5hTiwgcmV0dXJuICswLlxuXHRcdGlmIChpc05hTihudW1iZXIpKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0Ly8gMy4gSWYgbnVtYmVyIGlzICswLCAtMCwgK+KIniwgb3IgLeKIniwgcmV0dXJuIG51bWJlci5cblx0XHRpZiAoMS9udW1iZXIgPT09IEluZmluaXR5IHx8IDEvbnVtYmVyID09PSAtSW5maW5pdHkgfHwgbnVtYmVyID09PSBJbmZpbml0eSB8fCBudW1iZXIgPT09IC1JbmZpbml0eSkge1xuXHRcdFx0cmV0dXJuIG51bWJlcjtcblx0XHR9XG5cdFx0Ly8gNC4gUmV0dXJuIHRoZSBudW1iZXIgdmFsdWUgdGhhdCBpcyB0aGUgc2FtZSBzaWduIGFzIG51bWJlciBhbmQgd2hvc2UgbWFnbml0dWRlIGlzIGZsb29yKGFicyhudW1iZXIpKS5cblx0XHRyZXR1cm4gKChudW1iZXIgPCAwKSA/IC0xIDogMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LlRvTGVuZ3RoXG5cdC8qIGdsb2JhbCBUb0ludGVnZXIgKi9cbi8vIDcuMS4xNS4gVG9MZW5ndGggKCBhcmd1bWVudCApXG5cdGZ1bmN0aW9uIFRvTGVuZ3RoKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gTGV0IGxlbiBiZSA/IFRvSW50ZWdlcihhcmd1bWVudCkuXG5cdFx0dmFyIGxlbiA9IFRvSW50ZWdlcihhcmd1bWVudCk7XG5cdFx0Ly8gMi4gSWYgbGVuIOKJpCArMCwgcmV0dXJuICswLlxuXHRcdGlmIChsZW4gPD0gMCkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHRcdC8vIDMuIFJldHVybiBtaW4obGVuLCAyNTMtMSkuXG5cdFx0cmV0dXJuIE1hdGgubWluKGxlbiwgTWF0aC5wb3coMiwgNTMpIC0xKTtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Ub09iamVjdFxuLy8gNy4xLjEzIFRvT2JqZWN0ICggYXJndW1lbnQgKVxuLy8gVGhlIGFic3RyYWN0IG9wZXJhdGlvbiBUb09iamVjdCBjb252ZXJ0cyBhcmd1bWVudCB0byBhIHZhbHVlIG9mIHR5cGUgT2JqZWN0IGFjY29yZGluZyB0byBUYWJsZSAxMjpcbi8vIFRhYmxlIDEyOiBUb09iamVjdCBDb252ZXJzaW9uc1xuXHQvKlxuXHR8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBBcmd1bWVudCBUeXBlIHwgUmVzdWx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IFVuZGVmaW5lZCAgICAgfCBUaHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCBOdWxsICAgICAgICAgIHwgVGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwgQm9vbGVhbiAgICAgICB8IFJldHVybiBhIG5ldyBCb29sZWFuIG9iamVjdCB3aG9zZSBbW0Jvb2xlYW5EYXRhXV0gaW50ZXJuYWwgc2xvdCBpcyBzZXQgdG8gYXJndW1lbnQuIFNlZSAxOS4zIGZvciBhIGRlc2NyaXB0aW9uIG9mIEJvb2xlYW4gb2JqZWN0cy4gfFxuXHR8IE51bWJlciAgICAgICAgfCBSZXR1cm4gYSBuZXcgTnVtYmVyIG9iamVjdCB3aG9zZSBbW051bWJlckRhdGFdXSBpbnRlcm5hbCBzbG90IGlzIHNldCB0byBhcmd1bWVudC4gU2VlIDIwLjEgZm9yIGEgZGVzY3JpcHRpb24gb2YgTnVtYmVyIG9iamVjdHMuICAgIHxcblx0fCBTdHJpbmcgICAgICAgIHwgUmV0dXJuIGEgbmV3IFN0cmluZyBvYmplY3Qgd2hvc2UgW1tTdHJpbmdEYXRhXV0gaW50ZXJuYWwgc2xvdCBpcyBzZXQgdG8gYXJndW1lbnQuIFNlZSAyMS4xIGZvciBhIGRlc2NyaXB0aW9uIG9mIFN0cmluZyBvYmplY3RzLiAgICB8XG5cdHwgU3ltYm9sICAgICAgICB8IFJldHVybiBhIG5ldyBTeW1ib2wgb2JqZWN0IHdob3NlIFtbU3ltYm9sRGF0YV1dIGludGVybmFsIHNsb3QgaXMgc2V0IHRvIGFyZ3VtZW50LiBTZWUgMTkuNCBmb3IgYSBkZXNjcmlwdGlvbiBvZiBTeW1ib2wgb2JqZWN0cy4gICAgfFxuXHR8IE9iamVjdCAgICAgICAgfCBSZXR1cm4gYXJndW1lbnQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdCovXG5cdGZ1bmN0aW9uIFRvT2JqZWN0KGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRpZiAoYXJndW1lbnQgPT09IG51bGwgfHwgYXJndW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0fVxuXHRcdHJldHVybiBPYmplY3QoYXJndW1lbnQpO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkdldFZcblx0LyogZ2xvYmFsIFRvT2JqZWN0ICovXG4vLyA3LjMuMiBHZXRWIChWLCBQKVxuXHRmdW5jdGlvbiBHZXRWKHYsIHApIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMS4gQXNzZXJ0OiBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAyLiBMZXQgTyBiZSA/IFRvT2JqZWN0KFYpLlxuXHRcdHZhciBvID0gVG9PYmplY3Qodik7XG5cdFx0Ly8gMy4gUmV0dXJuID8gTy5bW0dldF1dKFAsIFYpLlxuXHRcdHJldHVybiBvW3BdO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkdldE1ldGhvZFxuXHQvKiBnbG9iYWwgR2V0ViwgSXNDYWxsYWJsZSAqL1xuLy8gNy4zLjkuIEdldE1ldGhvZCAoIFYsIFAgKVxuXHRmdW5jdGlvbiBHZXRNZXRob2QoViwgUCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIEFzc2VydDogSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBMZXQgZnVuYyBiZSA/IEdldFYoViwgUCkuXG5cdFx0dmFyIGZ1bmMgPSBHZXRWKFYsIFApO1xuXHRcdC8vIDMuIElmIGZ1bmMgaXMgZWl0aGVyIHVuZGVmaW5lZCBvciBudWxsLCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmIChmdW5jID09PSBudWxsIHx8IGZ1bmMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Ly8gNC4gSWYgSXNDYWxsYWJsZShmdW5jKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdGlmIChJc0NhbGxhYmxlKGZ1bmMpID09PSBmYWxzZSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBjYWxsYWJsZTogJyArIFApO1xuXHRcdH1cblx0XHQvLyA1LiBSZXR1cm4gZnVuYy5cblx0XHRyZXR1cm4gZnVuYztcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5UeXBlXG4vLyBcIlR5cGUoeClcIiBpcyB1c2VkIGFzIHNob3J0aGFuZCBmb3IgXCJ0aGUgdHlwZSBvZiB4XCIuLi5cblx0ZnVuY3Rpb24gVHlwZSh4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRzd2l0Y2ggKHR5cGVvZiB4KSB7XG5cdFx0XHRjYXNlICd1bmRlZmluZWQnOlxuXHRcdFx0XHRyZXR1cm4gJ3VuZGVmaW5lZCc7XG5cdFx0XHRjYXNlICdib29sZWFuJzpcblx0XHRcdFx0cmV0dXJuICdib29sZWFuJztcblx0XHRcdGNhc2UgJ251bWJlcic6XG5cdFx0XHRcdHJldHVybiAnbnVtYmVyJztcblx0XHRcdGNhc2UgJ3N0cmluZyc6XG5cdFx0XHRcdHJldHVybiAnc3RyaW5nJztcblx0XHRcdGNhc2UgJ3N5bWJvbCc6XG5cdFx0XHRcdHJldHVybiAnc3ltYm9sJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vIHR5cGVvZiBudWxsIGlzICdvYmplY3QnXG5cdFx0XHRcdGlmICh4ID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXHRcdFx0XHQvLyBQb2x5ZmlsbC5pbyAtIFRoaXMgaXMgaGVyZSBiZWNhdXNlIGEgU3ltYm9sIHBvbHlmaWxsIHdpbGwgaGF2ZSBhIHR5cGVvZiBgb2JqZWN0YC5cblx0XHRcdFx0aWYgKCdTeW1ib2wnIGluIHRoaXMgJiYgeCBpbnN0YW5jZW9mIHRoaXMuU3ltYm9sKSByZXR1cm4gJ3N5bWJvbCc7XG5cdFx0XHRcdHJldHVybiAnb2JqZWN0Jztcblx0XHR9XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yXG5cdC8qIGdsb2JhbCBHZXQsIFR5cGUgKi9cbi8vIDkuMS4xNC4gR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yICggY29uc3RydWN0b3IsIGludHJpbnNpY0RlZmF1bHRQcm90byApXG5cdGZ1bmN0aW9uIEdldFByb3RvdHlwZUZyb21Db25zdHJ1Y3Rvcihjb25zdHJ1Y3RvciwgaW50cmluc2ljRGVmYXVsdFByb3RvKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBpbnRyaW5zaWNEZWZhdWx0UHJvdG8gaXMgYSBTdHJpbmcgdmFsdWUgdGhhdCBpcyB0aGlzIHNwZWNpZmljYXRpb24ncyBuYW1lIG9mIGFuIGludHJpbnNpYyBvYmplY3QuIFRoZSBjb3JyZXNwb25kaW5nIG9iamVjdCBtdXN0IGJlIGFuIGludHJpbnNpYyB0aGF0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgYXMgdGhlIFtbUHJvdG90eXBlXV0gdmFsdWUgb2YgYW4gb2JqZWN0LlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBBc3NlcnQ6IElzQ2FsbGFibGUoY29uc3RydWN0b3IpIGlzIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDMuIExldCBwcm90byBiZSA/IEdldChjb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIikuXG5cdFx0dmFyIHByb3RvID0gR2V0KGNvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiKTtcblx0XHQvLyA0LiBJZiBUeXBlKHByb3RvKSBpcyBub3QgT2JqZWN0LCB0aGVuXG5cdFx0aWYgKFR5cGUocHJvdG8pICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0Ly8gYS4gTGV0IHJlYWxtIGJlID8gR2V0RnVuY3Rpb25SZWFsbShjb25zdHJ1Y3RvcikuXG5cdFx0XHQvLyBiLiBTZXQgcHJvdG8gdG8gcmVhbG0ncyBpbnRyaW5zaWMgb2JqZWN0IG5hbWVkIGludHJpbnNpY0RlZmF1bHRQcm90by5cblx0XHRcdHByb3RvID0gaW50cmluc2ljRGVmYXVsdFByb3RvO1xuXHRcdH1cblx0XHQvLyA1LiBSZXR1cm4gcHJvdG8uXG5cdFx0cmV0dXJuIHByb3RvO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LklzQ29uc3RydWN0b3Jcblx0LyogZ2xvYmFsIFR5cGUgKi9cbi8vIDcuMi40LiBJc0NvbnN0cnVjdG9yICggYXJndW1lbnQgKVxuXHRmdW5jdGlvbiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBJZiBUeXBlKGFyZ3VtZW50KSBpcyBub3QgT2JqZWN0LCByZXR1cm4gZmFsc2UuXG5cdFx0aWYgKFR5cGUoYXJndW1lbnQpICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHQvLyAyLiBJZiBhcmd1bWVudCBoYXMgYSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCwgcmV0dXJuIHRydWUuXG5cdFx0Ly8gMy4gUmV0dXJuIGZhbHNlLlxuXG5cdFx0Ly8gUG9seWZpbGwuaW8gLSBgbmV3IGFyZ3VtZW50YCBpcyB0aGUgb25seSB3YXkgIHRvIHRydWx5IHRlc3QgaWYgYSBmdW5jdGlvbiBpcyBhIGNvbnN0cnVjdG9yLlxuXHRcdC8vIFdlIGNob29zZSB0byBub3QgdXNlYG5ldyBhcmd1bWVudGAgYmVjYXVzZSB0aGUgYXJndW1lbnQgY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMgd2hlbiBjYWxsZWQuXG5cdFx0Ly8gSW5zdGVhZCB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24gYW5kIGlmIGl0IGhhcyBhIHByb3RvdHlwZS5cblx0XHQvLyBBcnJvdyBmdW5jdGlvbnMgZG8gbm90IGhhdmUgYSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCwgbm9yIGRvIHRoZXkgaGF2ZSBhIHByb3RvdHlwZS5cblx0XHRyZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSAnZnVuY3Rpb24nICYmICEhYXJndW1lbnQucHJvdG90eXBlO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LklzUmVnRXhwXG5cdC8qIGdsb2JhbCBUeXBlLCBHZXQsIFRvQm9vbGVhbiAqL1xuLy8gNy4yLjguIElzUmVnRXhwICggYXJndW1lbnQgKVxuXHRmdW5jdGlvbiBJc1JlZ0V4cChhcmd1bWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDEuIElmIFR5cGUoYXJndW1lbnQpIGlzIG5vdCBPYmplY3QsIHJldHVybiBmYWxzZS5cblx0XHRpZiAoVHlwZShhcmd1bWVudCkgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdC8vIDIuIExldCBtYXRjaGVyIGJlID8gR2V0KGFyZ3VtZW50LCBAQG1hdGNoKS5cblx0XHR2YXIgbWF0Y2hlciA9ICdTeW1ib2wnIGluIHRoaXMgJiYgJ21hdGNoJyBpbiB0aGlzLlN5bWJvbCA/IEdldChhcmd1bWVudCwgdGhpcy5TeW1ib2wubWF0Y2gpIDogdW5kZWZpbmVkO1xuXHRcdC8vIDMuIElmIG1hdGNoZXIgaXMgbm90IHVuZGVmaW5lZCwgcmV0dXJuIFRvQm9vbGVhbihtYXRjaGVyKS5cblx0XHRpZiAobWF0Y2hlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gVG9Cb29sZWFuKG1hdGNoZXIpO1xuXHRcdH1cblx0XHQvLyA0LiBJZiBhcmd1bWVudCBoYXMgYSBbW1JlZ0V4cE1hdGNoZXJdXSBpbnRlcm5hbCBzbG90LCByZXR1cm4gdHJ1ZS5cblx0XHR0cnkge1xuXHRcdFx0dmFyIGxhc3RJbmRleCA9IGFyZ3VtZW50Lmxhc3RJbmRleDtcblx0XHRcdGFyZ3VtZW50Lmxhc3RJbmRleCA9IDA7XG5cdFx0XHRSZWdFeHAucHJvdG90eXBlLmV4ZWMuY2FsbChhcmd1bWVudCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlKSB7fSBmaW5hbGx5IHtcblx0XHRcdGFyZ3VtZW50Lmxhc3RJbmRleCA9IGxhc3RJbmRleDtcblx0XHR9XG5cdFx0Ly8gNS4gUmV0dXJuIGZhbHNlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5PcmRpbmFyeVRvUHJpbWl0aXZlXG5cdC8qIGdsb2JhbCBHZXQsIElzQ2FsbGFibGUsIENhbGwsIFR5cGUgKi9cbi8vIDcuMS4xLjEuIE9yZGluYXJ5VG9QcmltaXRpdmUgKCBPLCBoaW50IClcblx0ZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDEuIEFzc2VydDogVHlwZShPKSBpcyBPYmplY3QuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAyLiBBc3NlcnQ6IFR5cGUoaGludCkgaXMgU3RyaW5nIGFuZCBpdHMgdmFsdWUgaXMgZWl0aGVyIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDMuIElmIGhpbnQgaXMgXCJzdHJpbmdcIiwgdGhlblxuXHRcdGlmIChoaW50ID09PSAnc3RyaW5nJykge1xuXHRcdFx0Ly8gYS4gTGV0IG1ldGhvZE5hbWVzIGJlIMKrIFwidG9TdHJpbmdcIiwgXCJ2YWx1ZU9mXCIgwrsuXG5cdFx0XHR2YXIgbWV0aG9kTmFtZXMgPSBbJ3RvU3RyaW5nJywgJ3ZhbHVlT2YnXTtcblx0XHRcdC8vIDQuIEVsc2UsXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGEuIExldCBtZXRob2ROYW1lcyBiZSDCqyBcInZhbHVlT2ZcIiwgXCJ0b1N0cmluZ1wiIMK7LlxuXHRcdFx0bWV0aG9kTmFtZXMgPSBbJ3ZhbHVlT2YnLCAndG9TdHJpbmcnXTtcblx0XHR9XG5cdFx0Ly8gNS4gRm9yIGVhY2ggbmFtZSBpbiBtZXRob2ROYW1lcyBpbiBMaXN0IG9yZGVyLCBkb1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kTmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHRcdHZhciBuYW1lID0gbWV0aG9kTmFtZXNbaV07XG5cdFx0XHQvLyBhLiBMZXQgbWV0aG9kIGJlID8gR2V0KE8sIG5hbWUpLlxuXHRcdFx0dmFyIG1ldGhvZCA9IEdldChPLCBuYW1lKTtcblx0XHRcdC8vIGIuIElmIElzQ2FsbGFibGUobWV0aG9kKSBpcyB0cnVlLCB0aGVuXG5cdFx0XHRpZiAoSXNDYWxsYWJsZShtZXRob2QpKSB7XG5cdFx0XHRcdC8vIGkuIExldCByZXN1bHQgYmUgPyBDYWxsKG1ldGhvZCwgTykuXG5cdFx0XHRcdHZhciByZXN1bHQgPSBDYWxsKG1ldGhvZCwgTyk7XG5cdFx0XHRcdC8vIGlpLiBJZiBUeXBlKHJlc3VsdCkgaXMgbm90IE9iamVjdCwgcmV0dXJuIHJlc3VsdC5cblx0XHRcdFx0aWYgKFR5cGUocmVzdWx0KSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIDYuIFRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB0byBwcmltaXRpdmUuJyk7XG5cdH1cblxuLy8gX0VTQWJzdHJhY3QuVG9QcmltaXRpdmVcblx0LyogZ2xvYmFsIFR5cGUsIEdldE1ldGhvZCwgQ2FsbCwgT3JkaW5hcnlUb1ByaW1pdGl2ZSAqL1xuLy8gNy4xLjEuIFRvUHJpbWl0aXZlICggaW5wdXQgWyAsIFByZWZlcnJlZFR5cGUgXSApXG5cdGZ1bmN0aW9uIFRvUHJpbWl0aXZlKGlucHV0IC8qIFssIFByZWZlcnJlZFR5cGVdICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHR2YXIgUHJlZmVycmVkVHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXHRcdC8vIDEuIEFzc2VydDogaW5wdXQgaXMgYW4gRUNNQVNjcmlwdCBsYW5ndWFnZSB2YWx1ZS5cblx0XHQvLyAyLiBJZiBUeXBlKGlucHV0KSBpcyBPYmplY3QsIHRoZW5cblx0XHRpZiAoVHlwZShpbnB1dCkgPT09ICdvYmplY3QnKSB7XG5cdFx0XHQvLyBhLiBJZiBQcmVmZXJyZWRUeXBlIGlzIG5vdCBwcmVzZW50LCBsZXQgaGludCBiZSBcImRlZmF1bHRcIi5cblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuXHRcdFx0XHR2YXIgaGludCA9ICdkZWZhdWx0Jztcblx0XHRcdFx0Ly8gYi4gRWxzZSBpZiBQcmVmZXJyZWRUeXBlIGlzIGhpbnQgU3RyaW5nLCBsZXQgaGludCBiZSBcInN0cmluZ1wiLlxuXHRcdFx0fSBlbHNlIGlmIChQcmVmZXJyZWRUeXBlID09PSBTdHJpbmcpIHtcblx0XHRcdFx0aGludCA9ICdzdHJpbmcnO1xuXHRcdFx0XHQvLyBjLiBFbHNlIFByZWZlcnJlZFR5cGUgaXMgaGludCBOdW1iZXIsIGxldCBoaW50IGJlIFwibnVtYmVyXCIuXG5cdFx0XHR9IGVsc2UgaWYgKFByZWZlcnJlZFR5cGUgPT09IE51bWJlcikge1xuXHRcdFx0XHRoaW50ID0gJ251bWJlcic7XG5cdFx0XHR9XG5cdFx0XHQvLyBkLiBMZXQgZXhvdGljVG9QcmltIGJlID8gR2V0TWV0aG9kKGlucHV0LCBAQHRvUHJpbWl0aXZlKS5cblx0XHRcdHZhciBleG90aWNUb1ByaW0gPSB0eXBlb2YgdGhpcy5TeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHRoaXMuU3ltYm9sLnRvUHJpbWl0aXZlID09PSAnc3ltYm9sJyA/IEdldE1ldGhvZChpbnB1dCwgdGhpcy5TeW1ib2wudG9QcmltaXRpdmUpIDogdW5kZWZpbmVkO1xuXHRcdFx0Ly8gZS4gSWYgZXhvdGljVG9QcmltIGlzIG5vdCB1bmRlZmluZWQsIHRoZW5cblx0XHRcdGlmIChleG90aWNUb1ByaW0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBpLiBMZXQgcmVzdWx0IGJlID8gQ2FsbChleG90aWNUb1ByaW0sIGlucHV0LCDCqyBoaW50IMK7KS5cblx0XHRcdFx0dmFyIHJlc3VsdCA9IENhbGwoZXhvdGljVG9QcmltLCBpbnB1dCwgW2hpbnRdKTtcblx0XHRcdFx0Ly8gaWkuIElmIFR5cGUocmVzdWx0KSBpcyBub3QgT2JqZWN0LCByZXR1cm4gcmVzdWx0LlxuXHRcdFx0XHRpZiAoVHlwZShyZXN1bHQpICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gaWlpLiBUaHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGV4b3RpYyBvYmplY3QgdG8gcHJpbWl0aXZlLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gZi4gSWYgaGludCBpcyBcImRlZmF1bHRcIiwgc2V0IGhpbnQgdG8gXCJudW1iZXJcIi5cblx0XHRcdGlmIChoaW50ID09PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0aGludCA9ICdudW1iZXInO1xuXHRcdFx0fVxuXHRcdFx0Ly8gZy4gUmV0dXJuID8gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCkuXG5cdFx0XHRyZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCk7XG5cdFx0fVxuXHRcdC8vIDMuIFJldHVybiBpbnB1dFxuXHRcdHJldHVybiBpbnB1dDtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Ub1N0cmluZ1xuXHQvKiBnbG9iYWwgVHlwZSwgVG9QcmltaXRpdmUgKi9cbi8vIDcuMS4xMi4gVG9TdHJpbmcgKCBhcmd1bWVudCApXG4vLyBUaGUgYWJzdHJhY3Qgb3BlcmF0aW9uIFRvU3RyaW5nIGNvbnZlcnRzIGFyZ3VtZW50IHRvIGEgdmFsdWUgb2YgdHlwZSBTdHJpbmcgYWNjb3JkaW5nIHRvIFRhYmxlIDExOlxuLy8gVGFibGUgMTE6IFRvU3RyaW5nIENvbnZlcnNpb25zXG5cdC8qXG5cdHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgQXJndW1lbnQgVHlwZSB8IFJlc3VsdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG5cdHwgVW5kZWZpbmVkICAgICB8IFJldHVybiBcInVuZGVmaW5lZFwiLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBOdWxsXHQgICAgICAgIHwgUmV0dXJuIFwibnVsbFwiLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHR8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuXHR8IEJvb2xlYW4gICAgICAgfCBJZiBhcmd1bWVudCBpcyB0cnVlLCByZXR1cm4gXCJ0cnVlXCIuICAgICAgICAgICAgICAgICAgICB8XG5cdHwgICAgICAgICAgICAgICB8IElmIGFyZ3VtZW50IGlzIGZhbHNlLCByZXR1cm4gXCJmYWxzZVwiLiAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBOdW1iZXIgICAgICAgIHwgUmV0dXJuIE51bWJlclRvU3RyaW5nKGFyZ3VtZW50KS4gICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBTdHJpbmcgICAgICAgIHwgUmV0dXJuIGFyZ3VtZW50LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBTeW1ib2wgICAgICAgIHwgVGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLiAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0fCBPYmplY3QgICAgICAgIHwgQXBwbHkgdGhlIGZvbGxvd2luZyBzdGVwczogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fCAgICAgICAgICAgICAgIHwgTGV0IHByaW1WYWx1ZSBiZSA/IFRvUHJpbWl0aXZlKGFyZ3VtZW50LCBoaW50IFN0cmluZykuIHxcblx0fCAgICAgICAgICAgICAgIHwgUmV0dXJuID8gVG9TdHJpbmcocHJpbVZhbHVlKS4gICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0fC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcblx0Ki9cblx0ZnVuY3Rpb24gVG9TdHJpbmcoYXJndW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHN3aXRjaChUeXBlKGFyZ3VtZW50KSkge1xuXHRcdFx0Y2FzZSAnc3ltYm9sJzpcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcnKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdvYmplY3QnOlxuXHRcdFx0XHR2YXIgcHJpbVZhbHVlID0gVG9QcmltaXRpdmUoYXJndW1lbnQsICdzdHJpbmcnKTtcblx0XHRcdFx0cmV0dXJuIFRvU3RyaW5nKHByaW1WYWx1ZSk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gU3RyaW5nKGFyZ3VtZW50KTtcblx0XHR9XG5cdH1cblx0aWYgKCEoXCJkb2N1bWVudFwiaW4gdGhpc1xuXHQpKSB7XG5cbi8vIGRvY3VtZW50XG5cdFx0aWYgKCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgPT09IFwidW5kZWZpbmVkXCIpICYmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gXCJmdW5jdGlvblwiKSkge1xuXG5cdFx0XHRpZiAodGhpcy5IVE1MRG9jdW1lbnQpIHsgLy8gSUU4XG5cblx0XHRcdFx0Ly8gSFRNTERvY3VtZW50IGlzIGFuIGV4dGVuc2lvbiBvZiBEb2N1bWVudC4gIElmIHRoZSBicm93c2VyIGhhcyBIVE1MRG9jdW1lbnQgYnV0IG5vdCBEb2N1bWVudCwgdGhlIGZvcm1lciB3aWxsIHN1ZmZpY2UgYXMgYW4gYWxpYXMgZm9yIHRoZSBsYXR0ZXIuXG5cdFx0XHRcdHRoaXMuRG9jdW1lbnQgPSB0aGlzLkhUTUxEb2N1bWVudDtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBDcmVhdGUgYW4gZW1wdHkgZnVuY3Rpb24gdG8gYWN0IGFzIHRoZSBtaXNzaW5nIGNvbnN0cnVjdG9yIGZvciB0aGUgZG9jdW1lbnQgb2JqZWN0LCBhdHRhY2ggdGhlIGRvY3VtZW50IG9iamVjdCBhcyBpdHMgcHJvdG90eXBlLiAgVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGFub255bW91cyBlbHNlIGl0IGlzIGhvaXN0ZWQgYW5kIGNhdXNlcyB0aGUgZmVhdHVyZSBkZXRlY3QgdG8gcHJlbWF0dXJlbHkgcGFzcywgcHJldmVudGluZyB0aGUgYXNzaWdubWVudHMgYmVsb3cgYmVpbmcgbWFkZS5cblx0XHRcdFx0dGhpcy5Eb2N1bWVudCA9IHRoaXMuSFRNTERvY3VtZW50ID0gZG9jdW1lbnQuY29uc3RydWN0b3IgPSAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gRG9jdW1lbnQoKSB7fScpKCkpO1xuXHRcdFx0XHR0aGlzLkRvY3VtZW50LnByb3RvdHlwZSA9IGRvY3VtZW50O1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9XG5cblx0aWYgKCEoKGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIiksdD0hMVxuXHRcdFx0cmV0dXJuIGUuaW5uZXJIVE1MPVwiPHNlY3Rpb24+PC9zZWN0aW9uPlwiLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChlKSxlLmZpcnN0Q2hpbGQmJihcImdldENvbXB1dGVkU3R5bGVcImluIHdpbmRvdz90PVwiYmxvY2tcIj09PWdldENvbXB1dGVkU3R5bGUoZS5maXJzdENoaWxkKS5kaXNwbGF5OmUuZmlyc3RDaGlsZC5jdXJyZW50U3R5bGUmJih0PVwiYmxvY2tcIj09PWUuZmlyc3RDaGlsZC5jdXJyZW50U3R5bGUuZGlzcGxheSkpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChlKSx0fSkoKVxuXHQpKSB7XG5cbi8vIH5odG1sNS1lbGVtZW50c1xuXHRcdC8qKlxuXHRcdCAqIEBwcmVzZXJ2ZSBIVE1MNSBTaGl2IDMuNy4zIHwgQGFmYXJrYXMgQGpkYWx0b24gQGpvbl9uZWFsIEByZW0gfCBNSVQvR1BMMiBMaWNlbnNlZFxuXHRcdCAqL1xuXHRcdCFmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgYz1hLmNyZWF0ZUVsZW1lbnQoXCJwXCIpLGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF18fGEuZG9jdW1lbnRFbGVtZW50O3JldHVybiBjLmlubmVySFRNTD1cIng8c3R5bGU+XCIrYitcIjwvc3R5bGU+XCIsZC5pbnNlcnRCZWZvcmUoYy5sYXN0Q2hpbGQsZC5maXJzdENoaWxkKX1mdW5jdGlvbiBkKCl7dmFyIGE9dC5lbGVtZW50cztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9hLnNwbGl0KFwiIFwiKTphfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz10LmVsZW1lbnRzO1wic3RyaW5nXCIhPXR5cGVvZiBjJiYoYz1jLmpvaW4oXCIgXCIpKSxcInN0cmluZ1wiIT10eXBlb2YgYSYmKGE9YS5qb2luKFwiIFwiKSksdC5lbGVtZW50cz1jK1wiIFwiK2EsaihiKX1mdW5jdGlvbiBmKGEpe3ZhciBiPXNbYVtxXV07cmV0dXJuIGJ8fChiPXt9LHIrKyxhW3FdPXIsc1tyXT1iKSxifWZ1bmN0aW9uIGcoYSxjLGQpe2lmKGN8fChjPWIpLGwpcmV0dXJuIGMuY3JlYXRlRWxlbWVudChhKTtkfHwoZD1mKGMpKTt2YXIgZTtyZXR1cm4gZT1kLmNhY2hlW2FdP2QuY2FjaGVbYV0uY2xvbmVOb2RlKCk6cC50ZXN0KGEpPyhkLmNhY2hlW2FdPWQuY3JlYXRlRWxlbShhKSkuY2xvbmVOb2RlKCk6ZC5jcmVhdGVFbGVtKGEpLCFlLmNhbkhhdmVDaGlsZHJlbnx8by50ZXN0KGEpfHxlLnRhZ1Vybj9lOmQuZnJhZy5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBoKGEsYyl7aWYoYXx8KGE9YiksbClyZXR1cm4gYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yz1jfHxmKGEpO2Zvcih2YXIgZT1jLmZyYWcuY2xvbmVOb2RlKCksZz0wLGg9ZCgpLGk9aC5sZW5ndGg7aT5nO2crKyllLmNyZWF0ZUVsZW1lbnQoaFtnXSk7cmV0dXJuIGV9ZnVuY3Rpb24gaShhLGIpe2IuY2FjaGV8fChiLmNhY2hlPXt9LGIuY3JlYXRlRWxlbT1hLmNyZWF0ZUVsZW1lbnQsYi5jcmVhdGVGcmFnPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCxiLmZyYWc9Yi5jcmVhdGVGcmFnKCkpLGEuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihjKXtyZXR1cm4gdC5zaGl2TWV0aG9kcz9nKGMsYSxiKTpiLmNyZWF0ZUVsZW0oYyl9LGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1GdW5jdGlvbihcImgsZlwiLFwicmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49Zi5jbG9uZU5vZGUoKSxjPW4uY3JlYXRlRWxlbWVudDtoLnNoaXZNZXRob2RzJiYoXCIrZCgpLmpvaW4oKS5yZXBsYWNlKC9bXFx3XFwtOl0rL2csZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbShhKSxiLmZyYWcuY3JlYXRlRWxlbWVudChhKSwnYyhcIicrYSsnXCIpJ30pK1wiKTtyZXR1cm4gbn1cIikodCxiLmZyYWcpfWZ1bmN0aW9uIGooYSl7YXx8KGE9Yik7dmFyIGQ9ZihhKTtyZXR1cm4hdC5zaGl2Q1NTfHxrfHxkLmhhc0NTU3x8KGQuaGFzQ1NTPSEhYyhhLFwiYXJ0aWNsZSxhc2lkZSxkaWFsb2csZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbntkaXNwbGF5OmJsb2NrfW1hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9dGVtcGxhdGV7ZGlzcGxheTpub25lfVwiKSksbHx8aShhLGQpLGF9dmFyIGssbCxtPVwiMy43LjMtcHJlXCIsbj1hLmh0bWw1fHx7fSxvPS9ePHxeKD86YnV0dG9ufG1hcHxzZWxlY3R8dGV4dGFyZWF8b2JqZWN0fGlmcmFtZXxvcHRpb258b3B0Z3JvdXApJC9pLHA9L14oPzphfGJ8Y29kZXxkaXZ8ZmllbGRzZXR8aDF8aDJ8aDN8aDR8aDV8aDZ8aXxsYWJlbHxsaXxvbHxwfHF8c3BhbnxzdHJvbmd8c3R5bGV8dGFibGV8dGJvZHl8dGR8dGh8dHJ8dWwpJC9pLHE9XCJfaHRtbDVzaGl2XCIscj0wLHM9e307IWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWIuY3JlYXRlRWxlbWVudChcImFcIik7YS5pbm5lckhUTUw9XCI8eHl6PjwveHl6PlwiLGs9XCJoaWRkZW5cImluIGEsbD0xPT1hLmNoaWxkTm9kZXMubGVuZ3RofHxmdW5jdGlvbigpe2IuY3JlYXRlRWxlbWVudChcImFcIik7dmFyIGE9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2xvbmVOb2RlfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jcmVhdGVFbGVtZW50fSgpfWNhdGNoKGMpe2s9ITAsbD0hMH19KCk7dmFyIHQ9e2VsZW1lbnRzOm4uZWxlbWVudHN8fFwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGRpYWxvZyBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgaGVhZGVyIGhncm91cCBtYWluIG1hcmsgbWV0ZXIgbmF2IG91dHB1dCBwaWN0dXJlIHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0ZW1wbGF0ZSB0aW1lIHZpZGVvXCIsdmVyc2lvbjptLHNoaXZDU1M6bi5zaGl2Q1NTIT09ITEsc3VwcG9ydHNVbmtub3duRWxlbWVudHM6bCxzaGl2TWV0aG9kczpuLnNoaXZNZXRob2RzIT09ITEsdHlwZTpcImRlZmF1bHRcIixzaGl2RG9jdW1lbnQ6aixjcmVhdGVFbGVtZW50OmcsY3JlYXRlRG9jdW1lbnRGcmFnbWVudDpoLGFkZEVsZW1lbnRzOmV9O2EuaHRtbDU9dCxqKGIpLFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9dCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZG9jdW1lbnQpO1xuXHR9XG5cblx0aWYgKCEoXCJFbGVtZW50XCJpbiB0aGlzJiZcIkhUTUxFbGVtZW50XCJpbiB0aGlzXG5cdCkpIHtcblxuLy8gRWxlbWVudFxuXHRcdChmdW5jdGlvbiAoKSB7XG5cblx0XHRcdC8vIElFOFxuXHRcdFx0aWYgKHdpbmRvdy5FbGVtZW50ICYmICF3aW5kb3cuSFRNTEVsZW1lbnQpIHtcblx0XHRcdFx0d2luZG93LkhUTUxFbGVtZW50ID0gd2luZG93LkVsZW1lbnQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY3JlYXRlIEVsZW1lbnQgY29uc3RydWN0b3Jcblx0XHRcdHdpbmRvdy5FbGVtZW50ID0gd2luZG93LkhUTUxFbGVtZW50ID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gRWxlbWVudCgpIHt9JykoKTtcblxuXHRcdFx0Ly8gZ2VuZXJhdGUgc2FuZGJveGVkIGlmcmFtZVxuXHRcdFx0dmFyIHZib2R5ID0gZG9jdW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpKTtcblx0XHRcdHZhciBmcmFtZSA9IHZib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpKTtcblxuXHRcdFx0Ly8gdXNlIHNhbmRib3hlZCBpZnJhbWUgdG8gcmVwbGljYXRlIEVsZW1lbnQgZnVuY3Rpb25hbGl0eVxuXHRcdFx0dmFyIGZyYW1lRG9jdW1lbnQgPSBmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuXHRcdFx0dmFyIHByb3RvdHlwZSA9IEVsZW1lbnQucHJvdG90eXBlID0gZnJhbWVEb2N1bWVudC5hcHBlbmRDaGlsZChmcmFtZURvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJyonKSk7XG5cdFx0XHR2YXIgY2FjaGUgPSB7fTtcblxuXHRcdFx0Ly8gcG9seWZpbGwgRWxlbWVudC5wcm90b3R5cGUgb24gYW4gZWxlbWVudFxuXHRcdFx0dmFyIHNoaXYgPSBmdW5jdGlvbiAoZWxlbWVudCwgZGVlcCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHRjaGlsZE5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdLFxuXHRcdFx0XHRcdGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0a2V5LCB2YWx1ZSwgY2hpbGROb2RlO1xuXG5cdFx0XHRcdGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmIGVsZW1lbnQuY29uc3RydWN0b3IgIT09IEVsZW1lbnQpIHtcblx0XHRcdFx0XHRlbGVtZW50LmNvbnN0cnVjdG9yID0gRWxlbWVudDtcblxuXHRcdFx0XHRcdGZvciAoa2V5IGluIGNhY2hlKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGNhY2hlW2tleV07XG5cdFx0XHRcdFx0XHRlbGVtZW50W2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3aGlsZSAoY2hpbGROb2RlID0gZGVlcCAmJiBjaGlsZE5vZGVzWysraW5kZXhdKSB7XG5cdFx0XHRcdFx0c2hpdihjaGlsZE5vZGUsIGRlZXApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuXHRcdFx0dmFyIG5hdGl2ZUNyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50O1xuXHRcdFx0dmFyIGludGVydmFsO1xuXHRcdFx0dmFyIGxvb3BMaW1pdCA9IDEwMDtcblxuXHRcdFx0cHJvdG90eXBlLmF0dGFjaEV2ZW50KCdvbnByb3BlcnR5Y2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdHByb3BlcnR5TmFtZSA9IGV2ZW50LnByb3BlcnR5TmFtZSxcblx0XHRcdFx0XHRub25WYWx1ZSA9ICFjYWNoZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpLFxuXHRcdFx0XHRcdG5ld1ZhbHVlID0gcHJvdG90eXBlW3Byb3BlcnR5TmFtZV0sXG5cdFx0XHRcdFx0b2xkVmFsdWUgPSBjYWNoZVtwcm9wZXJ0eU5hbWVdLFxuXHRcdFx0XHRcdGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0ZWxlbWVudDtcblxuXHRcdFx0XHR3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnRzWysraW5kZXhdKSB7XG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcblx0XHRcdFx0XHRcdGlmIChub25WYWx1ZSB8fCBlbGVtZW50W3Byb3BlcnR5TmFtZV0gPT09IG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnRbcHJvcGVydHlOYW1lXSA9IG5ld1ZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhY2hlW3Byb3BlcnR5TmFtZV0gPSBuZXdWYWx1ZTtcblx0XHRcdH0pO1xuXG5cdFx0XHRwcm90b3R5cGUuY29uc3RydWN0b3IgPSBFbGVtZW50O1xuXG5cdFx0XHRpZiAoIXByb3RvdHlwZS5oYXNBdHRyaWJ1dGUpIHtcblx0XHRcdFx0Ly8gPEVsZW1lbnQ+Lmhhc0F0dHJpYnV0ZVxuXHRcdFx0XHRwcm90b3R5cGUuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gaGFzQXR0cmlidXRlKG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSkgIT09IG51bGw7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IEVsZW1lbnQgcHJvdG90eXBlIHRvIHRoZSBwcmUtZXhpc3RpbmcgRE9NIGFzIHNvb24gYXMgdGhlIGJvZHkgZWxlbWVudCBhcHBlYXJzLlxuXHRcdFx0ZnVuY3Rpb24gYm9keUNoZWNrKCkge1xuXHRcdFx0XHRpZiAoIShsb29wTGltaXQtLSkpIGNsZWFyVGltZW91dChpbnRlcnZhbCk7XG5cdFx0XHRcdGlmIChkb2N1bWVudC5ib2R5ICYmICFkb2N1bWVudC5ib2R5LnByb3RvdHlwZSAmJiAvKGNvbXBsZXRlfGludGVyYWN0aXZlKS8udGVzdChkb2N1bWVudC5yZWFkeVN0YXRlKSkge1xuXHRcdFx0XHRcdHNoaXYoZG9jdW1lbnQsIHRydWUpO1xuXHRcdFx0XHRcdGlmIChpbnRlcnZhbCAmJiBkb2N1bWVudC5ib2R5LnByb3RvdHlwZSkgY2xlYXJUaW1lb3V0KGludGVydmFsKTtcblx0XHRcdFx0XHRyZXR1cm4gKCEhZG9jdW1lbnQuYm9keS5wcm90b3R5cGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmICghYm9keUNoZWNrKCkpIHtcblx0XHRcdFx0ZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gYm9keUNoZWNrO1xuXHRcdFx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKGJvZHlDaGVjaywgMjUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSB0byBhbnkgbmV3IGVsZW1lbnRzIGNyZWF0ZWQgYWZ0ZXIgbG9hZFxuXHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpIHtcblx0XHRcdFx0dmFyIGVsZW1lbnQgPSBuYXRpdmVDcmVhdGVFbGVtZW50KFN0cmluZyhub2RlTmFtZSkudG9Mb3dlckNhc2UoKSk7XG5cdFx0XHRcdHJldHVybiBzaGl2KGVsZW1lbnQpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gcmVtb3ZlIHNhbmRib3hlZCBpZnJhbWVcblx0XHRcdGRvY3VtZW50LnJlbW92ZUNoaWxkKHZib2R5KTtcblx0XHR9KCkpO1xuXG5cdH1cblxuXHRpZiAoIShcImRvY3VtZW50XCJpbiB0aGlzJiZcInF1ZXJ5U2VsZWN0b3JcImluIHRoaXMuZG9jdW1lbnRcblx0KSkge1xuXG4vLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yXG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhclxuXHRcdFx0XHRoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblxuXHRcdFx0ZnVuY3Rpb24gZ2V0RWxlbWVudHNCeVF1ZXJ5KG5vZGUsIHNlbGVjdG9yLCBvbmUpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0Z2VuZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdFx0XHRcdFx0aWQgPSAncXNhJyArIFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgzKSxcblx0XHRcdFx0XHRzdHlsZSwgZWxlbWVudHM7XG5cblx0XHRcdFx0Z2VuZXJhdG9yLmlubmVySFRNTCA9ICd4PHN0eWxlPicgKyBzZWxlY3RvciArICd7cXNhOicgKyBpZCArICc7fSc7XG5cblx0XHRcdFx0c3R5bGUgPSBoZWFkLmFwcGVuZENoaWxkKGdlbmVyYXRvci5sYXN0Q2hpbGQpO1xuXG5cdFx0XHRcdGVsZW1lbnRzID0gZ2V0RWxlbWVudHMobm9kZSwgc2VsZWN0b3IsIG9uZSwgaWQpO1xuXG5cdFx0XHRcdGhlYWQucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdFx0XHRcdHJldHVybiBvbmUgPyBlbGVtZW50c1swXSA6IGVsZW1lbnRzO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBnZXRFbGVtZW50cyhub2RlLCBzZWxlY3Rvciwgb25lLCBpZCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHR2YWxpZE5vZGUgPSAvMXw5Ly50ZXN0KG5vZGUubm9kZVR5cGUpLFxuXHRcdFx0XHRcdGNoaWxkTm9kZXMgPSBub2RlLmNoaWxkTm9kZXMsXG5cdFx0XHRcdFx0ZWxlbWVudHMgPSBbXSxcblx0XHRcdFx0XHRpbmRleCA9IC0xLFxuXHRcdFx0XHRcdGNoaWxkTm9kZTtcblxuXHRcdFx0XHRpZiAodmFsaWROb2RlICYmIG5vZGUuY3VycmVudFN0eWxlICYmIG5vZGUuY3VycmVudFN0eWxlLnFzYSA9PT0gaWQpIHtcblx0XHRcdFx0XHRpZiAoZWxlbWVudHMucHVzaChub2RlKSAmJiBvbmUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtZW50cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3aGlsZSAoY2hpbGROb2RlID0gY2hpbGROb2Rlc1srK2luZGV4XSkge1xuXHRcdFx0XHRcdGVsZW1lbnRzID0gZWxlbWVudHMuY29uY2F0KGdldEVsZW1lbnRzKGNoaWxkTm9kZSwgc2VsZWN0b3IsIG9uZSwgaWQpKTtcblxuXHRcdFx0XHRcdGlmIChvbmUgJiYgZWxlbWVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudHM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzO1xuXHRcdFx0fVxuXG5cdFx0XHREb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvciA9IEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IgPSBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSB7XG5cdFx0XHRcdHJldHVybiBnZXRFbGVtZW50c0J5UXVlcnkodGhpcywgc2VsZWN0b3IsIHRydWUpO1xuXHRcdFx0fTtcblxuXHRcdFx0RG9jdW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwgPSBFbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsID0gZnVuY3Rpb24gcXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcikge1xuXHRcdFx0XHRyZXR1cm4gZ2V0RWxlbWVudHNCeVF1ZXJ5KHRoaXMsIHNlbGVjdG9yLCBmYWxzZSk7XG5cdFx0XHR9O1xuXHRcdH0oKSk7XG5cblx0fVxuXG5cdGlmICghKFwiZG9jdW1lbnRcImluIHRoaXMmJlwibWF0Y2hlc1wiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5cdCkpIHtcblxuLy8gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1xuXHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24gbWF0Y2hlcyhzZWxlY3Rvcikge1xuXG5cdFx0XHR2YXIgZWxlbWVudCA9IHRoaXM7XG5cdFx0XHR2YXIgZWxlbWVudHMgPSAoZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHRcdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdFx0d2hpbGUgKGVsZW1lbnRzW2luZGV4XSAmJiBlbGVtZW50c1tpbmRleF0gIT09IGVsZW1lbnQpIHtcblx0XHRcdFx0KytpbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICEhZWxlbWVudHNbaW5kZXhdO1xuXHRcdH07XG5cblx0fVxuXG5cdGlmICghKFwiZG9jdW1lbnRcImluIHRoaXMmJlwiY2xvc2VzdFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5cdCkpIHtcblxuLy8gRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdFxuXHRcdEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XG5cdFx0XHR2YXIgbm9kZSA9IHRoaXM7XG5cblx0XHRcdHdoaWxlIChub2RlKSB7XG5cdFx0XHRcdGlmIChub2RlLm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gbm9kZTtcblx0XHRcdFx0ZWxzZSBub2RlID0gJ1NWR0VsZW1lbnQnIGluIHdpbmRvdyAmJiBub2RlIGluc3RhbmNlb2YgU1ZHRWxlbWVudCA/IG5vZGUucGFyZW50Tm9kZSA6IG5vZGUucGFyZW50RWxlbWVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fTtcblxuXHR9XG5cblx0aWYgKCEoXCJIVE1MUGljdHVyZUVsZW1lbnRcImluIHRoaXN8fFwicGljdHVyZWZpbGxcImluIHRoaXNcblx0KSkge1xuXG4vLyBIVE1MUGljdHVyZUVsZW1lbnRcblx0XHQvKiEgcGljdHVyZWZpbGwgLSB2My4wLjIgLSAyMDE2LTAyLTEyXG5cdFx0ICogaHR0cHM6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsL1xuXHRcdCAqIENvcHlyaWdodCAoYykgMjAxNiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL2Jsb2IvbWFzdGVyL0F1dGhvcnMudHh0OyBMaWNlbnNlZCBNSVRcblx0XHQgKi9cblx0XHQhZnVuY3Rpb24oYSl7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudDthLkhUTUxQaWN0dXJlRWxlbWVudCYmL2Vja28vLnRlc3QoYikmJmIubWF0Y2goL3J2XFw6KFxcZCspLykmJlJlZ0V4cC4kMTw0NSYmYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dmFyIGIsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpLGQ9ZnVuY3Rpb24oYSl7dmFyIGIsZCxlPWEucGFyZW50Tm9kZTtcIlBJQ1RVUkVcIj09PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKT8oYj1jLmNsb25lTm9kZSgpLGUuaW5zZXJ0QmVmb3JlKGIsZS5maXJzdEVsZW1lbnRDaGlsZCksc2V0VGltZW91dChmdW5jdGlvbigpe2UucmVtb3ZlQ2hpbGQoYil9KSk6KCFhLl9wZkxhc3RTaXplfHxhLm9mZnNldFdpZHRoPmEuX3BmTGFzdFNpemUpJiYoYS5fcGZMYXN0U2l6ZT1hLm9mZnNldFdpZHRoLGQ9YS5zaXplcyxhLnNpemVzKz1cIiwxMDB2d1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnNpemVzPWR9KSl9LGU9ZnVuY3Rpb24oKXt2YXIgYSxiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwaWN0dXJlID4gaW1nLCBpbWdbc3Jjc2V0XVtzaXplc11cIik7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKylkKGJbYV0pfSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGIpLGI9c2V0VGltZW91dChlLDk5KX0sZz1hLm1hdGNoTWVkaWEmJm1hdGNoTWVkaWEoXCIob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIiksaD1mdW5jdGlvbigpe2YoKSxnJiZnLmFkZExpc3RlbmVyJiZnLmFkZExpc3RlbmVyKGYpfTtyZXR1cm4gYy5zcmNzZXQ9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiLC9eW2N8aV18ZCQvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZXx8XCJcIik/aCgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsaCksZn0oKSl9KHdpbmRvdyksZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSl7cmV0dXJuXCIgXCI9PT1hfHxcIlx0XCI9PT1hfHxcIlxcblwiPT09YXx8XCJcXGZcIj09PWF8fFwiXFxyXCI9PT1hfWZ1bmN0aW9uIGUoYixjKXt2YXIgZD1uZXcgYS5JbWFnZTtyZXR1cm4gZC5vbmVycm9yPWZ1bmN0aW9uKCl7QVtiXT0hMSxiYSgpfSxkLm9ubG9hZD1mdW5jdGlvbigpe0FbYl09MT09PWQud2lkdGgsYmEoKX0sZC5zcmM9YyxcInBlbmRpbmdcIn1mdW5jdGlvbiBmKCl7TT0hMSxQPWEuZGV2aWNlUGl4ZWxSYXRpbyxOPXt9LE89e30scy5EUFI9UHx8MSxRLndpZHRoPU1hdGgubWF4KGEuaW5uZXJXaWR0aHx8MCx6LmNsaWVudFdpZHRoKSxRLmhlaWdodD1NYXRoLm1heChhLmlubmVySGVpZ2h0fHwwLHouY2xpZW50SGVpZ2h0KSxRLnZ3PVEud2lkdGgvMTAwLFEudmg9US5oZWlnaHQvMTAwLHI9W1EuaGVpZ2h0LFEud2lkdGgsUF0uam9pbihcIi1cIiksUS5lbT1zLmdldEVtVmFsdWUoKSxRLnJlbT1RLmVtfWZ1bmN0aW9uIGcoYSxiLGMsZCl7dmFyIGUsZixnLGg7cmV0dXJuXCJzYXZlRGF0YVwiPT09Qi5hbGdvcml0aG0/YT4yLjc/aD1jKzE6KGY9Yi1jLGU9TWF0aC5wb3coYS0uNiwxLjUpLGc9ZiplLGQmJihnKz0uMSplKSxoPWErZyk6aD1jPjE/TWF0aC5zcXJ0KGEqYik6YSxoPmN9ZnVuY3Rpb24gaChhKXt2YXIgYixjPXMuZ2V0U2V0KGEpLGQ9ITE7XCJwZW5kaW5nXCIhPT1jJiYoZD1yLGMmJihiPXMuc2V0UmVzKGMpLHMuYXBwbHlTZXRDYW5kaWRhdGUoYixhKSkpLGFbcy5uc10uZXZhbGVkPWR9ZnVuY3Rpb24gaShhLGIpe3JldHVybiBhLnJlcy1iLnJlc31mdW5jdGlvbiBqKGEsYixjKXt2YXIgZDtyZXR1cm4hYyYmYiYmKGM9YVtzLm5zXS5zZXRzLGM9YyYmY1tjLmxlbmd0aC0xXSksZD1rKGIsYyksZCYmKGI9cy5tYWtlVXJsKGIpLGFbcy5uc10uY3VyU3JjPWIsYVtzLm5zXS5jdXJDYW49ZCxkLnJlc3x8YWEoZCxkLnNldC5zaXplcykpLGR9ZnVuY3Rpb24gayhhLGIpe3ZhciBjLGQsZTtpZihhJiZiKWZvcihlPXMucGFyc2VTZXQoYiksYT1zLm1ha2VVcmwoYSksYz0wO2M8ZS5sZW5ndGg7YysrKWlmKGE9PT1zLm1ha2VVcmwoZVtjXS51cmwpKXtkPWVbY107YnJlYWt9cmV0dXJuIGR9ZnVuY3Rpb24gbChhLGIpe3ZhciBjLGQsZSxmLGc9YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNvdXJjZVwiKTtmb3IoYz0wLGQ9Zy5sZW5ndGg7ZD5jO2MrKyllPWdbY10sZVtzLm5zXT0hMCxmPWUuZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpLGYmJmIucHVzaCh7c3Jjc2V0OmYsbWVkaWE6ZS5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKSx0eXBlOmUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxzaXplczplLmdldEF0dHJpYnV0ZShcInNpemVzXCIpfSl9ZnVuY3Rpb24gbShhLGIpe2Z1bmN0aW9uIGMoYil7dmFyIGMsZD1iLmV4ZWMoYS5zdWJzdHJpbmcobSkpO3JldHVybiBkPyhjPWRbMF0sbSs9Yy5sZW5ndGgsYyk6dm9pZCAwfWZ1bmN0aW9uIGUoKXt2YXIgYSxjLGQsZSxmLGksaixrLGwsbT0hMSxvPXt9O2ZvcihlPTA7ZTxoLmxlbmd0aDtlKyspZj1oW2VdLGk9ZltmLmxlbmd0aC0xXSxqPWYuc3Vic3RyaW5nKDAsZi5sZW5ndGgtMSksaz1wYXJzZUludChqLDEwKSxsPXBhcnNlRmxvYXQoaiksWC50ZXN0KGopJiZcIndcIj09PWk/KChhfHxjKSYmKG09ITApLDA9PT1rP209ITA6YT1rKTpZLnRlc3QoaikmJlwieFwiPT09aT8oKGF8fGN8fGQpJiYobT0hMCksMD5sP209ITA6Yz1sKTpYLnRlc3QoaikmJlwiaFwiPT09aT8oKGR8fGMpJiYobT0hMCksMD09PWs/bT0hMDpkPWspOm09ITA7bXx8KG8udXJsPWcsYSYmKG8udz1hKSxjJiYoby5kPWMpLGQmJihvLmg9ZCksZHx8Y3x8YXx8KG8uZD0xKSwxPT09by5kJiYoYi5oYXMxeD0hMCksby5zZXQ9YixuLnB1c2gobykpfWZ1bmN0aW9uIGYoKXtmb3IoYyhUKSxpPVwiXCIsaj1cImluIGRlc2NyaXB0b3JcIjs7KXtpZihrPWEuY2hhckF0KG0pLFwiaW4gZGVzY3JpcHRvclwiPT09ailpZihkKGspKWkmJihoLnB1c2goaSksaT1cIlwiLGo9XCJhZnRlciBkZXNjcmlwdG9yXCIpO2Vsc2V7aWYoXCIsXCI9PT1rKXJldHVybiBtKz0xLGkmJmgucHVzaChpKSx2b2lkIGUoKTtpZihcIihcIj09PWspaSs9ayxqPVwiaW4gcGFyZW5zXCI7ZWxzZXtpZihcIlwiPT09aylyZXR1cm4gaSYmaC5wdXNoKGkpLHZvaWQgZSgpO2krPWt9fWVsc2UgaWYoXCJpbiBwYXJlbnNcIj09PWopaWYoXCIpXCI9PT1rKWkrPWssaj1cImluIGRlc2NyaXB0b3JcIjtlbHNle2lmKFwiXCI9PT1rKXJldHVybiBoLnB1c2goaSksdm9pZCBlKCk7aSs9a31lbHNlIGlmKFwiYWZ0ZXIgZGVzY3JpcHRvclwiPT09ailpZihkKGspKTtlbHNle2lmKFwiXCI9PT1rKXJldHVybiB2b2lkIGUoKTtqPVwiaW4gZGVzY3JpcHRvclwiLG0tPTF9bSs9MX19Zm9yKHZhciBnLGgsaSxqLGssbD1hLmxlbmd0aCxtPTAsbj1bXTs7KXtpZihjKFUpLG0+PWwpcmV0dXJuIG47Zz1jKFYpLGg9W10sXCIsXCI9PT1nLnNsaWNlKC0xKT8oZz1nLnJlcGxhY2UoVyxcIlwiKSxlKCkpOmYoKX19ZnVuY3Rpb24gbihhKXtmdW5jdGlvbiBiKGEpe2Z1bmN0aW9uIGIoKXtmJiYoZy5wdXNoKGYpLGY9XCJcIil9ZnVuY3Rpb24gYygpe2dbMF0mJihoLnB1c2goZyksZz1bXSl9Zm9yKHZhciBlLGY9XCJcIixnPVtdLGg9W10saT0wLGo9MCxrPSExOzspe2lmKGU9YS5jaGFyQXQoaiksXCJcIj09PWUpcmV0dXJuIGIoKSxjKCksaDtpZihrKXtpZihcIipcIj09PWUmJlwiL1wiPT09YVtqKzFdKXtrPSExLGorPTIsYigpO2NvbnRpbnVlfWorPTF9ZWxzZXtpZihkKGUpKXtpZihhLmNoYXJBdChqLTEpJiZkKGEuY2hhckF0KGotMSkpfHwhZil7ais9MTtjb250aW51ZX1pZigwPT09aSl7YigpLGorPTE7Y29udGludWV9ZT1cIiBcIn1lbHNlIGlmKFwiKFwiPT09ZSlpKz0xO2Vsc2UgaWYoXCIpXCI9PT1lKWktPTE7ZWxzZXtpZihcIixcIj09PWUpe2IoKSxjKCksais9MTtjb250aW51ZX1pZihcIi9cIj09PWUmJlwiKlwiPT09YS5jaGFyQXQoaisxKSl7az0hMCxqKz0yO2NvbnRpbnVlfX1mKz1lLGorPTF9fX1mdW5jdGlvbiBjKGEpe3JldHVybiBrLnRlc3QoYSkmJnBhcnNlRmxvYXQoYSk+PTA/ITA6bC50ZXN0KGEpPyEwOlwiMFwiPT09YXx8XCItMFwiPT09YXx8XCIrMFwiPT09YT8hMDohMX12YXIgZSxmLGcsaCxpLGosaz0vXig/OlsrLV0/WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyg/OmNofGNtfGVtfGV4fGlufG1tfHBjfHB0fHB4fHJlbXx2aHx2bWlufHZtYXh8dncpJC9pLGw9L15jYWxjXFwoKD86WzAtOWEteiBcXC5cXCtcXC1cXCpcXC9cXChcXCldKylcXCkkL2k7Zm9yKGY9YihhKSxnPWYubGVuZ3RoLGU9MDtnPmU7ZSsrKWlmKGg9ZltlXSxpPWhbaC5sZW5ndGgtMV0sYyhpKSl7aWYoaj1pLGgucG9wKCksMD09PWgubGVuZ3RoKXJldHVybiBqO2lmKGg9aC5qb2luKFwiIFwiKSxzLm1hdGNoZXNNZWRpYShoKSlyZXR1cm4gan1yZXR1cm5cIjEwMHZ3XCJ9Yi5jcmVhdGVFbGVtZW50KFwicGljdHVyZVwiKTt2YXIgbyxwLHEscixzPXt9LHQ9ITEsdT1mdW5jdGlvbigpe30sdj1iLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksdz12LmdldEF0dHJpYnV0ZSx4PXYuc2V0QXR0cmlidXRlLHk9di5yZW1vdmVBdHRyaWJ1dGUsej1iLmRvY3VtZW50RWxlbWVudCxBPXt9LEI9e2FsZ29yaXRobTpcIlwifSxDPVwiZGF0YS1wZnNyY1wiLEQ9QytcInNldFwiLEU9bmF2aWdhdG9yLnVzZXJBZ2VudCxGPS9yaWRlbnQvLnRlc3QoRSl8fC9lY2tvLy50ZXN0KEUpJiZFLm1hdGNoKC9ydlxcOihcXGQrKS8pJiZSZWdFeHAuJDE+MzUsRz1cImN1cnJlbnRTcmNcIixIPS9cXHMrXFwrP1xcZCsoZVxcZCspP3cvLEk9LyhcXChbXildK1xcKSk/XFxzKiguKykvLEo9YS5waWN0dXJlZmlsbENGRyxLPVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxZW07d2lkdGg6MWVtO292ZXJmbG93OmhpZGRlbjtjbGlwOnJlY3QoMHB4LCAwcHgsIDBweCwgMHB4KVwiLEw9XCJmb250LXNpemU6MTAwJSFpbXBvcnRhbnQ7XCIsTT0hMCxOPXt9LE89e30sUD1hLmRldmljZVBpeGVsUmF0aW8sUT17cHg6MSxcImluXCI6OTZ9LFI9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKSxTPSExLFQ9L15bIFxcdFxcblxcclxcdTAwMGNdKy8sVT0vXlssIFxcdFxcblxcclxcdTAwMGNdKy8sVj0vXlteIFxcdFxcblxcclxcdTAwMGNdKy8sVz0vWyxdKyQvLFg9L15cXGQrJC8sWT0vXi0/KD86WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyQvLFo9ZnVuY3Rpb24oYSxiLGMsZCl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZHx8ITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyl9LCQ9ZnVuY3Rpb24oYSl7dmFyIGI9e307cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBjIGluIGJ8fChiW2NdPWEoYykpLGJbY119fSxfPWZ1bmN0aW9uKCl7dmFyIGE9L14oW1xcZFxcLl0rKShlbXx2d3xweCkkLyxiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cyxiPTAsYz1hWzBdOysrYiBpbiBhOyljPWMucmVwbGFjZShhW2JdLGFbKytiXSk7cmV0dXJuIGN9LGM9JChmdW5jdGlvbihhKXtyZXR1cm5cInJldHVybiBcIitiKChhfHxcIlwiKS50b0xvd2VyQ2FzZSgpLC9cXGJhbmRcXGIvZyxcIiYmXCIsLywvZyxcInx8XCIsL21pbi0oW2Etei1cXHNdKyk6L2csXCJlLiQxPj1cIiwvbWF4LShbYS16LVxcc10rKTovZyxcImUuJDE8PVwiLC9jYWxjKFteKV0rKS9nLFwiKCQxKVwiLC8oXFxkK1tcXC5dKltcXGRdKikoW2Etel0rKS9nLFwiKCQxICogZS4kMilcIiwvXig/IShlLlthLXpdfFswLTlcXC4mPXw+PFxcK1xcLVxcKlxcKFxcKVxcL10pKS4qL2dpLFwiXCIpK1wiO1wifSk7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7dmFyIGU7aWYoIShiIGluIE4pKWlmKE5bYl09ITEsZCYmKGU9Yi5tYXRjaChhKSkpTltiXT1lWzFdKlFbZVsyXV07ZWxzZSB0cnl7TltiXT1uZXcgRnVuY3Rpb24oXCJlXCIsYyhiKSkoUSl9Y2F0Y2goZil7fXJldHVybiBOW2JdfX0oKSxhYT1mdW5jdGlvbihhLGIpe3JldHVybiBhLnc/KGEuY1dpZHRoPXMuY2FsY0xpc3RMZW5ndGgoYnx8XCIxMDB2d1wiKSxhLnJlcz1hLncvYS5jV2lkdGgpOmEucmVzPWEuZCxhfSxiYT1mdW5jdGlvbihhKXtpZih0KXt2YXIgYyxkLGUsZj1hfHx7fTtpZihmLmVsZW1lbnRzJiYxPT09Zi5lbGVtZW50cy5ub2RlVHlwZSYmKFwiSU1HXCI9PT1mLmVsZW1lbnRzLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/Zi5lbGVtZW50cz1bZi5lbGVtZW50c106KGYuY29udGV4dD1mLmVsZW1lbnRzLGYuZWxlbWVudHM9bnVsbCkpLGM9Zi5lbGVtZW50c3x8cy5xc2EoZi5jb250ZXh0fHxiLGYucmVldmFsdWF0ZXx8Zi5yZXNlbGVjdD9zLnNlbDpzLnNlbFNob3J0KSxlPWMubGVuZ3RoKXtmb3Iocy5zZXR1cFJ1bihmKSxTPSEwLGQ9MDtlPmQ7ZCsrKXMuZmlsbEltZyhjW2RdLGYpO3MudGVhcmRvd25SdW4oZil9fX07bz1hLmNvbnNvbGUmJmNvbnNvbGUud2Fybj9mdW5jdGlvbihhKXtjb25zb2xlLndhcm4oYSl9OnUsRyBpbiB2fHwoRz1cInNyY1wiKSxBW1wiaW1hZ2UvanBlZ1wiXT0hMCxBW1wiaW1hZ2UvZ2lmXCJdPSEwLEFbXCJpbWFnZS9wbmdcIl09ITAsQVtcImltYWdlL3N2Zyt4bWxcIl09Yi5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLFwiMS4xXCIpLHMubnM9KFwicGZcIisobmV3IERhdGUpLmdldFRpbWUoKSkuc3Vic3RyKDAsOSkscy5zdXBTcmNzZXQ9XCJzcmNzZXRcImluIHYscy5zdXBTaXplcz1cInNpemVzXCJpbiB2LHMuc3VwUGljdHVyZT0hIWEuSFRNTFBpY3R1cmVFbGVtZW50LHMuc3VwU3Jjc2V0JiZzLnN1cFBpY3R1cmUmJiFzLnN1cFNpemVzJiYhZnVuY3Rpb24oYSl7di5zcmNzZXQ9XCJkYXRhOixhXCIsYS5zcmM9XCJkYXRhOixhXCIscy5zdXBTcmNzZXQ9di5jb21wbGV0ZT09PWEuY29tcGxldGUscy5zdXBQaWN0dXJlPXMuc3VwU3Jjc2V0JiZzLnN1cFBpY3R1cmV9KGIuY3JlYXRlRWxlbWVudChcImltZ1wiKSkscy5zdXBTcmNzZXQmJiFzLnN1cFNpemVzPyFmdW5jdGlvbigpe3ZhciBhPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQWdBQkFQQUFBUC8vL3dBQUFDSDVCQUFBQUFBQUxBQUFBQUFDQUFFQUFBSUNCQW9BT3c9PVwiLGM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiLGQ9Yi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGU9ZnVuY3Rpb24oKXt2YXIgYT1kLndpZHRoOzI9PT1hJiYocy5zdXBTaXplcz0hMCkscT1zLnN1cFNyY3NldCYmIXMuc3VwU2l6ZXMsdD0hMCxzZXRUaW1lb3V0KGJhKX07ZC5vbmxvYWQ9ZSxkLm9uZXJyb3I9ZSxkLnNldEF0dHJpYnV0ZShcInNpemVzXCIsXCI5cHhcIiksZC5zcmNzZXQ9YytcIiAxdyxcIithK1wiIDl3XCIsZC5zcmM9Y30oKTp0PSEwLHMuc2VsU2hvcnQ9XCJwaWN0dXJlPmltZyxpbWdbc3Jjc2V0XVwiLHMuc2VsPXMuc2VsU2hvcnQscy5jZmc9QixzLkRQUj1QfHwxLHMudT1RLHMudHlwZXM9QSxzLnNldFNpemU9dSxzLm1ha2VVcmw9JChmdW5jdGlvbihhKXtyZXR1cm4gUi5ocmVmPWEsUi5ocmVmfSkscy5xc2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInF1ZXJ5U2VsZWN0b3JcImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKGIpOltdfSxzLm1hdGNoZXNNZWRpYT1mdW5jdGlvbigpe3JldHVybiBhLm1hdGNoTWVkaWEmJihtYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMC4xZW0pXCIpfHx7fSkubWF0Y2hlcz9zLm1hdGNoZXNNZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8bWF0Y2hNZWRpYShhKS5tYXRjaGVzfTpzLm1hdGNoZXNNZWRpYT1zLm1NUSxzLm1hdGNoZXNNZWRpYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHMubU1RPWZ1bmN0aW9uKGEpe3JldHVybiBhP18oYSk6ITB9LHMuY2FsY0xlbmd0aD1mdW5jdGlvbihhKXt2YXIgYj1fKGEsITApfHwhMTtyZXR1cm4gMD5iJiYoYj0hMSksYn0scy5zdXBwb3J0c1R5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/QVthXTohMH0scy5wYXJzZVNpemU9JChmdW5jdGlvbihhKXt2YXIgYj0oYXx8XCJcIikubWF0Y2goSSk7cmV0dXJue21lZGlhOmImJmJbMV0sbGVuZ3RoOmImJmJbMl19fSkscy5wYXJzZVNldD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jYW5kc3x8KGEuY2FuZHM9bShhLnNyY3NldCxhKSksYS5jYW5kc30scy5nZXRFbVZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE7aWYoIXAmJihhPWIuYm9keSkpe3ZhciBjPWIuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPXouc3R5bGUuY3NzVGV4dCxlPWEuc3R5bGUuY3NzVGV4dDtjLnN0eWxlLmNzc1RleHQ9Syx6LnN0eWxlLmNzc1RleHQ9TCxhLnN0eWxlLmNzc1RleHQ9TCxhLmFwcGVuZENoaWxkKGMpLHA9Yy5vZmZzZXRXaWR0aCxhLnJlbW92ZUNoaWxkKGMpLHA9cGFyc2VGbG9hdChwLDEwKSx6LnN0eWxlLmNzc1RleHQ9ZCxhLnN0eWxlLmNzc1RleHQ9ZX1yZXR1cm4gcHx8MTZ9LHMuY2FsY0xpc3RMZW5ndGg9ZnVuY3Rpb24oYSl7aWYoIShhIGluIE8pfHxCLnVUKXt2YXIgYj1zLmNhbGNMZW5ndGgobihhKSk7T1thXT1iP2I6US53aWR0aH1yZXR1cm4gT1thXX0scy5zZXRSZXM9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSl7Yj1zLnBhcnNlU2V0KGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylhYShiW2NdLGEuc2l6ZXMpfXJldHVybiBifSxzLnNldFJlcy5yZXM9YWEscy5hcHBseVNldENhbmRpZGF0ZT1mdW5jdGlvbihhLGIpe2lmKGEubGVuZ3RoKXt2YXIgYyxkLGUsZixoLGssbCxtLG4sbz1iW3MubnNdLHA9cy5EUFI7aWYoaz1vLmN1clNyY3x8YltHXSxsPW8uY3VyQ2FufHxqKGIsayxhWzBdLnNldCksbCYmbC5zZXQ9PT1hWzBdLnNldCYmKG49RiYmIWIuY29tcGxldGUmJmwucmVzLS4xPnAsbnx8KGwuY2FjaGVkPSEwLGwucmVzPj1wJiYoaD1sKSkpLCFoKWZvcihhLnNvcnQoaSksZj1hLmxlbmd0aCxoPWFbZi0xXSxkPTA7Zj5kO2QrKylpZihjPWFbZF0sYy5yZXM+PXApe2U9ZC0xLGg9YVtlXSYmKG58fGshPT1zLm1ha2VVcmwoYy51cmwpKSYmZyhhW2VdLnJlcyxjLnJlcyxwLGFbZV0uY2FjaGVkKT9hW2VdOmM7YnJlYWt9aCYmKG09cy5tYWtlVXJsKGgudXJsKSxvLmN1clNyYz1tLG8uY3VyQ2FuPWgsbSE9PWsmJnMuc2V0U3JjKGIsaCkscy5zZXRTaXplKGIpKX19LHMuc2V0U3JjPWZ1bmN0aW9uKGEsYil7dmFyIGM7YS5zcmM9Yi51cmwsXCJpbWFnZS9zdmcreG1sXCI9PT1iLnNldC50eXBlJiYoYz1hLnN0eWxlLndpZHRoLGEuc3R5bGUud2lkdGg9YS5vZmZzZXRXaWR0aCsxK1wicHhcIixhLm9mZnNldFdpZHRoKzEmJihhLnN0eWxlLndpZHRoPWMpKX0scy5nZXRTZXQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9ITEsZj1hW3MubnNdLnNldHM7Zm9yKGI9MDtiPGYubGVuZ3RoJiYhZTtiKyspaWYoYz1mW2JdLGMuc3Jjc2V0JiZzLm1hdGNoZXNNZWRpYShjLm1lZGlhKSYmKGQ9cy5zdXBwb3J0c1R5cGUoYy50eXBlKSkpe1wicGVuZGluZ1wiPT09ZCYmKGM9ZCksZT1jO2JyZWFrfXJldHVybiBlfSxzLnBhcnNlU2V0cz1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnLGgsaT1iJiZcIlBJQ1RVUkVcIj09PWIubm9kZU5hbWUudG9VcHBlckNhc2UoKSxqPWFbcy5uc107KGouc3JjPT09Y3x8ZC5zcmMpJiYoai5zcmM9dy5jYWxsKGEsXCJzcmNcIiksai5zcmM/eC5jYWxsKGEsQyxqLnNyYyk6eS5jYWxsKGEsQykpLChqLnNyY3NldD09PWN8fGQuc3Jjc2V0fHwhcy5zdXBTcmNzZXR8fGEuc3Jjc2V0KSYmKGU9dy5jYWxsKGEsXCJzcmNzZXRcIiksai5zcmNzZXQ9ZSxoPSEwKSxqLnNldHM9W10saSYmKGoucGljPSEwLGwoYixqLnNldHMpKSxqLnNyY3NldD8oZj17c3Jjc2V0Omouc3Jjc2V0LHNpemVzOncuY2FsbChhLFwic2l6ZXNcIil9LGouc2V0cy5wdXNoKGYpLGc9KHF8fGouc3JjKSYmSC50ZXN0KGouc3Jjc2V0fHxcIlwiKSxnfHwhai5zcmN8fGsoai5zcmMsZil8fGYuaGFzMXh8fChmLnNyY3NldCs9XCIsIFwiK2ouc3JjLGYuY2FuZHMucHVzaCh7dXJsOmouc3JjLGQ6MSxzZXQ6Zn0pKSk6ai5zcmMmJmouc2V0cy5wdXNoKHtzcmNzZXQ6ai5zcmMsc2l6ZXM6bnVsbH0pLGouY3VyQ2FuPW51bGwsai5jdXJTcmM9YyxqLnN1cHBvcnRlZD0hKGl8fGYmJiFzLnN1cFNyY3NldHx8ZyYmIXMuc3VwU2l6ZXMpLGgmJnMuc3VwU3Jjc2V0JiYhai5zdXBwb3J0ZWQmJihlPyh4LmNhbGwoYSxELGUpLGEuc3Jjc2V0PVwiXCIpOnkuY2FsbChhLEQpKSxqLnN1cHBvcnRlZCYmIWouc3Jjc2V0JiYoIWouc3JjJiZhLnNyY3x8YS5zcmMhPT1zLm1ha2VVcmwoai5zcmMpKSYmKG51bGw9PT1qLnNyYz9hLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTphLnNyYz1qLnNyYyksai5wYXJzZWQ9ITB9LHMuZmlsbEltZz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9Yi5yZXNlbGVjdHx8Yi5yZWV2YWx1YXRlO2Fbcy5uc118fChhW3MubnNdPXt9KSxjPWFbcy5uc10sKGR8fGMuZXZhbGVkIT09cikmJigoIWMucGFyc2VkfHxiLnJlZXZhbHVhdGUpJiZzLnBhcnNlU2V0cyhhLGEucGFyZW50Tm9kZSxiKSxjLnN1cHBvcnRlZD9jLmV2YWxlZD1yOmgoYSkpfSxzLnNldHVwUnVuPWZ1bmN0aW9uKCl7KCFTfHxNfHxQIT09YS5kZXZpY2VQaXhlbFJhdGlvKSYmZigpfSxzLnN1cFBpY3R1cmU/KGJhPXUscy5maWxsSW1nPXUpOiFmdW5jdGlvbigpe3ZhciBjLGQ9YS5hdHRhY2hFdmVudD8vZCR8XmMvOi9kJHxeY3xeaS8sZT1mdW5jdGlvbigpe3ZhciBhPWIucmVhZHlTdGF0ZXx8XCJcIjtmPXNldFRpbWVvdXQoZSxcImxvYWRpbmdcIj09PWE/MjAwOjk5OSksYi5ib2R5JiYocy5maWxsSW1ncygpLGM9Y3x8ZC50ZXN0KGEpLGMmJmNsZWFyVGltZW91dChmKSl9LGY9c2V0VGltZW91dChlLGIuYm9keT85Ojk5KSxnPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWZ1bmN0aW9uKCl7dmFyIGY9bmV3IERhdGUtZDtiPmY/Yz1zZXRUaW1lb3V0KGUsYi1mKTooYz1udWxsLGEoKSl9O3JldHVybiBmdW5jdGlvbigpe2Q9bmV3IERhdGUsY3x8KGM9c2V0VGltZW91dChlLGIpKX19LGg9ei5jbGllbnRIZWlnaHQsaT1mdW5jdGlvbigpe009TWF0aC5tYXgoYS5pbm5lcldpZHRofHwwLHouY2xpZW50V2lkdGgpIT09US53aWR0aHx8ei5jbGllbnRIZWlnaHQhPT1oLGg9ei5jbGllbnRIZWlnaHQsTSYmcy5maWxsSW1ncygpfTtaKGEsXCJyZXNpemVcIixnKGksOTkpKSxaKGIsXCJyZWFkeXN0YXRlY2hhbmdlXCIsZSl9KCkscy5waWN0dXJlZmlsbD1iYSxzLmZpbGxJbWdzPWJhLHMudGVhcmRvd25SdW49dSxiYS5fPXMsYS5waWN0dXJlZmlsbENGRz17cGY6cyxwdXNoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc2hpZnQoKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBzW2JdP3NbYl0uYXBwbHkocyxhKTooQltiXT1hWzBdLFMmJnMuZmlsbEltZ3Moe3Jlc2VsZWN0OiEwfSkpfX07Zm9yKDtKJiZKLmxlbmd0aDspYS5waWN0dXJlZmlsbENGRy5wdXNoKEouc2hpZnQoKSk7YS5waWN0dXJlZmlsbD1iYSxcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YmE6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJwaWN0dXJlZmlsbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJhfSkscy5zdXBQaWN0dXJlfHwoQVtcImltYWdlL3dlYnBcIl09ZShcImltYWdlL3dlYnBcIixcImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1Jrb0FBQUJYUlVKUVZsQTRXQW9BQUFBUUFBQUFBQUFBQUFBQVFVeFFTQXdBQUFBQkJ4QVIvUTlFUlA4REFBQldVRGdnR0FBQUFEQUJBSjBCS2dFQUFRQURBRFFscEFBRGNBRCsrLzFRQUE9PVwiKSl9KHdpbmRvdyxkb2N1bWVudCk7LyohIHBpY3R1cmVmaWxsIC0gdjMuMC4yIC0gMjAxNi0wMi0xMlxuICogaHR0cHM6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsL1xuICogQ29weXJpZ2h0IChjKSAyMDE2IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGplaGwvcGljdHVyZWZpbGwvYmxvYi9tYXN0ZXIvQXV0aG9ycy50eHQ7IExpY2Vuc2VkIE1JVFxuICovXG5cdFx0IWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiLGM9MCxkPWZ1bmN0aW9uKCl7d2luZG93LnBpY3R1cmVmaWxsJiZhKHdpbmRvdy5waWN0dXJlZmlsbCksKHdpbmRvdy5waWN0dXJlZmlsbHx8Yz45OTk5KSYmY2xlYXJJbnRlcnZhbChiKSxjKyt9O2I9c2V0SW50ZXJ2YWwoZCw4KSxkKCl9KGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiPXdpbmRvdy5kb2N1bWVudCxjPXdpbmRvdy5FbGVtZW50LGQ9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZT1mdW5jdGlvbigpe30sZj17ZGlzY29ubmVjdDplLHRha2U6ZSxvYnNlcnZlOmUsc3RhcnQ6ZSxzdG9wOmUsY29ubmVjdGVkOiExfSxnPS9ebG9hZGV8XmN8XmkvLnRlc3QoYi5yZWFkeVN0YXRlfHxcIlwiKSxoPWEuXztpZihoLm11dGF0aW9uU3VwcG9ydD0hMSxoLm9ic2VydmVyPWYsT2JqZWN0LmtleXMmJndpbmRvdy5IVE1MU291cmNlRWxlbWVudCYmYi5hZGRFdmVudExpc3RlbmVyKXt2YXIgaSxqLGssbCxtPXtzcmM6MSxzcmNzZXQ6MSxzaXplczoxLG1lZGlhOjF9LG49T2JqZWN0LmtleXMobSksbz17YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMCxhdHRyaWJ1dGVGaWx0ZXI6bn0scD1jJiZjLnByb3RvdHlwZSxxPXt9LHI9ZnVuY3Rpb24oYSxiKXtxW2FdPWhbYV0saFthXT1ifTtwJiYhcC5tYXRjaGVzJiYocC5tYXRjaGVzPXAubWF0Y2hlc1NlbGVjdG9yfHxwLm1vek1hdGNoZXNTZWxlY3Rvcnx8cC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHAubXNNYXRjaGVzU2VsZWN0b3IpLHAmJnAubWF0Y2hlcyYmKGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfSxoLm11dGF0aW9uU3VwcG9ydD0hKCFPYmplY3QuY3JlYXRlfHwhT2JqZWN0LmRlZmluZVByb3BlcnRpZXMpKSxoLm11dGF0aW9uU3VwcG9ydCYmKGYub2JzZXJ2ZT1mdW5jdGlvbigpe2smJihmLmNvbm5lY3RlZD0hMCxqJiZqLm9ic2VydmUoYi5kb2N1bWVudEVsZW1lbnQsbykpfSxmLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtmLmNvbm5lY3RlZD0hMSxqJiZqLmRpc2Nvbm5lY3QoKX0sZi50YWtlPWZ1bmN0aW9uKCl7aj9oLm9uTXV0YXRpb25zKGoudGFrZVJlY29yZHMoKSk6bCYmbC50YWtlKCl9LGYuc3RhcnQ9ZnVuY3Rpb24oKXtrPSEwLGYub2JzZXJ2ZSgpfSxmLnN0b3A9ZnVuY3Rpb24oKXtrPSExLGYuZGlzY29ubmVjdCgpfSxyKFwic2V0dXBSdW5cIixmdW5jdGlvbigpe3JldHVybiBmLmRpc2Nvbm5lY3QoKSxxLnNldHVwUnVuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHIoXCJ0ZWFyZG93blJ1blwiLGZ1bmN0aW9uKCl7dmFyIGE9cS5zZXR1cFJ1bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGYub2JzZXJ2ZSgpLGF9KSxyKFwic2V0U3JjXCIsZnVuY3Rpb24oKXt2YXIgYSxiPWYuY29ubmVjdGVkO3JldHVybiBmLmRpc2Nvbm5lY3QoKSxhPXEuc2V0U3JjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiJiZmLm9ic2VydmUoKSxhfSksaC5vbk11dGF0aW9ucz1mdW5jdGlvbihhKXt2YXIgYixjLGQ9W107Zm9yKGI9MCxjPWEubGVuZ3RoO2M+YjtiKyspZyYmXCJjaGlsZExpc3RcIj09PWFbYl0udHlwZT9oLm9uU3VidHJlZUNoYW5nZShhW2JdLGQpOlwiYXR0cmlidXRlc1wiPT09YVtiXS50eXBlJiZoLm9uQXR0ckNoYW5nZShhW2JdLGQpO2QubGVuZ3RoJiZoLmZpbGxJbWdzKHtlbGVtZW50czpkLHJlZXZhbHVhdGU6ITB9KX0saC5vblN1YnRyZWVDaGFuZ2U9ZnVuY3Rpb24oYSxiKXtoLmZpbmRBZGRlZE11dGF0aW9ucyhhLmFkZGVkTm9kZXMsYiksaC5maW5kUmVtb3ZlZE11dGF0aW9ucyhhLnJlbW92ZWROb2RlcyxhLnRhcmdldCxiKX0saC5maW5kQWRkZWRNdXRhdGlvbnM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZjtmb3IoYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyllPWFbY10sMT09PWUubm9kZVR5cGUmJihmPWUubm9kZU5hbWUudG9VcHBlckNhc2UoKSxcIlBJQ1RVUkVcIj09PWY/aC5hZGRUb0VsZW1lbnRzKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIilbMF0sYik6XCJJTUdcIj09PWYmJmkoZSxoLnNlbFNob3J0KT9oLmFkZFRvRWxlbWVudHMoZSxiKTpcIlNPVVJDRVwiPT09Zj9oLmFkZEltZ0ZvclNvdXJjZShlLGUucGFyZW50Tm9kZSxiKTpoLmFkZFRvRWxlbWVudHMoaC5xc2EoZSxoLnNlbFNob3J0KSxiKSl9LGguZmluZFJlbW92ZWRNdXRhdGlvbnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZjtmb3IoZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKylmPWFbZF0sMT09PWYubm9kZVR5cGUmJlwiU09VUkNFXCI9PT1mLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkmJmguYWRkSW1nRm9yU291cmNlKGYsYixjKX0saC5hZGRJbWdGb3JTb3VyY2U9ZnVuY3Rpb24oYSxiLGMpe2ImJlwiUElDVFVSRVwiIT09KGIubm9kZU5hbWV8fFwiXCIpLnRvVXBwZXJDYXNlKCkmJihiPWIucGFyZW50Tm9kZSxiJiZcIlBJQ1RVUkVcIj09PShiLm5vZGVOYW1lfHxcIlwiKS50b1VwcGVyQ2FzZSgpfHwoYj1udWxsKSksYiYmaC5hZGRUb0VsZW1lbnRzKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIilbMF0sYyl9LGguYWRkVG9FbGVtZW50cz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoYSlpZihcImxlbmd0aFwiaW4gYSYmIWEubm9kZVR5cGUpZm9yKGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaC5hZGRUb0VsZW1lbnRzKGFbY10sYik7ZWxzZSBhLnBhcmVudE5vZGUmJi0xPT09Yi5pbmRleE9mKGEpJiZiLnB1c2goYSl9LGgub25BdHRyQ2hhbmdlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLnRhcmdldFtoLm5zXTtkfHxcInNyY3NldFwiIT09YS5hdHRyaWJ1dGVOYW1lfHxcIklNR1wiIT09KGM9YS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSk/ZCYmKGN8fChjPWEudGFyZ2V0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpLFwiSU1HXCI9PT1jPyhhLmF0dHJpYnV0ZU5hbWUgaW4gZCYmKGRbYS5hdHRyaWJ1dGVOYW1lXT12b2lkIDApLGguYWRkVG9FbGVtZW50cyhhLnRhcmdldCxiKSk6XCJTT1VSQ0VcIj09PWMmJmguYWRkSW1nRm9yU291cmNlKGEudGFyZ2V0LGEudGFyZ2V0LnBhcmVudE5vZGUsYikpOmguYWRkVG9FbGVtZW50cyhhLnRhcmdldCxiKX0saC5zdXBQaWN0dXJlfHwoZCYmIWgudGVzdE11dGF0aW9uRXZlbnRzP2o9bmV3IGQoaC5vbk11dGF0aW9ucyk6KGw9ZnVuY3Rpb24oKXt2YXIgYT0hMSxiPVtdLGM9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7cmV0dXJuIGZ1bmN0aW9uKGQpe2F8fChhPSEwLGwudGFrZXx8KGwudGFrZT1mdW5jdGlvbigpe2IubGVuZ3RoJiYoaC5vbk11dGF0aW9ucyhiKSxiPVtdKSxhPSExfSksYyhsLnRha2UpKSxiLnB1c2goZCl9fSgpLGIuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIixmdW5jdGlvbihhKXtmLmNvbm5lY3RlZCYmZyYmbCh7dHlwZTpcImNoaWxkTGlzdFwiLGFkZGVkTm9kZXM6W2EudGFyZ2V0XSxyZW1vdmVkTm9kZXM6W119KX0sITApLGIuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLGZ1bmN0aW9uKGEpe2YuY29ubmVjdGVkJiZnJiZcIlNPVVJDRVwiPT09KGEudGFyZ2V0fHx7fSkubm9kZU5hbWUmJmwoe3R5cGU6XCJjaGlsZExpc3RcIixhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbYS50YXJnZXRdLHRhcmdldDphLnRhcmdldC5wYXJlbnROb2RlfSl9LCEwKSxiLmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQXR0ck1vZGlmaWVkXCIsZnVuY3Rpb24oYSl7Zi5jb25uZWN0ZWQmJm1bYS5hdHRyTmFtZV0mJmwoe3R5cGU6XCJhdHRyaWJ1dGVzXCIsdGFyZ2V0OmEudGFyZ2V0LGF0dHJpYnV0ZU5hbWU6YS5hdHRyTmFtZX0pfSwhMCkpLHdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50JiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyYmIWZ1bmN0aW9uKCl7dmFyIGE9Yi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGM9W10sZD1hLmdldEF0dHJpYnV0ZSxlPWEuc2V0QXR0cmlidXRlLGY9e3NyYzoxfTtoLnN1cFNyY3NldCYmIWguc3VwU2l6ZXMmJihmLnNyY3NldD0xKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZSx7Z2V0QXR0cmlidXRlOnt2YWx1ZTpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gZlthXSYmKGI9dGhpc1toLm5zXSkmJnZvaWQgMCE9PWJbYV0/YlthXTpkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sd3JpdGVhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGguc3VwU3Jjc2V0fHxjLnB1c2goXCJzcmNzZXRcIiksaC5zdXBTaXplc3x8Yy5wdXNoKFwic2l6ZXNcIiksYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZSxhLHtzZXQ6ZnVuY3Rpb24oYil7ZS5jYWxsKHRoaXMsYSxiKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzLGEpfHxcIlwifSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSksXCJjdXJyZW50U3JjXCJpbiBhfHwhZnVuY3Rpb24oKXt2YXIgYSxjPWZ1bmN0aW9uKGEsYil7bnVsbD09YiYmKGI9YS5zcmN8fFwiXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwicGZDdXJyZW50U3JjXCIse3ZhbHVlOmIsd3JpdGFibGU6ITB9KX0sZD1jO2guc3VwU3Jjc2V0JiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyYmKGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmR8fGEud3x8YS5yZXMsZD1iLmR8fGIud3x8Yi5yZXM7cmV0dXJuIGMtZH0sYz1mdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxpPWJbaC5uc107aWYoaSYmaS5zdXBwb3J0ZWQmJmkuc3Jjc2V0JiZpLnNldHMmJihlPWgucGFyc2VTZXQoaS5zZXRzWzBdKSkmJmUuc29ydCl7Zm9yKGUuc29ydChhKSxmPWUubGVuZ3RoLGc9ZVtmLTFdLGM9MDtmPmM7YysrKWlmKGVbY10uZD49d2luZG93LmRldmljZVBpeGVsUmF0aW8pe2c9ZVtjXTticmVha31nJiYoZz1oLm1ha2VVcmwoZy51cmwpKX1kKGIsZyl9KSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oYSl7XCJJTUdcIj09PWEudGFyZ2V0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkmJmMoYS50YXJnZXQpfSwhMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxJbWFnZUVsZW1lbnQucHJvdG90eXBlLFwiY3VycmVudFNyY1wiLHtzZXQ6ZnVuY3Rpb24oKXt3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oXCJjdXJyZW50U3JjIGNhbid0IGJlIHNldCBvbiBpbWcgZWxlbWVudFwiKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcGxldGUmJmModGhpcyksdGhpcy5zcmN8fHRoaXMuc3Jjc2V0P3RoaXMucGZDdXJyZW50U3JjfHxcIlwiOlwiXCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KCksIXdpbmRvdy5IVE1MU291cmNlRWxlbWVudHx8XCJzcmNzZXRcImluIGIuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKXx8W1wic3Jjc2V0XCIsXCJzaXplc1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTFNvdXJjZUVsZW1lbnQucHJvdG90eXBlLGEse3NldDpmdW5jdGlvbihiKXt0aGlzLnNldEF0dHJpYnV0ZShhLGIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoYSl8fFwiXCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KX0oKSxmLnN0YXJ0KCkpLGd8fGIuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe2c9ITB9KSl9fSk7XG5cdH1cblxuXHRpZiAoIShcImRlZmluZVByb3BlcnR5XCJpbiBPYmplY3QmJmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXt9XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJ0ZXN0XCIse3ZhbHVlOjQyfSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpXG5cdCkpIHtcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5XG5cdFx0KGZ1bmN0aW9uIChuYXRpdmVEZWZpbmVQcm9wZXJ0eSkge1xuXG5cdFx0XHR2YXIgc3VwcG9ydHNBY2Nlc3NvcnMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdfX2RlZmluZUdldHRlcl9fJyk7XG5cdFx0XHR2YXIgRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEID0gJ0dldHRlcnMgJiBzZXR0ZXJzIGNhbm5vdCBiZSBkZWZpbmVkIG9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmUnO1xuXHRcdFx0dmFyIEVSUl9WQUxVRV9BQ0NFU1NPUlMgPSAnQSBwcm9wZXJ0eSBjYW5ub3QgYm90aCBoYXZlIGFjY2Vzc29ycyBhbmQgYmUgd3JpdGFibGUgb3IgaGF2ZSBhIHZhbHVlJztcblxuXHRcdFx0Ly8gUG9seWZpbGwuaW8gLSBUaGlzIGRvZXMgbm90IHVzZSBDcmVhdGVNZXRob2RQcm9wZXJ0eSBiZWNhdXNlIG91ciBDcmVhdGVNZXRob2RQcm9wZXJ0eSBmdW5jdGlvbiB1c2VzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5cblx0XHRcdE9iamVjdFsnZGVmaW5lUHJvcGVydHknXSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcblxuXHRcdFx0XHQvLyBXaGVyZSBuYXRpdmUgc3VwcG9ydCBleGlzdHMsIGFzc3VtZSBpdFxuXHRcdFx0XHRpZiAobmF0aXZlRGVmaW5lUHJvcGVydHkgJiYgKG9iamVjdCA9PT0gd2luZG93IHx8IG9iamVjdCA9PT0gZG9jdW1lbnQgfHwgb2JqZWN0ID09PSBFbGVtZW50LnByb3RvdHlwZSB8fCBvYmplY3QgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuXHRcdFx0XHRcdHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChvYmplY3QgPT09IG51bGwgfHwgIShvYmplY3QgaW5zdGFuY2VvZiBPYmplY3QgfHwgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShkZXNjcmlwdG9yIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgcHJvcGVydHlTdHJpbmcgPSBTdHJpbmcocHJvcGVydHkpO1xuXHRcdFx0XHR2YXIgaGFzVmFsdWVPcldyaXRhYmxlID0gJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yIHx8ICd3cml0YWJsZScgaW4gZGVzY3JpcHRvcjtcblx0XHRcdFx0dmFyIGdldHRlclR5cGUgPSAnZ2V0JyBpbiBkZXNjcmlwdG9yICYmIHR5cGVvZiBkZXNjcmlwdG9yLmdldDtcblx0XHRcdFx0dmFyIHNldHRlclR5cGUgPSAnc2V0JyBpbiBkZXNjcmlwdG9yICYmIHR5cGVvZiBkZXNjcmlwdG9yLnNldDtcblxuXHRcdFx0XHQvLyBoYW5kbGUgZGVzY3JpcHRvci5nZXRcblx0XHRcdFx0aWYgKGdldHRlclR5cGUpIHtcblx0XHRcdFx0XHRpZiAoZ2V0dGVyVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignR2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIXN1cHBvcnRzQWNjZXNzb3JzKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChoYXNWYWx1ZU9yV3JpdGFibGUpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX1ZBTFVFX0FDQ0VTU09SUyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdE9iamVjdC5fX2RlZmluZUdldHRlcl9fLmNhbGwob2JqZWN0LCBwcm9wZXJ0eVN0cmluZywgZGVzY3JpcHRvci5nZXQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG9iamVjdFtwcm9wZXJ0eVN0cmluZ10gPSBkZXNjcmlwdG9yLnZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaGFuZGxlIGRlc2NyaXB0b3Iuc2V0XG5cdFx0XHRcdGlmIChzZXR0ZXJUeXBlKSB7XG5cdFx0XHRcdFx0aWYgKHNldHRlclR5cGUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1NldHRlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCFzdXBwb3J0c0FjY2Vzc29ycykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaGFzVmFsdWVPcldyaXRhYmxlKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9WQUxVRV9BQ0NFU1NPUlMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRPYmplY3QuX19kZWZpbmVTZXR0ZXJfXy5jYWxsKG9iamVjdCwgcHJvcGVydHlTdHJpbmcsIGRlc2NyaXB0b3Iuc2V0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE9LIHRvIGRlZmluZSB2YWx1ZSB1bmNvbmRpdGlvbmFsbHkgLSBpZiBhIGdldHRlciBoYXMgYmVlbiBzcGVjaWZpZWQgYXMgd2VsbCwgYW4gZXJyb3Igd291bGQgYmUgdGhyb3duIGFib3ZlXG5cdFx0XHRcdGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0XHRvYmplY3RbcHJvcGVydHlTdHJpbmddID0gZGVzY3JpcHRvci52YWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBvYmplY3Q7XG5cdFx0XHR9O1xuXHRcdH0oT2JqZWN0LmRlZmluZVByb3BlcnR5KSk7XG5cblx0fVxuXG5cbi8vIF9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eVxuLy8gNy4zLjQuIENyZWF0ZURhdGFQcm9wZXJ0eSAoIE8sIFAsIFYgKVxuLy8gTk9URVxuLy8gVGhpcyBhYnN0cmFjdCBvcGVyYXRpb24gY3JlYXRlcyBhIHByb3BlcnR5IHdob3NlIGF0dHJpYnV0ZXMgYXJlIHNldCB0byB0aGUgc2FtZSBkZWZhdWx0cyB1c2VkIGZvciBwcm9wZXJ0aWVzIGNyZWF0ZWQgYnkgdGhlIEVDTUFTY3JpcHQgbGFuZ3VhZ2UgYXNzaWdubWVudCBvcGVyYXRvci5cbi8vIE5vcm1hbGx5LCB0aGUgcHJvcGVydHkgd2lsbCBub3QgYWxyZWFkeSBleGlzdC4gSWYgaXQgZG9lcyBleGlzdCBhbmQgaXMgbm90IGNvbmZpZ3VyYWJsZSBvciBpZiBPIGlzIG5vdCBleHRlbnNpYmxlLCBbW0RlZmluZU93blByb3BlcnR5XV0gd2lsbCByZXR1cm4gZmFsc2UuXG5cdGZ1bmN0aW9uIENyZWF0ZURhdGFQcm9wZXJ0eShPLCBQLCBWKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMi4gQXNzZXJ0OiBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDMuIExldCBuZXdEZXNjIGJlIHRoZSBQcm9wZXJ0eURlc2NyaXB0b3J7IFtbVmFsdWVdXTogViwgW1tXcml0YWJsZV1dOiB0cnVlLCBbW0VudW1lcmFibGVdXTogdHJ1ZSwgW1tDb25maWd1cmFibGVdXTogdHJ1ZSB9LlxuXHRcdHZhciBuZXdEZXNjID0ge1xuXHRcdFx0dmFsdWU6IFYsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9O1xuXHRcdC8vIDQuIFJldHVybiA/IE8uW1tEZWZpbmVPd25Qcm9wZXJ0eV1dKFAsIG5ld0Rlc2MpLlxuXHRcdHRyeSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgbmV3RGVzYyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkNyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3dcblx0LyogZ2xvYmFsIENyZWF0ZURhdGFQcm9wZXJ0eSAqL1xuLy8gNy4zLjYuIENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3cgKCBPLCBQLCBWIClcblx0ZnVuY3Rpb24gQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyhPLCBQLCBWKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDEuIEFzc2VydDogVHlwZShPKSBpcyBPYmplY3QuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAyLiBBc3NlcnQ6IElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDMuIExldCBzdWNjZXNzIGJlID8gQ3JlYXRlRGF0YVByb3BlcnR5KE8sIFAsIFYpLlxuXHRcdHZhciBzdWNjZXNzID0gQ3JlYXRlRGF0YVByb3BlcnR5KE8sIFAsIFYpO1xuXHRcdC8vIDQuIElmIHN1Y2Nlc3MgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRpZiAoIXN1Y2Nlc3MpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gdmFsdWUgYCcgKyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoVikgKyAnYCB0byBwcm9wZXJ0eSBgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQKSArICdgIG9uIG9iamVjdCBgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChPKSArICdgJyk7XG5cdFx0fVxuXHRcdC8vIDUuIFJldHVybiBzdWNjZXNzLlxuXHRcdHJldHVybiBzdWNjZXNzO1xuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkNyZWF0ZU1ldGhvZFByb3BlcnR5XG4vLyA3LjMuNS4gQ3JlYXRlTWV0aG9kUHJvcGVydHkgKCBPLCBQLCBWIClcblx0ZnVuY3Rpb24gQ3JlYXRlTWV0aG9kUHJvcGVydHkoTywgUCwgVikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gMS4gQXNzZXJ0OiBUeXBlKE8pIGlzIE9iamVjdC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBBc3NlcnQ6IElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAzLiBMZXQgbmV3RGVzYyBiZSB0aGUgUHJvcGVydHlEZXNjcmlwdG9ye1tbVmFsdWVdXTogViwgW1tXcml0YWJsZV1dOiB0cnVlLCBbW0VudW1lcmFibGVdXTogZmFsc2UsIFtbQ29uZmlndXJhYmxlXV06IHRydWV9LlxuXHRcdHZhciBuZXdEZXNjID0ge1xuXHRcdFx0dmFsdWU6IFYsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0fTtcblx0XHQvLyA0LiBSZXR1cm4gPyBPLltbRGVmaW5lT3duUHJvcGVydHldXShQLCBuZXdEZXNjKS5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgbmV3RGVzYyk7XG5cdH1cblx0aWYgKCEoXCJpc0FycmF5XCJpbiBBcnJheVxuXHQpKSB7XG5cbi8vIEFycmF5LmlzQXJyYXlcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIElzQXJyYXkgKi9cbi8vIDIyLjEuMi4yLiBBcnJheS5pc0FycmF5ICggYXJnIClcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShBcnJheSwgJ2lzQXJyYXknLCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuXHRcdFx0Ly8gMS4gUmV0dXJuID8gSXNBcnJheShhcmcpLlxuXHRcdFx0cmV0dXJuIElzQXJyYXkoYXJnKTtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJmb3JFYWNoXCJpbiBBcnJheS5wcm90b3R5cGVcblx0KSkge1xuXG4vLyBBcnJheS5wcm90b3R5cGUuZm9yRWFjaFxuXHRcdC8qIGdsb2JhbCBDYWxsLCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgR2V0LCBIYXNQcm9wZXJ0eSwgSXNDYWxsYWJsZSwgVG9MZW5ndGgsIFRvT2JqZWN0LCBUb1N0cmluZyAqL1xuLy8gMjIuMS4zLjEwLiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZm9yRWFjaCcsIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiBbICwgdGhpc0FyZyBdICovKSB7XG5cdFx0XHQvLyAxLiBMZXQgTyBiZSA/IFRvT2JqZWN0KHRoaXMgdmFsdWUpLlxuXHRcdFx0dmFyIE8gPSBUb09iamVjdCh0aGlzKTtcblx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gSWYgTyBpcyBhIFN0cmluZyBvYmplY3QsIHNwbGl0IGl0IGludG8gYW4gYXJyYXkgaW4gb3JkZXIgdG8gaXRlcmF0ZSBjb3JyZWN0bHkuXG5cdFx0XHQvLyBXZSB3aWxsIHVzZSBhcnJheUxpa2UgaW4gcGxhY2Ugb2YgTyB3aGVuIHdlIGFyZSBpdGVyYXRpbmcgdGhyb3VnaCB0aGUgbGlzdC5cblx0XHRcdHZhciBhcnJheWxpa2UgPSBPIGluc3RhbmNlb2YgU3RyaW5nID8gTy5zcGxpdCgnJykgOiBPO1xuXHRcdFx0Ly8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cblx0XHRcdHZhciBsZW4gPSBUb0xlbmd0aChHZXQoTywgXCJsZW5ndGhcIikpO1xuXHRcdFx0Ly8gMy4gSWYgSXNDYWxsYWJsZShjYWxsYmFja2ZuKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdFx0aWYgKElzQ2FsbGFibGUoY2FsbGJhY2tmbikgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2tmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHRcdC8vIDQuIElmIHRoaXNBcmcgaXMgcHJlc2VudCwgbGV0IFQgYmUgdGhpc0FyZzsgZWxzZSBsZXQgVCBiZSB1bmRlZmluZWQuXG5cdFx0XHR2YXIgVCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXHRcdFx0Ly8gNS4gTGV0IGsgYmUgMC5cblx0XHRcdHZhciBrID0gMDtcblx0XHRcdC8vIDYuIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuXHRcdFx0d2hpbGUgKGsgPCBsZW4pIHtcblx0XHRcdFx0Ly8gYS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXG5cdFx0XHRcdHZhciBQayA9IFRvU3RyaW5nKGspO1xuXHRcdFx0XHQvLyBiLiBMZXQga1ByZXNlbnQgYmUgPyBIYXNQcm9wZXJ0eShPLCBQaykuXG5cdFx0XHRcdHZhciBrUHJlc2VudCA9IEhhc1Byb3BlcnR5KGFycmF5bGlrZSwgUGspO1xuXHRcdFx0XHQvLyBjLiBJZiBrUHJlc2VudCBpcyB0cnVlLCB0aGVuXG5cdFx0XHRcdGlmIChrUHJlc2VudCkge1xuXHRcdFx0XHRcdC8vIGkuIExldCBrVmFsdWUgYmUgPyBHZXQoTywgUGspLlxuXHRcdFx0XHRcdHZhciBrVmFsdWUgPSBHZXQoYXJyYXlsaWtlLCBQayk7XG5cdFx0XHRcdFx0Ly8gaWkuIFBlcmZvcm0gPyBDYWxsKGNhbGxiYWNrZm4sIFQsIMKrIGtWYWx1ZSwgaywgTyDCuykuXG5cdFx0XHRcdFx0Q2FsbChjYWxsYmFja2ZuLCBULCBba1ZhbHVlLCBrLCBPXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZC4gSW5jcmVhc2UgayBieSAxLlxuXHRcdFx0XHRrID0gayArIDE7XG5cdFx0XHR9XG5cdFx0XHQvLyA3LiBSZXR1cm4gdW5kZWZpbmVkLlxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJiaW5kXCJpbiBGdW5jdGlvbi5wcm90b3R5cGVcblx0KSkge1xuXG4vLyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgSXNDYWxsYWJsZSAqL1xuLy8gMTkuMi4zLjIuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kICggdGhpc0FyZywgLi4uYXJncyApXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vYmxvYi9kNmQ3ZmYxYjEzMWM3YmExNGM3OThjYWZjNTk4YmI2NzgwZDM3ZDNiL2VzNS1zaGltLmpzI0wxODJcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsICdiaW5kJywgZnVuY3Rpb24gYmluZCh0aGF0KSB7IC8vIC5sZW5ndGggaXMgMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLy8gYWRkIG5lY2Vzc2FyeSBlczUtc2hpbSB1dGlsaXRpZXNcblx0XHRcdHZhciAkQXJyYXkgPSBBcnJheTtcblx0XHRcdHZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXHRcdFx0dmFyIEFycmF5UHJvdG90eXBlID0gJEFycmF5LnByb3RvdHlwZTtcblx0XHRcdHZhciBFbXB0eSA9IGZ1bmN0aW9uIEVtcHR5KCkgeyB9O1xuXHRcdFx0dmFyIGFycmF5X3NsaWNlID0gQXJyYXlQcm90b3R5cGUuc2xpY2U7XG5cdFx0XHR2YXIgYXJyYXlfY29uY2F0ID0gQXJyYXlQcm90b3R5cGUuY29uY2F0O1xuXHRcdFx0dmFyIGFycmF5X3B1c2ggPSBBcnJheVByb3RvdHlwZS5wdXNoO1xuXHRcdFx0dmFyIG1heCA9IE1hdGgubWF4O1xuXHRcdFx0Ly8gL2FkZCBuZWNlc3NhcnkgZXM1LXNoaW0gdXRpbGl0aWVzXG5cblx0XHRcdC8vIDEuIExldCBUYXJnZXQgYmUgdGhlIHRoaXMgdmFsdWUuXG5cdFx0XHR2YXIgdGFyZ2V0ID0gdGhpcztcblx0XHRcdC8vIDIuIElmIElzQ2FsbGFibGUoVGFyZ2V0KSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdFx0aWYgKCFJc0NhbGxhYmxlKHRhcmdldCkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAnICsgdGFyZ2V0KTtcblx0XHRcdH1cblx0XHRcdC8vIDMuIExldCBBIGJlIGEgbmV3IChwb3NzaWJseSBlbXB0eSkgaW50ZXJuYWwgbGlzdCBvZiBhbGwgb2YgdGhlXG5cdFx0XHQvLyAgIGFyZ3VtZW50IHZhbHVlcyBwcm92aWRlZCBhZnRlciB0aGlzQXJnIChhcmcxLCBhcmcyIGV0YyksIGluIG9yZGVyLlxuXHRcdFx0Ly8gWFhYIHNsaWNlZEFyZ3Mgd2lsbCBzdGFuZCBpbiBmb3IgXCJBXCIgaWYgdXNlZFxuXHRcdFx0dmFyIGFyZ3MgPSBhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IC8vIGZvciBub3JtYWwgY2FsbFxuXHRcdFx0Ly8gNC4gTGV0IEYgYmUgYSBuZXcgbmF0aXZlIEVDTUFTY3JpcHQgb2JqZWN0LlxuXHRcdFx0Ly8gMTEuIFNldCB0aGUgW1tQcm90b3R5cGVdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIHRvIHRoZSBzdGFuZGFyZFxuXHRcdFx0Ly8gICBidWlsdC1pbiBGdW5jdGlvbiBwcm90b3R5cGUgb2JqZWN0IGFzIHNwZWNpZmllZCBpbiAxNS4zLjMuMS5cblx0XHRcdC8vIDEyLiBTZXQgdGhlIFtbQ2FsbF1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgYXMgZGVzY3JpYmVkIGluXG5cdFx0XHQvLyAgIDE1LjMuNC41LjEuXG5cdFx0XHQvLyAxMy4gU2V0IHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgYXMgZGVzY3JpYmVkIGluXG5cdFx0XHQvLyAgIDE1LjMuNC41LjIuXG5cdFx0XHQvLyAxNC4gU2V0IHRoZSBbW0hhc0luc3RhbmNlXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cblx0XHRcdC8vICAgMTUuMy40LjUuMy5cblx0XHRcdHZhciBib3VuZDtcblx0XHRcdHZhciBiaW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0aWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuXHRcdFx0XHRcdC8vIDE1LjMuNC41LjIgW1tDb25zdHJ1Y3RdXVxuXHRcdFx0XHRcdC8vIFdoZW4gdGhlIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kIG9mIGEgZnVuY3Rpb24gb2JqZWN0LFxuXHRcdFx0XHRcdC8vIEYgdGhhdCB3YXMgY3JlYXRlZCB1c2luZyB0aGUgYmluZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXG5cdFx0XHRcdFx0Ly8gbGlzdCBvZiBhcmd1bWVudHMgRXh0cmFBcmdzLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGFyZSB0YWtlbjpcblx0XHRcdFx0XHQvLyAxLiBMZXQgdGFyZ2V0IGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tUYXJnZXRGdW5jdGlvbl1dXG5cdFx0XHRcdFx0Ly8gICBpbnRlcm5hbCBwcm9wZXJ0eS5cblx0XHRcdFx0XHQvLyAyLiBJZiB0YXJnZXQgaGFzIG5vIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLCBhXG5cdFx0XHRcdFx0Ly8gICBUeXBlRXJyb3IgZXhjZXB0aW9uIGlzIHRocm93bi5cblx0XHRcdFx0XHQvLyAzLiBMZXQgYm91bmRBcmdzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZEFyZ3NdXSBpbnRlcm5hbFxuXHRcdFx0XHRcdC8vICAgcHJvcGVydHkuXG5cdFx0XHRcdFx0Ly8gNC4gTGV0IGFyZ3MgYmUgYSBuZXcgbGlzdCBjb250YWluaW5nIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGVcblx0XHRcdFx0XHQvLyAgIGxpc3QgYm91bmRBcmdzIGluIHRoZSBzYW1lIG9yZGVyIGZvbGxvd2VkIGJ5IHRoZSBzYW1lXG5cdFx0XHRcdFx0Ly8gICB2YWx1ZXMgYXMgdGhlIGxpc3QgRXh0cmFBcmdzIGluIHRoZSBzYW1lIG9yZGVyLlxuXHRcdFx0XHRcdC8vIDUuIFJldHVybiB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIFtbQ29uc3RydWN0XV0gaW50ZXJuYWxcblx0XHRcdFx0XHQvLyAgIG1ldGhvZCBvZiB0YXJnZXQgcHJvdmlkaW5nIGFyZ3MgYXMgdGhlIGFyZ3VtZW50cy5cblxuXHRcdFx0XHRcdHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG5cdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0YXJyYXlfY29uY2F0LmNhbGwoYXJncywgYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0aWYgKCRPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIDE1LjMuNC41LjEgW1tDYWxsXV1cblx0XHRcdFx0XHQvLyBXaGVuIHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2Qgb2YgYSBmdW5jdGlvbiBvYmplY3QsIEYsXG5cdFx0XHRcdFx0Ly8gd2hpY2ggd2FzIGNyZWF0ZWQgdXNpbmcgdGhlIGJpbmQgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYVxuXHRcdFx0XHRcdC8vIHRoaXMgdmFsdWUgYW5kIGEgbGlzdCBvZiBhcmd1bWVudHMgRXh0cmFBcmdzLCB0aGUgZm9sbG93aW5nXG5cdFx0XHRcdFx0Ly8gc3RlcHMgYXJlIHRha2VuOlxuXHRcdFx0XHRcdC8vIDEuIExldCBib3VuZEFyZ3MgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kQXJnc11dIGludGVybmFsXG5cdFx0XHRcdFx0Ly8gICBwcm9wZXJ0eS5cblx0XHRcdFx0XHQvLyAyLiBMZXQgYm91bmRUaGlzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZFRoaXNdXSBpbnRlcm5hbFxuXHRcdFx0XHRcdC8vICAgcHJvcGVydHkuXG5cdFx0XHRcdFx0Ly8gMy4gTGV0IHRhcmdldCBiZSB0aGUgdmFsdWUgb2YgRidzIFtbVGFyZ2V0RnVuY3Rpb25dXSBpbnRlcm5hbFxuXHRcdFx0XHRcdC8vICAgcHJvcGVydHkuXG5cdFx0XHRcdFx0Ly8gNC4gTGV0IGFyZ3MgYmUgYSBuZXcgbGlzdCBjb250YWluaW5nIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGVcblx0XHRcdFx0XHQvLyAgIGxpc3QgYm91bmRBcmdzIGluIHRoZSBzYW1lIG9yZGVyIGZvbGxvd2VkIGJ5IHRoZSBzYW1lXG5cdFx0XHRcdFx0Ly8gICB2YWx1ZXMgYXMgdGhlIGxpc3QgRXh0cmFBcmdzIGluIHRoZSBzYW1lIG9yZGVyLlxuXHRcdFx0XHRcdC8vIDUuIFJldHVybiB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZFxuXHRcdFx0XHRcdC8vICAgb2YgdGFyZ2V0IHByb3ZpZGluZyBib3VuZFRoaXMgYXMgdGhlIHRoaXMgdmFsdWUgYW5kXG5cdFx0XHRcdFx0Ly8gICBwcm92aWRpbmcgYXJncyBhcyB0aGUgYXJndW1lbnRzLlxuXG5cdFx0XHRcdFx0Ly8gZXF1aXY6IHRhcmdldC5jYWxsKHRoaXMsIC4uLmJvdW5kQXJncywgLi4uYXJncylcblx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0LmFwcGx5KFxuXHRcdFx0XHRcdFx0dGhhdCxcblx0XHRcdFx0XHRcdGFycmF5X2NvbmNhdC5jYWxsKGFyZ3MsIGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzKSlcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gMTUuIElmIHRoZSBbW0NsYXNzXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgVGFyZ2V0IGlzIFwiRnVuY3Rpb25cIiwgdGhlblxuXHRcdFx0Ly8gICAgIGEuIExldCBMIGJlIHRoZSBsZW5ndGggcHJvcGVydHkgb2YgVGFyZ2V0IG1pbnVzIHRoZSBsZW5ndGggb2YgQS5cblx0XHRcdC8vICAgICBiLiBTZXQgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byBlaXRoZXIgMCBvciBMLCB3aGljaGV2ZXIgaXNcblx0XHRcdC8vICAgICAgIGxhcmdlci5cblx0XHRcdC8vIDE2LiBFbHNlIHNldCB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIDAuXG5cblx0XHRcdHZhciBib3VuZExlbmd0aCA9IG1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xuXG5cdFx0XHQvLyAxNy4gU2V0IHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gdGhlIHZhbHVlc1xuXHRcdFx0Ly8gICBzcGVjaWZpZWQgaW4gMTUuMy41LjEuXG5cdFx0XHR2YXIgYm91bmRBcmdzID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0YXJyYXlfcHVzaC5jYWxsKGJvdW5kQXJncywgJyQnICsgaSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFhYWCBCdWlsZCBhIGR5bmFtaWMgZnVuY3Rpb24gd2l0aCBkZXNpcmVkIGFtb3VudCBvZiBhcmd1bWVudHMgaXMgdGhlIG9ubHlcblx0XHRcdC8vIHdheSB0byBzZXQgdGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiBhIGZ1bmN0aW9uLlxuXHRcdFx0Ly8gSW4gZW52aXJvbm1lbnRzIHdoZXJlIENvbnRlbnQgU2VjdXJpdHkgUG9saWNpZXMgZW5hYmxlZCAoQ2hyb21lIGV4dGVuc2lvbnMsXG5cdFx0XHQvLyBmb3IgZXguKSBhbGwgdXNlIG9mIGV2YWwgb3IgRnVuY3Rpb24gY29zdHJ1Y3RvciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXHRcdFx0Ly8gSG93ZXZlciBpbiBhbGwgb2YgdGhlc2UgZW52aXJvbm1lbnRzIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGV4aXN0c1xuXHRcdFx0Ly8gYW5kIHNvIHRoaXMgY29kZSB3aWxsIG5ldmVyIGJlIGV4ZWN1dGVkLlxuXHRcdFx0Ym91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9JykoYmluZGVyKTtcblxuXHRcdFx0aWYgKHRhcmdldC5wcm90b3R5cGUpIHtcblx0XHRcdFx0RW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcblx0XHRcdFx0Ym91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XG5cdFx0XHRcdC8vIENsZWFuIHVwIGRhbmdsaW5nIHJlZmVyZW5jZXMuXG5cdFx0XHRcdEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRPRE9cblx0XHRcdC8vIDE4LiBTZXQgdGhlIFtbRXh0ZW5zaWJsZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdHJ1ZS5cblxuXHRcdFx0Ly8gVE9ET1xuXHRcdFx0Ly8gMTkuIExldCB0aHJvd2VyIGJlIHRoZSBbW1Rocm93VHlwZUVycm9yXV0gZnVuY3Rpb24gT2JqZWN0ICgxMy4yLjMpLlxuXHRcdFx0Ly8gMjAuIENhbGwgdGhlIFtbRGVmaW5lT3duUHJvcGVydHldXSBpbnRlcm5hbCBtZXRob2Qgb2YgRiB3aXRoXG5cdFx0XHQvLyAgIGFyZ3VtZW50cyBcImNhbGxlclwiLCBQcm9wZXJ0eURlc2NyaXB0b3Ige1tbR2V0XV06IHRocm93ZXIsIFtbU2V0XV06XG5cdFx0XHQvLyAgIHRocm93ZXIsIFtbRW51bWVyYWJsZV1dOiBmYWxzZSwgW1tDb25maWd1cmFibGVdXTogZmFsc2V9LCBhbmRcblx0XHRcdC8vICAgZmFsc2UuXG5cdFx0XHQvLyAyMS4gQ2FsbCB0aGUgW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGludGVybmFsIG1ldGhvZCBvZiBGIHdpdGhcblx0XHRcdC8vICAgYXJndW1lbnRzIFwiYXJndW1lbnRzXCIsIFByb3BlcnR5RGVzY3JpcHRvciB7W1tHZXRdXTogdGhyb3dlcixcblx0XHRcdC8vICAgW1tTZXRdXTogdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sXG5cdFx0XHQvLyAgIGFuZCBmYWxzZS5cblxuXHRcdFx0Ly8gVE9ET1xuXHRcdFx0Ly8gTk9URSBGdW5jdGlvbiBvYmplY3RzIGNyZWF0ZWQgdXNpbmcgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgZG8gbm90XG5cdFx0XHQvLyBoYXZlIGEgcHJvdG90eXBlIHByb3BlcnR5IG9yIHRoZSBbW0NvZGVdXSwgW1tGb3JtYWxQYXJhbWV0ZXJzXV0sIGFuZFxuXHRcdFx0Ly8gW1tTY29wZV1dIGludGVybmFsIHByb3BlcnRpZXMuXG5cdFx0XHQvLyBYWFggY2FuJ3QgZGVsZXRlIHByb3RvdHlwZSBpbiBwdXJlLWpzLlxuXG5cdFx0XHQvLyAyMi4gUmV0dXJuIEYuXG5cdFx0XHRyZXR1cm4gYm91bmQ7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICghKFwiZnJlZXplXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuZnJlZXplXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5ICovXG4vLyAxOS4xLjIuNi4gT2JqZWN0LmZyZWV6ZSAoIE8gKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2ZyZWV6ZScsIGZ1bmN0aW9uIGZyZWV6ZShPKSB7XG5cdFx0XHQvLyBUaGlzIGZlYXR1cmUgY2Fubm90IGJlIGltcGxlbWVudGVkIGZ1bGx5IGFzIGEgcG9seWZpbGwuXG5cdFx0XHQvLyBXZSBjaG9vc2UgdG8gc2lsZW50bHkgZmFpbCB3aGljaCBhbGxvd3MgXCJzZWN1cmFibGVcIiBjb2RlXG5cdFx0XHQvLyB0byBcImdyYWNlZnVsbHlcIiBkZWdyYWRlIHRvIHdvcmtpbmcgYnV0IGluc2VjdXJlIGNvZGUuXG5cdFx0XHRyZXR1cm4gTztcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcImluIE9iamVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmZnVuY3Rpb24oKXt0cnl7dmFyIHQ9e31cblx0XHRcdHJldHVybiB0LnRlc3Q9MCwwPT09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LFwidGVzdFwiKS52YWx1ZX1jYXRjaChlKXtyZXR1cm4hMX19KClcblx0KSkge1xuXG4vLyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5ICovXG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cdFx0XHR2YXIgcHJvdG90eXBlT2ZPYmplY3QgPSBPYmplY3QucHJvdG90eXBlO1xuXHRcdFx0dmFyIG93bnMgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO1xuXG5cdFx0XHR2YXIgbG9va3VwR2V0dGVyO1xuXHRcdFx0dmFyIGxvb2t1cFNldHRlcjtcblx0XHRcdHZhciBzdXBwb3J0c0FjY2Vzc29ycztcblx0XHRcdGlmICgoc3VwcG9ydHNBY2Nlc3NvcnMgPSBvd25zKHByb3RvdHlwZU9mT2JqZWN0LCBcIl9fZGVmaW5lR2V0dGVyX19cIikpKSB7XG5cdFx0XHRcdGxvb2t1cEdldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKTtcblx0XHRcdFx0bG9va3VwU2V0dGVyID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18pO1xuXHRcdFx0fVxuXHRcdFx0ZnVuY3Rpb24gZG9lc0dldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmsob2JqZWN0KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0b2JqZWN0LnNlbnRpbmVsID0gMDtcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcblx0XHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRcdFwic2VudGluZWxcIlxuXHRcdFx0XHRcdCkudmFsdWUgPT09IDA7XG5cdFx0XHRcdH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuXHRcdFx0XHRcdC8vIHJldHVybnMgZmFsc3lcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gY2hlY2sgd2hldGhlciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Igd29ya3MgaWYgaXQncyBnaXZlbi4gT3RoZXJ3aXNlLFxuXHRcdFx0Ly8gc2hpbSBwYXJ0aWFsbHkuXG5cdFx0XHRpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG5cdFx0XHRcdHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JXb3Jrc09uT2JqZWN0ID1cblx0XHRcdFx0XHRkb2VzR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29yayh7fSk7XG5cdFx0XHRcdHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JXb3Jrc09uRG9tID0gdHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCIgfHxcblx0XHRcdFx0XHRkb2VzR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcblx0XHRcdFx0aWYgKCFnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JXb3Jrc09uRG9tIHx8XG5cdFx0XHRcdFx0IWdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25PYmplY3Rcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgfHwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRmFsbGJhY2spIHtcblx0XHRcdFx0dmFyIEVSUl9OT05fT0JKRUNUID0gXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIG5vbi1vYmplY3Q6IFwiO1xuXG5cdFx0XHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSB7XG5cdFx0XHRcdFx0aWYgKCh0eXBlb2Ygb2JqZWN0ICE9IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iamVjdCAhPSBcImZ1bmN0aW9uXCIpIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCArIG9iamVjdCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gbWFrZSBhIHZhbGlhbnQgYXR0ZW1wdCB0byB1c2UgdGhlIHJlYWwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG5cdFx0XHRcdFx0Ly8gZm9yIEk4J3MgRE9NIGVsZW1lbnRzLlxuXHRcdFx0XHRcdGlmIChnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JGYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrLmNhbGwoT2JqZWN0LCBvYmplY3QsIHByb3BlcnR5KTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuXHRcdFx0XHRcdFx0XHQvLyB0cnkgdGhlIHNoaW0gaWYgdGhlIHJlYWwgb25lIGRvZXNuJ3Qgd29ya1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIElmIG9iamVjdCBkb2VzIG5vdCBvd25zIHByb3BlcnR5IHJldHVybiB1bmRlZmluZWQgaW1tZWRpYXRlbHkuXG5cdFx0XHRcdFx0aWYgKCFvd25zKG9iamVjdCwgcHJvcGVydHkpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgb2JqZWN0IGhhcyBhIHByb3BlcnR5IHRoZW4gaXQncyBmb3Igc3VyZSBib3RoIGBlbnVtZXJhYmxlYCBhbmRcblx0XHRcdFx0XHQvLyBgY29uZmlndXJhYmxlYC5cblx0XHRcdFx0XHR2YXIgZGVzY3JpcHRvciA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH07XG5cblx0XHRcdFx0XHQvLyBJZiBKUyBlbmdpbmUgc3VwcG9ydHMgYWNjZXNzb3IgcHJvcGVydGllcyB0aGVuIHByb3BlcnR5IG1heSBiZSBhXG5cdFx0XHRcdFx0Ly8gZ2V0dGVyIG9yIHNldHRlci5cblx0XHRcdFx0XHRpZiAoc3VwcG9ydHNBY2Nlc3NvcnMpIHtcblx0XHRcdFx0XHRcdC8vIFVuZm9ydHVuYXRlbHkgYF9fbG9va3VwR2V0dGVyX19gIHdpbGwgcmV0dXJuIGEgZ2V0dGVyIGV2ZW5cblx0XHRcdFx0XHRcdC8vIGlmIG9iamVjdCBoYXMgb3duIG5vbiBnZXR0ZXIgcHJvcGVydHkgYWxvbmcgd2l0aCBhIHNhbWUgbmFtZWRcblx0XHRcdFx0XHRcdC8vIGluaGVyaXRlZCBnZXR0ZXIuIFRvIGF2b2lkIG1pc2JlaGF2aW9yIHdlIHRlbXBvcmFyeSByZW1vdmVcblx0XHRcdFx0XHRcdC8vIGBfX3Byb3RvX19gIHNvIHRoYXQgYF9fbG9va3VwR2V0dGVyX19gIHdpbGwgcmV0dXJuIGdldHRlciBvbmx5XG5cdFx0XHRcdFx0XHQvLyBpZiBpdCdzIG93bmVkIGJ5IGFuIG9iamVjdC5cblx0XHRcdFx0XHRcdHZhciBwcm90b3R5cGUgPSBvYmplY3QuX19wcm90b19fO1xuXHRcdFx0XHRcdFx0b2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZU9mT2JqZWN0O1xuXG5cdFx0XHRcdFx0XHR2YXIgZ2V0dGVyID0gbG9va3VwR2V0dGVyKG9iamVjdCwgcHJvcGVydHkpO1xuXHRcdFx0XHRcdFx0dmFyIHNldHRlciA9IGxvb2t1cFNldHRlcihvYmplY3QsIHByb3BlcnR5KTtcblxuXHRcdFx0XHRcdFx0Ly8gT25jZSB3ZSBoYXZlIGdldHRlciBhbmQgc2V0dGVyIHdlIGNhbiBwdXQgdmFsdWVzIGJhY2suXG5cdFx0XHRcdFx0XHRvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuXG5cdFx0XHRcdFx0XHRpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvci5nZXQgPSBnZXR0ZXI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKHNldHRlcikge1xuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3Iuc2V0ID0gc2V0dGVyO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8vIElmIGl0IHdhcyBhY2Nlc3NvciBwcm9wZXJ0eSB3ZSdyZSBkb25lIGFuZCByZXR1cm4gaGVyZVxuXHRcdFx0XHRcdFx0XHQvLyBpbiBvcmRlciB0byBhdm9pZCBhZGRpbmcgYHZhbHVlYCB0byB0aGUgZGVzY3JpcHRvci5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIGRlc2NyaXB0b3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgZ290IHRoaXMgZmFyIHdlIGtub3cgdGhhdCBvYmplY3QgaGFzIGFuIG93biBwcm9wZXJ0eSB0aGF0IGlzXG5cdFx0XHRcdFx0Ly8gbm90IGFuIGFjY2Vzc29yIHNvIHdlIHNldCBpdCBhcyBhIHZhbHVlIGFuZCByZXR1cm4gZGVzY3JpcHRvci5cblx0XHRcdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcblx0XHRcdFx0XHRkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gZGVzY3JpcHRvcjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSgpKTtcblxuXHR9XG5cblx0aWYgKCEoXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSAqL1xuXG5cdFx0dmFyIHRvU3RyaW5nID0gKHt9KS50b1N0cmluZztcblx0XHR2YXIgc3BsaXQgPSAnJy5zcGxpdDtcblxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2dldE93blByb3BlcnR5TmFtZXMnLCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkge1xuXHRcdFx0dmFyIGJ1ZmZlciA9IFtdO1xuXHRcdFx0dmFyIGtleTtcblxuXHRcdFx0Ly8gTm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBjYW5ub3QgYmUgZGlzY292ZXJlZCBidXQgY2FuIGJlIGNoZWNrZWQgZm9yIGJ5IG5hbWUuXG5cdFx0XHQvLyBEZWZpbmUgdGhvc2UgdXNlZCBpbnRlcm5hbGx5IGJ5IEpTIHRvIGFsbG93IGFuIGluY29tcGxldGUgc29sdXRpb25cblx0XHRcdHZhciBjb21tb25Qcm9wcyA9IFsnbGVuZ3RoJywgXCJuYW1lXCIsIFwiYXJndW1lbnRzXCIsIFwiY2FsbGVyXCIsIFwicHJvdG90eXBlXCIsIFwib2JzZXJ2ZVwiLCBcInVub2JzZXJ2ZVwiXTtcblxuXHRcdFx0aWYgKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUG9seWZpbGwuaW8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIHN0cmluZ3Mgd2hpY2ggZXhpc3QgaW4gc29tZSBFUzMgdXNlci1hZ2VudHMgKElFIDgpXG5cdFx0XHRvYmplY3QgPSB0b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgU3RyaW5nXScgPyBzcGxpdC5jYWxsKG9iamVjdCwgJycpIDogT2JqZWN0KG9iamVjdCk7XG5cblx0XHRcdC8vIEVudW1lcmFibGUgcHJvcGVydGllcyBvbmx5XG5cdFx0XHRmb3IgKGtleSBpbiBvYmplY3QpIHtcblx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcblx0XHRcdFx0XHRidWZmZXIucHVzaChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIENoZWNrIGZvciBhbmQgYWRkIHRoZSBjb21tb24gbm9uLWVudW1lcmFibGUgcHJvcGVydGllc1xuXHRcdFx0Zm9yICh2YXIgaT0wLCBzPWNvbW1vblByb3BzLmxlbmd0aDsgaTxzOyBpKyspIHtcblx0XHRcdFx0aWYgKGNvbW1vblByb3BzW2ldIGluIG9iamVjdCkgYnVmZmVyLnB1c2goY29tbW9uUHJvcHNbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnVmZmVyO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImdldFByb3RvdHlwZU9mXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuZ2V0UHJvdG90eXBlT2Zcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHkgKi9cbi8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vYmxvYi9tYXN0ZXIvZXM1LXNoYW0uanNcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltL2lzc3VlcyNpc3N1ZS8yXG4vLyBodHRwOi8vZWpvaG4ub3JnL2Jsb2cvb2JqZWN0Z2V0cHJvdG90eXBlb2YvXG4vLyByZWNvbW1lbmRlZCBieSBmc2NoYWVmZXIgb24gZ2l0aHViXG4vL1xuLy8gc3VyZSwgYW5kIHdlYnJlZmxlY3Rpb24gc2F5cyBeX15cbi8vIC4uLiB0aGlzIHdpbGwgbmVyZXZlciBwb3NzaWJseSByZXR1cm4gbnVsbFxuLy8gLi4uIE9wZXJhIE1pbmkgYnJlYWtzIGhlcmUgd2l0aCBpbmZpbml0ZSBsb29wc1xuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSB7XG5cdFx0XHRpZiAob2JqZWN0ICE9PSBPYmplY3Qob2JqZWN0KSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuZ2V0UHJvdG90eXBlT2YgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcblx0XHRcdH1cblx0XHRcdHZhciBwcm90byA9IG9iamVjdC5fX3Byb3RvX187XG5cdFx0XHRpZiAocHJvdG8gfHwgcHJvdG8gPT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHByb3RvO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgb2JqZWN0IGluc3RhbmNlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yKSB7XG5cdFx0XHRcdHJldHVybiBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHRcdFx0fSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBPYmplY3QpIHtcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBDb3JyZWN0bHkgcmV0dXJuIG51bGwgZm9yIE9iamVjdHMgY3JlYXRlZCB3aXRoIGBPYmplY3QuY3JlYXRlKG51bGwpYFxuXHRcdFx0XHQvLyAoc2hhbW1lZCBvciBuYXRpdmUpIG9yIGB7IF9fcHJvdG9fXzogbnVsbH1gLiAgQWxzbyByZXR1cm5zIG51bGwgZm9yXG5cdFx0XHRcdC8vIGNyb3NzLXJlYWxtIG9iamVjdHMgb24gYnJvd3NlcnMgdGhhdCBsYWNrIGBfX3Byb3RvX19gIHN1cHBvcnQgKGxpa2Vcblx0XHRcdFx0Ly8gSUUgPDExKSwgYnV0IHRoYXQncyB0aGUgYmVzdCB3ZSBjYW4gZG8uXG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcImtleXNcImluIE9iamVjdCYmZnVuY3Rpb24oKXtyZXR1cm4gMj09PU9iamVjdC5rZXlzKGFyZ3VtZW50cykubGVuZ3RofSgxLDIpJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0LmtleXMoXCJcIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpXG5cdCkpIHtcblxuLy8gT2JqZWN0LmtleXNcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHkgKi9cblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShPYmplY3QsIFwia2V5c1wiLCAoZnVuY3Rpb24oKSB7XG5cdFx0XHQndXNlIHN0cmljdCc7XG5cblx0XHRcdC8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL29iamVjdC1rZXlzXG5cblx0XHRcdHZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHRcdFx0dmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0XHRcdHZhciBpc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGhhc0RvbnRFbnVtQnVnID0gIWlzRW51bWVyYWJsZS5jYWxsKHsgdG9TdHJpbmc6IG51bGwgfSwgJ3RvU3RyaW5nJyk7XG5cdFx0XHR2YXIgaGFzUHJvdG9FbnVtQnVnID0gaXNFbnVtZXJhYmxlLmNhbGwoZnVuY3Rpb24gKCkge30sICdwcm90b3R5cGUnKTtcblx0XHRcdHZhciBkb250RW51bXMgPSBbXG5cdFx0XHRcdCd0b1N0cmluZycsXG5cdFx0XHRcdCd0b0xvY2FsZVN0cmluZycsXG5cdFx0XHRcdCd2YWx1ZU9mJyxcblx0XHRcdFx0J2hhc093blByb3BlcnR5Jyxcblx0XHRcdFx0J2lzUHJvdG90eXBlT2YnLFxuXHRcdFx0XHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxuXHRcdFx0XHQnY29uc3RydWN0b3InXG5cdFx0XHRdO1xuXHRcdFx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlID0gZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0dmFyIGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuXHRcdFx0XHRyZXR1cm4gY3RvciAmJiBjdG9yLnByb3RvdHlwZSA9PT0gbztcblx0XHRcdH07XG5cdFx0XHR2YXIgZXhjbHVkZWRLZXlzID0ge1xuXHRcdFx0XHQkY29uc29sZTogdHJ1ZSxcblx0XHRcdFx0JGV4dGVybmFsOiB0cnVlLFxuXHRcdFx0XHQkZnJhbWU6IHRydWUsXG5cdFx0XHRcdCRmcmFtZUVsZW1lbnQ6IHRydWUsXG5cdFx0XHRcdCRmcmFtZXM6IHRydWUsXG5cdFx0XHRcdCRpbm5lckhlaWdodDogdHJ1ZSxcblx0XHRcdFx0JGlubmVyV2lkdGg6IHRydWUsXG5cdFx0XHRcdCRvdXRlckhlaWdodDogdHJ1ZSxcblx0XHRcdFx0JG91dGVyV2lkdGg6IHRydWUsXG5cdFx0XHRcdCRwYWdlWE9mZnNldDogdHJ1ZSxcblx0XHRcdFx0JHBhZ2VZT2Zmc2V0OiB0cnVlLFxuXHRcdFx0XHQkcGFyZW50OiB0cnVlLFxuXHRcdFx0XHQkc2Nyb2xsTGVmdDogdHJ1ZSxcblx0XHRcdFx0JHNjcm9sbFRvcDogdHJ1ZSxcblx0XHRcdFx0JHNjcm9sbFg6IHRydWUsXG5cdFx0XHRcdCRzY3JvbGxZOiB0cnVlLFxuXHRcdFx0XHQkc2VsZjogdHJ1ZSxcblx0XHRcdFx0JHdlYmtpdEluZGV4ZWREQjogdHJ1ZSxcblx0XHRcdFx0JHdlYmtpdFN0b3JhZ2VJbmZvOiB0cnVlLFxuXHRcdFx0XHQkd2luZG93OiB0cnVlXG5cdFx0XHR9O1xuXHRcdFx0dmFyIGhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1ZyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFx0XHRmb3IgKHZhciBrIGluIHdpbmRvdykge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoIWV4Y2x1ZGVkS2V5c1snJCcgKyBrXSAmJiBoYXMuY2FsbCh3aW5kb3csIGspICYmIHdpbmRvd1trXSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93W2tdID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KCkpO1xuXHRcdFx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneSA9IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcpIHtcblx0XHRcdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGZ1bmN0aW9uIGlzQXJndW1lbnRzT2JqZWN0KHZhbHVlKSB7XG5cdFx0XHRcdHZhciBzdHIgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0XHRcdFx0dmFyIGlzQXJncyA9IHN0ciA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cdFx0XHRcdGlmICghaXNBcmdzKSB7XG5cdFx0XHRcdFx0aXNBcmdzID0gc3RyICE9PSAnW29iamVjdCBBcnJheV0nICYmXG5cdFx0XHRcdFx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdFx0XHRcdFx0dHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcicgJiZcblx0XHRcdFx0XHRcdHZhbHVlLmxlbmd0aCA+PSAwICYmXG5cdFx0XHRcdFx0XHR0b1N0ci5jYWxsKHZhbHVlLmNhbGxlZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGlzQXJncztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdFx0XHRcdHZhciBpc0Z1bmN0aW9uID0gdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHRcdFx0XHR2YXIgaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50c09iamVjdChvYmplY3QpO1xuXHRcdFx0XHR2YXIgaXNTdHJpbmcgPSB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHRcdFx0XHR2YXIgdGhlS2V5cyA9IFtdO1xuXG5cdFx0XHRcdGlmIChvYmplY3QgPT09IHVuZGVmaW5lZCB8fCBvYmplY3QgPT09IG51bGwpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBza2lwUHJvdG8gPSBoYXNQcm90b0VudW1CdWcgJiYgaXNGdW5jdGlvbjtcblx0XHRcdFx0aWYgKGlzU3RyaW5nICYmIG9iamVjdC5sZW5ndGggPiAwICYmICFoYXMuY2FsbChvYmplY3QsIDApKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc0FyZ3VtZW50cyAmJiBvYmplY3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgb2JqZWN0Lmxlbmd0aDsgKytqKSB7XG5cdFx0XHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKGopKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcblx0XHRcdFx0XHRcdGlmICghKHNraXBQcm90byAmJiBuYW1lID09PSAncHJvdG90eXBlJykgJiYgaGFzLmNhbGwob2JqZWN0LCBuYW1lKSkge1xuXHRcdFx0XHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKG5hbWUpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcblx0XHRcdFx0XHR2YXIgc2tpcENvbnN0cnVjdG9yID0gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5KG9iamVjdCk7XG5cblx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGRvbnRFbnVtcy5sZW5ndGg7ICsraykge1xuXHRcdFx0XHRcdFx0aWYgKCEoc2tpcENvbnN0cnVjdG9yICYmIGRvbnRFbnVtc1trXSA9PT0gJ2NvbnN0cnVjdG9yJykgJiYgaGFzLmNhbGwob2JqZWN0LCBkb250RW51bXNba10pKSB7XG5cdFx0XHRcdFx0XHRcdHRoZUtleXMucHVzaChkb250RW51bXNba10pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhlS2V5cztcblx0XHRcdH07XG5cdFx0fSgpKSk7XG5cblx0fVxuXG5cbi8vIF9FU0Fic3RyYWN0LkVudW1lcmFibGVPd25Qcm9wZXJ0aWVzXG5cdC8qIGdsb2JhbHMgVHlwZSwgR2V0ICovXG4vLyA3LjMuMjEuIEVudW1lcmFibGVPd25Qcm9wZXJ0aWVzICggTywga2luZCApXG5cdGZ1bmN0aW9uIEVudW1lcmFibGVPd25Qcm9wZXJ0aWVzKE8sIGtpbmQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIDEuIEFzc2VydDogVHlwZShPKSBpcyBPYmplY3QuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gMi4gTGV0IG93bktleXMgYmUgPyBPLltbT3duUHJvcGVydHlLZXlzXV0oKS5cblx0XHR2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKE8pO1xuXHRcdC8vIDMuIExldCBwcm9wZXJ0aWVzIGJlIGEgbmV3IGVtcHR5IExpc3QuXG5cdFx0dmFyIHByb3BlcnRpZXMgPSBbXTtcblx0XHQvLyA0LiBGb3IgZWFjaCBlbGVtZW50IGtleSBvZiBvd25LZXlzIGluIExpc3Qgb3JkZXIsIGRvXG5cdFx0dmFyIGxlbmd0aCA9IG93bktleXMubGVuZ3RoO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBrZXkgPSBvd25LZXlzW2ldO1xuXHRcdFx0Ly8gYS4gSWYgVHlwZShrZXkpIGlzIFN0cmluZywgdGhlblxuXHRcdFx0aWYgKFR5cGUoa2V5KSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gaS4gTGV0IGRlc2MgYmUgPyBPLltbR2V0T3duUHJvcGVydHldXShrZXkpLlxuXHRcdFx0XHR2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywga2V5KTtcblx0XHRcdFx0Ly8gaWkuIElmIGRlc2MgaXMgbm90IHVuZGVmaW5lZCBhbmQgZGVzYy5bW0VudW1lcmFibGVdXSBpcyB0cnVlLCB0aGVuXG5cdFx0XHRcdGlmIChkZXNjICYmIGRlc2MuZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdC8vIDEuIElmIGtpbmQgaXMgXCJrZXlcIiwgYXBwZW5kIGtleSB0byBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRcdGlmIChraW5kID09PSAna2V5Jykge1xuXHRcdFx0XHRcdFx0cHJvcGVydGllcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0XHQvLyAyLiBFbHNlLFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBhLiBMZXQgdmFsdWUgYmUgPyBHZXQoTywga2V5KS5cblx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IEdldChPLCBrZXkpO1xuXHRcdFx0XHRcdFx0Ly8gYi4gSWYga2luZCBpcyBcInZhbHVlXCIsIGFwcGVuZCB2YWx1ZSB0byBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRcdFx0aWYgKGtpbmQgPT09ICd2YWx1ZScpIHtcblx0XHRcdFx0XHRcdFx0cHJvcGVydGllcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0Ly8gYy4gRWxzZSxcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGkuIEFzc2VydDoga2luZCBpcyBcImtleSt2YWx1ZVwiLlxuXHRcdFx0XHRcdFx0XHQvLyBpaS4gTGV0IGVudHJ5IGJlIENyZWF0ZUFycmF5RnJvbUxpc3Qowqsga2V5LCB2YWx1ZSDCuykuXG5cdFx0XHRcdFx0XHRcdHZhciBlbnRyeSA9IFtrZXksIHZhbHVlXTtcblx0XHRcdFx0XHRcdFx0Ly8gaWlpLiBBcHBlbmQgZW50cnkgdG8gcHJvcGVydGllcy5cblx0XHRcdFx0XHRcdFx0cHJvcGVydGllcy5wdXNoKGVudHJ5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gNS4gT3JkZXIgdGhlIGVsZW1lbnRzIG9mIHByb3BlcnRpZXMgc28gdGhleSBhcmUgaW4gdGhlIHNhbWUgcmVsYXRpdmUgb3JkZXIgYXMgd291bGQgYmUgcHJvZHVjZWQgYnkgdGhlIEl0ZXJhdG9yIHRoYXQgd291bGQgYmUgcmV0dXJuZWQgaWYgdGhlIEVudW1lcmF0ZU9iamVjdFByb3BlcnRpZXMgaW50ZXJuYWwgbWV0aG9kIHdlcmUgaW52b2tlZCB3aXRoIE8uXG5cdFx0Ly8gNi4gUmV0dXJuIHByb3BlcnRpZXMuXG5cdFx0cmV0dXJuIHByb3BlcnRpZXM7XG5cdH1cblx0aWYgKCEoXCJlbnRyaWVzXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuZW50cmllc1xuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgRW51bWVyYWJsZU93blByb3BlcnRpZXMsIFRvT2JqZWN0ICovXG5cblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHRvU3RyaW5nID0gKHt9KS50b1N0cmluZztcblx0XHRcdHZhciBzcGxpdCA9ICcnLnNwbGl0O1xuXG5cdFx0XHQvLyAxOS4xLjIuNS4gT2JqZWN0LmVudHJpZXMgKCBPIClcblx0XHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ2VudHJpZXMnLCBmdW5jdGlvbiBlbnRyaWVzKE8pIHtcblx0XHRcdFx0Ly8gMS4gTGV0IG9iaiBiZSA/IFRvT2JqZWN0KE8pLlxuXHRcdFx0XHR2YXIgb2JqID0gVG9PYmplY3QoTyk7XG5cdFx0XHRcdC8vIFBvbHlmaWxsLmlvIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBzdHJpbmdzIHdoaWNoIGV4aXN0IGluIHNvbWUgRVMzIHVzZXItYWdlbnRzIChJRSA4KVxuXHRcdFx0XHR2YXIgb2JqID0gdG9TdHJpbmcuY2FsbChPKSA9PSAnW29iamVjdCBTdHJpbmddJyA/IHNwbGl0LmNhbGwoTywgJycpIDogT2JqZWN0KE8pO1xuXHRcdFx0XHQvLyAyLiBMZXQgbmFtZUxpc3QgYmUgPyBFbnVtZXJhYmxlT3duUHJvcGVydGllcyhvYmosIFwia2V5K3ZhbHVlXCIpLlxuXHRcdFx0XHR2YXIgbmFtZUxpc3QgPSBFbnVtZXJhYmxlT3duUHJvcGVydGllcyhvYmosIFwia2V5K3ZhbHVlXCIpO1xuXHRcdFx0XHQvLyAzLiBSZXR1cm4gQ3JlYXRlQXJyYXlGcm9tTGlzdChuYW1lTGlzdCkuXG5cdFx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gbmFtZUxpc3QgaXMgYWxyZWFkeSBhbiBhcnJheS5cblx0XHRcdFx0cmV0dXJuIG5hbWVMaXN0O1xuXHRcdFx0fSk7XG5cdFx0fSgpKTtcblx0fVxuXG5cdGlmICghKFwiYXNzaWduXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuYXNzaWduXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBHZXQsIFRvT2JqZWN0ICovXG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduICggdGFyZ2V0LCAuLi5zb3VyY2VzIClcblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShPYmplY3QsICdhc3NpZ24nLCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBMZXQgdG8gYmUgPyBUb09iamVjdCh0YXJnZXQpLlxuXHRcdFx0dmFyIHRvID0gVG9PYmplY3QodGFyZ2V0KTtcblxuXHRcdFx0Ly8gMi4gSWYgb25seSBvbmUgYXJndW1lbnQgd2FzIHBhc3NlZCwgcmV0dXJuIHRvLlxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0cmV0dXJuIHRvO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAzLiBMZXQgc291cmNlcyBiZSB0aGUgTGlzdCBvZiBhcmd1bWVudCB2YWx1ZXMgc3RhcnRpbmcgd2l0aCB0aGUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0XHR2YXIgc291cmNlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0XHRcdC8vIDQuIEZvciBlYWNoIGVsZW1lbnQgbmV4dFNvdXJjZSBvZiBzb3VyY2VzLCBpbiBhc2NlbmRpbmcgaW5kZXggb3JkZXIsIGRvXG5cdFx0XHR2YXIgaW5kZXgxO1xuXHRcdFx0dmFyIGluZGV4Mjtcblx0XHRcdHZhciBrZXlzO1xuXHRcdFx0dmFyIGZyb207XG5cdFx0XHRmb3IgKGluZGV4MSA9IDA7IGluZGV4MSA8IHNvdXJjZXMubGVuZ3RoOyBpbmRleDErKykge1xuXHRcdFx0XHR2YXIgbmV4dFNvdXJjZSA9IHNvdXJjZXNbaW5kZXgxXTtcblx0XHRcdFx0Ly8gYS4gSWYgbmV4dFNvdXJjZSBpcyB1bmRlZmluZWQgb3IgbnVsbCwgbGV0IGtleXMgYmUgYSBuZXcgZW1wdHkgTGlzdC5cblx0XHRcdFx0aWYgKG5leHRTb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBuZXh0U291cmNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0a2V5cyA9IFtdO1xuXHRcdFx0XHRcdC8vIGIuIEVsc2UsXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gaS4gTGV0IGZyb20gYmUgISBUb09iamVjdChuZXh0U291cmNlKS5cblx0XHRcdFx0XHRmcm9tID0gVG9PYmplY3QobmV4dFNvdXJjZSk7XG5cdFx0XHRcdFx0Ly8gaWkuIExldCBrZXlzIGJlID8gZnJvbS5bW093blByb3BlcnR5S2V5c11dKCkuXG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHRcdFRoaXMgc3RlcCBpbiBvdXIgcG9seWZpbGwgaXMgbm90IGNvbXBseWluZyB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLlxuXHRcdFx0XHRcdFx0W1tPd25Qcm9wZXJ0eUtleXNdXSBpcyBtZWFudCB0byByZXR1cm4gQUxMIGtleXMsIGluY2x1ZGluZyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9scy5cblx0XHRcdFx0XHRcdFRPRE86IFdoZW4gd2UgaGF2ZSBSZWZsZWN0Lm93bktleXMsIHVzZSB0aGF0IGluc3RlYWQgYXMgaXQgaXMgdGhlIHVzZXJsYW5kIGVxdWl2YWxlbnQgb2YgW1tPd25Qcm9wZXJ0eUtleXNdXS5cblx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdGtleXMgPSBPYmplY3Qua2V5cyhmcm9tKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGMuIEZvciBlYWNoIGVsZW1lbnQgbmV4dEtleSBvZiBrZXlzIGluIExpc3Qgb3JkZXIsIGRvXG5cdFx0XHRcdGZvciAoaW5kZXgyID0gMDsgaW5kZXgyIDwga2V5cy5sZW5ndGg7IGluZGV4MisrKSB7XG5cdFx0XHRcdFx0dmFyIG5leHRLZXkgPSBrZXlzW2luZGV4Ml07XG5cdFx0XHRcdFx0dmFyIGVudW1lcmFibGU7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdC8vIGkuIExldCBkZXNjIGJlID8gZnJvbS5bW0dldE93blByb3BlcnR5XV0obmV4dEtleSkuXG5cdFx0XHRcdFx0XHR2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZnJvbSwgbmV4dEtleSk7XG5cdFx0XHRcdFx0XHQvLyBpaS4gSWYgZGVzYyBpcyBub3QgdW5kZWZpbmVkIGFuZCBkZXNjLltbRW51bWVyYWJsZV1dIGlzIHRydWUsIHRoZW5cblx0XHRcdFx0XHRcdGVudW1lcmFibGUgPSBkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlID09PSB0cnVlO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdC8vIFBvbHlmaWxsLmlvIC0gV2UgdXNlIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUgYXMgYSBmYWxsYmFja1xuXHRcdFx0XHRcdFx0Ly8gYmVjYXVzZSBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cubG9jYXRpb24sICdoYXNoJylgIGNhdXNlcyBJbnRlcm5ldCBFeHBsb3JlciAxMSB0byBjcmFzaC5cblx0XHRcdFx0XHRcdGVudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgbmV4dEtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChlbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHQvLyAxLiBMZXQgcHJvcFZhbHVlIGJlID8gR2V0KGZyb20sIG5leHRLZXkpLlxuXHRcdFx0XHRcdFx0dmFyIHByb3BWYWx1ZSA9IEdldChmcm9tLCBuZXh0S2V5KTtcblx0XHRcdFx0XHRcdC8vIDIuIFBlcmZvcm0gPyBTZXQodG8sIG5leHRLZXksIHByb3BWYWx1ZSwgdHJ1ZSkuXG5cdFx0XHRcdFx0XHR0b1tuZXh0S2V5XSA9IHByb3BWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIDUuIFJldHVybiB0by5cblx0XHRcdHJldHVybiB0bztcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJkZWZpbmVQcm9wZXJ0aWVzXCJpbiBPYmplY3Rcblx0KSkge1xuXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuXHRcdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSwgR2V0LCBUb09iamVjdCwgVHlwZSAqL1xuLy8gMTkuMS4yLjMuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzICggTywgUHJvcGVydGllcyApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoT2JqZWN0LCAnZGVmaW5lUHJvcGVydGllcycsIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuXHRcdFx0Ly8gMS4gSWYgVHlwZShPKSBpcyBub3QgT2JqZWN0LCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoVHlwZShPKSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcblx0XHRcdH1cblx0XHRcdC8vIDIuIExldCBwcm9wcyBiZSA/IFRvT2JqZWN0KFByb3BlcnRpZXMpLlxuXHRcdFx0dmFyIHByb3BzID0gVG9PYmplY3QoUHJvcGVydGllcyk7XG5cdFx0XHQvLyAzLiBMZXQga2V5cyBiZSA/IHByb3BzLltbT3duUHJvcGVydHlLZXlzXV0oKS5cblx0XHRcdC8qXG5cdFx0XHRcdFBvbHlmaWxsLmlvIC0gVGhpcyBzdGVwIGluIG91ciBwb2x5ZmlsbCBpcyBub3QgY29tcGx5aW5nIHdpdGggdGhlIHNwZWNpZmljYXRpb24uXG5cdFx0XHRcdFtbT3duUHJvcGVydHlLZXlzXV0gaXMgbWVhbnQgdG8gcmV0dXJuIEFMTCBrZXlzLCBpbmNsdWRpbmcgbm9uLWVudW1lcmFibGUgYW5kIHN5bWJvbHMuXG5cdFx0XHRcdFRPRE86IFdoZW4gd2UgaGF2ZSBSZWZsZWN0Lm93bktleXMsIHVzZSB0aGF0IGluc3RlYWQgYXMgaXQgaXMgdGhlIHVzZXJsYW5kIGVxdWl2YWxlbnQgb2YgW1tPd25Qcm9wZXJ0eUtleXNdXS5cblx0XHRcdCovXG5cdFx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcblx0XHRcdC8vIDQuIExldCBkZXNjcmlwdG9ycyBiZSBhIG5ldyBlbXB0eSBMaXN0LlxuXHRcdFx0dmFyIGRlc2NyaXB0b3JzID0gW107XG5cdFx0XHQvLyA1LiBGb3IgZWFjaCBlbGVtZW50IG5leHRLZXkgb2Yga2V5cyBpbiBMaXN0IG9yZGVyLCBkb1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBuZXh0S2V5ID0ga2V5c1tpXTtcblx0XHRcdFx0Ly8gYS4gTGV0IHByb3BEZXNjIGJlID8gcHJvcHMuW1tHZXRPd25Qcm9wZXJ0eV1dKG5leHRLZXkpLlxuXHRcdFx0XHR2YXIgcHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3BzLCBuZXh0S2V5KTtcblx0XHRcdFx0Ly8gYi4gSWYgcHJvcERlc2MgaXMgbm90IHVuZGVmaW5lZCBhbmQgcHJvcERlc2MuW1tFbnVtZXJhYmxlXV0gaXMgdHJ1ZSwgdGhlblxuXHRcdFx0XHRpZiAocHJvcERlc2MgIT09IHVuZGVmaW5lZCAmJiBwcm9wRGVzYy5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0Ly8gaS4gTGV0IGRlc2NPYmogYmUgPyBHZXQocHJvcHMsIG5leHRLZXkpLlxuXHRcdFx0XHRcdHZhciBkZXNjT2JqID0gR2V0KHByb3BzLCBuZXh0S2V5KTtcblx0XHRcdFx0XHQvLyBpaS4gTGV0IGRlc2MgYmUgPyBUb1Byb3BlcnR5RGVzY3JpcHRvcihkZXNjT2JqKS5cblx0XHRcdFx0XHQvLyBQb2x5ZmlsbC5pbyAtIFdlIHNraXAgdGhpcyBzdGVwIGJlY2F1c2UgT2JqZWN0LmRlZmluZVByb3BlcnR5IGRlYWxzIHdpdGggaXQuXG5cdFx0XHRcdFx0Ly8gVE9ETzogSW1wbGVtZW50IHRoaXMgc3RlcD9cblx0XHRcdFx0XHR2YXIgZGVzYyA9IGRlc2NPYmo7XG5cdFx0XHRcdFx0Ly8gaWlpLiBBcHBlbmQgdGhlIHBhaXIgKGEgdHdvIGVsZW1lbnQgTGlzdCkgY29uc2lzdGluZyBvZiBuZXh0S2V5IGFuZCBkZXNjIHRvIHRoZSBlbmQgb2YgZGVzY3JpcHRvcnMuXG5cdFx0XHRcdFx0ZGVzY3JpcHRvcnMucHVzaChbbmV4dEtleSwgZGVzY10pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyA2LiBGb3IgZWFjaCBwYWlyIGZyb20gZGVzY3JpcHRvcnMgaW4gbGlzdCBvcmRlciwgZG9cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVzY3JpcHRvcnMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHQvLyBhLiBMZXQgUCBiZSB0aGUgZmlyc3QgZWxlbWVudCBvZiBwYWlyLlxuXHRcdFx0XHR2YXIgUCA9IGRlc2NyaXB0b3JzW2ldWzBdO1xuXHRcdFx0XHQvLyBiLiBMZXQgZGVzYyBiZSB0aGUgc2Vjb25kIGVsZW1lbnQgb2YgcGFpci5cblx0XHRcdFx0dmFyIGRlc2MgPSBkZXNjcmlwdG9yc1tpXVsxXTtcblx0XHRcdFx0Ly8gYy4gUGVyZm9ybSA/IERlZmluZVByb3BlcnR5T3JUaHJvdyhPLCBQLCBkZXNjKS5cblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIGRlc2MpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gNy4gUmV0dXJuIE8uXG5cdFx0XHRyZXR1cm4gTztcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCEoXCJjcmVhdGVcImluIE9iamVjdFxuXHQpKSB7XG5cbi8vIE9iamVjdC5jcmVhdGVcblx0XHQvKiBnbG9iYWwgQ3JlYXRlTWV0aG9kUHJvcGVydHksIFR5cGUgKi9cblx0XHRDcmVhdGVNZXRob2RQcm9wZXJ0eShPYmplY3QsICdjcmVhdGUnLCBmdW5jdGlvbiBjcmVhdGUoTywgcHJvcGVydGllcykge1xuXHRcdFx0Ly8gMS4gSWYgVHlwZShPKSBpcyBuZWl0aGVyIE9iamVjdCBub3IgTnVsbCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdFx0aWYgKFR5cGUoTykgIT09ICdvYmplY3QnICYmIFR5cGUoTykgIT09ICdudWxsJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyAyLiBMZXQgb2JqIGJlIE9iamVjdENyZWF0ZShPKS5cblx0XHRcdHZhciBvYmogPSBuZXcgRnVuY3Rpb24oJ2UnLCAnZnVuY3Rpb24gT2JqZWN0KCkge31PYmplY3QucHJvdG90eXBlPWU7cmV0dXJuIG5ldyBPYmplY3QnKShPKTtcblxuXHRcdFx0b2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE87XG5cblx0XHRcdC8vIDMuIElmIFByb3BlcnRpZXMgaXMgbm90IHVuZGVmaW5lZCwgdGhlblxuXHRcdFx0aWYgKDEgaW4gYXJndW1lbnRzKSB7XG5cdFx0XHRcdC8vIGEuIFJldHVybiA/IE9iamVjdERlZmluZVByb3BlcnRpZXMob2JqLCBQcm9wZXJ0aWVzKS5cblx0XHRcdFx0cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcHJvcGVydGllcyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fSk7XG5cblx0fVxuXG5cbi8vIF9FU0Fic3RyYWN0Lk9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yXG5cdC8qIGdsb2JhbCBHZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3IgKi9cbi8vIDkuMS4xMy4gT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3IgKCBjb25zdHJ1Y3RvciwgaW50cmluc2ljRGVmYXVsdFByb3RvIFsgLCBpbnRlcm5hbFNsb3RzTGlzdCBdIClcblx0ZnVuY3Rpb24gT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3IoY29uc3RydWN0b3IsIGludHJpbnNpY0RlZmF1bHRQcm90bykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0dmFyIGludGVybmFsU2xvdHNMaXN0ID0gYXJndW1lbnRzWzJdIHx8IHt9O1xuXHRcdC8vIDEuIEFzc2VydDogaW50cmluc2ljRGVmYXVsdFByb3RvIGlzIGEgU3RyaW5nIHZhbHVlIHRoYXQgaXMgdGhpcyBzcGVjaWZpY2F0aW9uJ3MgbmFtZSBvZiBhbiBpbnRyaW5zaWMgb2JqZWN0LlxuXHRcdC8vIFRoZSBjb3JyZXNwb25kaW5nIG9iamVjdCBtdXN0IGJlIGFuIGludHJpbnNpYyB0aGF0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgYXMgdGhlW1tQcm90b3R5cGVdXSB2YWx1ZSBvZiBhbiBvYmplY3QuXG5cblx0XHQvLyAyLiBMZXQgcHJvdG8gYmUgPyBHZXRQcm90b3R5cGVGcm9tQ29uc3RydWN0b3IoY29uc3RydWN0b3IsIGludHJpbnNpY0RlZmF1bHRQcm90bykuXG5cdFx0dmFyIHByb3RvID0gR2V0UHJvdG90eXBlRnJvbUNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yLCBpbnRyaW5zaWNEZWZhdWx0UHJvdG8pO1xuXG5cdFx0Ly8gMy4gUmV0dXJuIE9iamVjdENyZWF0ZShwcm90bywgaW50ZXJuYWxTbG90c0xpc3QpLlxuXHRcdC8vIFBvbHlmaWxsLmlvIC0gV2UgZG8gbm90IHBhc3MgaW50ZXJuYWxTbG90c0xpc3QgdG8gT2JqZWN0LmNyZWF0ZSBiZWNhdXNlIE9iamVjdC5jcmVhdGUgZG9lcyBub3QgdXNlIHRoZSBkZWZhdWx0IG9yZGluYXJ5IG9iamVjdCBkZWZpbml0aW9ucyBzcGVjaWZpZWQgaW4gOS4xLlxuXHRcdHZhciBvYmogPSBPYmplY3QuY3JlYXRlKHByb3RvKTtcblx0XHRmb3IgKHZhciBuYW1lIGluIGludGVybmFsU2xvdHNMaXN0KSB7XG5cdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGludGVybmFsU2xvdHNMaXN0LCBuYW1lKSkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiBpbnRlcm5hbFNsb3RzTGlzdFtuYW1lXVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG4vLyBfRVNBYnN0cmFjdC5Db25zdHJ1Y3Rcblx0LyogZ2xvYmFsIElzQ29uc3RydWN0b3IsIE9yZGluYXJ5Q3JlYXRlRnJvbUNvbnN0cnVjdG9yLCBDYWxsICovXG4vLyA3LjMuMTMuIENvbnN0cnVjdCAoIEYgWyAsIGFyZ3VtZW50c0xpc3QgWyAsIG5ld1RhcmdldCBdXSApXG5cdGZ1bmN0aW9uIENvbnN0cnVjdChGIC8qIFsgLCBhcmd1bWVudHNMaXN0IFsgLCBuZXdUYXJnZXQgXV0gKi8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC8vIDEuIElmIG5ld1RhcmdldCBpcyBub3QgcHJlc2VudCwgc2V0IG5ld1RhcmdldCB0byBGLlxuXHRcdHZhciBuZXdUYXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IEY7XG5cblx0XHQvLyAyLiBJZiBhcmd1bWVudHNMaXN0IGlzIG5vdCBwcmVzZW50LCBzZXQgYXJndW1lbnRzTGlzdCB0byBhIG5ldyBlbXB0eSBMaXN0LlxuXHRcdHZhciBhcmd1bWVudHNMaXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuXHRcdC8vIDMuIEFzc2VydDogSXNDb25zdHJ1Y3RvcihGKSBpcyB0cnVlLlxuXHRcdGlmICghSXNDb25zdHJ1Y3RvcihGKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRiBtdXN0IGJlIGEgY29uc3RydWN0b3IuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gNC4gQXNzZXJ0OiBJc0NvbnN0cnVjdG9yKG5ld1RhcmdldCkgaXMgdHJ1ZS5cblx0XHRpZiAoIUlzQ29uc3RydWN0b3IobmV3VGFyZ2V0KSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignbmV3VGFyZ2V0IG11c3QgYmUgYSBjb25zdHJ1Y3Rvci4nKTtcblx0XHR9XG5cblx0XHQvLyA1LiBSZXR1cm4gPyBGLltbQ29uc3RydWN0XV0oYXJndW1lbnRzTGlzdCwgbmV3VGFyZ2V0KS5cblx0XHQvLyBQb2x5ZmlsbC5pbyAtIElmIG5ld1RhcmdldCBpcyB0aGUgc2FtZSBhcyBGLCBpdCBpcyBlcXVpdmFsZW50IHRvIG5ldyBGKC4uLmFyZ3VtZW50c0xpc3QpLlxuXHRcdGlmIChuZXdUYXJnZXQgPT09IEYpIHtcblx0XHRcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KEYsIFtudWxsXS5jb25jYXQoYXJndW1lbnRzTGlzdCkpKSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBQb2x5ZmlsbC5pbyAtIFRoaXMgaXMgbWltaWNraW5nIHNlY3Rpb24gOS4yLjIgc3RlcCA1LmEuXG5cdFx0XHR2YXIgb2JqID0gT3JkaW5hcnlDcmVhdGVGcm9tQ29uc3RydWN0b3IobmV3VGFyZ2V0LCBPYmplY3QucHJvdG90eXBlKTtcblx0XHRcdHJldHVybiBDYWxsKEYsIG9iaiwgYXJndW1lbnRzTGlzdCk7XG5cdFx0fVxuXHR9XG5cbi8vIF9FU0Fic3RyYWN0LkFycmF5U3BlY2llc0NyZWF0ZVxuXHQvKiBnbG9iYWwgSXNBcnJheSwgQXJyYXlDcmVhdGUsIEdldCwgVHlwZSwgSXNDb25zdHJ1Y3RvciwgQ29uc3RydWN0ICovXG4vLyA5LjQuMi4zLiBBcnJheVNwZWNpZXNDcmVhdGUgKCBvcmlnaW5hbEFycmF5LCBsZW5ndGggKVxuXHRmdW5jdGlvbiBBcnJheVNwZWNpZXNDcmVhdGUob3JpZ2luYWxBcnJheSwgbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAxLiBBc3NlcnQ6IGxlbmd0aCBpcyBhbiBpbnRlZ2VyIE51bWJlciDiiaUgMC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAvLyAyLiBJZiBsZW5ndGggaXMgLTAsIHNldCBsZW5ndGggdG8gKzAuXG5cdFx0aWYgKDEvbGVuZ3RoID09PSAtSW5maW5pdHkpIHtcblx0XHRcdGxlbmd0aCA9IDA7XG5cdFx0fVxuXG5cdFx0Ly8gMy4gTGV0IGlzQXJyYXkgYmUgPyBJc0FycmF5KG9yaWdpbmFsQXJyYXkpLlxuXHRcdHZhciBpc0FycmF5ID0gSXNBcnJheShvcmlnaW5hbEFycmF5KTtcblxuXHRcdC8vIDQuIElmIGlzQXJyYXkgaXMgZmFsc2UsIHJldHVybiA/IEFycmF5Q3JlYXRlKGxlbmd0aCkuXG5cdFx0aWYgKGlzQXJyYXkgPT09IGZhbHNlKSB7XG5cdFx0XHRyZXR1cm4gQXJyYXlDcmVhdGUobGVuZ3RoKTtcblx0XHR9XG5cblx0XHQvLyA1LiBMZXQgQyBiZSA/IEdldChvcmlnaW5hbEFycmF5LCBcImNvbnN0cnVjdG9yXCIpLlxuXHRcdHZhciBDID0gR2V0KG9yaWdpbmFsQXJyYXksICdjb25zdHJ1Y3RvcicpO1xuXG5cdFx0Ly8gUG9seWZpbGwuaW8gLSBXZSBza2lwIHRoaXMgc2VjdGlvbiBhcyBub3Qgc3VyZSBob3cgdG8gbWFrZSBhIGNyb3NzLXJlYWxtIG5vcm1hbCBBcnJheSwgYSBzYW1lLXJlYWxtIEFycmF5LlxuXHRcdC8vIDYuIElmIElzQ29uc3RydWN0b3IoQykgaXMgdHJ1ZSwgdGhlblxuXHRcdC8vIGlmIChJc0NvbnN0cnVjdG9yKEMpKSB7XG5cdFx0Ly8gYS4gTGV0IHRoaXNSZWFsbSBiZSB0aGUgY3VycmVudCBSZWFsbSBSZWNvcmQuXG5cdFx0Ly8gYi4gTGV0IHJlYWxtQyBiZSA/IEdldEZ1bmN0aW9uUmVhbG0oQykuXG5cdFx0Ly8gYy4gSWYgdGhpc1JlYWxtIGFuZCByZWFsbUMgYXJlIG5vdCB0aGUgc2FtZSBSZWFsbSBSZWNvcmQsIHRoZW5cblx0XHQvLyBpLiBJZiBTYW1lVmFsdWUoQywgcmVhbG1DLltbSW50cmluc2ljc11dLltbJUFycmF5JV1dKSBpcyB0cnVlLCBzZXQgQyB0byB1bmRlZmluZWQuXG5cdFx0Ly8gfVxuXHRcdC8vIDcuIElmIFR5cGUoQykgaXMgT2JqZWN0LCB0aGVuXG5cdFx0aWYgKFR5cGUoQykgPT09ICdvYmplY3QnKSB7XG5cdFx0XHQvLyBhLiBTZXQgQyB0byA/IEdldChDLCBAQHNwZWNpZXMpLlxuXHRcdFx0QyA9ICdTeW1ib2wnIGluIHRoaXMgJiYgJ3NwZWNpZXMnIGluIHRoaXMuU3ltYm9sID8gR2V0KEMsIHRoaXMuU3ltYm9sLnNwZWNpZXMpIDogdW5kZWZpbmVkO1xuXHRcdFx0Ly8gYi4gSWYgQyBpcyBudWxsLCBzZXQgQyB0byB1bmRlZmluZWQuXG5cdFx0XHRpZiAoQyA9PT0gbnVsbCkge1xuXHRcdFx0XHRDID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyA4LiBJZiBDIGlzIHVuZGVmaW5lZCwgcmV0dXJuID8gQXJyYXlDcmVhdGUobGVuZ3RoKS5cblx0XHRpZiAoQyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gQXJyYXlDcmVhdGUobGVuZ3RoKTtcblx0XHR9XG5cdFx0Ly8gOS4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdGlmICghSXNDb25zdHJ1Y3RvcihDKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQyBtdXN0IGJlIGEgY29uc3RydWN0b3InKTtcblx0XHR9XG5cdFx0Ly8gMTAuIFJldHVybiA/IENvbnN0cnVjdChDLCDCqyBsZW5ndGggwrspLlxuXHRcdHJldHVybiBDb25zdHJ1Y3QoQywgW2xlbmd0aF0pO1xuXHR9XG5cdGlmICghKFwiZmlsdGVyXCJpbiBBcnJheS5wcm90b3R5cGVcblx0KSkge1xuXG4vLyBBcnJheS5wcm90b3R5cGUuZmlsdGVyXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBUb09iamVjdCwgVG9MZW5ndGgsIEdldCwgSXNDYWxsYWJsZSwgQXJyYXlTcGVjaWVzQ3JlYXRlLCBUb1N0cmluZywgSGFzUHJvcGVydHksIFRvQm9vbGVhbiwgQ2FsbCwgQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyAqL1xuLy8gMjIuMS4zLjcuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbHRlcicsIGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFja2ZuIC8qIFsgLCB0aGlzQXJnIF0gKi8pIHtcblx0XHRcdC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG5cdFx0XHR2YXIgTyA9IFRvT2JqZWN0KHRoaXMpO1xuXHRcdFx0Ly8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cblx0XHRcdHZhciBsZW4gPSBUb0xlbmd0aChHZXQoTywgXCJsZW5ndGhcIikpO1xuXHRcdFx0Ly8gMy4gSWYgSXNDYWxsYWJsZShjYWxsYmFja2ZuKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdFx0aWYgKElzQ2FsbGFibGUoY2FsbGJhY2tmbikgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2tmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHRcdC8vIDQuIElmIHRoaXNBcmcgaXMgcHJlc2VudCwgbGV0IFQgYmUgdGhpc0FyZzsgZWxzZSBsZXQgVCBiZSB1bmRlZmluZWQuXG5cdFx0XHR2YXIgVCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXHRcdFx0Ly8gNS4gTGV0IEEgYmUgPyBBcnJheVNwZWNpZXNDcmVhdGUoTywgMCkuXG5cdFx0XHR2YXIgQSA9IEFycmF5U3BlY2llc0NyZWF0ZShPLCAwKTtcblx0XHRcdC8vIDYuIExldCBrIGJlIDAuXG5cdFx0XHR2YXIgayA9IDA7XG5cdFx0XHQvLyA3LiBMZXQgdG8gYmUgMC5cblx0XHRcdHZhciB0byA9IDA7XG5cdFx0XHQvLyA4LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cblx0XHRcdHdoaWxlIChrIDwgbGVuKSB7XG5cdFx0XHRcdC8vIGEuIExldCBQayBiZSAhIFRvU3RyaW5nKGspLlxuXHRcdFx0XHR2YXIgUGsgPSBUb1N0cmluZyhrKTtcblx0XHRcdFx0Ly8gYi4gTGV0IGtQcmVzZW50IGJlID8gSGFzUHJvcGVydHkoTywgUGspLlxuXHRcdFx0XHR2YXIga1ByZXNlbnQgPSBIYXNQcm9wZXJ0eShPLCBQayk7XG5cdFx0XHRcdC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW5cblx0XHRcdFx0aWYgKGtQcmVzZW50KSB7XG5cdFx0XHRcdFx0Ly8gaS4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXG5cdFx0XHRcdFx0dmFyIGtWYWx1ZSA9IEdldChPLCBQayk7XG5cdFx0XHRcdFx0Ly8gaWkuIExldCBzZWxlY3RlZCBiZSBUb0Jvb2xlYW4oPyBDYWxsKGNhbGxiYWNrZm4sIFQsIMKrIGtWYWx1ZSwgaywgTyDCuykpLlxuXHRcdFx0XHRcdHZhciBzZWxlY3RlZCA9IFRvQm9vbGVhbihDYWxsKGNhbGxiYWNrZm4sIFQsIFtrVmFsdWUsIGssIE9dKSk7XG5cdFx0XHRcdFx0Ly8gaWlpLiBJZiBzZWxlY3RlZCBpcyB0cnVlLCB0aGVuXG5cdFx0XHRcdFx0aWYgKHNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHQvLyAxLiBQZXJmb3JtID8gQ3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyhBLCAhIFRvU3RyaW5nKHRvKSwga1ZhbHVlKVxuXHRcdFx0XHRcdFx0Q3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyhBLCBUb1N0cmluZyh0byksIGtWYWx1ZSk7XG5cdFx0XHRcdFx0XHQvLyAyLiBJbmNyZWFzZSB0byBieSAxLlxuXHRcdFx0XHRcdFx0dG8gPSB0byArIDE7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZC4gSW5jcmVhc2UgayBieSAxLlxuXHRcdFx0XHRrID0gayArIDE7XG5cdFx0XHR9XG5cdFx0XHQvLyA5LiBSZXR1cm4gQS5cblx0XHRcdHJldHVybiBBO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcIm1hcFwiaW4gQXJyYXkucHJvdG90eXBlXG5cdCkpIHtcblxuLy8gQXJyYXkucHJvdG90eXBlLm1hcFxuXHRcdC8qIGdsb2JhbCBBcnJheVNwZWNpZXNDcmVhdGUsIENhbGwsIENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3csIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBHZXQsIEhhc1Byb3BlcnR5LCBJc0NhbGxhYmxlLCBUb0xlbmd0aCwgVG9PYmplY3QsIFRvU3RyaW5nICovXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBUb09iamVjdCwgVG9MZW5ndGgsIEdldCwgQXJyYXlTcGVjaWVzQ3JlYXRlLCBUb1N0cmluZywgSGFzUHJvcGVydHksIENhbGwsIENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3cgKi9cbi8vIDIyLjEuMy4xNi4gQXJyYXkucHJvdG90eXBlLm1hcCAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG5cdFx0Q3JlYXRlTWV0aG9kUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnbWFwJywgZnVuY3Rpb24gbWFwKGNhbGxiYWNrZm4gLyogWyAsIHRoaXNBcmcgXSAqLykge1xuXHRcdFx0Ly8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cblx0XHRcdHZhciBPID0gVG9PYmplY3QodGhpcyk7XG5cdFx0XHQvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuXHRcdFx0dmFyIGxlbiA9IFRvTGVuZ3RoKEdldChPLCBcImxlbmd0aFwiKSk7XG5cdFx0XHQvLyAzLiBJZiBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG5cdFx0XHRpZiAoSXNDYWxsYWJsZShjYWxsYmFja2ZuKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFja2ZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gNC4gSWYgdGhpc0FyZyBpcyBwcmVzZW50LCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cblx0XHRcdHZhciBUID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyA1LiBMZXQgQSBiZSA/IEFycmF5U3BlY2llc0NyZWF0ZShPLCBsZW4pLlxuXHRcdFx0dmFyIEEgPSBBcnJheVNwZWNpZXNDcmVhdGUoTywgbGVuKTtcblx0XHRcdC8vIDYuIExldCBrIGJlIDAuXG5cdFx0XHR2YXIgayA9IDA7XG5cdFx0XHQvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cblx0XHRcdHdoaWxlIChrIDwgbGVuKSB7XG5cdFx0XHRcdC8vIGEuIExldCBQayBiZSAhIFRvU3RyaW5nKGspLlxuXHRcdFx0XHR2YXIgUGsgPSBUb1N0cmluZyhrKTtcblx0XHRcdFx0Ly8gYi4gTGV0IGtQcmVzZW50IGJlID8gSGFzUHJvcGVydHkoTywgUGspLlxuXHRcdFx0XHR2YXIga1ByZXNlbnQgPSBIYXNQcm9wZXJ0eShPLCBQayk7XG5cdFx0XHRcdC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW5cblx0XHRcdFx0aWYgKGtQcmVzZW50KSB7XG5cdFx0XHRcdFx0Ly8gaS4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXG5cdFx0XHRcdFx0dmFyIGtWYWx1ZSA9IEdldChPLCBQayk7XG5cdFx0XHRcdFx0Ly8gaWkuIExldCBtYXBwZWRWYWx1ZSBiZSA/IENhbGwoY2FsbGJhY2tmbiwgVCwgwqsga1ZhbHVlLCBrLCBPIMK7KS5cblx0XHRcdFx0XHR2YXIgbWFwcGVkVmFsdWUgPSBDYWxsKGNhbGxiYWNrZm4sIFQsIFtrVmFsdWUsIGssIE9dKTtcblx0XHRcdFx0XHQvLyBpaWkuIFBlcmZvcm0gPyBDcmVhdGVEYXRhUHJvcGVydHlPclRocm93KEEsIFBrLCBtYXBwZWRWYWx1ZSkuXG5cdFx0XHRcdFx0Q3JlYXRlRGF0YVByb3BlcnR5T3JUaHJvdyhBLCBQaywgbWFwcGVkVmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGQuIEluY3JlYXNlIGsgYnkgMS5cblx0XHRcdFx0ayA9IGsgKyAxO1xuXHRcdFx0fVxuXHRcdFx0Ly8gOC4gUmV0dXJuIEEuXG5cdFx0XHRyZXR1cm4gQTtcblx0XHR9KTtcblxuXHR9XG5cblxuLy8gT2JqZWN0LnNldFByb3RvdHlwZU9mXG5cdC8qIGdsb2JhbCBDcmVhdGVNZXRob2RQcm9wZXJ0eSAqL1xuLy8gRVM2LXNoaW0gMC4xNi4wIChjKSAyMDEzLTIwMTQgUGF1bCBNaWxsZXIgKGh0dHA6Ly9wYXVsbWlsbHIuY29tKVxuLy8gRVM2LXNoaW0gbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyBGb3IgbW9yZSBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9lczYtc2hpbS9cblxuXHQvLyBOT1RFOiAgVGhpcyB2ZXJzaW9ucyBuZWVkcyBvYmplY3Qgb3duZXJzaGlwXG5cdC8vICAgICAgICBiZWNhdXNlIGV2ZXJ5IHByb21vdGVkIG9iamVjdCBuZWVkcyB0byBiZSByZWFzc2lnbmVkXG5cdC8vICAgICAgICBvdGhlcndpc2UgdW5jb21wYXRpYmxlIGJyb3dzZXJzIGNhbm5vdCB3b3JrIGFzIGV4cGVjdGVkXG5cdC8vXG5cdC8vIE5PVEU6ICBUaGlzIG1pZ2h0IG5lZWQgZXM1LXNoaW0gb3IgcG9seWZpbGxzIHVwZnJvbnRcblx0Ly8gICAgICAgIGJlY2F1c2UgaXQncyBiYXNlZCBvbiBFUzUgQVBJLlxuXHQvLyAgICAgICAgKHByb2JhYmx5IGp1c3QgYW4gSUUgPD0gOCBwcm9ibGVtKVxuXHQvL1xuXHQvLyBOT1RFOiAgbm9kZWpzIGlzIGZpbmUgaW4gdmVyc2lvbiAwLjgsIDAuMTAsIGFuZCBmdXR1cmUgdmVyc2lvbnMuXG5cdChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgeyByZXR1cm47IH1cblxuXHRcdC8qanNoaW50IHByb3RvOiB0cnVlICovXG5cdFx0Ly8gQGF1dGhvciAgICBBbmRyZWEgR2lhbW1hcmNoaSAtIEBXZWJSZWZsZWN0aW9uXG5cblx0XHR2YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuXHRcdHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHRcdHZhciBjcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXHRcdHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0XHR2YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFx0dmFyIG9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuXHRcdHZhciBjb3B5RGVzY3JpcHRvcnMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0XHRcdC8vIGRlZmluZSBpbnRvIHRhcmdldCBkZXNjcmlwdG9ycyBmcm9tIHNvdXJjZVxuXHRcdFx0Z2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShcblx0XHRcdFx0XHR0YXJnZXQsXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHRhcmdldDtcblx0XHR9O1xuXHRcdC8vIHVzZWQgYXMgZmFsbGJhY2sgd2hlbiBubyBwcm9tb3Rpb24gaXMgcG9zc2libGVcblx0XHR2YXIgY3JlYXRlQW5kQ29weSA9IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9yaWdpbiwgcHJvdG8pIHtcblx0XHRcdHJldHVybiBjb3B5RGVzY3JpcHRvcnMoY3JlYXRlKHByb3RvKSwgb3JpZ2luKTtcblx0XHR9O1xuXHRcdHZhciBzZXQsIHNQT2Y7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHRoaXMgbWlnaHQgZmFpbCBmb3IgdmFyaW91cyByZWFzb25zXG5cdFx0XHQvLyBpZ25vcmUgaWYgQ2hyb21lIGNvdWdodCBpdCBhdCBydW50aW1lXG5cdFx0XHRzZXQgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqUHJvdG8sICdfX3Byb3RvX18nKS5zZXQ7XG5cdFx0XHRzZXQuY2FsbCh7fSwgbnVsbCk7XG5cdFx0XHQvLyBzZXR0ZXIgbm90IHBvaXNvbmVkLCBpdCBjYW4gcHJvbW90ZVxuXHRcdFx0Ly8gRmlyZWZveCwgQ2hyb21lXG5cdFx0XHRzUE9mID0gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob3JpZ2luLCBwcm90bykge1xuXHRcdFx0XHRzZXQuY2FsbChvcmlnaW4sIHByb3RvKTtcblx0XHRcdFx0cmV0dXJuIG9yaWdpbjtcblx0XHRcdH07XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gZG8gb25lIG9yIG1vcmUgZmVhdHVyZSBkZXRlY3Rpb25zXG5cdFx0XHRzZXQgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuXHRcdFx0Ly8gaWYgcHJvdG8gZG9lcyBub3Qgd29yaywgbmVlZHMgdG8gZmFsbGJhY2tcblx0XHRcdC8vIHNvbWUgT3BlcmEsIFJoaW5vLCBkdWNrdGFwZVxuXHRcdFx0aWYgKHNldCBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0XHRzUE9mID0gY3JlYXRlQW5kQ29weTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHZlcmlmeSBpZiBudWxsIG9iamVjdHMgYXJlIGJ1Z2d5XG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdHNldC5fX3Byb3RvX18gPSBvYmpQcm90bztcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xuXHRcdFx0XHQvLyBpZiBudWxsIG9iamVjdHMgYXJlIGJ1Z2d5XG5cdFx0XHRcdC8vIG5vZGVqcyAwLjggdG8gMC4xMFxuXHRcdFx0XHRpZiAoc2V0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG5cdFx0XHRcdFx0c1BPZiA9IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9yaWdpbiwgcHJvdG8pIHtcblx0XHRcdFx0XHRcdC8vIHVzZSBzdWNoIGJ1ZyB0byBwcm9tb3RlXG5cdFx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXHRcdFx0XHRcdFx0b3JpZ2luLl9fcHJvdG9fXyA9IHByb3RvO1xuXHRcdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9yaWdpbjtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHRyeSB0byB1c2UgcHJvdG8gb3IgZmFsbGJhY2tcblx0XHRcdFx0XHQvLyBTYWZhcmksIG9sZCBGaXJlZm94LCBtYW55IG90aGVyc1xuXHRcdFx0XHRcdHNQT2YgPSBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvcmlnaW4sIHByb3RvKSB7XG5cdFx0XHRcdFx0XHQvLyBpZiBwcm90byBpcyBub3QgbnVsbFxuXHRcdFx0XHRcdFx0aWYgKGdldFByb3RvdHlwZU9mKG9yaWdpbikpIHtcblx0XHRcdFx0XHRcdFx0Ly8gdXNlIF9fcHJvdG9fXyB0byBwcm9tb3RlXG5cdFx0XHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdFx0XHRcdFx0XHRcdG9yaWdpbi5fX3Byb3RvX18gPSBwcm90bztcblx0XHRcdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHVuYWJsZSB0byBwcm9tb3RlOiBmYWxsYmFja1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY3JlYXRlQW5kQ29weShvcmlnaW4sIHByb3RvKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KE9iamVjdCwgJ3NldFByb3RvdHlwZU9mJywgc1BPZik7XG5cdH0oKSk7XG5cdGlmICghKFwiUHJvbWlzZVwiaW4gdGhpc1xuXHQpKSB7XG5cbi8vIFByb21pc2Vcblx0XHQhZnVuY3Rpb24obil7ZnVuY3Rpb24gdChyKXtpZihlW3JdKXJldHVybiBlW3JdLmV4cG9ydHM7dmFyIG89ZVtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG5bcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsdCksby5sPSEwLG8uZXhwb3J0c312YXIgZT17fTt0Lm09bix0LmM9ZSx0Lmk9ZnVuY3Rpb24obil7cmV0dXJuIG59LHQuZD1mdW5jdGlvbihuLGUscil7dC5vKG4sZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpyfSl9LHQubj1mdW5jdGlvbihuKXt2YXIgZT1uJiZuLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbltcImRlZmF1bHRcIl19OmZ1bmN0aW9uKCl7cmV0dXJuIG59O3JldHVybiB0LmQoZSxcImFcIixlKSxlfSx0Lm89ZnVuY3Rpb24obix0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCl9LHQucD1cIlwiLHQodC5zPTEwMCl9KHsxMDA6LyohKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZ2xvYmFsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cblx0XHRcdFx0ZnVuY3Rpb24obix0LGUpeyhmdW5jdGlvbihuKXt2YXIgdD1lKC8qISAuL3lha3UgKi81KTt0cnl7bi5Qcm9taXNlPXQsd2luZG93LlByb21pc2U9dH1jYXRjaChyKXt9fSkuY2FsbCh0LGUoLyohIC4vLi4vfi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovMikpfSwyOi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cdFx0XHRcdGZ1bmN0aW9uKG4sdCl7dmFyIGU7ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtlPWV8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKHIpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihlPXdpbmRvdyl9bi5leHBvcnRzPWV9LDU6LyohKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3lha3UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKi9cblx0XHRcdFx0ZnVuY3Rpb24obix0LGUpeyhmdW5jdGlvbih0KXshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKCl7cmV0dXJuIHJuW3FdW0JdfHxEfWZ1bmN0aW9uIHIobil7cmV0dXJuIG4mJlwib2JqZWN0XCI9PXR5cGVvZiBufWZ1bmN0aW9uIG8obil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbn1mdW5jdGlvbiBpKG4sdCl7cmV0dXJuIG4gaW5zdGFuY2VvZiB0fWZ1bmN0aW9uIHUobil7cmV0dXJuIGkobixNKX1mdW5jdGlvbiBjKG4sdCxlKXtpZighdChuKSl0aHJvdyBoKGUpfWZ1bmN0aW9uIGYoKXt0cnl7cmV0dXJuIFIuYXBwbHkoUyxhcmd1bWVudHMpfWNhdGNoKG4pe3JldHVybiBubi5lPW4sbm59fWZ1bmN0aW9uIHMobix0KXtyZXR1cm4gUj1uLFM9dCxmfWZ1bmN0aW9uIGEobix0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPTA7ZTxvOyl0KHJbZV0scltlKzFdKSxyW2UrK109UCxyW2UrK109UDtvPTAsci5sZW5ndGg+biYmKHIubGVuZ3RoPW4pfXZhciByPUEobiksbz0wO3JldHVybiBmdW5jdGlvbihuLHQpe3JbbysrXT1uLHJbbysrXT10LDI9PT1vJiZybi5uZXh0VGljayhlKX19ZnVuY3Rpb24gbChuLHQpe3ZhciBlLHIsdSxjLGY9MDtpZighbil0aHJvdyBoKFEpO3ZhciBhPW5bcm5bcV1bel1dO2lmKG8oYSkpcj1hLmNhbGwobik7ZWxzZXtpZighbyhuLm5leHQpKXtpZihpKG4sQSkpe2ZvcihlPW4ubGVuZ3RoO2Y8ZTspdChuW2ZdLGYrKyk7cmV0dXJuIGZ9dGhyb3cgaChRKX1yPW59Zm9yKDshKHU9ci5uZXh0KCkpLmRvbmU7KWlmKChjPXModCkodS52YWx1ZSxmKyspKT09PW5uKXRocm93IG8ocltHXSkmJnJbR10oKSxjLmU7cmV0dXJuIGZ9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihuKX1mdW5jdGlvbiB2KG4pe3JldHVybihuP1wiXCI6VikrKG5ldyBNKS5zdGFja31mdW5jdGlvbiBfKG4sdCl7dmFyIGU9XCJvblwiK24udG9Mb3dlckNhc2UoKSxyPU9bZV07SCYmSC5saXN0ZW5lcnMobikubGVuZ3RoP249PT1aP0guZW1pdChuLHQuX3YsdCk6SC5lbWl0KG4sdCk6cj9yKHtyZWFzb246dC5fdixwcm9taXNlOnR9KTpybltuXSh0Ll92LHQpfWZ1bmN0aW9uIHAobil7cmV0dXJuIG4mJm4uX3N9ZnVuY3Rpb24gZChuKXtpZihwKG4pKXJldHVybiBuZXcgbih0bik7dmFyIHQsZSxyO3JldHVybiB0PW5ldyBuKGZ1bmN0aW9uKG4sbyl7aWYodCl0aHJvdyBoKCk7ZT1uLHI9b30pLGMoZSxvKSxjKHIsbyksdH1mdW5jdGlvbiB3KG4sdCl7dmFyIGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHIpe2V8fChlPSEwLEwmJihuW05dPXYoITApKSx0PT09WT9rKG4scik6eChuLHQscikpfX1mdW5jdGlvbiB5KG4sdCxlLHIpe3JldHVybiBvKGUpJiYodC5fb25GdWxmaWxsZWQ9ZSksbyhyKSYmKG5bSl0mJl8oWCxuKSx0Ll9vblJlamVjdGVkPXIpLEwmJih0Ll9wPW4pLG5bbi5fYysrXT10LG4uX3MhPT0kJiZvbihuLHQpLHR9ZnVuY3Rpb24gbShuKXtpZihuLl91bWFyaylyZXR1cm4hMDtuLl91bWFyaz0hMDtmb3IodmFyIHQsZT0wLHI9bi5fYztlPHI7KWlmKHQ9bltlKytdLHQuX29uUmVqZWN0ZWR8fG0odCkpcmV0dXJuITB9ZnVuY3Rpb24gaihuLHQpe2Z1bmN0aW9uIGUobil7cmV0dXJuIHIucHVzaChuLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIikpfXZhciByPVtdO3JldHVybiBMJiYodFtOXSYmZSh0W05dKSxmdW5jdGlvbiBvKG4pe24mJksgaW4gbiYmKG8obi5fbmV4dCksZShuW0tdK1wiXCIpLG8obi5fcCkpfSh0KSksKG4mJm4uc3RhY2s/bi5zdGFjazpuKSsoXCJcXG5cIityLmpvaW4oXCJcXG5cIikpLnJlcGxhY2UoZW4sXCJcIil9ZnVuY3Rpb24gZyhuLHQpe3JldHVybiBuKHQpfWZ1bmN0aW9uIHgobix0LGUpe3ZhciByPTAsbz1uLl9jO2lmKG4uX3M9PT0kKWZvcihuLl9zPXQsbi5fdj1lLHQ9PT1VJiYoTCYmdShlKSYmKGUubG9uZ1N0YWNrPWooZSxuKSksdW4obikpO3I8bzspb24obixuW3IrK10pO3JldHVybiBufWZ1bmN0aW9uIGsobix0KXtpZih0PT09biYmdClyZXR1cm4geChuLFUsaChXKSksbjtpZih0IT09QyYmKG8odCl8fHIodCkpKXt2YXIgZT1zKGIpKHQpO2lmKGU9PT1ubilyZXR1cm4geChuLFUsZS5lKSxuO28oZSk/KEwmJnAodCkmJihuLl9uZXh0PXQpLHAodCk/VChuLHQsZSk6cm4ubmV4dFRpY2soZnVuY3Rpb24oKXtUKG4sdCxlKX0pKTp4KG4sWSx0KX1lbHNlIHgobixZLHQpO3JldHVybiBufWZ1bmN0aW9uIGIobil7cmV0dXJuIG4udGhlbn1mdW5jdGlvbiBUKG4sdCxlKXt2YXIgcj1zKGUsdCkoZnVuY3Rpb24oZSl7dCYmKHQ9QyxrKG4sZSkpfSxmdW5jdGlvbihlKXt0JiYodD1DLHgobixVLGUpKX0pO3I9PT1ubiYmdCYmKHgobixVLHIuZSksdD1DKX12YXIgUCxSLFMsQz1udWxsLEY9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYsTz1GP3NlbGY6dCxFPU8uUHJvbWlzZSxIPU8ucHJvY2VzcyxJPU8uY29uc29sZSxMPSExLEE9QXJyYXksTT1FcnJvcixVPTEsWT0yLCQ9MyxxPVwiU3ltYm9sXCIsej1cIml0ZXJhdG9yXCIsQj1cInNwZWNpZXNcIixEPXErXCIoXCIrQitcIilcIixHPVwicmV0dXJuXCIsSj1cIl91aFwiLEs9XCJfcHRcIixOPVwiX3N0XCIsUT1cIkludmFsaWQgYXJndW1lbnRcIixWPVwiXFxuRnJvbSBwcmV2aW91cyBcIixXPVwiQ2hhaW5pbmcgY3ljbGUgZGV0ZWN0ZWQgZm9yIHByb21pc2VcIixYPVwicmVqZWN0aW9uSGFuZGxlZFwiLFo9XCJ1bmhhbmRsZWRSZWplY3Rpb25cIixubj17ZTpDfSx0bj1mdW5jdGlvbigpe30sZW49L14uK1xcL25vZGVfbW9kdWxlc1xcL3lha3VcXC8uK1xcbj8vZ20scm49ZnVuY3Rpb24obil7dmFyIHQsZT10aGlzO2lmKCFyKGUpfHxlLl9zIT09UCl0aHJvdyBoKFwiSW52YWxpZCB0aGlzXCIpO2lmKGUuX3M9JCxMJiYoZVtLXT12KCkpLG4hPT10bil7aWYoIW8obikpdGhyb3cgaChRKTt0PXMobikodyhlLFkpLHcoZSxVKSksdD09PW5uJiZ4KGUsVSx0LmUpfX07cm5bXCJkZWZhdWx0XCJdPXJuLGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlIGluIHQpbltlXT10W2VdfShybi5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24obix0KXtpZih0aGlzLl9zPT09dW5kZWZpbmVkKXRocm93IGgoKTtyZXR1cm4geSh0aGlzLGQocm4uc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMscm4pKSxuLHQpfSxcImNhdGNoXCI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMudGhlbihQLG4pfSxcImZpbmFsbHlcIjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBybi5yZXNvbHZlKG4oKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0fSl9LGZ1bmN0aW9uKHQpe3JldHVybiBybi5yZXNvbHZlKG4oKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHR9KX0pfSxfYzowLF9wOkN9KSxybi5yZXNvbHZlPWZ1bmN0aW9uKG4pe3JldHVybiBwKG4pP246ayhkKHRoaXMpLG4pfSxybi5yZWplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIHgoZCh0aGlzKSxVLG4pfSxybi5yYWNlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsZT1kKHQpLHI9ZnVuY3Rpb24obil7eChlLFksbil9LG89ZnVuY3Rpb24obil7eChlLFUsbil9LGk9cyhsKShuLGZ1bmN0aW9uKG4pe3QucmVzb2x2ZShuKS50aGVuKHIsbyl9KTtyZXR1cm4gaT09PW5uP3QucmVqZWN0KGkuZSk6ZX0scm4uYWxsPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7eChvLFUsbil9dmFyIGUscj10aGlzLG89ZChyKSxpPVtdO3JldHVybihlPXMobCkobixmdW5jdGlvbihuLHUpe3IucmVzb2x2ZShuKS50aGVuKGZ1bmN0aW9uKG4pe2lbdV09biwtLWV8fHgobyxZLGkpfSx0KX0pKT09PW5uP3IucmVqZWN0KGUuZSk6KGV8fHgobyxZLFtdKSxvKX0scm4uU3ltYm9sPU9bcV18fHt9LHMoZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkocm4sZSgpLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0pKCkscm4uc3BlY2llc0NvbnN0cnVjdG9yPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bi5jb25zdHJ1Y3RvcjtyZXR1cm4gcj9yW2UoKV18fHQ6dH0scm4udW5oYW5kbGVkUmVqZWN0aW9uPWZ1bmN0aW9uKG4sdCl7SSYmSS5lcnJvcihcIlVuY2F1Z2h0IChpbiBwcm9taXNlKVwiLEw/dC5sb25nU3RhY2s6aihuLHQpKX0scm4ucmVqZWN0aW9uSGFuZGxlZD10bixybi5lbmFibGVMb25nU3RhY2tUcmFjZT1mdW5jdGlvbigpe0w9ITB9LHJuLm5leHRUaWNrPUY/ZnVuY3Rpb24obil7RT9uZXcgRShmdW5jdGlvbihuKXtuKCl9KS50aGVuKG4pOnNldFRpbWVvdXQobil9OkgubmV4dFRpY2sscm4uX3M9MTt2YXIgb249YSg5OTksZnVuY3Rpb24obix0KXt2YXIgZSxyO3JldHVybihyPW4uX3MhPT1VP3QuX29uRnVsZmlsbGVkOnQuX29uUmVqZWN0ZWQpPT09UD92b2lkIHgodCxuLl9zLG4uX3YpOihlPXMoZykocixuLl92KSk9PT1ubj92b2lkIHgodCxVLGUuZSk6dm9pZCBrKHQsZSl9KSx1bj1hKDksZnVuY3Rpb24obil7bShuKXx8KG5bSl09MSxfKFosbikpfSk7dHJ5e24uZXhwb3J0cz1ybn1jYXRjaChjbil7Ty5ZYWt1PXJufX0oKX0pLmNhbGwodCxlKC8qISAuLy4uL34vd2VicGFjay9idWlsZGluL2dsb2JhbC5qcyAqLzIpKX19KTtcblx0fVxuXG5cdGlmICghKFwiaW5jbHVkZXNcImluIFN0cmluZy5wcm90b3R5cGVcblx0KSkge1xuXG4vLyBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBJc1JlZ0V4cCwgUmVxdWlyZU9iamVjdENvZXJjaWJsZSwgVG9JbnRlZ2VyLCBUb1N0cmluZyAqL1xuLy8gMjEuMS4zLjcuIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgKCBzZWFyY2hTdHJpbmcgWyAsIHBvc2l0aW9uIF0gKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdpbmNsdWRlcycsIGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiBbICwgcG9zaXRpb24gXSAqLykge1xuXHRcdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFx0dmFyIHBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdFx0XHQvLyAxLiBMZXQgTyBiZSA/IFJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyB2YWx1ZSkuXG5cdFx0XHR2YXIgTyA9IFJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG5cdFx0XHQvLyAyLiBMZXQgUyBiZSA/IFRvU3RyaW5nKE8pLlxuXHRcdFx0dmFyIFMgPSBUb1N0cmluZyhPKTtcblx0XHRcdC8vIDMuIExldCBpc1JlZ0V4cCBiZSA/IElzUmVnRXhwKHNlYXJjaFN0cmluZykuXG5cdFx0XHR2YXIgaXNSZWdFeHAgPSBJc1JlZ0V4cChzZWFyY2hTdHJpbmcpO1xuXHRcdFx0Ly8gNC4gSWYgaXNSZWdFeHAgaXMgdHJ1ZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuXHRcdFx0aWYgKGlzUmVnRXhwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgbXVzdCBub3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb24nKTtcblx0XHRcdH1cblx0XHRcdC8vIDUuIExldCBzZWFyY2hTdHIgYmUgPyBUb1N0cmluZyhzZWFyY2hTdHJpbmcpLlxuXHRcdFx0dmFyIHNlYXJjaFN0ciA9IFRvU3RyaW5nKHNlYXJjaFN0cmluZyk7XG5cdFx0XHQvLyA2LiBMZXQgcG9zIGJlID8gVG9JbnRlZ2VyKHBvc2l0aW9uKS4gKElmIHBvc2l0aW9uIGlzIHVuZGVmaW5lZCwgdGhpcyBzdGVwIHByb2R1Y2VzIHRoZSB2YWx1ZSAwLilcblx0XHRcdHZhciBwb3MgPSBUb0ludGVnZXIocG9zaXRpb24pO1xuXHRcdFx0Ly8gNy4gTGV0IGxlbiBiZSB0aGUgbGVuZ3RoIG9mIFMuXG5cdFx0XHR2YXIgbGVuID0gUy5sZW5ndGg7XG5cdFx0XHQvLyA4LiBMZXQgc3RhcnQgYmUgbWluKG1heChwb3MsIDApLCBsZW4pLlxuXHRcdFx0dmFyIHN0YXJ0ID0gTWF0aC5taW4oTWF0aC5tYXgocG9zLCAwKSwgbGVuKTtcblx0XHRcdC8vIDkuIExldCBzZWFyY2hMZW4gYmUgdGhlIGxlbmd0aCBvZiBzZWFyY2hTdHIuXG5cdFx0XHQvLyB2YXIgc2VhcmNoTGVuZ3RoID0gc2VhcmNoU3RyLmxlbmd0aDtcblx0XHRcdC8vIDEwLiBJZiB0aGVyZSBleGlzdHMgYW55IGludGVnZXIgayBub3Qgc21hbGxlciB0aGFuIHN0YXJ0IHN1Y2ggdGhhdCBrICsgc2VhcmNoTGVuIGlzIG5vdCBncmVhdGVyIHRoYW4gbGVuLCBhbmQgZm9yIGFsbCBub25uZWdhdGl2ZSBpbnRlZ2VycyBqIGxlc3MgdGhhbiBzZWFyY2hMZW4sIHRoZSBjb2RlIHVuaXQgYXQgaW5kZXggaytqIHdpdGhpbiBTIGlzIHRoZSBzYW1lIGFzIHRoZSBjb2RlIHVuaXQgYXQgaW5kZXggaiB3aXRoaW4gc2VhcmNoU3RyLCByZXR1cm4gdHJ1ZTsgYnV0IGlmIHRoZXJlIGlzIG5vIHN1Y2ggaW50ZWdlciBrLCByZXR1cm4gZmFsc2UuXG5cdFx0XHRyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmNhbGwoUywgc2VhcmNoU3RyLCBzdGFydCkgIT09IC0xO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIShcIlN5bWJvbFwiaW4gdGhpcyYmMD09PXRoaXMuU3ltYm9sLmxlbmd0aFxuXHQpKSB7XG5cbi8vIFN5bWJvbFxuLy8gQSBtb2RpZmljYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL1dlYlJlZmxlY3Rpb24vZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzXG4vLyAoQykgQW5kcmVhIEdpYW1tYXJjaGkgLSBNSVQgTGljZW5zZWRcblxuXHRcdChmdW5jdGlvbiAoT2JqZWN0LCBHT1BTLCBnbG9iYWwpIHtcblx0XHRcdCd1c2Ugc3RyaWN0JzsgLy9zbyB0aGF0ICh7fSkudG9TdHJpbmcuY2FsbChudWxsKSByZXR1cm5zIHRoZSBjb3JyZWN0IFtvYmplY3QgTnVsbF0gcmF0aGVyIHRoYW4gW29iamVjdCBXaW5kb3ddXG5cblx0XHRcdHZhclx0c2V0RGVzY3JpcHRvcjtcblx0XHRcdHZhciBpZCA9IDA7XG5cdFx0XHR2YXIgcmFuZG9tID0gJycgKyBNYXRoLnJhbmRvbSgpO1xuXHRcdFx0dmFyIHByZWZpeCA9ICdfX1xceDAxc3ltYm9sOic7XG5cdFx0XHR2YXIgcHJlZml4TGVuZ3RoID0gcHJlZml4Lmxlbmd0aDtcblx0XHRcdHZhciBpbnRlcm5hbFN5bWJvbCA9ICdfX1xceDAxc3ltYm9sQEAnICsgcmFuZG9tO1xuXHRcdFx0dmFyIERQID0gJ2RlZmluZVByb3BlcnR5Jztcblx0XHRcdHZhciBEUGllcyA9ICdkZWZpbmVQcm9wZXJ0aWVzJztcblx0XHRcdHZhciBHT1BOID0gJ2dldE93blByb3BlcnR5TmFtZXMnO1xuXHRcdFx0dmFyIEdPUEQgPSAnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJztcblx0XHRcdHZhciBQSUUgPSAncHJvcGVydHlJc0VudW1lcmFibGUnO1xuXHRcdFx0dmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XHRcdHZhciBoT1AgPSBPYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XHRcdHZhciBwSUUgPSBPYmplY3RQcm90b1tQSUVdO1xuXHRcdFx0dmFyIHRvU3RyaW5nID0gT2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFx0XHR2YXIgY29uY2F0ID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdDtcblx0XHRcdHZhciBjYWNoZWRXaW5kb3dOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXHRcdFx0dmFyIG5HT1BOID0gT2JqZWN0W0dPUE5dO1xuXHRcdFx0dmFyIGdPUE4gPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzIChvYmopIHtcblx0XHRcdFx0aWYgKHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgV2luZG93XScpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG5HT1BOKG9iaik7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gSUUgYnVnIHdoZXJlIGxheW91dCBlbmdpbmUgY2FsbHMgdXNlcmxhbmQgZ09QTiBmb3IgY3Jvc3MtZG9tYWluIGB3aW5kb3dgIG9iamVjdHNcblx0XHRcdFx0XHRcdHJldHVybiBjb25jYXQuY2FsbChbXSwgY2FjaGVkV2luZG93TmFtZXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbkdPUE4ob2JqKTtcblx0XHRcdH07XG5cdFx0XHR2YXIgZ09QRCA9IE9iamVjdFtHT1BEXTtcblx0XHRcdHZhciBjcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXHRcdFx0dmFyIGtleXMgPSBPYmplY3Qua2V5cztcblx0XHRcdHZhciBmcmVlemUgPSBPYmplY3QuZnJlZXplIHx8IE9iamVjdDtcblx0XHRcdHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdFtEUF07XG5cdFx0XHR2YXIgJGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3RbRFBpZXNdO1xuXHRcdFx0dmFyIGRlc2NyaXB0b3IgPSBnT1BEKE9iamVjdCwgR09QTik7XG5cdFx0XHR2YXIgYWRkSW50ZXJuYWxJZk5lZWRlZCA9IGZ1bmN0aW9uIChvLCB1aWQsIGVudW1lcmFibGUpIHtcblx0XHRcdFx0aWYgKCFoT1AuY2FsbChvLCBpbnRlcm5hbFN5bWJvbCkpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkobywgaW50ZXJuYWxTeW1ib2wsIHtcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IHt9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRvW2ludGVybmFsU3ltYm9sXSA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRvW2ludGVybmFsU3ltYm9sXVsnQEAnICsgdWlkXSA9IGVudW1lcmFibGU7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIGNyZWF0ZVdpdGhTeW1ib2xzID0gZnVuY3Rpb24gKHByb3RvLCBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHR2YXIgc2VsZiA9IGNyZWF0ZShwcm90byk7XG5cdFx0XHRcdGdPUE4oZGVzY3JpcHRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdGlmIChwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGRlc2NyaXB0b3JzLCBrZXkpKSB7XG5cdFx0XHRcdFx0XHQkZGVmaW5lUHJvcGVydHkoc2VsZiwga2V5LCBkZXNjcmlwdG9yc1trZXldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gc2VsZjtcblx0XHRcdH07XG5cdFx0XHR2YXIgY29weUFzTm9uRW51bWVyYWJsZSA9IGZ1bmN0aW9uIChkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHZhciBuZXdEZXNjcmlwdG9yID0gY3JlYXRlKGRlc2NyaXB0b3IpO1xuXHRcdFx0XHRuZXdEZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIG5ld0Rlc2NyaXB0b3I7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIGdldCA9IGZ1bmN0aW9uIGdldCgpe307XG5cdFx0XHR2YXIgb25seU5vblN5bWJvbHMgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gbmFtZSAhPSBpbnRlcm5hbFN5bWJvbCAmJlxuXHRcdFx0XHRcdCFoT1AuY2FsbChzb3VyY2UsIG5hbWUpO1xuXHRcdFx0fTtcblx0XHRcdHZhciBvbmx5U3ltYm9scyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdHJldHVybiBuYW1lICE9IGludGVybmFsU3ltYm9sICYmXG5cdFx0XHRcdFx0aE9QLmNhbGwoc291cmNlLCBuYW1lKTtcblx0XHRcdH07XG5cdFx0XHR2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcblx0XHRcdFx0dmFyIHVpZCA9ICcnICsga2V5O1xuXHRcdFx0XHRyZXR1cm4gb25seVN5bWJvbHModWlkKSA/IChcblx0XHRcdFx0XHRoT1AuY2FsbCh0aGlzLCB1aWQpICYmXG5cdFx0XHRcdFx0dGhpc1tpbnRlcm5hbFN5bWJvbF1bJ0BAJyArIHVpZF1cblx0XHRcdFx0KSA6IHBJRS5jYWxsKHRoaXMsIGtleSk7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIHNldEFuZEdldFN5bWJvbCA9IGZ1bmN0aW9uICh1aWQpIHtcblx0XHRcdFx0dmFyIGRlc2NyaXB0b3IgPSB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZ2V0LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRzZXREZXNjcmlwdG9yKHRoaXMsIHVpZCwge1xuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGFkZEludGVybmFsSWZOZWVkZWQodGhpcywgdWlkLCB0cnVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG8sIHVpZCwgZGVzY3JpcHRvcik7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRPYmplY3RQcm90b1t1aWRdID0gZGVzY3JpcHRvci52YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZnJlZXplKHNvdXJjZVt1aWRdID0gZGVmaW5lUHJvcGVydHkoXG5cdFx0XHRcdFx0T2JqZWN0KHVpZCksXG5cdFx0XHRcdFx0J2NvbnN0cnVjdG9yJyxcblx0XHRcdFx0XHRzb3VyY2VDb25zdHJ1Y3RvclxuXHRcdFx0XHQpKTtcblx0XHRcdH07XG5cdFx0XHR2YXIgU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuXHRcdFx0XHR2YXIgZGVzY3JpcHRpb24gPSBhcmd1bWVudHNbMF07XG5cdFx0XHRcdGlmICh0aGlzIGluc3RhbmNlb2YgU3ltYm9sKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldEFuZEdldFN5bWJvbChcblx0XHRcdFx0XHRwcmVmaXguY29uY2F0KGRlc2NyaXB0aW9uIHx8ICcnLCByYW5kb20sICsraWQpXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIHNvdXJjZSA9IGNyZWF0ZShudWxsKTtcblx0XHRcdHZhciBzb3VyY2VDb25zdHJ1Y3RvciA9IHt2YWx1ZTogU3ltYm9sfTtcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBmdW5jdGlvbiAodWlkKSB7XG5cdFx0XHRcdHJldHVybiBzb3VyY2VbdWlkXTtcblx0XHRcdH07XG5cdFx0XHR2YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcChvLCBrZXksIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dmFyIHVpZCA9ICcnICsga2V5O1xuXHRcdFx0XHRpZiAob25seVN5bWJvbHModWlkKSkge1xuXHRcdFx0XHRcdHNldERlc2NyaXB0b3IobywgdWlkLCBkZXNjcmlwdG9yLmVudW1lcmFibGUgP1xuXHRcdFx0XHRcdFx0Y29weUFzTm9uRW51bWVyYWJsZShkZXNjcmlwdG9yKSA6IGRlc2NyaXB0b3IpO1xuXHRcdFx0XHRcdGFkZEludGVybmFsSWZOZWVkZWQobywgdWlkLCAhIWRlc2NyaXB0b3IuZW51bWVyYWJsZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkobywga2V5LCBkZXNjcmlwdG9yKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdH07XG5cblx0XHRcdHZhciBvbmx5SW50ZXJuYWxTeW1ib2xzID0gZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gaE9QLmNhbGwob2JqLCBpbnRlcm5hbFN5bWJvbCkgJiYgaE9QLmNhbGwob2JqW2ludGVybmFsU3ltYm9sXSwgJ0BAJyArIG5hbWUpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHRcdHZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKG8pIHtcblx0XHRcdFx0XHRyZXR1cm4gZ09QTihvKS5maWx0ZXIobyA9PT0gT2JqZWN0UHJvdG8gPyBvbmx5SW50ZXJuYWxTeW1ib2xzKG8pIDogb25seVN5bWJvbHMpLm1hcChzb3VyY2VNYXApO1xuXHRcdFx0XHR9XG5cdFx0XHQ7XG5cblx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSAkZGVmaW5lUHJvcGVydHk7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3QsIERQLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3QsIEdPUFMsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhvKSB7XG5cdFx0XHRcdHJldHVybiBnT1BOKG8pLmZpbHRlcihvbmx5Tm9uU3ltYm9scyk7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoT2JqZWN0LCBHT1BOLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMobywgZGVzY3JpcHRvcnMpIHtcblx0XHRcdFx0dmFyIHN5bWJvbHMgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzKGRlc2NyaXB0b3JzKTtcblx0XHRcdFx0aWYgKHN5bWJvbHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0a2V5cyhkZXNjcmlwdG9ycykuY29uY2F0KHN5bWJvbHMpLmZvckVhY2goZnVuY3Rpb24gKHVpZCkge1xuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZGVzY3JpcHRvcnMsIHVpZCkpIHtcblx0XHRcdFx0XHRcdFx0JGRlZmluZVByb3BlcnR5KG8sIHVpZCwgZGVzY3JpcHRvcnNbdWlkXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGRlZmluZVByb3BlcnRpZXMobywgZGVzY3JpcHRvcnMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvO1xuXHRcdFx0fTtcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdCwgRFBpZXMsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gcHJvcGVydHlJc0VudW1lcmFibGU7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90bywgUElFLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IFN5bWJvbDtcblx0XHRcdGRlZmluZVByb3BlcnR5KGdsb2JhbCwgJ1N5bWJvbCcsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHQvLyBkZWZpbmluZyBgU3ltYm9sLmZvcihrZXkpYFxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0dmFyIHVpZCA9IHByZWZpeC5jb25jYXQocHJlZml4LCBrZXksIHJhbmRvbSk7XG5cdFx0XHRcdHJldHVybiB1aWQgaW4gT2JqZWN0UHJvdG8gPyBzb3VyY2VbdWlkXSA6IHNldEFuZEdldFN5bWJvbCh1aWQpO1xuXHRcdFx0fTtcblx0XHRcdGRlZmluZVByb3BlcnR5KFN5bWJvbCwgJ2ZvcicsIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHQvLyBkZWZpbmluZyBgU3ltYm9sLmtleUZvcihzeW1ib2wpYFxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIChzeW1ib2wpIHtcblx0XHRcdFx0aWYgKG9ubHlOb25TeW1ib2xzKHN5bWJvbCkpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihzeW1ib2wgKyAnIGlzIG5vdCBhIHN5bWJvbCcpO1xuXHRcdFx0XHRyZXR1cm4gaE9QLmNhbGwoc291cmNlLCBzeW1ib2wpID9cblx0XHRcdFx0XHRzeW1ib2wuc2xpY2UocHJlZml4TGVuZ3RoICogMiwgLXJhbmRvbS5sZW5ndGgpIDpcblx0XHRcdFx0XHR2b2lkIDBcblx0XHRcdFx0XHQ7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkoU3ltYm9sLCAna2V5Rm9yJywgZGVzY3JpcHRvcik7XG5cblx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobywga2V5KSB7XG5cdFx0XHRcdHZhciBkZXNjcmlwdG9yID0gZ09QRChvLCBrZXkpO1xuXHRcdFx0XHRpZiAoZGVzY3JpcHRvciAmJiBvbmx5U3ltYm9scyhrZXkpKSB7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkZXNjcmlwdG9yO1xuXHRcdFx0fTtcblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdCwgR09QRCwgZGVzY3JpcHRvcik7XG5cblx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAocHJvdG8sIGRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxIHx8IHR5cGVvZiBkZXNjcmlwdG9ycyA9PT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdFx0Y3JlYXRlKHByb3RvKSA6XG5cdFx0XHRcdFx0Y3JlYXRlV2l0aFN5bWJvbHMocHJvdG8sIGRlc2NyaXB0b3JzKTtcblx0XHRcdH07XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3QsICdjcmVhdGUnLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0dmFyIHN0cmljdE1vZGVTdXBwb3J0ZWQgPSAoZnVuY3Rpb24oKXsgJ3VzZSBzdHJpY3QnOyByZXR1cm4gdGhpczsgfSkuY2FsbChudWxsKSA9PT0gbnVsbDtcblx0XHRcdGlmIChzdHJpY3RNb2RlU3VwcG9ydGVkKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpcyk7XG5cdFx0XHRcdFx0cmV0dXJuIChzdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmIG9ubHlTeW1ib2xzKHRoaXMpKSA/ICdbb2JqZWN0IFN5bWJvbF0nIDogc3RyO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLWxpYnJhcnkvaXNzdWVzLzE2NCNpc3N1ZWNvbW1lbnQtNDg2OTY1MzAwXG5cdFx0XHRcdFx0Ly8gUG9seWZpbGwuaW8gdGhpcyBjb2RlIGlzIGhlcmUgZm9yIHRoZSBzaXR1YXRpb24gd2hlcmUgYSBicm93c2VyIGRvZXMgbm90XG5cdFx0XHRcdFx0Ly8gc3VwcG9ydCBzdHJpY3QgbW9kZSBhbmQgaXMgZXhlY3V0aW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobnVsbClgLlxuXHRcdFx0XHRcdC8vIFRoaXMgY29kZSBlbnN1cmVzIHRoYXQgd2UgcmV0dXJuIHRoZSBjb3JyZWN0IHJlc3VsdCBpbiB0aGF0IHNpdHVhdGlvbiBob3dldmVyLFxuXHRcdFx0XHRcdC8vIHRoaXMgY29kZSBhbHNvIGludHJvZHVjZXMgYSBidWcgd2hlcmUgaXQgd2lsbCByZXR1cm4gdGhlIGluY29ycmVjdCByZXN1bHQgZm9yXG5cdFx0XHRcdFx0Ly8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cpYC4gV2UgY2FuJ3QgaGF2ZSB0aGUgY29ycmVjdCByZXN1bHQgZm9yXG5cdFx0XHRcdFx0Ly8gYm90aCBgd2luZG93YCBhbmQgYG51bGxgLCBzbyB3ZSBoYXZlIG9wdGVkIGZvciBgbnVsbGAgYXMgd2UgYmVsaWV2ZSB0aGlzIGlzIHRoZSBtb3JlXG5cdFx0XHRcdFx0Ly8gY29tbW9uIHNpdHVhdGlvbi5cblx0XHRcdFx0XHRpZiAodGhpcyA9PT0gd2luZG93KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJ1tvYmplY3QgTnVsbF0nO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdHJldHVybiAoc3RyID09PSAnW29iamVjdCBTdHJpbmddJyAmJiBvbmx5U3ltYm9scyh0aGlzKSkgPyAnW29iamVjdCBTeW1ib2xdJyA6IHN0cjtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvLCAndG9TdHJpbmcnLCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0c2V0RGVzY3JpcHRvciA9IGZ1bmN0aW9uIChvLCBrZXksIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dmFyIHByb3RvRGVzY3JpcHRvciA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG5cdFx0XHRcdGRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuXHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShvLCBrZXksIGRlc2NyaXB0b3IpO1xuXHRcdFx0XHRpZiAobyAhPT0gT2JqZWN0UHJvdG8pIHtcblx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2NyaXB0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0fShPYmplY3QsICdnZXRPd25Qcm9wZXJ0eVN5bWJvbHMnLCB0aGlzKSk7XG5cblx0fVxuXG5cdGlmICghKFwiU3ltYm9sXCJpbiB0aGlzJiZcIml0ZXJhdG9yXCJpbiB0aGlzLlN5bWJvbFxuXHQpKSB7XG5cbi8vIFN5bWJvbC5pdGVyYXRvclxuXHRcdC8qIGdsb2JhbCBTeW1ib2wgKi9cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ltYm9sLCAnaXRlcmF0b3InLCB7IHZhbHVlOiBTeW1ib2woJ2l0ZXJhdG9yJykgfSk7XG5cblx0fVxuXG5cdGlmICghKFwiU3ltYm9sXCJpbiB0aGlzJiZcInRvU3RyaW5nVGFnXCJpbiB0aGlzLlN5bWJvbFxuXHQpKSB7XG5cbi8vIFN5bWJvbC50b1N0cmluZ1RhZ1xuXHRcdC8qIGdsb2JhbCBTeW1ib2wgKi9cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ltYm9sLCAndG9TdHJpbmdUYWcnLCB7XG5cdFx0XHR2YWx1ZTogU3ltYm9sKCd0b1N0cmluZ1RhZycpXG5cdFx0fSk7XG5cblx0fVxuXG5cbi8vIF9JdGVyYXRvclxuXHQvKiBnbG9iYWwgU3ltYm9sICovXG4vLyBBIG1vZGlmaWNhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtaXRlcmF0b3Jcbi8vIENvcHlyaWdodCAoQykgMjAxMy0yMDE1IE1hcml1c3ogTm93YWsgKHd3dy5tZWRpa29vLmNvbSlcblxuXHR2YXIgSXRlcmF0b3IgPSAoZnVuY3Rpb24gKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0dmFyIGNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5sZW5ndGggPSAwO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fTtcblx0XHR2YXIgY2FsbGFibGUgPSBmdW5jdGlvbiAoZm4pIHtcblx0XHRcdGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcblx0XHRcdHJldHVybiBmbjtcblx0XHR9O1xuXG5cdFx0dmFyIEl0ZXJhdG9yID0gZnVuY3Rpb24gKGxpc3QsIGNvbnRleHQpIHtcblx0XHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBJdGVyYXRvcikpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBJdGVyYXRvcihsaXN0LCBjb250ZXh0KTtcblx0XHRcdH1cblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcblx0XHRcdFx0X19saXN0X186IHtcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogbGlzdFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRfX2NvbnRleHRfXzoge1xuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiBjb250ZXh0XG5cdFx0XHRcdH0sXG5cdFx0XHRcdF9fbmV4dEluZGV4X186IHtcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogMFxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmICghY29udGV4dCkgcmV0dXJuO1xuXHRcdFx0Y2FsbGFibGUoY29udGV4dC5vbik7XG5cdFx0XHRjb250ZXh0Lm9uKCdfYWRkJywgdGhpcy5fb25BZGQuYmluZCh0aGlzKSk7XG5cdFx0XHRjb250ZXh0Lm9uKCdfZGVsZXRlJywgdGhpcy5fb25EZWxldGUuYmluZCh0aGlzKSk7XG5cdFx0XHRjb250ZXh0Lm9uKCdfY2xlYXInLCB0aGlzLl9vbkNsZWFyLmJpbmQodGhpcykpO1xuXHRcdH07XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJdGVyYXRvci5wcm90b3R5cGUsIE9iamVjdC5hc3NpZ24oe1xuXHRcdFx0Y29uc3RydWN0b3I6IHtcblx0XHRcdFx0dmFsdWU6IEl0ZXJhdG9yLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdF9uZXh0OiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIGk7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLl9fbGlzdF9fKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKHRoaXMuX19yZWRvX18pIHtcblx0XHRcdFx0XHRcdGkgPSB0aGlzLl9fcmVkb19fLnNoaWZ0KCk7XG5cdFx0XHRcdFx0XHRpZiAoaSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gaTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRoaXMuX19uZXh0SW5kZXhfXyA8IHRoaXMuX19saXN0X18ubGVuZ3RoKSByZXR1cm4gdGhpcy5fX25leHRJbmRleF9fKys7XG5cdFx0XHRcdFx0dGhpcy5fdW5CaW5kKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0bmV4dDoge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl9jcmVhdGVSZXN1bHQodGhpcy5fbmV4dCgpKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRfY3JlYXRlUmVzdWx0OiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRcdGlmIChpID09PSB1bmRlZmluZWQpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRkb25lOiB0cnVlLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGRvbmU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHRoaXMuX3Jlc29sdmUoaSlcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdF9yZXNvbHZlOiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl9fbGlzdF9fW2ldO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdF91bkJpbmQ6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLl9fbGlzdF9fID0gbnVsbDtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5fX3JlZG9fXztcblx0XHRcdFx0XHRpZiAoIXRoaXMuX19jb250ZXh0X18pIHJldHVybjtcblx0XHRcdFx0XHR0aGlzLl9fY29udGV4dF9fLm9mZignX2FkZCcsIHRoaXMuX29uQWRkLmJpbmQodGhpcykpO1xuXHRcdFx0XHRcdHRoaXMuX19jb250ZXh0X18ub2ZmKCdfZGVsZXRlJywgdGhpcy5fb25EZWxldGUuYmluZCh0aGlzKSk7XG5cdFx0XHRcdFx0dGhpcy5fX2NvbnRleHRfXy5vZmYoJ19jbGVhcicsIHRoaXMuX29uQ2xlYXIuYmluZCh0aGlzKSk7XG5cdFx0XHRcdFx0dGhpcy5fX2NvbnRleHRfXyA9IG51bGw7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0dG9TdHJpbmc6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gJ1tvYmplY3QgSXRlcmF0b3JdJztcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRfb25BZGQ6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdFx0XHRcdGlmIChpbmRleCA+PSB0aGlzLl9fbmV4dEluZGV4X18pIHJldHVybjtcblx0XHRcdFx0XHQrK3RoaXMuX19uZXh0SW5kZXhfXztcblx0XHRcdFx0XHRpZiAoIXRoaXMuX19yZWRvX18pIHtcblx0XHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX19yZWRvX18nLCB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBbaW5kZXhdLFxuXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLl9fcmVkb19fLmZvckVhY2goZnVuY3Rpb24gKHJlZG8sIGkpIHtcblx0XHRcdFx0XHRcdGlmIChyZWRvID49IGluZGV4KSB0aGlzLl9fcmVkb19fW2ldID0gKytyZWRvO1xuXHRcdFx0XHRcdH0sIHRoaXMpO1xuXHRcdFx0XHRcdHRoaXMuX19yZWRvX18ucHVzaChpbmRleCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0X29uRGVsZXRlOiB7XG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHRcdFx0XHR2YXIgaTtcblx0XHRcdFx0XHRpZiAoaW5kZXggPj0gdGhpcy5fX25leHRJbmRleF9fKSByZXR1cm47XG5cdFx0XHRcdFx0LS10aGlzLl9fbmV4dEluZGV4X187XG5cdFx0XHRcdFx0aWYgKCF0aGlzLl9fcmVkb19fKSByZXR1cm47XG5cdFx0XHRcdFx0aSA9IHRoaXMuX19yZWRvX18uaW5kZXhPZihpbmRleCk7XG5cdFx0XHRcdFx0aWYgKGkgIT09IC0xKSB0aGlzLl9fcmVkb19fLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHR0aGlzLl9fcmVkb19fLmZvckVhY2goZnVuY3Rpb24gKHJlZG8sIGkpIHtcblx0XHRcdFx0XHRcdGlmIChyZWRvID4gaW5kZXgpIHRoaXMuX19yZWRvX19baV0gPSAtLXJlZG87XG5cdFx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0X29uQ2xlYXI6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5fX3JlZG9fXykgY2xlYXIuY2FsbCh0aGlzLl9fcmVkb19fKTtcblx0XHRcdFx0XHR0aGlzLl9fbmV4dEluZGV4X18gPSAwO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0pKTtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsIFN5bWJvbC5pdGVyYXRvciwge1xuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHRcdFx0dmFsdWU6ICdJdGVyYXRvcicsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIEl0ZXJhdG9yO1xuXHR9KCkpO1xuXG4vLyBfQXJyYXlJdGVyYXRvclxuXHQvKiBnbG9iYWwgSXRlcmF0b3IgKi9cbi8vIEEgbW9kaWZpY2F0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1pdGVyYXRvclxuLy8gQ29weXJpZ2h0IChDKSAyMDEzLTIwMTUgTWFyaXVzeiBOb3dhayAod3d3Lm1lZGlrb28uY29tKVxuXG5cdHZhciBBcnJheUl0ZXJhdG9yID0gKGZ1bmN0aW9uKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cblx0XHR2YXIgQXJyYXlJdGVyYXRvciA9IGZ1bmN0aW9uKGFyciwga2luZCkge1xuXHRcdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEFycmF5SXRlcmF0b3IpKSByZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IoYXJyLCBraW5kKTtcblx0XHRcdEl0ZXJhdG9yLmNhbGwodGhpcywgYXJyKTtcblx0XHRcdGlmICgha2luZCkga2luZCA9ICd2YWx1ZSc7XG5cdFx0XHRlbHNlIGlmIChTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzLmNhbGwoa2luZCwgJ2tleSt2YWx1ZScpKSBraW5kID0gJ2tleSt2YWx1ZSc7XG5cdFx0XHRlbHNlIGlmIChTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzLmNhbGwoa2luZCwgJ2tleScpKSBraW5kID0gJ2tleSc7XG5cdFx0XHRlbHNlIGtpbmQgPSAndmFsdWUnO1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfX2tpbmRfXycsIHtcblx0XHRcdFx0dmFsdWU6IGtpbmQsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0aWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgT2JqZWN0LnNldFByb3RvdHlwZU9mKEFycmF5SXRlcmF0b3IsIEl0ZXJhdG9yLnByb3RvdHlwZSk7XG5cblx0XHRBcnJheUl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3IucHJvdG90eXBlLCB7XG5cdFx0XHRjb25zdHJ1Y3Rvcjoge1xuXHRcdFx0XHR2YWx1ZTogQXJyYXlJdGVyYXRvcixcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRfcmVzb2x2ZToge1xuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24oaSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLl9fa2luZF9fID09PSAndmFsdWUnKSByZXR1cm4gdGhpcy5fX2xpc3RfX1tpXTtcblx0XHRcdFx0XHRpZiAodGhpcy5fX2tpbmRfXyA9PT0gJ2tleSt2YWx1ZScpIHJldHVybiBbaSwgdGhpcy5fX2xpc3RfX1tpXV07XG5cdFx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0dG9TdHJpbmc6IHtcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiAnW29iamVjdCBBcnJheSBJdGVyYXRvcl0nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIEFycmF5SXRlcmF0b3I7XG5cdH0oKSk7XG5cdGlmICghKFwiU3ltYm9sXCJpbiB0aGlzJiZcIml0ZXJhdG9yXCJpbiB0aGlzLlN5bWJvbCYmISFBcnJheS5wcm90b3R5cGUuZW50cmllc1xuXHQpKSB7XG5cbi8vIEFycmF5LnByb3RvdHlwZS5lbnRyaWVzXG5cdFx0LyogZ2xvYmFsIENyZWF0ZU1ldGhvZFByb3BlcnR5LCBUb09iamVjdCAqL1xuLy8gMjIuMS4zLjQuIEFycmF5LnByb3RvdHlwZS5lbnRyaWVzICggKVxuXHRcdENyZWF0ZU1ldGhvZFByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2VudHJpZXMnLCBmdW5jdGlvbiBlbnRyaWVzKCkge1xuXHRcdFx0Ly8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cblx0XHRcdHZhciBPID0gVG9PYmplY3QodGhpcyk7XG5cdFx0XHQvLyAyLiBSZXR1cm4gQ3JlYXRlQXJyYXlJdGVyYXRvcihPLCBcImtleSt2YWx1ZVwiKS5cblx0XHRcdC8vIFRPRE86IEFkZCBDcmVhdGVBcnJheUl0ZXJhdG9yXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IoTywgJ2tleSt2YWx1ZScpO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoISgoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCJcblx0XHRcdHRyeXt2YXIgYT1uZXcgZS5VUkwoXCJodHRwOi8vZXhhbXBsZS5jb21cIilcblx0XHRcdFx0aWYoXCJocmVmXCJpbiBhJiZcInNlYXJjaFBhcmFtc1wiaW4gYSl7dmFyIHI9bmV3IFVSTChcImh0dHA6Ly9leGFtcGxlLmNvbVwiKVxuXHRcdFx0XHRcdGlmKHIuc2VhcmNoPVwiYT0xJmI9MlwiLFwiaHR0cDovL2V4YW1wbGUuY29tLz9hPTEmYj0yXCI9PT1yLmhyZWYmJihyLnNlYXJjaD1cIlwiLFwiaHR0cDovL2V4YW1wbGUuY29tL1wiPT09ci5ocmVmKSl7dmFyIHQ9bmV3IGUuVVJMU2VhcmNoUGFyYW1zKFwiYT0xXCIpLGg9bmV3IGUuVVJMU2VhcmNoUGFyYW1zKHQpXG5cdFx0XHRcdFx0XHRpZihcImE9MVwiPT09U3RyaW5nKGgpKXJldHVybiEwfX1yZXR1cm4hMX1jYXRjaChjKXtyZXR1cm4hMX19KSh0aGlzKVxuXHQpKSB7XG5cbi8vIFVSTFxuXHRcdC8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIFVSTCBQb2x5ZmlsbFxuLy8gRHJhZnQgc3BlY2lmaWNhdGlvbjogaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnXG5cbi8vIE5vdGVzOlxuLy8gLSBQcmltYXJpbHkgdXNlZnVsIGZvciBwYXJzaW5nIFVSTHMgYW5kIG1vZGlmeWluZyBxdWVyeSBwYXJhbWV0ZXJzXG4vLyAtIFNob3VsZCB3b3JrIGluIElFOCsgYW5kIGV2ZXJ5dGhpbmcgbW9yZSBtb2Rlcm4sIHdpdGggZXM1LmpzIHBvbHlmaWxsc1xuXG5cdFx0KGZ1bmN0aW9uIChnbG9iYWwpIHtcblx0XHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdFx0ZnVuY3Rpb24gaXNTZXF1ZW5jZShvKSB7XG5cdFx0XHRcdGlmICghbykgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZiAoJ1N5bWJvbCcgaW4gZ2xvYmFsICYmICdpdGVyYXRvcicgaW4gZ2xvYmFsLlN5bWJvbCAmJlxuXHRcdFx0XHRcdHR5cGVvZiBvW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHJldHVybiB0cnVlO1xuXHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShvKSkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gdG9BcnJheShpdGVyKSB7XG5cdFx0XHRcdHJldHVybiAoJ2Zyb20nIGluIEFycmF5KSA/IEFycmF5LmZyb20oaXRlcikgOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVyKTtcblx0XHRcdH1cblxuXHRcdFx0KGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEJyb3dzZXJzIG1heSBoYXZlOlxuXHRcdFx0XHQvLyAqIE5vIGdsb2JhbCBVUkwgb2JqZWN0XG5cdFx0XHRcdC8vICogVVJMIHdpdGggc3RhdGljIG1ldGhvZHMgb25seSAtIG1heSBoYXZlIGEgZHVtbXkgY29uc3RydWN0b3Jcblx0XHRcdFx0Ly8gKiBVUkwgd2l0aCBtZW1iZXJzIGV4Y2VwdCBzZWFyY2hQYXJhbXNcblx0XHRcdFx0Ly8gKiBGdWxsIFVSTCBBUEkgc3VwcG9ydFxuXHRcdFx0XHR2YXIgb3JpZ1VSTCA9IGdsb2JhbC5VUkw7XG5cdFx0XHRcdHZhciBuYXRpdmVVUkw7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0aWYgKG9yaWdVUkwpIHtcblx0XHRcdFx0XHRcdG5hdGl2ZVVSTCA9IG5ldyBnbG9iYWwuVVJMKCdodHRwOi8vZXhhbXBsZS5jb20nKTtcblx0XHRcdFx0XHRcdGlmICgnc2VhcmNoUGFyYW1zJyBpbiBuYXRpdmVVUkwpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHVybCA9IG5ldyBVUkwoJ2h0dHA6Ly9leGFtcGxlLmNvbScpO1xuXHRcdFx0XHRcdFx0XHR1cmwuc2VhcmNoID0gJ2E9MSZiPTInO1xuXHRcdFx0XHRcdFx0XHRpZiAodXJsLmhyZWYgPT09ICdodHRwOi8vZXhhbXBsZS5jb20vP2E9MSZiPTInKSB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsLnNlYXJjaCA9ICcnO1xuXHRcdFx0XHRcdFx0XHRcdGlmICh1cmwuaHJlZiA9PT0gJ2h0dHA6Ly9leGFtcGxlLmNvbS8nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoISgnaHJlZicgaW4gbmF0aXZlVVJMKSkge1xuXHRcdFx0XHRcdFx0XHRuYXRpdmVVUkwgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuYXRpdmVVUkwgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChfKSB7fVxuXG5cdFx0XHRcdC8vIE5PVEU6IERvZXNuJ3QgZG8gdGhlIGVuY29kaW5nL2RlY29kaW5nIGRhbmNlXG5cdFx0XHRcdGZ1bmN0aW9uIHVybGVuY29kZWRfc2VyaWFsaXplKHBhaXJzKSB7XG5cdFx0XHRcdFx0dmFyIG91dHB1dCA9ICcnLCBmaXJzdCA9IHRydWU7XG5cdFx0XHRcdFx0cGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuXHRcdFx0XHRcdFx0dmFyIG5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQocGFpci5uYW1lKTtcblx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudChwYWlyLnZhbHVlKTtcblx0XHRcdFx0XHRcdGlmICghZmlyc3QpIG91dHB1dCArPSAnJic7XG5cdFx0XHRcdFx0XHRvdXRwdXQgKz0gbmFtZSArICc9JyArIHZhbHVlO1xuXHRcdFx0XHRcdFx0Zmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm4gb3V0cHV0LnJlcGxhY2UoLyUyMC9nLCAnKycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTk9URTogRG9lc24ndCBkbyB0aGUgZW5jb2RpbmcvZGVjb2RpbmcgZGFuY2Vcblx0XHRcdFx0ZnVuY3Rpb24gdXJsZW5jb2RlZF9wYXJzZShpbnB1dCwgaXNpbmRleCkge1xuXHRcdFx0XHRcdHZhciBzZXF1ZW5jZXMgPSBpbnB1dC5zcGxpdCgnJicpO1xuXHRcdFx0XHRcdGlmIChpc2luZGV4ICYmIHNlcXVlbmNlc1swXS5pbmRleE9mKCc9JykgPT09IC0xKVxuXHRcdFx0XHRcdFx0c2VxdWVuY2VzWzBdID0gJz0nICsgc2VxdWVuY2VzWzBdO1xuXHRcdFx0XHRcdHZhciBwYWlycyA9IFtdO1xuXHRcdFx0XHRcdHNlcXVlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChieXRlcykge1xuXHRcdFx0XHRcdFx0aWYgKGJ5dGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dmFyIGluZGV4ID0gYnl0ZXMuaW5kZXhPZignPScpO1xuXHRcdFx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbmFtZSA9IGJ5dGVzLnN1YnN0cmluZygwLCBpbmRleCk7XG5cdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IGJ5dGVzLnN1YnN0cmluZyhpbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGJ5dGVzO1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgvXFwrL2csICcgJyk7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuXHRcdFx0XHRcdFx0cGFpcnMucHVzaCh7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR2YXIgb3V0cHV0ID0gW107XG5cdFx0XHRcdFx0cGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goe1xuXHRcdFx0XHRcdFx0XHRuYW1lOiBkZWNvZGVVUklDb21wb25lbnQocGFpci5uYW1lKSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnZhbHVlKVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIFVSTFV0aWxzKHVybCkge1xuXHRcdFx0XHRcdGlmIChuYXRpdmVVUkwpXG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV3IG9yaWdVUkwodXJsKTtcblx0XHRcdFx0XHR2YXIgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdFx0XHRcdGFuY2hvci5ocmVmID0gdXJsO1xuXHRcdFx0XHRcdHJldHVybiBhbmNob3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBVUkxTZWFyY2hQYXJhbXMoaW5pdCkge1xuXHRcdFx0XHRcdHZhciAkdGhpcyA9IHRoaXM7XG5cdFx0XHRcdFx0dGhpcy5fbGlzdCA9IFtdO1xuXG5cdFx0XHRcdFx0aWYgKGluaXQgPT09IHVuZGVmaW5lZCB8fCBpbml0ID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHQvLyBuby1vcFxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5pdCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuXHRcdFx0XHRcdFx0Ly8gSW4gRVM2IGluaXQgd291bGQgYmUgYSBzZXF1ZW5jZSwgYnV0IHNwZWNpYWwgY2FzZSBmb3IgRVM1LlxuXHRcdFx0XHRcdFx0dGhpcy5fbGlzdCA9IHVybGVuY29kZWRfcGFyc2UoU3RyaW5nKGluaXQpKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBpbml0ID09PSAnb2JqZWN0JyAmJiBpc1NlcXVlbmNlKGluaXQpKSB7XG5cdFx0XHRcdFx0XHR0b0FycmF5KGluaXQpLmZvckVhY2goZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIWlzU2VxdWVuY2UoZSkpIHRocm93IFR5cGVFcnJvcigpO1xuXHRcdFx0XHRcdFx0XHR2YXIgbnYgPSB0b0FycmF5KGUpO1xuXHRcdFx0XHRcdFx0XHRpZiAobnYubGVuZ3RoICE9PSAyKSB0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0JHRoaXMuX2xpc3QucHVzaCh7bmFtZTogU3RyaW5nKG52WzBdKSwgdmFsdWU6IFN0cmluZyhudlsxXSl9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGluaXQgPT09ICdvYmplY3QnICYmIGluaXQpIHtcblx0XHRcdFx0XHRcdE9iamVjdC5rZXlzKGluaXQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdFx0XHRcdCR0aGlzLl9saXN0LnB1c2goe25hbWU6IFN0cmluZyhrZXkpLCB2YWx1ZTogU3RyaW5nKGluaXRba2V5XSl9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpbml0ID0gU3RyaW5nKGluaXQpO1xuXHRcdFx0XHRcdFx0aWYgKGluaXQuc3Vic3RyaW5nKDAsIDEpID09PSAnPycpXG5cdFx0XHRcdFx0XHRcdGluaXQgPSBpbml0LnN1YnN0cmluZygxKTtcblx0XHRcdFx0XHRcdHRoaXMuX2xpc3QgPSB1cmxlbmNvZGVkX3BhcnNlKGluaXQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRoaXMuX3VybF9vYmplY3QgPSBudWxsO1xuXHRcdFx0XHRcdHRoaXMuX3NldExpc3QgPSBmdW5jdGlvbiAobGlzdCkgeyBpZiAoIXVwZGF0aW5nKSAkdGhpcy5fbGlzdCA9IGxpc3Q7IH07XG5cblx0XHRcdFx0XHR2YXIgdXBkYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR0aGlzLl91cGRhdGVfc3RlcHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICh1cGRhdGluZykgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dXBkYXRpbmcgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRpZiAoISR0aGlzLl91cmxfb2JqZWN0KSByZXR1cm47XG5cblx0XHRcdFx0XHRcdC8vIFBhcnRpYWwgd29ya2Fyb3VuZCBmb3IgSUUgaXNzdWUgd2l0aCAnYWJvdXQ6J1xuXHRcdFx0XHRcdFx0aWYgKCR0aGlzLl91cmxfb2JqZWN0LnByb3RvY29sID09PSAnYWJvdXQ6JyAmJlxuXHRcdFx0XHRcdFx0XHQkdGhpcy5fdXJsX29iamVjdC5wYXRobmFtZS5pbmRleE9mKCc/JykgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdCR0aGlzLl91cmxfb2JqZWN0LnBhdGhuYW1lID0gJHRoaXMuX3VybF9vYmplY3QucGF0aG5hbWUuc3BsaXQoJz8nKVswXTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0JHRoaXMuX3VybF9vYmplY3Quc2VhcmNoID0gdXJsZW5jb2RlZF9zZXJpYWxpemUoJHRoaXMuX2xpc3QpO1xuXG5cdFx0XHRcdFx0XHR1cGRhdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUsIHtcblx0XHRcdFx0XHRhcHBlbmQ6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fbGlzdC5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl91cGRhdGVfc3RlcHMoKTtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0J2RlbGV0ZSc6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOykge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLl9saXN0LnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGhpcy5fdXBkYXRlX3N0ZXBzKCk7XG5cdFx0XHRcdFx0XHR9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdGdldDoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGlzdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fbGlzdFtpXS52YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Z2V0QWxsOiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5fbGlzdFtpXS5uYW1lID09PSBuYW1lKVxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnB1c2godGhpcy5fbGlzdFtpXS52YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0aGFzOiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9saXN0Lmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX2xpc3RbaV0ubmFtZSA9PT0gbmFtZSlcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0c2V0OiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOykge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghZm91bmQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fbGlzdFtpXS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX2xpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFmb3VuZClcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9saXN0LnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSk7XG5cblx0XHRcdFx0XHRcdFx0dGhpcy5fdXBkYXRlX3N0ZXBzKCk7XG5cdFx0XHRcdFx0XHR9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdGVudHJpZXM6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBJdGVyYXRvcih0aGlzLl9saXN0LCAna2V5K3ZhbHVlJyk7IH0sXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdGtleXM6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBJdGVyYXRvcih0aGlzLl9saXN0LCAna2V5Jyk7IH0sXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdHZhbHVlczoge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yKHRoaXMuX2xpc3QsICd2YWx1ZScpOyB9LFxuXHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRmb3JFYWNoOiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcgPSAoYXJndW1lbnRzLmxlbmd0aCA+IDEpID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9saXN0LmZvckVhY2goZnVuY3Rpb24ocGFpcikge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwodGhpc0FyZywgcGFpci52YWx1ZSwgcGFpci5uYW1lKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0dG9TdHJpbmc6IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB1cmxlbmNvZGVkX3NlcmlhbGl6ZSh0aGlzLl9saXN0KTtcblx0XHRcdFx0XHRcdH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRmdW5jdGlvbiBJdGVyYXRvcihzb3VyY2UsIGtpbmQpIHtcblx0XHRcdFx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdFx0XHRcdHRoaXNbJ25leHQnXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGluZGV4ID49IHNvdXJjZS5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7ZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZH07XG5cdFx0XHRcdFx0XHR2YXIgcGFpciA9IHNvdXJjZVtpbmRleCsrXTtcblx0XHRcdFx0XHRcdHJldHVybiB7ZG9uZTogZmFsc2UsIHZhbHVlOlxuXHRcdFx0XHRcdFx0XHRcdGtpbmQgPT09ICdrZXknID8gcGFpci5uYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdGtpbmQgPT09ICd2YWx1ZScgPyBwYWlyLnZhbHVlIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0W3BhaXIubmFtZSwgcGFpci52YWx1ZV19O1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoJ1N5bWJvbCcgaW4gZ2xvYmFsICYmICdpdGVyYXRvcicgaW4gZ2xvYmFsLlN5bWJvbCkge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLCBnbG9iYWwuU3ltYm9sLml0ZXJhdG9yLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5lbnRyaWVzLFxuXHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0pO1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsIGdsb2JhbC5TeW1ib2wuaXRlcmF0b3IsIHtcblx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0sXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBVUkwodXJsLCBiYXNlKSB7XG5cdFx0XHRcdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIGdsb2JhbC5VUkwpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1VSTCc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLlwiKTtcblxuXHRcdFx0XHRcdGlmIChiYXNlKSB7XG5cdFx0XHRcdFx0XHR1cmwgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRpZiAobmF0aXZlVVJMKSByZXR1cm4gbmV3IG9yaWdVUkwodXJsLCBiYXNlKS5ocmVmO1xuXHRcdFx0XHRcdFx0XHR2YXIgaWZyYW1lO1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBkb2M7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIGFub3RoZXIgZG9jdW1lbnQvYmFzZSB0YWcvYW5jaG9yIGZvciByZWxhdGl2ZSBVUkwgcmVzb2x1dGlvbiwgaWYgcG9zc2libGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYW1pbmkpID09PSBcIltvYmplY3QgT3BlcmFNaW5pXVwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LmltcGxlbWVudGF0aW9uICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LmltcGxlbWVudGF0aW9uICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCgnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcsICdodG1sJywgbnVsbCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KCdoZWFkJykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2MgPSBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkb2Mud3JpdGUoJzxoZWFkPjxcXC9oZWFkPjxib2R5PjxcXC9ib2R5PicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZG9jLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFkb2MpIHRocm93IEVycm9yKCdiYXNlIG5vdCBzdXBwb3J0ZWQnKTtcblxuXHRcdFx0XHRcdFx0XHRcdHZhciBiYXNlVGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcblx0XHRcdFx0XHRcdFx0XHRiYXNlVGFnLmhyZWYgPSBiYXNlO1xuXHRcdFx0XHRcdFx0XHRcdGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGJhc2VUYWcpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBhbmNob3IgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdFx0XHRcdFx0XHRcdGFuY2hvci5ocmVmID0gdXJsO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhbmNob3IuaHJlZjtcblx0XHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoaWZyYW1lKVxuXHRcdFx0XHRcdFx0XHRcdFx0aWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBBbiBpbm5lciBvYmplY3QgaW1wbGVtZW50aW5nIFVSTFV0aWxzIChlaXRoZXIgYSBuYXRpdmUgVVJMXG5cdFx0XHRcdFx0Ly8gb2JqZWN0IG9yIGFuIEhUTUxBbmNob3JFbGVtZW50IGluc3RhbmNlKSBpcyB1c2VkIHRvIHBlcmZvcm0gdGhlXG5cdFx0XHRcdFx0Ly8gVVJMIGFsZ29yaXRobXMuIFdpdGggZnVsbCBFUzUgZ2V0dGVyL3NldHRlciBzdXBwb3J0LCByZXR1cm4gYVxuXHRcdFx0XHRcdC8vIHJlZ3VsYXIgb2JqZWN0IEZvciBJRTgncyBsaW1pdGVkIGdldHRlci9zZXR0ZXIgc3VwcG9ydCwgYVxuXHRcdFx0XHRcdC8vIGRpZmZlcmVudCBIVE1MQW5jaG9yRWxlbWVudCBpcyByZXR1cm5lZCB3aXRoIHByb3BlcnRpZXNcblx0XHRcdFx0XHQvLyBvdmVycmlkZGVuXG5cblx0XHRcdFx0XHR2YXIgaW5zdGFuY2UgPSBVUkxVdGlscyh1cmwgfHwgJycpO1xuXG5cdFx0XHRcdFx0Ly8gRGV0ZWN0IGZvciBFUzUgZ2V0dGVyL3NldHRlciBzdXBwb3J0XG5cdFx0XHRcdFx0Ly8gKGFuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIHBvbHlmaWxsIHRoYXQgZG9lc24ndCBzdXBwb3J0IGdldHRlcnMvc2V0dGVycyBtYXkgdGhyb3cpXG5cdFx0XHRcdFx0dmFyIEVTNV9HRVRfU0VUID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCEoJ2RlZmluZVByb3BlcnRpZXMnIGluIE9iamVjdCkpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHZhciBvYmogPSB7fTtcblx0XHRcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7IHByb3A6IHsgJ2dldCc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0gfSB9KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG9iai5wcm9wO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoXykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSgpKTtcblxuXHRcdFx0XHRcdHZhciBzZWxmID0gRVM1X0dFVF9TRVQgPyB0aGlzIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG5cblxuXHRcdFx0XHRcdHZhciBxdWVyeV9vYmplY3QgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuXHRcdFx0XHRcdFx0aW5zdGFuY2Uuc2VhcmNoID8gaW5zdGFuY2Uuc2VhcmNoLnN1YnN0cmluZygxKSA6IG51bGwpO1xuXHRcdFx0XHRcdHF1ZXJ5X29iamVjdC5fdXJsX29iamVjdCA9IHNlbGY7XG5cblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzZWxmLCB7XG5cdFx0XHRcdFx0XHRocmVmOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UuaHJlZjsgfSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5ocmVmID0gdjsgdGlkeV9pbnN0YW5jZSgpOyB1cGRhdGVfc3RlcHMoKTsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0b3JpZ2luOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICgnb3JpZ2luJyBpbiBpbnN0YW5jZSkgcmV0dXJuIGluc3RhbmNlLm9yaWdpbjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5wcm90b2NvbCArICcvLycgKyB0aGlzLmhvc3Q7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHByb3RvY29sOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UucHJvdG9jb2w7IH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UucHJvdG9jb2wgPSB2OyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR1c2VybmFtZToge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnVzZXJuYW1lOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLnVzZXJuYW1lID0gdjsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cGFzc3dvcmQ6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5wYXNzd29yZDsgfSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5wYXNzd29yZCA9IHY7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGhvc3Q6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gSUUgcmV0dXJucyBkZWZhdWx0IHBvcnQgaW4gfGhvc3R8XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlID0geydodHRwOic6IC86ODAkLywgJ2h0dHBzOic6IC86NDQzJC8sICdmdHA6JzogLzoyMSQvfVtpbnN0YW5jZS5wcm90b2NvbF07XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlID8gaW5zdGFuY2UuaG9zdC5yZXBsYWNlKHJlLCAnJykgOiBpbnN0YW5jZS5ob3N0O1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLmhvc3QgPSB2OyB9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRob3N0bmFtZToge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLmhvc3RuYW1lOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLmhvc3RuYW1lID0gdjsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cG9ydDoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnBvcnQ7IH0sXG5cdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UucG9ydCA9IHY7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHBhdGhuYW1lOiB7XG5cdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIElFIGRvZXMgbm90IGluY2x1ZGUgbGVhZGluZyAnLycgaW4gfHBhdGhuYW1lfFxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnN0YW5jZS5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcmV0dXJuICcvJyArIGluc3RhbmNlLnBhdGhuYW1lO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBpbnN0YW5jZS5wYXRobmFtZTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5wYXRobmFtZSA9IHY7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNlYXJjaDoge1xuXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnNlYXJjaDsgfSxcblx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnN0YW5jZS5zZWFyY2ggPT09IHYpIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRpbnN0YW5jZS5zZWFyY2ggPSB2OyB0aWR5X2luc3RhbmNlKCk7IHVwZGF0ZV9zdGVwcygpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzZWFyY2hQYXJhbXM6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBxdWVyeV9vYmplY3Q7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGhhc2g6IHtcblx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5oYXNoOyB9LFxuXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLmhhc2ggPSB2OyB0aWR5X2luc3RhbmNlKCk7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHRvU3RyaW5nOiB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIGluc3RhbmNlLnRvU3RyaW5nKCk7IH0sXG5cdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR2YWx1ZU9mOiB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIGluc3RhbmNlLnZhbHVlT2YoKTsgfSxcblx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0ZnVuY3Rpb24gdGlkeV9pbnN0YW5jZSgpIHtcblx0XHRcdFx0XHRcdHZhciBocmVmID0gaW5zdGFuY2UuaHJlZi5yZXBsYWNlKC8jJHxcXD8kfFxcPyg/PSMpL2csICcnKTtcblx0XHRcdFx0XHRcdGlmIChpbnN0YW5jZS5ocmVmICE9PSBocmVmKVxuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZS5ocmVmID0gaHJlZjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmdW5jdGlvbiB1cGRhdGVfc3RlcHMoKSB7XG5cdFx0XHRcdFx0XHRxdWVyeV9vYmplY3QuX3NldExpc3QoaW5zdGFuY2Uuc2VhcmNoID8gdXJsZW5jb2RlZF9wYXJzZShpbnN0YW5jZS5zZWFyY2guc3Vic3RyaW5nKDEpKSA6IFtdKTtcblx0XHRcdFx0XHRcdHF1ZXJ5X29iamVjdC5fdXBkYXRlX3N0ZXBzKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHNlbGY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAob3JpZ1VSTCkge1xuXHRcdFx0XHRcdGZvciAodmFyIGkgaW4gb3JpZ1VSTCkge1xuXHRcdFx0XHRcdFx0aWYgKG9yaWdVUkwuaGFzT3duUHJvcGVydHkoaSkgJiYgdHlwZW9mIG9yaWdVUkxbaV0gPT09ICdmdW5jdGlvbicpXG5cdFx0XHRcdFx0XHRcdFVSTFtpXSA9IG9yaWdVUkxbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2xvYmFsLlVSTCA9IFVSTDtcblx0XHRcdFx0Z2xvYmFsLlVSTFNlYXJjaFBhcmFtcyA9IFVSTFNlYXJjaFBhcmFtcztcblx0XHRcdH0oKSk7XG5cblx0XHRcdC8vIFBhdGNoIG5hdGl2ZSBVUkxTZWFyY2hQYXJhbXMgY29uc3RydWN0b3IgdG8gaGFuZGxlIHNlcXVlbmNlcy9yZWNvcmRzXG5cdFx0XHQvLyBpZiBuZWNlc3NhcnkuXG5cdFx0XHQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmIChuZXcgZ2xvYmFsLlVSTFNlYXJjaFBhcmFtcyhbWydhJywgMV1dKS5nZXQoJ2EnKSA9PT0gJzEnICYmXG5cdFx0XHRcdFx0bmV3IGdsb2JhbC5VUkxTZWFyY2hQYXJhbXMoe2E6IDF9KS5nZXQoJ2EnKSA9PT0gJzEnKVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0dmFyIG9yaWcgPSBnbG9iYWwuVVJMU2VhcmNoUGFyYW1zO1xuXHRcdFx0XHRnbG9iYWwuVVJMU2VhcmNoUGFyYW1zID0gZnVuY3Rpb24oaW5pdCkge1xuXHRcdFx0XHRcdGlmIChpbml0ICYmIHR5cGVvZiBpbml0ID09PSAnb2JqZWN0JyAmJiBpc1NlcXVlbmNlKGluaXQpKSB7XG5cdFx0XHRcdFx0XHR2YXIgbyA9IG5ldyBvcmlnKCk7XG5cdFx0XHRcdFx0XHR0b0FycmF5KGluaXQpLmZvckVhY2goZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIWlzU2VxdWVuY2UoZSkpIHRocm93IFR5cGVFcnJvcigpO1xuXHRcdFx0XHRcdFx0XHR2YXIgbnYgPSB0b0FycmF5KGUpO1xuXHRcdFx0XHRcdFx0XHRpZiAobnYubGVuZ3RoICE9PSAyKSB0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0by5hcHBlbmQobnZbMF0sIG52WzFdKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG87XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbml0ICYmIHR5cGVvZiBpbml0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0byA9IG5ldyBvcmlnKCk7XG5cdFx0XHRcdFx0XHRPYmplY3Qua2V5cyhpbml0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdFx0XHRvLnNldChrZXksIGluaXRba2V5XSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHJldHVybiBvO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV3IG9yaWcoaW5pdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fSgpKTtcblxuXHRcdH0oc2VsZikpO1xuXG5cdH1cblxuXHRpZiAoIShcIldpbmRvd1wiaW4gdGhpc1xuXHQpKSB7XG5cbi8vIFdpbmRvd1xuXHRcdGlmICgodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlID09PSBcInVuZGVmaW5lZFwiKSAmJiAodHlwZW9mIGltcG9ydFNjcmlwdHMgIT09IFwiZnVuY3Rpb25cIikpIHtcblx0XHRcdChmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cdFx0XHRcdGlmIChnbG9iYWwuY29uc3RydWN0b3IpIHtcblx0XHRcdFx0XHRnbG9iYWwuV2luZG93ID0gZ2xvYmFsLmNvbnN0cnVjdG9yO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdChnbG9iYWwuV2luZG93ID0gZ2xvYmFsLmNvbnN0cnVjdG9yID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gV2luZG93KCkge30nKSgpKS5wcm90b3R5cGUgPSB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9KHRoaXMpKTtcblx0XHR9XG5cblx0fVxuXG5cdGlmICghKChmdW5jdGlvbihuKXtpZighKFwiRXZlbnRcImluIG4pKXJldHVybiExXG5cdFx0XHR0cnl7cmV0dXJuIG5ldyBFdmVudChcImNsaWNrXCIpLCEwfWNhdGNoKHQpe3JldHVybiExfX0pKHRoaXMpXG5cdCkpIHtcblxuLy8gRXZlbnRcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHVubGlzdGVuYWJsZVdpbmRvd0V2ZW50cyA9IHtcblx0XHRcdFx0Y2xpY2s6IDEsXG5cdFx0XHRcdGRibGNsaWNrOiAxLFxuXHRcdFx0XHRrZXl1cDogMSxcblx0XHRcdFx0a2V5cHJlc3M6IDEsXG5cdFx0XHRcdGtleWRvd246IDEsXG5cdFx0XHRcdG1vdXNlZG93bjogMSxcblx0XHRcdFx0bW91c2V1cDogMSxcblx0XHRcdFx0bW91c2Vtb3ZlOiAxLFxuXHRcdFx0XHRtb3VzZW92ZXI6IDEsXG5cdFx0XHRcdG1vdXNlZW50ZXI6IDEsXG5cdFx0XHRcdG1vdXNlbGVhdmU6IDEsXG5cdFx0XHRcdG1vdXNlb3V0OiAxLFxuXHRcdFx0XHRzdG9yYWdlOiAxLFxuXHRcdFx0XHRzdG9yYWdlY29tbWl0OiAxLFxuXHRcdFx0XHR0ZXh0aW5wdXQ6IDFcblx0XHRcdH07XG5cblx0XHRcdC8vIFRoaXMgcG9seWZpbGwgZGVwZW5kcyBvbiBhdmFpbGFiaWxpdHkgb2YgYGRvY3VtZW50YCBzbyB3aWxsIG5vdCBydW4gaW4gYSB3b3JrZXJcblx0XHRcdC8vIEhvd2V2ZXIsIHdlIGFzc3N1bWUgdGhlcmUgYXJlIG5vIGJyb3dzZXJzIHdpdGggd29ya2VyIHN1cHBvcnQgdGhhdCBsYWNrIHByb3BlclxuXHRcdFx0Ly8gc3VwcG9ydCBmb3IgYEV2ZW50YCB3aXRoaW4gdGhlIHdvcmtlclxuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblxuXHRcdFx0ZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWxlbWVudCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHRpbmRleCA9IC0xLFxuXHRcdFx0XHRcdGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdGlmIChpbmRleCBpbiBhcnJheSAmJiBhcnJheVtpbmRleF0gPT09IGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBpbmRleDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBleGlzdGluZ1Byb3RvID0gKHdpbmRvdy5FdmVudCAmJiB3aW5kb3cuRXZlbnQucHJvdG90eXBlKSB8fCBudWxsO1xuXHRcdFx0ZnVuY3Rpb24gRXZlbnQodHlwZSwgZXZlbnRJbml0RGljdCkge1xuXHRcdFx0XHRpZiAoIXR5cGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZXZlbnQ7XG5cdFx0XHRcdC8vIFNob3J0Y3V0IGlmIGJyb3dzZXIgc3VwcG9ydHMgY3JlYXRlRXZlbnRcblx0XHRcdFx0aWYgKCdjcmVhdGVFdmVudCcgaW4gZG9jdW1lbnQpIHtcblx0XHRcdFx0XHRldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdFx0XHRcdHZhciBidWJibGVzID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmJ1YmJsZXMgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuYnViYmxlcyA6IGZhbHNlO1xuXHRcdFx0XHRcdHZhciBjYW5jZWxhYmxlID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmNhbmNlbGFibGUgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSA6IGZhbHNlO1xuXG5cdFx0XHRcdFx0ZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuXG5cdFx0XHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXHRcdFx0XHRldmVudC5idWJibGVzID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmJ1YmJsZXMgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuYnViYmxlcyA6IGZhbHNlO1xuXHRcdFx0XHRldmVudC5jYW5jZWxhYmxlID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmNhbmNlbGFibGUgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSA6IGZhbHNlO1xuXG5cdFx0XHRcdHJldHVybiBldmVudDtcblx0XHRcdH07XG5cdFx0XHRFdmVudC5OT05FID0gMDtcblx0XHRcdEV2ZW50LkNBUFRVUklOR19QSEFTRSA9IDE7XG5cdFx0XHRFdmVudC5BVF9UQVJHRVQgPSAyO1xuXHRcdFx0RXZlbnQuQlVCQkxJTkdfUEhBU0UgPSAzO1xuXHRcdFx0d2luZG93LkV2ZW50ID0gV2luZG93LnByb3RvdHlwZS5FdmVudCA9IEV2ZW50O1xuXHRcdFx0aWYgKGV4aXN0aW5nUHJvdG8pIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5FdmVudCwgJ3Byb3RvdHlwZScsIHtcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiBleGlzdGluZ1Byb3RvXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoISgnY3JlYXRlRXZlbnQnIGluIGRvY3VtZW50KSkge1xuXHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9IFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IERvY3VtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHRlbGVtZW50ID0gdGhpcyxcblx0XHRcdFx0XHRcdHR5cGUgPSBhcmd1bWVudHNbMF0sXG5cdFx0XHRcdFx0XHRsaXN0ZW5lciA9IGFyZ3VtZW50c1sxXTtcblxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09PSB3aW5kb3cgJiYgdHlwZSBpbiB1bmxpc3RlbmFibGVXaW5kb3dFdmVudHMpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignSW4gSUU4IHRoZSBldmVudDogJyArIHR5cGUgKyAnIGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIHdpbmRvdyBvYmplY3QuIFBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2lzc3Vlcy8zMTcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHMpIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50cyA9IHt9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghZWxlbWVudC5fZXZlbnRzW3R5cGVdKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0gPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHRcdFx0bGlzdCA9IGVsZW1lbnQuX2V2ZW50c1tldmVudC50eXBlXS5saXN0LFxuXHRcdFx0XHRcdFx0XHRcdGV2ZW50cyA9IGxpc3Quc2xpY2UoKSxcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IC0xLFxuXHRcdFx0XHRcdFx0XHRcdGxlbmd0aCA9IGV2ZW50cy5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGV2ZW50LmNhbmNlbGFibGUgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5jYW5jZWxJbW1lZGlhdGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRldmVudC5yZWxhdGVkVGFyZ2V0ID0gZXZlbnQuZnJvbUVsZW1lbnQgfHwgbnVsbDtcblx0XHRcdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgZWxlbWVudDtcblx0XHRcdFx0XHRcdFx0ZXZlbnQudGltZVN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGV2ZW50LmNsaWVudFgpIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wYWdlWCA9IGV2ZW50LmNsaWVudFggKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wYWdlWSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgIWV2ZW50LmNhbmNlbEltbWVkaWF0ZSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleCBpbiBldmVudHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50RWxlbWVudCA9IGV2ZW50c1tpbmRleF07XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbmRleE9mKGxpc3QsIGV2ZW50RWxlbWVudCkgIT09IC0xICYmIHR5cGVvZiBldmVudEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRFbGVtZW50LmNhbGwoZWxlbWVudCwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3QgPSBbXTtcblxuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZWxlbWVudC5fZXZlbnRzW3R5cGVdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdC5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IFdpbmRvdy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHRlbGVtZW50ID0gdGhpcyxcblx0XHRcdFx0XHRcdHR5cGUgPSBhcmd1bWVudHNbMF0sXG5cdFx0XHRcdFx0XHRsaXN0ZW5lciA9IGFyZ3VtZW50c1sxXSxcblx0XHRcdFx0XHRcdGluZGV4O1xuXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQuX2V2ZW50cyAmJiBlbGVtZW50Ll9ldmVudHNbdHlwZV0gJiYgZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3QpIHtcblx0XHRcdFx0XHRcdGluZGV4ID0gaW5kZXhPZihlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdCwgbGlzdGVuZXIpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LnNwbGljZShpbmRleCwgMSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5kZXRhY2hFdmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgZWxlbWVudC5fZXZlbnRzW3R5cGVdKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIGVsZW1lbnQuX2V2ZW50c1t0eXBlXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR3aW5kb3cuZGlzcGF0Y2hFdmVudCA9IFdpbmRvdy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IERvY3VtZW50LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gRWxlbWVudC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcblx0XHRcdFx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWV2ZW50IHx8IHR5cGVvZiBldmVudC50eXBlICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdET00gRXZlbnRzIEV4Y2VwdGlvbiAwJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSB0aGlzLCB0eXBlID0gZXZlbnQudHlwZTtcblxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoIWV2ZW50LmJ1YmJsZXMpIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHR2YXIgY2FuY2VsQnViYmxlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0KGVsZW1lbnQgfHwgd2luZG93KS5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FuY2VsQnViYmxlRXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGNhbmNlbEJ1YmJsZUV2ZW50KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5maXJlRXZlbnQoJ29uJyArIHR5cGUsIGV2ZW50KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbWVudDtcblxuXHRcdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoJ19ldmVudHMnIGluIGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgZWxlbWVudFsnb24nICsgdHlwZV0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRlbGVtZW50WydvbicgKyB0eXBlXS5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQgPSBlbGVtZW50Lm5vZGVUeXBlID09PSA5ID8gZWxlbWVudC5wYXJlbnRXaW5kb3cgOiBlbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0XHR9IHdoaWxlIChlbGVtZW50ICYmICFldmVudC5jYW5jZWxCdWJibGUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIEFkZCB0aGUgRE9NQ29udGVudExvYWRlZCBFdmVudFxuXHRcdFx0XHRkb2N1bWVudC5hdHRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcblx0XHRcdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdET01Db250ZW50TG9hZGVkJywge1xuXHRcdFx0XHRcdFx0XHRidWJibGVzOiB0cnVlXG5cdFx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KCkpO1xuXG5cdH1cblxuXHRpZiAoIShcIkN1c3RvbUV2ZW50XCJpbiB0aGlzJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5DdXN0b21FdmVudHx8dGhpcy5DdXN0b21FdmVudC50b1N0cmluZygpLmluZGV4T2YoXCJDdXN0b21FdmVudENvbnN0cnVjdG9yXCIpPi0xKVxuXHQpKSB7XG5cbi8vIEN1c3RvbUV2ZW50XG5cdFx0dGhpcy5DdXN0b21FdmVudCA9IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KHR5cGUsIGV2ZW50SW5pdERpY3QpIHtcblx0XHRcdGlmICghdHlwZSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignVHlwZUVycm9yOiBGYWlsZWQgdG8gY29uc3RydWN0IFwiQ3VzdG9tRXZlbnRcIjogQW4gZXZlbnQgbmFtZSBtdXN0IGJlIHByb3ZpZGVkLicpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZXZlbnQ7XG5cdFx0XHRldmVudEluaXREaWN0ID0gZXZlbnRJbml0RGljdCB8fCB7YnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IG51bGx9O1xuXG5cdFx0XHRpZiAoJ2NyZWF0ZUV2ZW50JyBpbiBkb2N1bWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cdFx0XHRcdFx0ZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGV2ZW50SW5pdERpY3QuYnViYmxlcywgZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlLCBldmVudEluaXREaWN0LmRldGFpbCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Ly8gZm9yIGJyb3dzZXJzIHdoaWNoIGRvbid0IHN1cHBvcnQgQ3VzdG9tRXZlbnQgYXQgYWxsLCB3ZSB1c2UgYSByZWd1bGFyIGV2ZW50IGluc3RlYWRcblx0XHRcdFx0XHRldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdFx0XHRcdGV2ZW50LmluaXRFdmVudCh0eXBlLCBldmVudEluaXREaWN0LmJ1YmJsZXMsIGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSk7XG5cdFx0XHRcdFx0ZXZlbnQuZGV0YWlsID0gZXZlbnRJbml0RGljdC5kZXRhaWw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSUU4XG5cdFx0XHRcdGV2ZW50ID0gbmV3IEV2ZW50KHR5cGUsIGV2ZW50SW5pdERpY3QpO1xuXHRcdFx0XHRldmVudC5kZXRhaWwgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuZGV0YWlsIHx8IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0fTtcblxuXHRcdEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IEV2ZW50LnByb3RvdHlwZTtcblxuXHR9XG5cblx0aWYgKCEoXCJtYXRjaE1lZGlhXCJpbiB0aGlzJiZcIk1lZGlhUXVlcnlMaXN0XCJpbiB0aGlzXG5cdCkpIHtcblxuLy8gbWF0Y2hNZWRpYVxuXHRcdChmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cdFx0XHRmdW5jdGlvbiBldmFsUXVlcnkocXVlcnkpIHtcblx0XHRcdFx0LyoganNoaW50IGV2aWw6IHRydWUgKi9cblx0XHRcdFx0cXVlcnkgPSAocXVlcnkgfHwgJ3RydWUnKVxuXHRcdFx0XHQucmVwbGFjZSgvXm9ubHlcXHMrLywgJycpXG5cdFx0XHRcdC5yZXBsYWNlKC8oZGV2aWNlKS0oW1xcdy5dKykvZywgJyQxLiQyJylcblx0XHRcdFx0LnJlcGxhY2UoLyhbXFx3Ll0rKVxccyo6L2csICdtZWRpYS4kMSA9PT0nKVxuXHRcdFx0XHQucmVwbGFjZSgvbWluLShbXFx3Ll0rKVxccyo9PT0vZywgJyQxID49Jylcblx0XHRcdFx0LnJlcGxhY2UoL21heC0oW1xcdy5dKylcXHMqPT09L2csICckMSA8PScpXG5cdFx0XHRcdC5yZXBsYWNlKC9hbGx8c2NyZWVuL2csICcxJylcblx0XHRcdFx0LnJlcGxhY2UoL3ByaW50L2csICcwJylcblx0XHRcdFx0LnJlcGxhY2UoLywvZywgJ3x8Jylcblx0XHRcdFx0LnJlcGxhY2UoL1xcYmFuZFxcYi9nLCAnJiYnKVxuXHRcdFx0XHQucmVwbGFjZSgvZHBpL2csICcnKVxuXHRcdFx0XHQucmVwbGFjZSgvKFxcZCspKGNtfGVtfGlufGRwcHh8bW18cGN8cHR8cHh8cmVtKS9nLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuXHRcdFx0XHRcdHJldHVybiAkMSAqIChcblx0XHRcdFx0XHRcdCQyID09PSAnY20nID8gMC4zOTM3ICogOTYgOiAoXG5cdFx0XHRcdFx0XHRcdCQyID09PSAnZW0nIHx8ICQyID09PSAncmVtJyA/IDE2IDogKFxuXHRcdFx0XHRcdFx0XHRcdCQyID09PSAnaW4nIHx8ICQyID09PSAnZHBweCcgPyA5NiA6IChcblx0XHRcdFx0XHRcdFx0XHRcdCQyID09PSAnbW0nID8gMC4zOTM3ICogOTYgLyAxMCA6IChcblx0XHRcdFx0XHRcdFx0XHRcdFx0JDIgPT09ICdwYycgPyAxMiAqIDk2IC8gNzIgOiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0JDIgPT09ICdwdCcgPyA5NiAvIDcyIDogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBuZXcgRnVuY3Rpb24oJ21lZGlhJywgJ3RyeXsgcmV0dXJuICEhKCVzKSB9Y2F0Y2goZSl7IHJldHVybiBmYWxzZSB9J1xuXHRcdFx0XHRcdC5yZXBsYWNlKCclcycsIHF1ZXJ5KVxuXHRcdFx0XHQpKHtcblx0XHRcdFx0XHR3aWR0aDogZ2xvYmFsLmlubmVyV2lkdGgsXG5cdFx0XHRcdFx0aGVpZ2h0OiBnbG9iYWwuaW5uZXJIZWlnaHQsXG5cdFx0XHRcdFx0b3JpZW50YXRpb246IGdsb2JhbC5vcmllbnRhdGlvbiB8fCAnbGFuZHNjYXBlJyxcblx0XHRcdFx0XHRkZXZpY2U6IHtcblx0XHRcdFx0XHRcdHdpZHRoOiBnbG9iYWwuc2NyZWVuLndpZHRoLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBnbG9iYWwuc2NyZWVuLmhlaWdodCxcblx0XHRcdFx0XHRcdG9yaWVudGF0aW9uOiBnbG9iYWwuc2NyZWVuLm9yaWVudGF0aW9uIHx8IGdsb2JhbC5vcmllbnRhdGlvbiB8fCAnbGFuZHNjYXBlJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIE1lZGlhUXVlcnlMaXN0KCkge1xuXHRcdFx0XHR0aGlzLm1hdGNoZXMgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5tZWRpYSA9ICdpbnZhbGlkJztcblx0XHRcdH1cblxuXHRcdFx0TWVkaWFRdWVyeUxpc3QucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVySW5kZXggPSB0aGlzLmFkZExpc3RlbmVyLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblxuXHRcdFx0XHRpZiAobGlzdGVuZXJJbmRleCA9PT0gLTEpIHtcblx0XHRcdFx0XHR0aGlzLmFkZExpc3RlbmVyLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0TWVkaWFRdWVyeUxpc3QucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVySW5kZXggPSB0aGlzLmFkZExpc3RlbmVyLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblxuXHRcdFx0XHRpZiAobGlzdGVuZXJJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0dGhpcy5hZGRMaXN0ZW5lci5saXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRnbG9iYWwuTWVkaWFRdWVyeUxpc3QgPSBNZWRpYVF1ZXJ5TGlzdDtcblxuXHRcdFx0Ly8gPEdsb2JhbD4ubWF0Y2hNZWRpYVxuXHRcdFx0Z2xvYmFsLm1hdGNoTWVkaWEgPSBmdW5jdGlvbiBtYXRjaE1lZGlhKHF1ZXJ5KSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdGxpc3QgPSBuZXcgTWVkaWFRdWVyeUxpc3QoKTtcblxuXHRcdFx0XHRpZiAoMCA9PT0gYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzIHRvIG1hdGNoTWVkaWEnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxpc3QubWVkaWEgPSBTdHJpbmcocXVlcnkpO1xuXHRcdFx0XHRsaXN0Lm1hdGNoZXMgPSBldmFsUXVlcnkobGlzdC5tZWRpYSk7XG5cdFx0XHRcdGxpc3QuYWRkTGlzdGVuZXIubGlzdGVuZXJzID0gW107XG5cblx0XHRcdFx0Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgbGlzdGVuZXJzID0gW10uY29uY2F0KGxpc3QuYWRkTGlzdGVuZXIubGlzdGVuZXJzKSwgbWF0Y2hlcyA9IGV2YWxRdWVyeShsaXN0Lm1lZGlhKTtcblxuXHRcdFx0XHRcdGlmIChtYXRjaGVzICE9IGxpc3QubWF0Y2hlcykge1xuXHRcdFx0XHRcdFx0bGlzdC5tYXRjaGVzID0gbWF0Y2hlcztcblx0XHRcdFx0XHRcdGZvciAodmFyIGluZGV4ID0gMCwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7ICsraW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJzW2luZGV4XS5jYWxsKGdsb2JhbCwgbGlzdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRyZXR1cm4gbGlzdDtcblx0XHRcdH07XG5cdFx0fSh0aGlzKSk7XG5cblx0fVxuXG59KVxuLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XG4iXX0=
