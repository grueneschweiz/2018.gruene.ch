{% set filter_active = false %}

<div class="m-list-header">
	<h2 class="m-list-header__title-wrapper">
		<span class="m-list-header__counter">{{ counter }}</span>
		<span class="m-list-header__title">{{ title }}</span>
	</h2>
	{% if categories %}
		<div class="m-list-header__criteria">
			<span class="m-list-header__criteria-desc">{{ __('Filter by category:', constant('THEME_DOMAIN')) }}</span>
			<ul class="m-list-header__criteria-list">
				{% for category in categories %}
					{% if category.active %}
						{% set filter_active = true %}
					{% endif %}
					<li class="m-list-header__criteria-item">
						<a href="{{ category.link }}"
							 class="m-list-header__criteria-link{% if category.active %} m-list-header__criteria-link--active{% endif %}">{{ category.name }}</a>
					</li>
				{% endfor %}
			</ul>
			{% if filter_active %}
				<div class="m-list-header__reset-filter">
					{% include 'atoms/a-button.twig' with {
						'label': __('Show all results', constant('THEME_DOMAIN')),
						'link': unfiltered_results_link,
						'modifiers': ['a-button--outline']
					} %}
				</div>
			{% endif %}
		</div>
	{% endif %}
</div>
