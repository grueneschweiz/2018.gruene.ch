{% set page_modifiers = ['page--list'] %}

{% extends "base.twig" %}

{% block content %}
	<header class="page__header-wrapper page__header-wrapper--wide">
		<div class="page__header page__header--wide">
			{% block archive_header %}
				<div class="page__breadcrumbs">
					{% include 'atoms/a-breadcrumbs.twig' %}
				</div>
				<h1>{{ title }}</h1>
				{% if archive_description %}
					<div class="page__header-text">
						<p>{{ archive_description }}</p>
					</div>
				{% endif %}
			{% endblock %}
		</div>
	</header>
	<section class="page__content">
		<div class="page__text-width">
			<header class="page__list-header">
				{% include 'molecules/m-list-header.twig' with {
					'title': title,
					'counter': posts.found_posts()
				} only %}
			</header>
			<ul class="page__list-articles">
				{% for post in posts %}
					<li class="page__list-article {% if post.EventStartDate %}page__list-article--hover-link{% endif %}">
						{% if post.EventStartDate %}
							{% include 'atoms/a-event-link.twig' with {
								'post': post
							} only %}
						{% else %}
							{% include 'molecules/m-front-article.twig' with {
								'post': post,
								'modifiers': [
									'm-front-article--no-image',
								],
							} only %}
						{% endif %}
					</li>
				{% endfor %}
			</ul>
			<footer class="page__list-pagination">
				{% include 'atoms/a-pagination.twig' with { 'posts': posts } only %}
			</footer>
		</div>
	</section>
	<div class="page__content">
		<div class="page__preview-articles">
			{% for item in post.get_field('posts') %}
				<article class="page__preview-article">
					{% include 'molecules/m-front-article.twig' with {
						'post': item.post,
						'modifiers': [
							'm-front-article--image-first',
							'm-front-article--stretch'
						]
					} only %}
				</article>
			{% endfor %}
		</div>
	</div>
{% endblock %}
